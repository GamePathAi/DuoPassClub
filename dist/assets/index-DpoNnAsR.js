import{r as wd,b as Cd,a as la}from"./vendor-YmKVTMpv.js";import{r as h,R as ge,u as G,L as R,a as ks,N as ms,b as Qt,c as _t,B as _d,d as Sd,e as q}from"./router-BLZpG-8-.js";import{c as Pd}from"./supabase-VfLtKXqq.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var fa={exports:{}},is={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi;function kd(){if(Fi)return is;Fi=1;var t=wd(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function o(c,l,d){var m,u={},x=null,f=null;d!==void 0&&(x=""+d),l.key!==void 0&&(x=""+l.key),l.ref!==void 0&&(f=l.ref);for(m in l)r.call(l,m)&&!n.hasOwnProperty(m)&&(u[m]=l[m]);if(c&&c.defaultProps)for(m in l=c.defaultProps,l)u[m]===void 0&&(u[m]=l[m]);return{$$typeof:s,type:c,key:x,ref:f,props:u,_owner:i.current}}return is.Fragment=a,is.jsx=o,is.jsxs=o,is}var Ti;function Ed(){return Ti||(Ti=1,fa.exports=kd()),fa.exports}var e=Ed(),Vs={},Ai;function Dd(){if(Ai)return Vs;Ai=1;var t=Cd();return Vs.createRoot=t.createRoot,Vs.hydrateRoot=t.hydrateRoot,Vs}var Fd=Dd(),ga,Mi;function Td(){if(Mi)return ga;Mi=1;var t=typeof Element<"u",s=typeof Map=="function",a=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(n,o){if(n===o)return!0;if(n&&o&&typeof n=="object"&&typeof o=="object"){if(n.constructor!==o.constructor)return!1;var c,l,d;if(Array.isArray(n)){if(c=n.length,c!=o.length)return!1;for(l=c;l--!==0;)if(!i(n[l],o[l]))return!1;return!0}var m;if(s&&n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(m=n.entries();!(l=m.next()).done;)if(!o.has(l.value[0]))return!1;for(m=n.entries();!(l=m.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(a&&n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(m=n.entries();!(l=m.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(o)){if(c=n.length,c!=o.length)return!1;for(l=c;l--!==0;)if(n[l]!==o[l])return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof o.valueOf=="function")return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof o.toString=="function")return n.toString()===o.toString();if(d=Object.keys(n),c=d.length,c!==Object.keys(o).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[l]))return!1;if(t&&n instanceof Element)return!1;for(l=c;l--!==0;)if(!((d[l]==="_owner"||d[l]==="__v"||d[l]==="__o")&&n.$$typeof)&&!i(n[d[l]],o[d[l]]))return!1;return!0}return n!==n&&o!==o}return ga=function(o,c){try{return i(o,c)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},ga}var Ad=Td();const Md=la(Ad);var ba,Oi;function Od(){if(Oi)return ba;Oi=1;var t=function(s,a,r,i,n,o,c,l){if(!s){var d;if(a===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,n,o,c,l],u=0;d=new Error(a.replace(/%s/g,function(){return m[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return ba=t,ba}var Id=Od();const Ii=la(Id);var ya,Ri;function Rd(){return Ri||(Ri=1,ya=function(s,a,r,i){var n=r?r.call(i,s,a):void 0;if(n!==void 0)return!!n;if(s===a)return!0;if(typeof s!="object"||!s||typeof a!="object"||!a)return!1;var o=Object.keys(s),c=Object.keys(a);if(o.length!==c.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(a),d=0;d<o.length;d++){var m=o[d];if(!l(m))return!1;var u=s[m],x=a[m];if(n=r?r.call(i,u,x,m):void 0,n===!1||n===void 0&&u!==x)return!1}return!0}),ya}var Vd=Rd();const Ld=la(Vd);var Xo=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Xo||{}),ja={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Vi=Object.values(Xo),Rr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},qd=Object.entries(Rr).reduce((t,[s,a])=>(t[a]=s,t),{}),Oe="data-rh",qt={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Bt=(t,s)=>{for(let a=t.length-1;a>=0;a-=1){const r=t[a];if(Object.prototype.hasOwnProperty.call(r,s))return r[s]}return null},Bd=t=>{let s=Bt(t,"title");const a=Bt(t,qt.TITLE_TEMPLATE);if(Array.isArray(s)&&(s=s.join("")),a&&s)return a.replace(/%s/g,()=>s);const r=Bt(t,qt.DEFAULT_TITLE);return s||r||void 0},Ud=t=>Bt(t,qt.ON_CHANGE_CLIENT_STATE)||(()=>{}),va=(t,s)=>s.filter(a=>typeof a[t]<"u").map(a=>a[t]).reduce((a,r)=>({...a,...r}),{}),zd=(t,s)=>s.filter(a=>typeof a.base<"u").map(a=>a.base).reverse().reduce((a,r)=>{if(!a.length){const i=Object.keys(r);for(let n=0;n<i.length;n+=1){const c=i[n].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return a.concat(r)}}return a},[]),$d=t=>console&&typeof console.warn=="function"&&console.warn(t),ns=(t,s,a)=>{const r={};return a.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&$d(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,n)=>{const o={};n.filter(l=>{let d;const m=Object.keys(l);for(let x=0;x<m.length;x+=1){const f=m[x],b=f.toLowerCase();s.indexOf(b)!==-1&&!(d==="rel"&&l[d].toLowerCase()==="canonical")&&!(b==="rel"&&l[b].toLowerCase()==="stylesheet")&&(d=b),s.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(d=f)}if(!d||!l[d])return!1;const u=l[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][u]?!1:(o[d][u]=!0,!0)}).reverse().forEach(l=>i.push(l));const c=Object.keys(o);for(let l=0;l<c.length;l+=1){const d=c[l],m={...r[d],...o[d]};r[d]=m}return i},[]).reverse()},Hd=(t,s)=>{if(Array.isArray(t)&&t.length){for(let a=0;a<t.length;a+=1)if(t[a][s])return!0}return!1},Gd=t=>({baseTag:zd(["href"],t),bodyAttributes:va("bodyAttributes",t),defer:Bt(t,qt.DEFER),encode:Bt(t,qt.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:va("htmlAttributes",t),linkTags:ns("link",["rel","href"],t),metaTags:ns("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ns("noscript",["innerHTML"],t),onChangeClientState:Ud(t),scriptTags:ns("script",["src","innerHTML"],t),styleTags:ns("style",["cssText"],t),title:Bd(t),titleAttributes:va("titleAttributes",t),prioritizeSeoTags:Hd(t,qt.PRIORITIZE_SEO_TAGS)}),el=t=>Array.isArray(t)?t.join(""):t,Wd=(t,s)=>{const a=Object.keys(t);for(let r=0;r<a.length;r+=1)if(s[a[r]]&&s[a[r]].includes(t[a[r]]))return!0;return!1},Na=(t,s)=>Array.isArray(t)?t.reduce((a,r)=>(Wd(r,s)?a.priority.push(r):a.default.push(r),a),{priority:[],default:[]}):{default:t,priority:[]},Li=(t,s)=>({...t,[s]:void 0}),Yd=["noscript","script","style"],cr=(t,s=!0)=>s===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),tl=t=>Object.keys(t).reduce((s,a)=>{const r=typeof t[a]<"u"?`${a}="${t[a]}"`:`${a}`;return s?`${s} ${r}`:r},""),Zd=(t,s,a,r)=>{const i=tl(a),n=el(s);return i?`<${t} ${Oe}="true" ${i}>${cr(n,r)}</${t}>`:`<${t} ${Oe}="true">${cr(n,r)}</${t}>`},Kd=(t,s,a=!0)=>s.reduce((r,i)=>{const n=i,o=Object.keys(n).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,m)=>{const u=typeof n[m]>"u"?m:`${m}="${cr(n[m],a)}"`;return d?`${d} ${u}`:u},""),c=n.innerHTML||n.cssText||"",l=Yd.indexOf(t)===-1;return`${r}<${t} ${Oe}="true" ${o}${l?"/>":`>${c}</${t}>`}`},""),sl=(t,s={})=>Object.keys(t).reduce((a,r)=>{const i=Rr[r];return a[i||r]=t[r],a},s),Qd=(t,s,a)=>{const r={key:s,[Oe]:!0},i=sl(a,r);return[ge.createElement("title",i,s)]},Ys=(t,s)=>s.map((a,r)=>{const i={key:r,[Oe]:!0};return Object.keys(a).forEach(n=>{const c=Rr[n]||n;if(c==="innerHTML"||c==="cssText"){const l=a.innerHTML||a.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[c]=a[n]}),ge.createElement(t,i)}),Se=(t,s,a=!0)=>{switch(t){case"title":return{toComponent:()=>Qd(t,s.title,s.titleAttributes),toString:()=>Zd(t,s.title,s.titleAttributes,a)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>sl(s),toString:()=>tl(s)};default:return{toComponent:()=>Ys(t,s),toString:()=>Kd(t,s,a)}}},Jd=({metaTags:t,linkTags:s,scriptTags:a,encode:r})=>{const i=Na(t,ja.meta),n=Na(s,ja.link),o=Na(a,ja.script);return{priorityMethods:{toComponent:()=>[...Ys("meta",i.priority),...Ys("link",n.priority),...Ys("script",o.priority)],toString:()=>`${Se("meta",i.priority,r)} ${Se("link",n.priority,r)} ${Se("script",o.priority,r)}`},metaTags:i.default,linkTags:n.default,scriptTags:o.default}},Xd=t=>{const{baseTag:s,bodyAttributes:a,encode:r=!0,htmlAttributes:i,noscriptTags:n,styleTags:o,title:c="",titleAttributes:l,prioritizeSeoTags:d}=t;let{linkTags:m,metaTags:u,scriptTags:x}=t,f={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:f,linkTags:m,metaTags:u,scriptTags:x}=Jd(t)),{priority:f,base:Se("base",s,r),bodyAttributes:Se("bodyAttributes",a,r),htmlAttributes:Se("htmlAttributes",i,r),link:Se("link",m,r),meta:Se("meta",u,r),noscript:Se("noscript",n,r),script:Se("script",x,r),style:Se("style",o,r),title:Se("title",{title:c,titleAttributes:l},r)}},dr=Xd,Ls=[],al=!!(typeof window<"u"&&window.document&&window.document.createElement),mr=class{instances=[];canUseDOM=al;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ls:this.instances,add:t=>{(this.canUseDOM?Ls:this.instances).push(t)},remove:t=>{const s=(this.canUseDOM?Ls:this.instances).indexOf(t);(this.canUseDOM?Ls:this.instances).splice(s,1)}}};constructor(t,s){this.context=t,this.canUseDOM=s||!1,s||(t.helmet=dr({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},em={},rl=ge.createContext(em),il=class nl extends h.Component{static canUseDOM=al;helmetData;constructor(s){super(s),this.helmetData=new mr(this.props.context||{},nl.canUseDOM)}render(){return ge.createElement(rl.Provider,{value:this.helmetData.value},this.props.children)}},Dt=(t,s)=>{const a=document.head||document.querySelector("head"),r=a.querySelectorAll(`${t}[${Oe}]`),i=[].slice.call(r),n=[];let o;return s&&s.length&&s.forEach(c=>{const l=document.createElement(t);for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d))if(d==="innerHTML")l.innerHTML=c.innerHTML;else if(d==="cssText")l.styleSheet?l.styleSheet.cssText=c.cssText:l.appendChild(document.createTextNode(c.cssText));else{const m=d,u=typeof c[m]>"u"?"":c[m];l.setAttribute(d,u)}l.setAttribute(Oe,"true"),i.some((d,m)=>(o=m,l.isEqualNode(d)))?i.splice(o,1):n.push(l)}),i.forEach(c=>c.parentNode?.removeChild(c)),n.forEach(c=>a.appendChild(c)),{oldTags:i,newTags:n}},ur=(t,s)=>{const a=document.getElementsByTagName(t)[0];if(!a)return;const r=a.getAttribute(Oe),i=r?r.split(","):[],n=[...i],o=Object.keys(s);for(const c of o){const l=s[c]||"";a.getAttribute(c)!==l&&a.setAttribute(c,l),i.indexOf(c)===-1&&i.push(c);const d=n.indexOf(c);d!==-1&&n.splice(d,1)}for(let c=n.length-1;c>=0;c-=1)a.removeAttribute(n[c]);i.length===n.length?a.removeAttribute(Oe):a.getAttribute(Oe)!==o.join(",")&&a.setAttribute(Oe,o.join(","))},tm=(t,s)=>{typeof t<"u"&&document.title!==t&&(document.title=el(t)),ur("title",s)},qi=(t,s)=>{const{baseTag:a,bodyAttributes:r,htmlAttributes:i,linkTags:n,metaTags:o,noscriptTags:c,onChangeClientState:l,scriptTags:d,styleTags:m,title:u,titleAttributes:x}=t;ur("body",r),ur("html",i),tm(u,x);const f={baseTag:Dt("base",a),linkTags:Dt("link",n),metaTags:Dt("meta",o),noscriptTags:Dt("noscript",c),scriptTags:Dt("script",d),styleTags:Dt("style",m)},b={},j={};Object.keys(f).forEach(v=>{const{newTags:p,oldTags:y}=f[v];p.length&&(b[v]=p),y.length&&(j[v]=f[v].oldTags)}),s&&s(),l(t,b,j)},os=null,sm=t=>{os&&cancelAnimationFrame(os),t.defer?os=requestAnimationFrame(()=>{qi(t,()=>{os=null})}):(qi(t),os=null)},am=sm,Bi=class extends h.Component{rendered=!1;shouldComponentUpdate(t){return!Ld(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:s}=this.props.context;let a=null;const r=Gd(t.get().map(i=>{const n={...i.props};return delete n.context,n}));il.canUseDOM?am(r):dr&&(a=dr(r)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},rm=class extends h.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!Md(Li(this.props,"helmetData"),Li(t,"helmetData"))}mapNestedChildrenToProps(t,s){if(!s)return null;switch(t.type){case"script":case"noscript":return{innerHTML:s};case"style":return{cssText:s};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,s,a,r){return{...s,[t.type]:[...s[t.type]||[],{...a,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,s,a,r){switch(t.type){case"title":return{...s,[t.type]:r,titleAttributes:{...a}};case"body":return{...s,bodyAttributes:{...a}};case"html":return{...s,htmlAttributes:{...a}};default:return{...s,[t.type]:{...a}}}}mapArrayTypeChildrenToProps(t,s){let a={...s};return Object.keys(t).forEach(r=>{a={...a,[r]:t[r]}}),a}warnOnInvalidChildren(t,s){return Ii(Vi.some(a=>t.type===a),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Vi.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Ii(!s||typeof s=="string"||Array.isArray(s)&&!s.some(a=>typeof a!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,s){let a={};return ge.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...n}=r.props,o=Object.keys(n).reduce((l,d)=>(l[qd[d]||d]=n[d],l),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,i),c){case"Symbol(react.fragment)":s=this.mapChildrenToProps(i,s);break;case"link":case"meta":case"noscript":case"script":case"style":a=this.flattenArrayTypeChildren(r,a,o,i);break;default:s=this.mapObjectTypeChildren(r,s,o,i);break}}),this.mapArrayTypeChildrenToProps(a,s)}render(){const{children:t,...s}=this.props;let a={...s},{helmetData:r}=s;if(t&&(a=this.mapChildrenToProps(t,a)),r&&!(r instanceof mr)){const i=r;r=new mr(i.context,!0),delete a.helmetData}return r?ge.createElement(Bi,{...a,context:r.value}):ge.createElement(rl.Consumer,null,i=>ge.createElement(Bi,{...a,context:i}))}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var im={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(t,s)=>{const a=h.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:l,...d},m)=>h.createElement("svg",{ref:m,...im,width:i,height:i,stroke:r,strokeWidth:o?Number(n)*24/Number(i):n,className:["lucide",`lucide-${nm(t)}`,c].join(" "),...d},[...s.map(([u,x])=>h.createElement(u,x)),...Array.isArray(l)?l:[l]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=O("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=O("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=O("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=O("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=O("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=O("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=O("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=O("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=O("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=O("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=O("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=O("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=O("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=O("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=O("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=O("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=O("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=O("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=O("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=O("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=O("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=O("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=O("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=O("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=O("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=O("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=O("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=O("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=O("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=O("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=O("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=O("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=O("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=O("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=O("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=O("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=O("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=O("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=O("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=O("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=O("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=O("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=O("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=O("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=O("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=O("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=O("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=O("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=O("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=O("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=O("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=O("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=O("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=O("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=O("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Om="https://rnzvbrlbcnknyhrgubqi.supabase.co",Im="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuenZicmxiY25rbnlocmd1YnFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwMTc0ODksImV4cCI6MjA2NjU5MzQ4OX0.fjMnzy1PCCqkGucrGp-1jkaJtwBuo9qNB1rk6OOw3zk",Rm={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"duopass-web"}},realtime:{params:{eventsPerSecond:10}}},T=Pd(Om,Im,Rm),fl=h.createContext(void 0),et=!1;function Vm({children:t}){const[s,a]=h.useState(null),[r,i]=h.useState(null),[n,o]=h.useState(!0),c=h.useCallback(async()=>{const v={id:"demo-user-id",email:"demo@duopass.com",email_confirmed_at:new Date().toISOString(),user_metadata:{full_name:"Usuário Demo",user_type:"customer"}};a(v),await l("demo-user-id"),o(!1),localStorage.setItem("duopass_demo_session","active")},[]);h.useEffect(()=>{if(localStorage.getItem("duopass_demo_session")){c();return}T.auth.getSession().then(({data:{session:y}})=>{a(y?.user??null),y?.user&&l(y.user.id),o(!1)});const{data:{subscription:p}}=T.auth.onAuthStateChange(async(y,g)=>{a(g?.user??null),g?.user?await l(g.user.id):i(null),o(!1)});return()=>p.unsubscribe()},[c]);const l=async v=>{try{if(v==="demo-user-id"){const g={id:"demo-user-id",email:"demo@duopass.com",full_name:"Usuário Demo",user_type:"customer",subscription_status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};i(g);return}const{data:p,error:y}=await T.from("users").select("*").eq("id",v).single();if(y)throw y;i(p)}catch{}},d=async(v,p,y)=>{const{data:g,error:_}=await T.from("users").select("email").eq("email",v).single();if(_&&_.code!=="PGRST116")throw new Error("Erro ao verificar disponibilidade do email");if(g)throw new Error("Este email já está cadastrado. Tente fazer login ou use outro email.");const{data:k,error:S}=await T.auth.signUp({email:v,password:p,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(S)throw S;if(k.user){const{error:C}=await T.from("users").upsert({id:k.user.id,email:k.user.email,full_name:y.full_name,user_type:y.user_type,email_verified:!1,email_verification_sent_at:new Date().toISOString(),subscription_status:y.user_type==="customer"?"trial":null},{onConflict:"email"});if(C)throw new Error("Erro ao criar perfil do usuário. Tente novamente.")}return k},m=async(v,p)=>{if(v==="demo@duopass.com"&&p==="123456"){const y={id:"demo-user-id",email:"demo@duopass.com",email_confirmed_at:new Date().toISOString(),user_metadata:{full_name:"Usuário Demo",user_type:"customer"}};return a(y),await l("demo-user-id"),o(!1),{user:y,session:{access_token:"demo-token",refresh_token:"demo-refresh",expires_in:3600,token_type:"bearer",user:y}}}try{const y=new Promise((S,C)=>{setTimeout(()=>C(new Error("Timeout: Login demorou mais de 10 segundos")),1e4)}),g=T.auth.signInWithPassword({email:v,password:p}),{data:_,error:k}=await Promise.race([g,y]);if(k)throw k;if(_.user&&!_.user.email_confirmed_at)throw await T.auth.signOut(),new Error("Email não verificado. Verifique sua caixa de entrada e clique no link de confirmação.");return _}catch(y){throw y}},u=async v=>{try{const{data:p,error:y}=await T.from("users").select("email_verification_sent_at").eq("email",v).single();if(y||!p?.email_verification_sent_at)return!0;const g=new Date(p.email_verification_sent_at);return(new Date().getTime()-g.getTime())/1e3>=60}catch{return!0}},x=async v=>{try{const{data:p,error:y}=await T.from("users").select("email_verification_sent_at").eq("email",v).single();if(y||!p?.email_verification_sent_at)return 0;const g=new Date(p.email_verification_sent_at),k=(new Date().getTime()-g.getTime())/1e3,S=Math.max(0,60-k);return Math.ceil(S)}catch{return 0}},j={user:s,userProfile:r,loading:n,signUp:d,signIn:m,signOut:async()=>{try{const{error:v}=await T.auth.signOut();a(null),i(null),o(!1),localStorage.removeItem("duopass_user"),localStorage.removeItem("sb-token"),localStorage.removeItem("duopass_demo_session")}catch{}},resendConfirmation:async v=>{if(!await u(v)){const g=await x(v);throw new Error(`Aguarde ${g} segundos antes de reenviar o email.`)}const{error:y}=await T.auth.resend({type:"signup",email:v,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(y)throw y;await T.from("users").update({email_verification_sent_at:new Date().toISOString()}).eq("email",v)},canResendEmail:u,getResendCooldown:x,loginDemo:c};return e.jsx(fl.Provider,{value:j,children:t})}function $(){const t=h.useContext(fl);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Lm={pt:{"nav.home":"Início","nav.offers":"Ofertas","nav.history":"Histórico","nav.profile":"Perfil","nav.dashboard":"Dashboard","nav.login":"Entrar","nav.signup":"Cadastrar","nav.logout":"Sair","home.title":"Pague 1, Leve 2","home.subtitle":"Descubra ofertas incríveis na sua cidade","home.cta":"Explorar Ofertas","home.categories":"Categorias","category.gastronomy":"Gastronomia","category.beauty":"Beleza","category.leisure":"Lazer","category.fitness":"Fitness","category.shopping":"Compras","category.services":"Serviços","offers.title":"Ofertas Disponíveis","offers.activate":"Ativar Cupom","offers.expires":"Expira em","offers.location":"Localização","offers.original_value":"Valor Original","auth.email":"Email","auth.password":"Senha","auth.fullname":"Nome Completo","auth.signin":"Entrar","auth.signup":"Cadastrar","auth.customer":"Cliente","auth.merchant":"Comerciante","auth.usertype":"Tipo de Usuário","subscription.required":"Assinatura Necessária","subscription.message":"Para ativar cupons, você precisa de uma assinatura ativa.","subscription.subscribe":"Assinar Agora"},en:{"nav.home":"Home","nav.offers":"Offers","nav.history":"History","nav.profile":"Profile","nav.dashboard":"Dashboard","nav.login":"Login","nav.signup":"Sign Up","nav.logout":"Logout","home.title":"Pay 1, Get 2","home.subtitle":"Discover amazing offers in your city","home.cta":"Explore Offers","home.categories":"Categories","category.gastronomy":"Gastronomy","category.beauty":"Beauty","category.leisure":"Leisure","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Services","offers.title":"Available Offers","offers.activate":"Activate Coupon","offers.expires":"Expires","offers.location":"Location","offers.original_value":"Original Value","auth.email":"Email","auth.password":"Password","auth.fullname":"Full Name","auth.signin":"Sign In","auth.signup":"Sign Up","auth.customer":"Customer","auth.merchant":"Merchant","auth.usertype":"User Type","subscription.required":"Subscription Required","subscription.message":"To activate coupons, you need an active subscription.","subscription.subscribe":"Subscribe Now"}},gl=h.createContext(void 0);function qm({children:t}){const[s,a]=h.useState("pt"),r=i=>Lm[s][i]||i;return e.jsx(gl.Provider,{value:{language:s,setLanguage:a,t:r},children:t})}function Xt(){const t=h.useContext(gl);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function Bm(){const{user:t,userProfile:s,signOut:a}=$(),{t:r}=Xt(),i=G(),[n,o]=h.useState(!1),[c,l]=h.useState(!1),d=h.useRef(null),m=async()=>{l(!0);try{console.log("👤 Usuário clicou em Sair"),await a(),i("/login")}catch(f){console.error("❌ Erro no logout:",f)}finally{l(!1),o(!1)}};if(h.useEffect(()=>{function f(b){d.current&&!d.current.contains(b.target)&&o(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),!t||!s)return null;const u=s.user_type==="merchant",x=u?"/merchant/dashboard":"/dashboard";return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>o(!n),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-medium text-[#333333] truncate max-w-32",children:s.full_name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s.user_type==="merchant"?"Comerciante":"Cliente"})]}),e.jsx(cm,{className:`w-4 h-4 text-gray-500 transition-transform ${n?"rotate-180":""}`})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"font-medium text-[#333333]",children:s.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:s.subscription_status==="active"?"Ativo":"Inativo"})]})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(R,{to:x,onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[u?e.jsx(ea,{className:"w-4 h-4 mr-3"}):e.jsx(Be,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),u?e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/merchant/offers",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4 mr-3"}),"Minhas Ofertas"]}),e.jsxs(R,{to:"/merchant/analytics",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Be,{className:"w-4 h-4 mr-3"}),"Analytics"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/meus-vouchers",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4 mr-3"}),"Meus Vouchers"]}),e.jsxs(R,{to:"/history",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ul,{className:"w-4 h-4 mr-3"}),"Histórico"]}),e.jsxs(R,{to:"/dashboard?tab=connect",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(U,{className:"w-4 h-4 mr-3"}),"🤝 Connect"]})]}),e.jsxs(R,{to:"/profile",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Ue,{className:"w-4 h-4 mr-3"}),"Perfil"]}),e.jsxs(R,{to:"/settings",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Ut,{className:"w-4 h-4 mr-3"}),"Configurações"]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2",children:e.jsxs("button",{onClick:m,disabled:c,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:[c?e.jsx("div",{className:"w-4 h-4 mr-3 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(qr,{className:"w-4 h-4 mr-3"}),e.jsx("span",{children:c?"Saindo...":r("nav.logout")})]})})]})]})}function Um({isOpen:t,onClose:s}){const{user:a,userProfile:r,signOut:i}=$(),{t:n}=Xt(),o=G(),c=async()=>{try{console.log("👤 Usuário clicou em Sair (Mobile)"),await i(),o("/login")}catch(u){console.error("❌ Erro no logout:",u)}finally{s()}},l=()=>{s()};if(h.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const d=r?.user_type==="merchant",m=d?"/merchant/dashboard":"/dashboard";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:s}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-xl z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-[#333333]",children:"Menu"}),e.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5 text-gray-600"})})]}),a&&r&&e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#333333]",children:r.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.subscription_status==="active"?"Ativo":"Inativo"})]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs(R,{to:"/experiencias",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ui,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Experiências"})]}),e.jsxs(R,{to:"/memberships",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ke,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Memberships"})]}),e.jsxs(R,{to:"/empresas",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ea,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Para Empresas"})]}),!a&&e.jsxs(R,{to:"/login",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ue,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Login"})]}),e.jsx(R,{to:"/trial",onClick:l,className:"mx-3 my-2 bg-gradient-to-r from-orange-500 to-purple-600 text-white px-4 py-3 rounded-lg font-semibold text-center block",children:"Comece Grátis"}),a&&r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 my-4 pt-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:d?"Área do Comerciante":"Minha Conta"}),e.jsxs(R,{to:m,onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[d?e.jsx(ea,{className:"w-5 h-5 text-gray-600"}):e.jsx(Be,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Dashboard"})]}),d?e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/merchant/offers",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ui,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Minhas Ofertas"})]}),e.jsxs(R,{to:"/merchant/analytics",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Be,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Analytics"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/meus-vouchers",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ke,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Meus Vouchers"})]}),e.jsxs(R,{to:"/history",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ul,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Histórico"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 my-4 pt-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Configurações"}),e.jsxs(R,{to:"/profile",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ue,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Perfil"})]}),e.jsxs(R,{to:"/settings",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Ut,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Configurações"})]})]})]})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:a?e.jsxs("button",{onClick:c,className:"flex items-center space-x-3 w-full p-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[e.jsx(qr,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:n("nav.logout")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{to:"/login",onClick:l,className:"block w-full p-3 text-center border border-[#C91F1F] text-[#C91F1F] rounded-lg font-medium hover:bg-[#C91F1F] hover:text-white transition-colors",children:n("nav.login")}),e.jsx(R,{to:"/signup",onClick:l,className:"block w-full p-3 text-center bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-lg font-medium hover:shadow-lg transition-all",children:n("nav.signup")})]})})]})]})}const zm=[{id:"notif-1",type:"community",title:"Arte & Design",message:"Ana Silva: Pessoal, alguém foi na exposição do MASP hoje?",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-3e5).toISOString(),communityId:"arte-design",senderId:"user-1",isRead:!1},{id:"notif-2",type:"direct",title:"Carlos Mendes",message:"Oi! Vi que você também está interessado na exposição...",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-6e5).toISOString(),senderId:"user-2",isRead:!1},{id:"notif-3",type:"community",title:"Gastronomia Premium",message:"Maria Santos: Que tal formarmos um grupo para jantar no D.O.M.?",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-18e5).toISOString(),communityId:"gastronomia",senderId:"user-3",isRead:!0}];function $m({onNotificationClick:t}){const{user:s}=$(),[a,r]=h.useState([]),[i,n]=h.useState(!1);h.useEffect(()=>{s?.id==="demo-user-id"&&r(zm)},[s]),h.useEffect(()=>{if(s?.id!=="demo-user-id")return;const u=setInterval(()=>{if(Math.random()>.8){const x={id:`notif-${Date.now()}`,type:Math.random()>.5?"community":"direct",title:Math.random()>.5?"Arte & Design":"Pedro Santos",message:"Nova mensagem recebida...",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",timestamp:new Date().toISOString(),isRead:!1};r(f=>[x,...f.slice(0,9)])}},3e4);return()=>clearInterval(u)},[s]);const o=a.filter(u=>!u.isRead).length,c=u=>{r(x=>x.map(f=>f.id===u.id?{...f,isRead:!0}:f)),t?.(u),n(!1)},l=()=>{r(u=>u.map(x=>({...x,isRead:!0})))},d=(u,x)=>{x.stopPropagation(),r(f=>f.filter(b=>b.id!==u))},m=u=>{const x=new Date(u),b=(new Date().getTime()-x.getTime())/(1e3*60);return b<1?"Agora":b<60?`${Math.floor(b)}m`:b<1440?`${Math.floor(b/60)}h`:`${Math.floor(b/1440)}d`};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!i),className:"relative p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(xe,{className:"w-6 h-6"}),o>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:o>9?"9+":o})]}),i&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Mensagens"}),o>0&&e.jsx("button",{onClick:l,className:"text-sm text-[#C91F1F] hover:text-red-700 font-medium",children:"Marcar todas como lidas"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(xe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem nova"})]}):a.map(u=>e.jsx("div",{onClick:()=>c(u),className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${u.isRead?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[u.type==="community"?e.jsx("div",{className:"w-10 h-10 bg-[#C91F1F] rounded-lg flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-white"})}):e.jsx("img",{src:u.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(u.title)}&background=C91F1F&color=fff`,alt:u.title,className:"w-10 h-10 rounded-full"}),!u.isRead&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:`text-sm font-medium truncate ${u.isRead?"text-gray-700":"text-gray-900"}`,children:u.title}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:m(u.timestamp)}),e.jsx("button",{onClick:x=>d(u.id,x),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(Pe,{className:"w-3 h-3"})})]})]}),e.jsx("p",{className:`text-sm truncate mt-1 ${u.isRead?"text-gray-500":"text-gray-700"}`,children:u.message}),e.jsx("div",{className:"flex items-center mt-1",children:u.type==="community"?e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-[#C91F1F]",children:[e.jsx(U,{className:"w-3 h-3"}),e.jsx("span",{children:"Chat da Comunidade"})]}):e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-blue-600",children:[e.jsx(Ue,{className:"w-3 h-3"}),e.jsx("span",{children:"Mensagem Direta"})]})})]})]})},u.id))}),a.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:e.jsx("button",{className:"text-sm text-[#C91F1F] hover:text-red-700 font-medium",children:"Ver todas as mensagens"})})]}),i&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})}function Hm(){const{user:t}=$(),[s,a]=h.useState(!1);return e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(R,{to:"/",className:"flex items-center space-x-3",children:e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"🎭 DUO PASS"})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx(R,{to:"/experiencias",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Experiências"}),e.jsx(R,{to:"/memberships",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Memberships"}),e.jsx(R,{to:"/empresas",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Para Empresas"}),!t&&e.jsx(R,{to:"/login",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Login"}),e.jsx(R,{to:"/trial",className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white px-6 py-2 rounded-full font-semibold hover:shadow-lg transition-all duration-200 hover:scale-105",children:"Comece Grátis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[t&&e.jsx($m,{}),t&&e.jsx(Bm,{}),e.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 text-gray-600 hover:text-purple-600 transition-colors",children:e.jsx(jm,{className:"w-6 h-6"})})]})]})}),e.jsx(Um,{isOpen:s,onClose:()=>a(!1)})]})}function Gm(){return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-2 rounded-lg",children:e.jsx(W,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold",children:"DUO PASS"})]}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Conectando pessoas através de experiências culturais autênticas na Suíça. Sempre em dupla, sempre especial."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Zurich, Switzerland"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"contato@duopassclub.ch"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(it,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"+41 44 123 4567"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Links Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(R,{to:"/experiencias",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Experiências"})}),e.jsx("li",{children:e.jsx(R,{to:"/ofertas",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Ofertas"})}),e.jsx("li",{children:e.jsx(R,{to:"/memberships",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Memberships"})}),e.jsx("li",{children:e.jsx(R,{to:"/parceiros-culturais",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Parceiros Culturais"})}),e.jsx("li",{children:e.jsx(R,{to:"/empresas",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Para Empresas"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informações Legais"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(R,{to:"/termos-de-uso",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx(R,{to:"/privacidade",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Política de Privacidade"})}),e.jsx("li",{children:e.jsx(R,{to:"/cancelamento",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Cancelamento e Reembolso"})}),e.jsx("li",{children:e.jsx(R,{to:"/experiencias-termos",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Termos de Experiências"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",new Date().getFullYear()," DUO PASS Club. Todos os direitos reservados."]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[e.jsx("span",{children:"🇨🇭 Empresa Suíça"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"GDPR Compliant"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"SSL Seguro"})]})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:e.jsx("p",{children:"DUO PASS Club é uma plataforma cultural registrada na Suíça. Todas as experiências estão sujeitas aos termos e condições dos estabelecimentos parceiros."})})]})]})})}function Wm({children:t}){return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF] flex flex-col",children:[e.jsx(Hm,{}),e.jsx("main",{className:"flex-grow",children:t}),e.jsx(Gm,{})]})}function Mt({children:t,requiredRole:s,redirectTo:a="/login"}){const{user:r,userProfile:i,loading:n}=$(),o=ks();if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F3EF]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-[#C91F1F]"}),e.jsx("p",{className:"text-gray-600",children:"Verificando autenticação..."})]})});if(!r)return e.jsx(ms,{to:a,state:{from:o},replace:!0});if(!r.email_confirmed_at)return e.jsx(ms,{to:"/email-verification",replace:!0});if(s&&i?.user_type!==s){let c="/dashboard";return i?.user_type==="merchant"?c="/merchant/dashboard":i?.user_type==="partner"&&(c="/dashboard-parceiro"),e.jsx(ms,{to:c,replace:!0})}return e.jsx(e.Fragment,{children:t})}function $r(t){return function({children:a}){return e.jsx(Mt,{requiredRole:t,children:a})}}const ht=$r("customer"),Ym=$r("merchant"),Zm=$r("partner"),Hr=h.createContext({});function Gr(t){const s=h.useRef(null);return s.current===null&&(s.current=t()),s.current}const Wr=typeof window<"u",bl=Wr?h.useLayoutEffect:h.useEffect,ma=h.createContext(null);function Yr(t,s){t.indexOf(s)===-1&&t.push(s)}function Zr(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const Qe=(t,s,a)=>a>s?s:a<t?t:a;let Kr=()=>{};const Je={},yl=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jl(t){return typeof t=="object"&&t!==null}const vl=t=>/^0[^.\s]+$/u.test(t);function Qr(t){let s;return()=>(s===void 0&&(s=t()),s)}const ke=t=>t,Km=(t,s)=>a=>s(t(a)),Ds=(...t)=>t.reduce(Km),js=(t,s,a)=>{const r=s-t;return r===0?1:(a-t)/r};class Jr{constructor(){this.subscriptions=[]}add(s){return Yr(this.subscriptions,s),()=>Zr(this.subscriptions,s)}notify(s,a,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](s,a,r);else for(let n=0;n<i;n++){const o=this.subscriptions[n];o&&o(s,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ze=t=>t*1e3,$e=t=>t/1e3;function Nl(t,s){return s?t*(1e3/s):0}const wl=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,Qm=1e-7,Jm=12;function Xm(t,s,a,r,i){let n,o,c=0;do o=s+(a-s)/2,n=wl(o,r,i)-t,n>0?a=o:s=o;while(Math.abs(n)>Qm&&++c<Jm);return o}function Fs(t,s,a,r){if(t===s&&a===r)return ke;const i=n=>Xm(n,0,1,t,a);return n=>n===0||n===1?n:wl(i(n),s,r)}const Cl=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,_l=t=>s=>1-t(1-s),Sl=Fs(.33,1.53,.69,.99),Xr=_l(Sl),Pl=Cl(Xr),kl=t=>(t*=2)<1?.5*Xr(t):.5*(2-Math.pow(2,-10*(t-1))),ei=t=>1-Math.sin(Math.acos(t)),El=_l(ei),Dl=Cl(ei),eu=Fs(.42,0,1,1),tu=Fs(0,0,.58,1),Fl=Fs(.42,0,.58,1),su=t=>Array.isArray(t)&&typeof t[0]!="number",Tl=t=>Array.isArray(t)&&typeof t[0]=="number",au={linear:ke,easeIn:eu,easeInOut:Fl,easeOut:tu,circIn:ei,circInOut:Dl,circOut:El,backIn:Xr,backInOut:Pl,backOut:Sl,anticipate:kl},ru=t=>typeof t=="string",$i=t=>{if(Tl(t)){Kr(t.length===4);const[s,a,r,i]=t;return Fs(s,a,r,i)}else if(ru(t))return au[t];return t},qs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Hi={value:null};function iu(t,s){let a=new Set,r=new Set,i=!1,n=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},l=0;function d(u){o.has(u)&&(m.schedule(u),t()),l++,u(c)}const m={schedule:(u,x=!1,f=!1)=>{const j=f&&i?a:r;return x&&o.add(u),j.has(u)||j.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(c=u,i){n=!0;return}i=!0,[a,r]=[r,a],a.forEach(d),s&&Hi.value&&Hi.value.frameloop[s].push(l),l=0,a.clear(),i=!1,n&&(n=!1,m.process(u))}};return m}const nu=40;function Al(t,s){let a=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},n=()=>a=!0,o=qs.reduce((g,_)=>(g[_]=iu(n,s?_:void 0),g),{}),{setup:c,read:l,resolveKeyframes:d,preUpdate:m,update:u,preRender:x,render:f,postRender:b}=o,j=()=>{const g=Je.useManualTiming?i.timestamp:performance.now();a=!1,Je.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,nu),1)),i.timestamp=g,i.isProcessing=!0,c.process(i),l.process(i),d.process(i),m.process(i),u.process(i),x.process(i),f.process(i),b.process(i),i.isProcessing=!1,a&&s&&(r=!1,t(j))},v=()=>{a=!0,r=!0,i.isProcessing||t(j)};return{schedule:qs.reduce((g,_)=>{const k=o[_];return g[_]=(S,C=!1,N=!1)=>(a||v(),k.schedule(S,C,N)),g},{}),cancel:g=>{for(let _=0;_<qs.length;_++)o[qs[_]].cancel(g)},state:i,steps:o}}const{schedule:Q,cancel:ct,state:ce,steps:wa}=Al(typeof requestAnimationFrame<"u"?requestAnimationFrame:ke,!0);let Ks;function ou(){Ks=void 0}const be={now:()=>(Ks===void 0&&be.set(ce.isProcessing||Je.useManualTiming?ce.timestamp:performance.now()),Ks),set:t=>{Ks=t,queueMicrotask(ou)}},Ml=t=>s=>typeof s=="string"&&s.startsWith(t),ti=Ml("--"),lu=Ml("var(--"),si=t=>lu(t)?cu.test(t.split("/*")[0].trim()):!1,cu=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,es={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vs={...es,transform:t=>Qe(0,1,t)},Bs={...es,default:1},xs=t=>Math.round(t*1e5)/1e5,ai=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function du(t){return t==null}const mu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ri=(t,s)=>a=>!!(typeof a=="string"&&mu.test(a)&&a.startsWith(t)||s&&!du(a)&&Object.prototype.hasOwnProperty.call(a,s)),Ol=(t,s,a)=>r=>{if(typeof r!="string")return r;const[i,n,o,c]=r.match(ai);return{[t]:parseFloat(i),[s]:parseFloat(n),[a]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},uu=t=>Qe(0,255,t),Ca={...es,transform:t=>Math.round(uu(t))},bt={test:ri("rgb","red"),parse:Ol("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:r=1})=>"rgba("+Ca.transform(t)+", "+Ca.transform(s)+", "+Ca.transform(a)+", "+xs(vs.transform(r))+")"};function xu(t){let s="",a="",r="",i="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),s+=s,a+=a,r+=r,i+=i),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const pr={test:ri("#"),parse:xu,transform:bt.transform},Ts=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),at=Ts("deg"),He=Ts("%"),L=Ts("px"),hu=Ts("vh"),pu=Ts("vw"),Gi={...He,parse:t=>He.parse(t)/100,transform:t=>He.transform(t*100)},Ot={test:ri("hsl","hue"),parse:Ol("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+He.transform(xs(s))+", "+He.transform(xs(a))+", "+xs(vs.transform(r))+")"},ie={test:t=>bt.test(t)||pr.test(t)||Ot.test(t),parse:t=>bt.test(t)?bt.parse(t):Ot.test(t)?Ot.parse(t):pr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bt.transform(t):Ot.transform(t),getAnimatableNone:t=>{const s=ie.parse(t);return s.alpha=0,ie.transform(s)}},fu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gu(t){return isNaN(t)&&typeof t=="string"&&(t.match(ai)?.length||0)+(t.match(fu)?.length||0)>0}const Il="number",Rl="color",bu="var",yu="var(",Wi="${}",ju=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ns(t){const s=t.toString(),a=[],r={color:[],number:[],var:[]},i=[];let n=0;const c=s.replace(ju,l=>(ie.test(l)?(r.color.push(n),i.push(Rl),a.push(ie.parse(l))):l.startsWith(yu)?(r.var.push(n),i.push(bu),a.push(l)):(r.number.push(n),i.push(Il),a.push(parseFloat(l))),++n,Wi)).split(Wi);return{values:a,split:c,indexes:r,types:i}}function Vl(t){return Ns(t).values}function Ll(t){const{split:s,types:a}=Ns(t),r=s.length;return i=>{let n="";for(let o=0;o<r;o++)if(n+=s[o],i[o]!==void 0){const c=a[o];c===Il?n+=xs(i[o]):c===Rl?n+=ie.transform(i[o]):n+=i[o]}return n}}const vu=t=>typeof t=="number"?0:ie.test(t)?ie.getAnimatableNone(t):t;function Nu(t){const s=Vl(t);return Ll(t)(s.map(vu))}const dt={test:gu,parse:Vl,createTransformer:Ll,getAnimatableNone:Nu};function _a(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function wu({hue:t,saturation:s,lightness:a,alpha:r}){t/=360,s/=100,a/=100;let i=0,n=0,o=0;if(!s)i=n=o=a;else{const c=a<.5?a*(1+s):a+s-a*s,l=2*a-c;i=_a(l,c,t+1/3),n=_a(l,c,t),o=_a(l,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(n*255),blue:Math.round(o*255),alpha:r}}function ta(t,s){return a=>a>0?s:t}const X=(t,s,a)=>t+(s-t)*a,Sa=(t,s,a)=>{const r=t*t,i=a*(s*s-r)+r;return i<0?0:Math.sqrt(i)},Cu=[pr,bt,Ot],_u=t=>Cu.find(s=>s.test(t));function Yi(t){const s=_u(t);if(!s)return!1;let a=s.parse(t);return s===Ot&&(a=wu(a)),a}const Zi=(t,s)=>{const a=Yi(t),r=Yi(s);if(!a||!r)return ta(t,s);const i={...a};return n=>(i.red=Sa(a.red,r.red,n),i.green=Sa(a.green,r.green,n),i.blue=Sa(a.blue,r.blue,n),i.alpha=X(a.alpha,r.alpha,n),bt.transform(i))},fr=new Set(["none","hidden"]);function Su(t,s){return fr.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function Pu(t,s){return a=>X(t,s,a)}function ii(t){return typeof t=="number"?Pu:typeof t=="string"?si(t)?ta:ie.test(t)?Zi:Du:Array.isArray(t)?ql:typeof t=="object"?ie.test(t)?Zi:ku:ta}function ql(t,s){const a=[...t],r=a.length,i=t.map((n,o)=>ii(n)(n,s[o]));return n=>{for(let o=0;o<r;o++)a[o]=i[o](n);return a}}function ku(t,s){const a={...t,...s},r={};for(const i in a)t[i]!==void 0&&s[i]!==void 0&&(r[i]=ii(t[i])(t[i],s[i]));return i=>{for(const n in r)a[n]=r[n](i);return a}}function Eu(t,s){const a=[],r={color:0,var:0,number:0};for(let i=0;i<s.values.length;i++){const n=s.types[i],o=t.indexes[n][r[n]],c=t.values[o]??0;a[i]=c,r[n]++}return a}const Du=(t,s)=>{const a=dt.createTransformer(s),r=Ns(t),i=Ns(s);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?fr.has(t)&&!i.values.length||fr.has(s)&&!r.values.length?Su(t,s):Ds(ql(Eu(r,i),i.values),a):ta(t,s)};function Bl(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?X(t,s,a):ii(t)(t,s)}const Fu=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>Q.update(s,a),stop:()=>ct(s),now:()=>ce.isProcessing?ce.timestamp:be.now()}},Ul=(t,s,a=10)=>{let r="";const i=Math.max(Math.round(s/a),2);for(let n=0;n<i;n++)r+=Math.round(t(n/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sa=2e4;function ni(t){let s=0;const a=50;let r=t.next(s);for(;!r.done&&s<sa;)s+=a,r=t.next(s);return s>=sa?1/0:s}function Tu(t,s=100,a){const r=a({...t,keyframes:[0,s]}),i=Math.min(ni(r),sa);return{type:"keyframes",ease:n=>r.next(i*n).value/s,duration:$e(i)}}const Au=5;function zl(t,s,a){const r=Math.max(s-Au,0);return Nl(a-t(r),s-r)}const se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pa=.001;function Mu({duration:t=se.duration,bounce:s=se.bounce,velocity:a=se.velocity,mass:r=se.mass}){let i,n,o=1-s;o=Qe(se.minDamping,se.maxDamping,o),t=Qe(se.minDuration,se.maxDuration,$e(t)),o<1?(i=d=>{const m=d*o,u=m*t,x=m-a,f=gr(d,o),b=Math.exp(-u);return Pa-x/f*b},n=d=>{const u=d*o*t,x=u*a+a,f=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-u),j=gr(Math.pow(d,2),o);return(-i(d)+Pa>0?-1:1)*((x-f)*b)/j}):(i=d=>{const m=Math.exp(-d*t),u=(d-a)*t+1;return-Pa+m*u},n=d=>{const m=Math.exp(-d*t),u=(a-d)*(t*t);return m*u});const c=5/t,l=Iu(i,n,c);if(t=ze(t),isNaN(l))return{stiffness:se.stiffness,damping:se.damping,duration:t};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Ou=12;function Iu(t,s,a){let r=a;for(let i=1;i<Ou;i++)r=r-t(r)/s(r);return r}function gr(t,s){return t*Math.sqrt(1-s*s)}const Ru=["duration","bounce"],Vu=["stiffness","damping","mass"];function Ki(t,s){return s.some(a=>t[a]!==void 0)}function Lu(t){let s={velocity:se.velocity,stiffness:se.stiffness,damping:se.damping,mass:se.mass,isResolvedFromDuration:!1,...t};if(!Ki(t,Vu)&&Ki(t,Ru))if(t.visualDuration){const a=t.visualDuration,r=2*Math.PI/(a*1.2),i=r*r,n=2*Qe(.05,1,1-(t.bounce||0))*Math.sqrt(i);s={...s,mass:se.mass,stiffness:i,damping:n}}else{const a=Mu(t);s={...s,...a,mass:se.mass},s.isResolvedFromDuration=!0}return s}function aa(t=se.visualDuration,s=se.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:i}=a;const n=a.keyframes[0],o=a.keyframes[a.keyframes.length-1],c={done:!1,value:n},{stiffness:l,damping:d,mass:m,duration:u,velocity:x,isResolvedFromDuration:f}=Lu({...a,velocity:-$e(a.velocity||0)}),b=x||0,j=d/(2*Math.sqrt(l*m)),v=o-n,p=$e(Math.sqrt(l/m)),y=Math.abs(v)<5;r||(r=y?se.restSpeed.granular:se.restSpeed.default),i||(i=y?se.restDelta.granular:se.restDelta.default);let g;if(j<1){const k=gr(p,j);g=S=>{const C=Math.exp(-j*p*S);return o-C*((b+j*p*v)/k*Math.sin(k*S)+v*Math.cos(k*S))}}else if(j===1)g=k=>o-Math.exp(-p*k)*(v+(b+p*v)*k);else{const k=p*Math.sqrt(j*j-1);g=S=>{const C=Math.exp(-j*p*S),N=Math.min(k*S,300);return o-C*((b+j*p*v)*Math.sinh(N)+k*v*Math.cosh(N))/k}}const _={calculatedDuration:f&&u||null,next:k=>{const S=g(k);if(f)c.done=k>=u;else{let C=k===0?b:0;j<1&&(C=k===0?ze(b):zl(g,k,S));const N=Math.abs(C)<=r,E=Math.abs(o-S)<=i;c.done=N&&E}return c.value=c.done?o:S,c},toString:()=>{const k=Math.min(ni(_),sa),S=Ul(C=>_.next(k*C).value,k,30);return k+"ms "+S},toTransition:()=>{}};return _}aa.applyToOptions=t=>{const s=Tu(t,100,aa);return t.ease=s.ease,t.duration=ze(s.duration),t.type="keyframes",t};function br({keyframes:t,velocity:s=0,power:a=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:o,min:c,max:l,restDelta:d=.5,restSpeed:m}){const u=t[0],x={done:!1,value:u},f=N=>c!==void 0&&N<c||l!==void 0&&N>l,b=N=>c===void 0?l:l===void 0||Math.abs(c-N)<Math.abs(l-N)?c:l;let j=a*s;const v=u+j,p=o===void 0?v:o(v);p!==v&&(j=p-u);const y=N=>-j*Math.exp(-N/r),g=N=>p+y(N),_=N=>{const E=y(N),w=g(N);x.done=Math.abs(E)<=d,x.value=x.done?p:w};let k,S;const C=N=>{f(x.value)&&(k=N,S=aa({keyframes:[x.value,b(x.value)],velocity:zl(g,N,x.value),damping:i,stiffness:n,restDelta:d,restSpeed:m}))};return C(0),{calculatedDuration:null,next:N=>{let E=!1;return!S&&k===void 0&&(E=!0,_(N),C(N)),k!==void 0&&N>=k?S.next(N-k):(!E&&_(N),x)}}}function qu(t,s,a){const r=[],i=a||Je.mix||Bl,n=t.length-1;for(let o=0;o<n;o++){let c=i(t[o],t[o+1]);if(s){const l=Array.isArray(s)?s[o]||ke:s;c=Ds(l,c)}r.push(c)}return r}function Bu(t,s,{clamp:a=!0,ease:r,mixer:i}={}){const n=t.length;if(Kr(n===s.length),n===1)return()=>s[0];if(n===2&&s[0]===s[1])return()=>s[1];const o=t[0]===t[1];t[0]>t[n-1]&&(t=[...t].reverse(),s=[...s].reverse());const c=qu(s,r,i),l=c.length,d=m=>{if(o&&m<t[0])return s[0];let u=0;if(l>1)for(;u<t.length-2&&!(m<t[u+1]);u++);const x=js(t[u],t[u+1],m);return c[u](x)};return a?m=>d(Qe(t[0],t[n-1],m)):d}function Uu(t,s){const a=t[t.length-1];for(let r=1;r<=s;r++){const i=js(0,s,r);t.push(X(a,1,i))}}function zu(t){const s=[0];return Uu(s,t.length-1),s}function $u(t,s){return t.map(a=>a*s)}function Hu(t,s){return t.map(()=>s||Fl).splice(0,t.length-1)}function hs({duration:t=300,keyframes:s,times:a,ease:r="easeInOut"}){const i=su(r)?r.map($i):$i(r),n={done:!1,value:s[0]},o=$u(a&&a.length===s.length?a:zu(s),t),c=Bu(o,s,{ease:Array.isArray(i)?i:Hu(s,i)});return{calculatedDuration:t,next:l=>(n.value=c(l),n.done=l>=t,n)}}const Gu=t=>t!==null;function oi(t,{repeat:s,repeatType:a="loop"},r,i=1){const n=t.filter(Gu),c=i<0||s&&a!=="loop"&&s%2===1?0:n.length-1;return!c||r===void 0?n[c]:r}const Wu={decay:br,inertia:br,tween:hs,keyframes:hs,spring:aa};function $l(t){typeof t.type=="string"&&(t.type=Wu[t.type])}class li{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const Yu=t=>t/100;class ci extends li{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==be.now()&&this.tick(be.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;$l(s);const{type:a=hs,repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:o=0}=s;let{keyframes:c}=s;const l=a||hs;l!==hs&&typeof c[0]!="number"&&(this.mixKeyframes=Ds(Yu,Bl(c[0],c[1])),c=[0,100]);const d=l({...s,keyframes:c});n==="mirror"&&(this.mirroredGenerator=l({...s,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ni(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:r,totalDuration:i,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:u,repeatType:x,repeatDelay:f,type:b,onUpdate:j,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-i/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const p=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let g=this.currentTime,_=r;if(u){const N=Math.min(this.currentTime,i)/c;let E=Math.floor(N),w=N%1;!w&&N>=1&&(w=1),w===1&&E--,E=Math.min(E,u+1),!!(E%2)&&(x==="reverse"?(w=1-w,f&&(w-=f/c)):x==="mirror"&&(_=o)),g=Qe(0,1,w)*c}const k=y?{done:!1,value:m[0]}:_.next(g);n&&(k.value=n(k.value));let{done:S}=k;!y&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&b!==br&&(k.value=oi(m,this.options,v,this.speed)),j&&j(k.value),C&&this.finish(),k}then(s,a){return this.finished.then(s,a)}get duration(){return $e(this.calculatedDuration)}get time(){return $e(this.currentTime)}set time(s){s=ze(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(be.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=$e(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=Fu,startTime:a}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(be.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function Zu(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const yt=t=>t*180/Math.PI,yr=t=>{const s=yt(Math.atan2(t[1],t[0]));return jr(s)},Ku={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yr,rotateZ:yr,skewX:t=>yt(Math.atan(t[1])),skewY:t=>yt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jr=t=>(t=t%360,t<0&&(t+=360),t),Qi=yr,Ji=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Xi=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Qu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ji,scaleY:Xi,scale:t=>(Ji(t)+Xi(t))/2,rotateX:t=>jr(yt(Math.atan2(t[6],t[5]))),rotateY:t=>jr(yt(Math.atan2(-t[2],t[0]))),rotateZ:Qi,rotate:Qi,skewX:t=>yt(Math.atan(t[4])),skewY:t=>yt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vr(t){return t.includes("scale")?1:0}function Nr(t,s){if(!t||t==="none")return vr(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(a)r=Qu,i=a;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Ku,i=c}if(!i)return vr(s);const n=r[s],o=i[1].split(",").map(Xu);return typeof n=="function"?n(o):o[n]}const Ju=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return Nr(a,s)};function Xu(t){return parseFloat(t.trim())}const ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ss=new Set(ts),en=t=>t===es||t===L,ex=new Set(["x","y","z"]),tx=ts.filter(t=>!ex.has(t));function sx(t){const s=[];return tx.forEach(a=>{const r=t.getValue(a);r!==void 0&&(s.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),s}const Nt={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Nr(s,"x"),y:(t,{transform:s})=>Nr(s,"y")};Nt.translateX=Nt.x;Nt.translateY=Nt.y;const wt=new Set;let wr=!1,Cr=!1,_r=!1;function Hl(){if(Cr){const t=Array.from(wt).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),a=new Map;s.forEach(r=>{const i=sx(r);i.length&&(a.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const i=a.get(r);i&&i.forEach(([n,o])=>{r.getValue(n)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cr=!1,wr=!1,wt.forEach(t=>t.complete(_r)),wt.clear()}function Gl(){wt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cr=!0)})}function ax(){_r=!0,Gl(),Hl(),_r=!1}class di{constructor(s,a,r,i,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=r,this.motionValue=i,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(wt.add(this),wr||(wr=!0,Q.read(Gl),Q.resolveKeyframes(Hl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:r,motionValue:i}=this;if(s[0]===null){const n=i?.get(),o=s[s.length-1];if(n!==void 0)s[0]=n;else if(r&&a){const c=r.readValue(a,o);c!=null&&(s[0]=c)}s[0]===void 0&&(s[0]=o),i&&n===void 0&&i.set(s[0])}Zu(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),wt.delete(this)}cancel(){this.state==="scheduled"&&(wt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rx=t=>t.startsWith("--");function ix(t,s,a){rx(s)?t.style.setProperty(s,a):t.style[s]=a}const nx=Qr(()=>window.ScrollTimeline!==void 0),ox={};function lx(t,s){const a=Qr(t);return()=>ox[s]??a()}const Wl=lx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ds=([t,s,a,r])=>`cubic-bezier(${t}, ${s}, ${a}, ${r})`,tn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ds([0,.65,.55,1]),circOut:ds([.55,0,1,.45]),backIn:ds([.31,.01,.66,-.59]),backOut:ds([.33,1.53,.69,.99])};function Yl(t,s){if(t)return typeof t=="function"?Wl()?Ul(t,s):"ease-out":Tl(t)?ds(t):Array.isArray(t)?t.map(a=>Yl(a,s)||tn.easeOut):tn[t]}function cx(t,s,a,{delay:r=0,duration:i=300,repeat:n=0,repeatType:o="loop",ease:c="easeOut",times:l}={},d=void 0){const m={[s]:a};l&&(m.offset=l);const u=Yl(c,i);Array.isArray(u)&&(m.easing=u);const x={delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:n+1,direction:o==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),t.animate(m,x)}function Zl(t){return typeof t=="function"&&"applyToOptions"in t}function dx({type:t,...s}){return Zl(t)&&Wl()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class mx extends li{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:r,keyframes:i,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:c,onComplete:l}=s;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=s,Kr(typeof s.type!="string");const d=dx(s);this.animation=cx(a,r,i,d,n),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const m=oi(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):ix(a,r,m),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return $e(Number(s))}get time(){return $e(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=ze(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&nx()?(this.animation.timeline=s,ke):a(this)}}const Kl={anticipate:kl,backInOut:Pl,circInOut:Dl};function ux(t){return t in Kl}function xx(t){typeof t.ease=="string"&&ux(t.ease)&&(t.ease=Kl[t.ease])}const sn=10;class hx extends mx{constructor(s){xx(s),$l(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:r,onComplete:i,element:n,...o}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const c=new ci({...o,autoplay:!1}),l=ze(this.finishedTime??this.time);a.setWithVelocity(c.sample(l-sn).value,c.sample(l).value,sn),c.stop()}}const an=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dt.test(t)||t==="0")&&!t.startsWith("url("));function px(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function fx(t,s,a,r){const i=t[0];if(i===null)return!1;if(s==="display"||s==="visibility")return!0;const n=t[t.length-1],o=an(i,s),c=an(n,s);return!o||!c?!1:px(t)||(a==="spring"||Zl(a))&&r}function mi(t){return jl(t)&&"offsetHeight"in t}const gx=new Set(["opacity","clipPath","filter","transform"]),bx=Qr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yx(t){const{motionValue:s,name:a,repeatDelay:r,repeatType:i,damping:n,type:o}=t;if(!mi(s?.owner?.current))return!1;const{onUpdate:c,transformTemplate:l}=s.owner.getProps();return bx()&&a&&gx.has(a)&&(a!=="transform"||!l)&&!c&&!r&&i!=="mirror"&&n!==0&&o!=="inertia"}const jx=40;class vx extends li{constructor({autoplay:s=!0,delay:a=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:o="loop",keyframes:c,name:l,motionValue:d,element:m,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=be.now();const x={autoplay:s,delay:a,type:r,repeat:i,repeatDelay:n,repeatType:o,name:l,motionValue:d,element:m,...u},f=m?.KeyframeResolver||di;this.keyframeResolver=new f(c,(b,j,v)=>this.onKeyframesResolved(b,j,x,!v),l,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,a,r,i){this.keyframeResolver=void 0;const{name:n,type:o,velocity:c,delay:l,isHandoff:d,onUpdate:m}=r;this.resolvedAt=be.now(),fx(s,n,o,c)||((Je.instantAnimations||!l)&&m?.(oi(s,r,a)),s[0]=s[s.length-1],r.duration=0,r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>jx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:s},f=!d&&yx(x)?new hx({...x,element:x.motionValue.owner.current}):new ci(x);f.finished.then(()=>this.notifyFinished()).catch(ke),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ax()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Nx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wx(t){const s=Nx.exec(t);if(!s)return[,];const[,a,r,i]=s;return[`--${a??r}`,i]}function Ql(t,s,a=1){const[r,i]=wx(t);if(!r)return;const n=window.getComputedStyle(s).getPropertyValue(r);if(n){const o=n.trim();return yl(o)?parseFloat(o):o}return si(i)?Ql(i,s,a+1):i}function ui(t,s){return t?.[s]??t?.default??t}const Jl=new Set(["width","height","top","left","right","bottom",...ts]),Cx={test:t=>t==="auto",parse:t=>t},Xl=t=>s=>s.test(t),ec=[es,L,He,at,pu,hu,Cx],rn=t=>ec.find(Xl(t));function _x(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vl(t):!0}const Sx=new Set(["brightness","contrast","saturate","opacity"]);function Px(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=a.match(ai)||[];if(!r)return t;const i=a.replace(r,"");let n=Sx.has(s)?1:0;return r!==a&&(n*=100),s+"("+n+i+")"}const kx=/\b([a-z-]*)\(.*?\)/gu,Sr={...dt,getAnimatableNone:t=>{const s=t.match(kx);return s?s.map(Px).join(" "):t}},nn={...es,transform:Math.round},Ex={rotate:at,rotateX:at,rotateY:at,rotateZ:at,scale:Bs,scaleX:Bs,scaleY:Bs,scaleZ:Bs,skew:at,skewX:at,skewY:at,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:vs,originX:Gi,originY:Gi,originZ:L},xi={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L,...Ex,zIndex:nn,fillOpacity:vs,strokeOpacity:vs,numOctaves:nn},Dx={...xi,color:ie,backgroundColor:ie,outlineColor:ie,fill:ie,stroke:ie,borderColor:ie,borderTopColor:ie,borderRightColor:ie,borderBottomColor:ie,borderLeftColor:ie,filter:Sr,WebkitFilter:Sr},tc=t=>Dx[t];function sc(t,s){let a=tc(t);return a!==Sr&&(a=dt),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const Fx=new Set(["auto","none","0"]);function Tx(t,s,a){let r=0,i;for(;r<t.length&&!i;){const n=t[r];typeof n=="string"&&!Fx.has(n)&&Ns(n).values.length&&(i=t[r]),r++}if(i&&a)for(const n of s)t[n]=sc(a,i)}class Ax extends di{constructor(s,a,r,i,n){super(s,a,r,i,n,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let l=0;l<s.length;l++){let d=s[l];if(typeof d=="string"&&(d=d.trim(),si(d))){const m=Ql(d,a.current);m!==void 0&&(s[l]=m),l===s.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Jl.has(r)||s.length!==2)return;const[i,n]=s,o=rn(i),c=rn(n);if(o!==c)if(en(o)&&en(c))for(let l=0;l<s.length;l++){const d=s[l];typeof d=="string"&&(s[l]=parseFloat(d))}else Nt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,r=[];for(let i=0;i<s.length;i++)(s[i]===null||_x(s[i]))&&r.push(i);r.length&&Tx(s,r,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const i=a[a.length-1];i!==void 0&&s.getValue(r,i).jump(i,!1)}measureEndState(){const{element:s,name:a,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const i=s.getValue(a);i&&i.jump(this.measuredOrigin,!1);const n=r.length-1,o=r[n];r[n]=Nt[a](s.measureViewportBox(),window.getComputedStyle(s.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,l])=>{s.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function Mx(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=a?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const ac=(t,s)=>s&&typeof t=="number"?s.transform(t):t,on=30,Ox=t=>!isNaN(parseFloat(t));class Ix{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const n=be.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=be.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=Ox(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Jr);const r=this.events[s].add(a);return s==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=be.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>on)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,on);return Nl(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ht(t,s){return new Ix(t,s)}const{schedule:hi}=Al(queueMicrotask,!1),Me={x:!1,y:!1};function rc(){return Me.x||Me.y}function Rx(t){return t==="x"||t==="y"?Me[t]?null:(Me[t]=!0,()=>{Me[t]=!1}):Me.x||Me.y?null:(Me.x=Me.y=!0,()=>{Me.x=Me.y=!1})}function ic(t,s){const a=Mx(t),r=new AbortController,i={passive:!0,...s,signal:r.signal};return[a,i,()=>r.abort()]}function ln(t){return!(t.pointerType==="touch"||rc())}function Vx(t,s,a={}){const[r,i,n]=ic(t,a),o=c=>{if(!ln(c))return;const{target:l}=c,d=s(l,c);if(typeof d!="function"||!l)return;const m=u=>{ln(u)&&(d(u),l.removeEventListener("pointerleave",m))};l.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),n}const nc=(t,s)=>s?t===s?!0:nc(t,s.parentElement):!1,pi=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qx(t){return Lx.has(t.tagName)||t.tabIndex!==-1}const Qs=new WeakSet;function cn(t){return s=>{s.key==="Enter"&&t(s)}}function ka(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const Bx=(t,s)=>{const a=t.currentTarget;if(!a)return;const r=cn(()=>{if(Qs.has(a))return;ka(a,"down");const i=cn(()=>{ka(a,"up")}),n=()=>ka(a,"cancel");a.addEventListener("keyup",i,s),a.addEventListener("blur",n,s)});a.addEventListener("keydown",r,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),s)};function dn(t){return pi(t)&&!rc()}function Ux(t,s,a={}){const[r,i,n]=ic(t,a),o=c=>{const l=c.currentTarget;if(!dn(c))return;Qs.add(l);const d=s(l,c),m=(f,b)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",x),Qs.has(l)&&Qs.delete(l),dn(f)&&typeof d=="function"&&d(f,{success:b})},u=f=>{m(f,l===window||l===document||a.useGlobalTarget||nc(l,f.target))},x=f=>{m(f,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",x,i)};return r.forEach(c=>{(a.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),mi(c)&&(c.addEventListener("focus",d=>Bx(d,i)),!qx(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),n}function oc(t){return jl(t)&&"ownerSVGElement"in t}function zx(t){return oc(t)&&t.tagName==="svg"}const he=t=>!!(t&&t.getVelocity),$x=[...ec,ie,dt],Hx=t=>$x.find(Xl(t)),fi=h.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Gx extends h.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const r=a.offsetParent,i=mi(r)&&r.offsetWidth||0,n=this.props.sizeRef.current;n.height=a.offsetHeight||0,n.width=a.offsetWidth||0,n.top=a.offsetTop,n.left=a.offsetLeft,n.right=i-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wx({children:t,isPresent:s,anchorX:a,root:r}){const i=h.useId(),n=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=h.useContext(fi);return h.useInsertionEffect(()=>{const{width:l,height:d,top:m,left:u,right:x}=o.current;if(s||!n.current||!l||!d)return;const f=a==="left"?`left: ${u}`:`right: ${x}`;n.current.dataset.motionPopId=i;const b=document.createElement("style");c&&(b.nonce=c);const j=r??document.head;return j.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${f}px !important;
            top: ${m}px !important;
          }
        `),()=>{j.removeChild(b),j.contains(b)&&j.removeChild(b)}},[s]),e.jsx(Gx,{isPresent:s,childRef:n,sizeRef:o,children:h.cloneElement(t,{ref:n})})}const Yx=({children:t,initial:s,isPresent:a,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:o,anchorX:c,root:l})=>{const d=Gr(Zx),m=h.useId();let u=!0,x=h.useMemo(()=>(u=!1,{id:m,initial:s,isPresent:a,custom:i,onExitComplete:f=>{d.set(f,!0);for(const b of d.values())if(!b)return;r&&r()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[a,d,r]);return n&&u&&(x={...x}),h.useMemo(()=>{d.forEach((f,b)=>d.set(b,!1))},[a]),h.useEffect(()=>{!a&&!d.size&&r&&r()},[a]),o==="popLayout"&&(t=e.jsx(Wx,{isPresent:a,anchorX:c,root:l,children:t})),e.jsx(ma.Provider,{value:x,children:t})};function Zx(){return new Map}function lc(t=!0){const s=h.useContext(ma);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:i}=s,n=h.useId();h.useEffect(()=>{if(t)return i(n)},[t]);const o=h.useCallback(()=>t&&r&&r(n),[n,r,t]);return!a&&r?[!1,o]:[!0]}const Us=t=>t.key||"";function mn(t){const s=[];return h.Children.forEach(t,a=>{h.isValidElement(a)&&s.push(a)}),s}const Kx=({children:t,custom:s,initial:a=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:n="sync",propagate:o=!1,anchorX:c="left",root:l})=>{const[d,m]=lc(o),u=h.useMemo(()=>mn(t),[t]),x=o&&!d?[]:u.map(Us),f=h.useRef(!0),b=h.useRef(u),j=Gr(()=>new Map),[v,p]=h.useState(u),[y,g]=h.useState(u);bl(()=>{f.current=!1,b.current=u;for(let S=0;S<y.length;S++){const C=Us(y[S]);x.includes(C)?j.delete(C):j.get(C)!==!0&&j.set(C,!1)}},[y,x.length,x.join("-")]);const _=[];if(u!==v){let S=[...u];for(let C=0;C<y.length;C++){const N=y[C],E=Us(N);x.includes(E)||(S.splice(C,0,N),_.push(N))}return n==="wait"&&_.length&&(S=_),g(mn(S)),p(u),null}const{forceRender:k}=h.useContext(Hr);return e.jsx(e.Fragment,{children:y.map(S=>{const C=Us(S),N=o&&!d?!1:u===y||x.includes(C),E=()=>{if(j.has(C))j.set(C,!0);else return;let w=!0;j.forEach(F=>{F||(w=!1)}),w&&(k?.(),g(b.current),o&&m?.(),r&&r())};return e.jsx(Yx,{isPresent:N,initial:!f.current||a?void 0:!1,custom:s,presenceAffectsLayout:i,mode:n,root:l,onExitComplete:N?void 0:E,anchorX:c,children:S},C)})})},cc=h.createContext({strict:!1}),un={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gt={};for(const t in un)Gt[t]={isEnabled:s=>un[t].some(a=>!!s[a])};function Qx(t){for(const s in t)Gt[s]={...Gt[s],...t[s]}}const Jx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ra(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Jx.has(t)}let dc=t=>!ra(t);function Xx(t){typeof t=="function"&&(dc=s=>s.startsWith("on")?!ra(s):t(s))}try{Xx(require("@emotion/is-prop-valid").default)}catch{}function eh(t,s,a){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(dc(i)||a===!0&&ra(i)||!s&&!ra(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function th(t){if(typeof Proxy>"u")return t;const s=new Map,a=(...r)=>t(...r);return new Proxy(a,{get:(r,i)=>i==="create"?t:(s.has(i)||s.set(i,t(i)),s.get(i))})}const ua=h.createContext({});function xa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ws(t){return typeof t=="string"||Array.isArray(t)}const gi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bi=["initial",...gi];function ha(t){return xa(t.animate)||bi.some(s=>ws(t[s]))}function mc(t){return!!(ha(t)||t.variants)}function sh(t,s){if(ha(t)){const{initial:a,animate:r}=t;return{initial:a===!1||ws(a)?a:void 0,animate:ws(r)?r:void 0}}return t.inherit!==!1?s:{}}function ah(t){const{initial:s,animate:a}=sh(t,h.useContext(ua));return h.useMemo(()=>({initial:s,animate:a}),[xn(s),xn(a)])}function xn(t){return Array.isArray(t)?t.join(" "):t}const rh=Symbol.for("motionComponentSymbol");function It(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ih(t,s,a){return h.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),a&&(typeof a=="function"?a(r):It(a)&&(a.current=r))},[s])}const yi=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nh="framerAppearId",uc="data-"+yi(nh),xc=h.createContext({});function oh(t,s,a,r,i){const{visualElement:n}=h.useContext(ua),o=h.useContext(cc),c=h.useContext(ma),l=h.useContext(fi).reducedMotion,d=h.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:s,parent:n,props:a,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l}));const m=d.current,u=h.useContext(xc);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&lh(d.current,a,i,u);const x=h.useRef(!1);h.useInsertionEffect(()=>{m&&x.current&&m.update(a,c)});const f=a[uc],b=h.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return bl(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),hi.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),h.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),b.current=!1))}),m}function lh(t,s,a,r){const{layoutId:i,layout:n,drag:o,dragConstraints:c,layoutScroll:l,layoutRoot:d,layoutCrossfade:m}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:hc(t.parent)),t.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:!!o||c&&It(c),visualElement:t,animationType:typeof n=="string"?n:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:l,layoutRoot:d})}function hc(t){if(t)return t.options.allowProjection!==!1?t.projection:hc(t.parent)}function ch({preloadedFeatures:t,createVisualElement:s,useRender:a,useVisualState:r,Component:i}){t&&Qx(t);function n(c,l){let d;const m={...h.useContext(fi),...c,layoutId:dh(c)},{isStatic:u}=m,x=ah(c),f=r(c,u);if(!u&&Wr){mh();const b=uh(m);d=b.MeasureLayout,x.visualElement=oh(i,f,m,s,b.ProjectionNode)}return e.jsxs(ua.Provider,{value:x,children:[d&&x.visualElement?e.jsx(d,{visualElement:x.visualElement,...m}):null,a(i,c,ih(f,x.visualElement,l),f,u,x.visualElement)]})}n.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=h.forwardRef(n);return o[rh]=i,o}function dh({layoutId:t}){const s=h.useContext(Hr).id;return s&&t!==void 0?s+"-"+t:t}function mh(t,s){h.useContext(cc).strict}function uh(t){const{drag:s,layout:a}=Gt;if(!s&&!a)return{};const r={...s,...a};return{MeasureLayout:s?.isEnabled(t)||a?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Cs={};function xh(t){for(const s in t)Cs[s]=t[s],ti(s)&&(Cs[s].isCSSVariable=!0)}function pc(t,{layout:s,layoutId:a}){return ss.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!Cs[t]||t==="opacity")}const hh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ph=ts.length;function fh(t,s,a){let r="",i=!0;for(let n=0;n<ph;n++){const o=ts[n],c=t[o];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(o.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||a){const d=ac(c,xi[o]);if(!l){i=!1;const m=hh[o]||o;r+=`${m}(${d}) `}a&&(s[o]=d)}}return r=r.trim(),a?r=a(s,i?"":r):i&&(r="none"),r}function ji(t,s,a){const{style:r,vars:i,transformOrigin:n}=t;let o=!1,c=!1;for(const l in s){const d=s[l];if(ss.has(l)){o=!0;continue}else if(ti(l)){i[l]=d;continue}else{const m=ac(d,xi[l]);l.startsWith("origin")?(c=!0,n[l]=m):r[l]=m}}if(s.transform||(o||a?r.transform=fh(s,t.transform,a):r.transform&&(r.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:m=0}=n;r.transformOrigin=`${l} ${d} ${m}`}}const vi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fc(t,s,a){for(const r in s)!he(s[r])&&!pc(r,a)&&(t[r]=s[r])}function gh({transformTemplate:t},s){return h.useMemo(()=>{const a=vi();return ji(a,s,t),Object.assign({},a.vars,a.style)},[s])}function bh(t,s){const a=t.style||{},r={};return fc(r,a,t),Object.assign(r,gh(t,s)),r}function yh(t,s){const a={},r=bh(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=r,a}const jh={offset:"stroke-dashoffset",array:"stroke-dasharray"},vh={offset:"strokeDashoffset",array:"strokeDasharray"};function Nh(t,s,a=1,r=0,i=!0){t.pathLength=1;const n=i?jh:vh;t[n.offset]=L.transform(-r);const o=L.transform(s),c=L.transform(a);t[n.array]=`${o} ${c}`}function gc(t,{attrX:s,attrY:a,attrScale:r,pathLength:i,pathSpacing:n=1,pathOffset:o=0,...c},l,d,m){if(ji(t,c,d),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:u,style:x}=t;u.transform&&(x.transform=u.transform,delete u.transform),(x.transform||u.transformOrigin)&&(x.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete u.transformBox),s!==void 0&&(u.x=s),a!==void 0&&(u.y=a),r!==void 0&&(u.scale=r),i!==void 0&&Nh(u,i,n,o,!1)}const bc=()=>({...vi(),attrs:{}}),yc=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wh(t,s,a,r){const i=h.useMemo(()=>{const n=bc();return gc(n,s,yc(r),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[s]);if(t.style){const n={};fc(n,t.style,t),i.style={...n,...i.style}}return i}const Ch=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ni(t){return typeof t!="string"||t.includes("-")?!1:!!(Ch.indexOf(t)>-1||/[A-Z]/u.test(t))}function _h(t=!1){return(a,r,i,{latestValues:n},o)=>{const l=(Ni(a)?wh:yh)(r,n,o,a),d=eh(r,typeof a=="string",t),m=a!==h.Fragment?{...d,...l,ref:i}:{},{children:u}=r,x=h.useMemo(()=>he(u)?u.get():u,[u]);return h.createElement(a,{...m,children:x})}}function hn(t){const s=[{},{}];return t?.values.forEach((a,r)=>{s[0][r]=a.get(),s[1][r]=a.getVelocity()}),s}function wi(t,s,a,r){if(typeof s=="function"){const[i,n]=hn(r);s=s(a!==void 0?a:t.custom,i,n)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[i,n]=hn(r);s=s(a!==void 0?a:t.custom,i,n)}return s}function Js(t){return he(t)?t.get():t}function Sh({scrapeMotionValuesFromProps:t,createRenderState:s},a,r,i){return{latestValues:Ph(a,r,i,t),renderState:s()}}const jc=t=>(s,a)=>{const r=h.useContext(ua),i=h.useContext(ma),n=()=>Sh(t,s,r,i);return a?n():Gr(n)};function Ph(t,s,a,r){const i={},n=r(t,{});for(const x in n)i[x]=Js(n[x]);let{initial:o,animate:c}=t;const l=ha(t),d=mc(t);s&&d&&!l&&t.inherit!==!1&&(o===void 0&&(o=s.initial),c===void 0&&(c=s.animate));let m=a?a.initial===!1:!1;m=m||o===!1;const u=m?c:o;if(u&&typeof u!="boolean"&&!xa(u)){const x=Array.isArray(u)?u:[u];for(let f=0;f<x.length;f++){const b=wi(t,x[f]);if(b){const{transitionEnd:j,transition:v,...p}=b;for(const y in p){let g=p[y];if(Array.isArray(g)){const _=m?g.length-1:0;g=g[_]}g!==null&&(i[y]=g)}for(const y in j)i[y]=j[y]}}}return i}function Ci(t,s,a){const{style:r}=t,i={};for(const n in r)(he(r[n])||s.style&&he(s.style[n])||pc(n,t)||a?.getValue(n)?.liveStyle!==void 0)&&(i[n]=r[n]);return i}const kh={useVisualState:jc({scrapeMotionValuesFromProps:Ci,createRenderState:vi})};function vc(t,s,a){const r=Ci(t,s,a);for(const i in t)if(he(t[i])||he(s[i])){const n=ts.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[n]=t[i]}return r}const Eh={useVisualState:jc({scrapeMotionValuesFromProps:vc,createRenderState:bc})};function Dh(t,s){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Ni(r)?Eh:kh,preloadedFeatures:t,useRender:_h(i),createVisualElement:s,Component:r};return ch(o)}}function _s(t,s,a){const r=t.getProps();return wi(r,s,a!==void 0?a:r.custom,t)}const Pr=t=>Array.isArray(t);function Fh(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,Ht(a))}function Th(t){return Pr(t)?t[t.length-1]||0:t}function Ah(t,s){const a=_s(t,s);let{transitionEnd:r={},transition:i={},...n}=a||{};n={...n,...r};for(const o in n){const c=Th(n[o]);Fh(t,o,c)}}function Mh(t){return!!(he(t)&&t.add)}function kr(t,s){const a=t.getValue("willChange");if(Mh(a))return a.add(s);if(!a&&Je.WillChange){const r=new Je.WillChange("auto");t.addValue("willChange",r),r.add(s)}}function Nc(t){return t.props[uc]}const Oh=t=>t!==null;function Ih(t,{repeat:s,repeatType:a="loop"},r){const i=t.filter(Oh),n=s&&a!=="loop"&&s%2===1?0:i.length-1;return i[n]}const Rh={type:"spring",stiffness:500,damping:25,restSpeed:10},Vh=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lh={type:"keyframes",duration:.8},qh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bh=(t,{keyframes:s})=>s.length>2?Lh:ss.has(t)?t.startsWith("scale")?Vh(s[1]):Rh:qh;function Uh({when:t,delay:s,delayChildren:a,staggerChildren:r,staggerDirection:i,repeat:n,repeatType:o,repeatDelay:c,from:l,elapsed:d,...m}){return!!Object.keys(m).length}const _i=(t,s,a,r={},i,n)=>o=>{const c=ui(r,t)||{},l=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ze(l);const m={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...c,delay:-d,onUpdate:x=>{s.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:s,element:n?void 0:i};Uh(c)||Object.assign(m,Bh(t,m)),m.duration&&(m.duration=ze(m.duration)),m.repeatDelay&&(m.repeatDelay=ze(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let u=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(u=!0)),(Je.instantAnimations||Je.skipAnimations)&&(u=!0,m.duration=0,m.delay=0),m.allowFlatten=!c.type&&!c.ease,u&&!n&&s.get()!==void 0){const x=Ih(m.keyframes,c);if(x!==void 0){Q.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new ci(m):new vx(m)};function zh({protectedKeys:t,needsAnimating:s},a){const r=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,r}function wc(t,s,{delay:a=0,transitionOverride:r,type:i}={}){let{transition:n=t.getDefaultTransition(),transitionEnd:o,...c}=s;r&&(n=r);const l=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const u=t.getValue(m,t.latestValues[m]??null),x=c[m];if(x===void 0||d&&zh(d,m))continue;const f={delay:a,...ui(n||{},m)},b=u.get();if(b!==void 0&&!u.isAnimating&&!Array.isArray(x)&&x===b&&!f.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const p=Nc(t);if(p){const y=window.MotionHandoffAnimation(p,m,Q);y!==null&&(f.startTime=y,j=!0)}}kr(t,m),u.start(_i(m,u,x,t.shouldReduceMotion&&Jl.has(m)?{type:!1}:f,t,j));const v=u.animation;v&&l.push(v)}return o&&Promise.all(l).then(()=>{Q.update(()=>{o&&Ah(t,o)})}),l}function Er(t,s,a={}){const r=_s(t,s,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(i=a.transitionOverride);const n=r?()=>Promise.all(wc(t,r,a)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:u}=i;return $h(t,s,l,d,m,u,a)}:()=>Promise.resolve(),{when:c}=i;if(c){const[l,d]=c==="beforeChildren"?[n,o]:[o,n];return l().then(()=>d())}else return Promise.all([n(),o(a.delay)])}function $h(t,s,a=0,r=0,i=0,n=1,o){const c=[],l=t.variantChildren.size,d=(l-1)*i,m=typeof r=="function",u=m?x=>r(x,l):n===1?(x=0)=>x*i:(x=0)=>d-x*i;return Array.from(t.variantChildren).sort(Hh).forEach((x,f)=>{x.notify("AnimationStart",s),c.push(Er(x,s,{...o,delay:a+(m?0:r)+u(f)}).then(()=>x.notify("AnimationComplete",s)))}),Promise.all(c)}function Hh(t,s){return t.sortNodePosition(s)}function Gh(t,s,a={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const i=s.map(n=>Er(t,n,a));r=Promise.all(i)}else if(typeof s=="string")r=Er(t,s,a);else{const i=typeof s=="function"?_s(t,s,a.custom):s;r=Promise.all(wc(t,i,a))}return r.then(()=>{t.notify("AnimationComplete",s)})}function Cc(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(s[r]!==t[r])return!1;return!0}const Wh=bi.length;function _c(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?_c(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<Wh;a++){const r=bi[a],i=t.props[r];(ws(i)||i===!1)&&(s[r]=i)}return s}const Yh=[...gi].reverse(),Zh=gi.length;function Kh(t){return s=>Promise.all(s.map(({animation:a,options:r})=>Gh(t,a,r)))}function Qh(t){let s=Kh(t),a=pn(),r=!0;const i=l=>(d,m)=>{const u=_s(t,m,l==="exit"?t.presenceContext?.custom:void 0);if(u){const{transition:x,transitionEnd:f,...b}=u;d={...d,...b,...f}}return d};function n(l){s=l(t)}function o(l){const{props:d}=t,m=_c(t.parent)||{},u=[],x=new Set;let f={},b=1/0;for(let v=0;v<Zh;v++){const p=Yh[v],y=a[p],g=d[p]!==void 0?d[p]:m[p],_=ws(g),k=p===l?y.isActive:null;k===!1&&(b=v);let S=g===m[p]&&g!==d[p]&&_;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...f},!y.isActive&&k===null||!g&&!y.prevProp||xa(g)||typeof g=="boolean")continue;const C=Jh(y.prevProp,g);let N=C||p===l&&y.isActive&&!S&&_||v>b&&_,E=!1;const w=Array.isArray(g)?g:[g];let F=w.reduce(i(p),{});k===!1&&(F={});const{prevResolvedValues:P={}}=y,D={...P,...F},A=Z=>{N=!0,x.has(Z)&&(E=!0,x.delete(Z)),y.needsAnimating[Z]=!0;const I=t.getValue(Z);I&&(I.liveStyle=!1)};for(const Z in D){const I=F[Z],te=P[Z];if(f.hasOwnProperty(Z))continue;let ae=!1;Pr(I)&&Pr(te)?ae=!Cc(I,te):ae=I!==te,ae?I!=null?A(Z):x.add(Z):I!==void 0&&x.has(Z)?A(Z):y.protectedKeys[Z]=!0}y.prevProp=g,y.prevResolvedValues=F,y.isActive&&(f={...f,...F}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(S&&C)||E)&&u.push(...w.map(Z=>({animation:Z,options:{type:p}})))}if(x.size){const v={};if(typeof d.initial!="boolean"){const p=_s(t,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(v.transition=p.transition)}x.forEach(p=>{const y=t.getBaseTarget(p),g=t.getValue(p);g&&(g.liveStyle=!0),v[p]=y??null}),u.push({animation:v})}let j=!!u.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?s(u):Promise.resolve()}function c(l,d){if(a[l].isActive===d)return Promise.resolve();t.variantChildren?.forEach(u=>u.animationState?.setActive(l,d)),a[l].isActive=d;const m=o(l);for(const u in a)a[u].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:n,getState:()=>a,reset:()=>{a=pn(),r=!0}}}function Jh(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Cc(s,t):!1}function pt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pn(){return{animate:pt(!0),whileInView:pt(),whileHover:pt(),whileTap:pt(),whileDrag:pt(),whileFocus:pt(),exit:pt()}}class xt{constructor(s){this.isMounted=!1,this.node=s}update(){}}class Xh extends xt{constructor(s){super(s),s.animationState||(s.animationState=Qh(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();xa(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ep=0;class tp extends xt{constructor(){super(...arguments),this.id=ep++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const i=this.node.animationState.setActive("exit",!s);a&&!s&&i.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const sp={animation:{Feature:Xh},exit:{Feature:tp}};function Ss(t,s,a,r={passive:!0}){return t.addEventListener(s,a,r),()=>t.removeEventListener(s,a)}function As(t){return{point:{x:t.pageX,y:t.pageY}}}const ap=t=>s=>pi(s)&&t(s,As(s));function ps(t,s,a,r){return Ss(t,s,ap(a),r)}function Sc({top:t,left:s,right:a,bottom:r}){return{x:{min:s,max:a},y:{min:t,max:r}}}function rp({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function ip(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}const Pc=1e-4,np=1-Pc,op=1+Pc,kc=.01,lp=0-kc,cp=0+kc;function fe(t){return t.max-t.min}function dp(t,s,a){return Math.abs(t-s)<=a}function fn(t,s,a,r=.5){t.origin=r,t.originPoint=X(s.min,s.max,t.origin),t.scale=fe(a)/fe(s),t.translate=X(a.min,a.max,t.origin)-t.originPoint,(t.scale>=np&&t.scale<=op||isNaN(t.scale))&&(t.scale=1),(t.translate>=lp&&t.translate<=cp||isNaN(t.translate))&&(t.translate=0)}function fs(t,s,a,r){fn(t.x,s.x,a.x,r?r.originX:void 0),fn(t.y,s.y,a.y,r?r.originY:void 0)}function gn(t,s,a){t.min=a.min+s.min,t.max=t.min+fe(s)}function mp(t,s,a){gn(t.x,s.x,a.x),gn(t.y,s.y,a.y)}function bn(t,s,a){t.min=s.min-a.min,t.max=t.min+fe(s)}function gs(t,s,a){bn(t.x,s.x,a.x),bn(t.y,s.y,a.y)}const yn=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rt=()=>({x:yn(),y:yn()}),jn=()=>({min:0,max:0}),re=()=>({x:jn(),y:jn()});function _e(t){return[t("x"),t("y")]}function Ea(t){return t===void 0||t===1}function Dr({scale:t,scaleX:s,scaleY:a}){return!Ea(t)||!Ea(s)||!Ea(a)}function ft(t){return Dr(t)||Ec(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ec(t){return vn(t.x)||vn(t.y)}function vn(t){return t&&t!=="0%"}function ia(t,s,a){const r=t-a,i=s*r;return a+i}function Nn(t,s,a,r,i){return i!==void 0&&(t=ia(t,i,r)),ia(t,a,r)+s}function Fr(t,s=0,a=1,r,i){t.min=Nn(t.min,s,a,r,i),t.max=Nn(t.max,s,a,r,i)}function Dc(t,{x:s,y:a}){Fr(t.x,s.translate,s.scale,s.originPoint),Fr(t.y,a.translate,a.scale,a.originPoint)}const wn=.999999999999,Cn=1.0000000000001;function up(t,s,a,r=!1){const i=a.length;if(!i)return;s.x=s.y=1;let n,o;for(let c=0;c<i;c++){n=a[c],o=n.projectionDelta;const{visualElement:l}=n.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&Lt(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(s.x*=o.x.scale,s.y*=o.y.scale,Dc(t,o)),r&&ft(n.latestValues)&&Lt(t,n.latestValues))}s.x<Cn&&s.x>wn&&(s.x=1),s.y<Cn&&s.y>wn&&(s.y=1)}function Vt(t,s){t.min=t.min+s,t.max=t.max+s}function _n(t,s,a,r,i=.5){const n=X(t.min,t.max,i);Fr(t,s,a,n,r)}function Lt(t,s){_n(t.x,s.x,s.scaleX,s.scale,s.originX),_n(t.y,s.y,s.scaleY,s.scale,s.originY)}function Fc(t,s){return Sc(ip(t.getBoundingClientRect(),s))}function xp(t,s,a){const r=Fc(t,a),{scroll:i}=s;return i&&(Vt(r.x,i.offset.x),Vt(r.y,i.offset.y)),r}const Tc=({current:t})=>t?t.ownerDocument.defaultView:null,Sn=(t,s)=>Math.abs(t-s);function hp(t,s){const a=Sn(t.x,s.x),r=Sn(t.y,s.y);return Math.sqrt(a**2+r**2)}class Ac{constructor(s,a,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:n=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Fa(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,b=hp(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!b)return;const{point:j}=x,{timestamp:v}=ce;this.history.push({...j,timestamp:v});const{onStart:p,onMove:y}=this.handlers;f||(p&&p(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,x)},this.handlePointerMove=(x,f)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Da(f,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(x,f)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Fa(x.type==="pointercancel"?this.lastMoveEventInfo:Da(f,this.transformPagePoint),this.history);this.startEvent&&b&&b(x,p),j&&j(x,p)},!pi(s))return;this.dragSnapToOrigin=n,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=As(s),l=Da(c,this.transformPagePoint),{point:d}=l,{timestamp:m}=ce;this.history=[{...d,timestamp:m}];const{onSessionStart:u}=a;u&&u(s,Fa(l,this.history)),this.removeListeners=Ds(ps(this.contextWindow,"pointermove",this.handlePointerMove),ps(this.contextWindow,"pointerup",this.handlePointerUp),ps(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),ct(this.updatePoint)}}function Da(t,s){return s?{point:s(t.point)}:t}function Pn(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Fa({point:t},s){return{point:t,delta:Pn(t,Mc(s)),offset:Pn(t,pp(s)),velocity:fp(s,.1)}}function pp(t){return t[0]}function Mc(t){return t[t.length-1]}function fp(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const i=Mc(t);for(;a>=0&&(r=t[a],!(i.timestamp-r.timestamp>ze(s)));)a--;if(!r)return{x:0,y:0};const n=$e(i.timestamp-r.timestamp);if(n===0)return{x:0,y:0};const o={x:(i.x-r.x)/n,y:(i.y-r.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gp(t,{min:s,max:a},r){return s!==void 0&&t<s?t=r?X(s,t,r.min):Math.max(t,s):a!==void 0&&t>a&&(t=r?X(a,t,r.max):Math.min(t,a)),t}function kn(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function bp(t,{top:s,left:a,bottom:r,right:i}){return{x:kn(t.x,a,i),y:kn(t.y,s,r)}}function En(t,s){let a=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function yp(t,s){return{x:En(t.x,s.x),y:En(t.y,s.y)}}function jp(t,s){let a=.5;const r=fe(t),i=fe(s);return i>r?a=js(s.min,s.max-r,t.min):r>i&&(a=js(t.min,t.max-i,s.min)),Qe(0,1,a)}function vp(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const Tr=.35;function Np(t=Tr){return t===!1?t=0:t===!0&&(t=Tr),{x:Dn(t,"left","right"),y:Dn(t,"top","bottom")}}function Dn(t,s,a){return{min:Fn(t,s),max:Fn(t,a)}}function Fn(t,s){return typeof t=="number"?t:t[s]||0}const wp=new WeakMap;class Cp{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(As(u).point)},o=(u,x)=>{const{drag:f,dragPropagation:b,onDragStart:j}=this.getProps();if(f&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rx(f),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_e(p=>{let y=this.getAxisMotionValue(p).get()||0;if(He.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const _=g.layout.layoutBox[p];_&&(y=fe(_)*(parseFloat(y)/100))}}this.originPoint[p]=y}),j&&Q.postRender(()=>j(u,x)),kr(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},c=(u,x)=>{this.latestPointerEvent=u,this.latestPanInfo=x;const{dragPropagation:f,dragDirectionLock:b,onDirectionLock:j,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=x;if(b&&this.currentDirection===null){this.currentDirection=_p(p),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,p),this.updateAxis("y",x.point,p),this.visualElement.render(),v&&v(u,x)},l=(u,x)=>{this.latestPointerEvent=u,this.latestPanInfo=x,this.stop(u,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>_e(u=>this.getAnimationState(u)==="paused"&&this.getAxisMotionValue(u).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Ac(s,{onSessionStart:n,onStart:o,onMove:c,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Tc(this.visualElement)})}stop(s,a){const r=s||this.latestPointerEvent,i=a||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Q.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,r){const{drag:i}=this.getProps();if(!r||!zs(s,i,this.currentDirection))return;const n=this.getAxisMotionValue(s);let o=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(o=gp(o,this.constraints[s],this.elastic[s])),n.set(o)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;s&&It(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=bp(r.layoutBox,s):this.constraints=!1,this.elastic=Np(a),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_e(n=>{this.constraints!==!1&&this.getAxisMotionValue(n)&&(this.constraints[n]=vp(r.layoutBox[n],this.constraints[n]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!It(s))return!1;const r=s.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const n=xp(r,i.root,this.visualElement.getTransformPagePoint());let o=yp(i.layout.layoutBox,n);if(a){const c=a(rp(o));this.hasMutatedConstraints=!!c,c&&(o=Sc(c))}return o}startAnimation(s){const{drag:a,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=_e(m=>{if(!zs(m,a,this.currentDirection))return;let u=l&&l[m]||{};o&&(u={min:0,max:0});const x=i?200:1e6,f=i?40:1e7,b={type:"inertia",velocity:r?s[m]:0,bounceStiffness:x,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...n,...u};return this.startAxisValueAnimation(m,b)});return Promise.all(d).then(c)}startAxisValueAnimation(s,a){const r=this.getAxisMotionValue(s);return kr(this.visualElement,s),r.start(_i(s,r,0,a,this.visualElement,!1))}stopAnimation(){_e(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){_e(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),i=r[a];return i||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){_e(a=>{const{drag:r}=this.getProps();if(!zs(a,r,this.currentDirection))return;const{projection:i}=this.visualElement,n=this.getAxisMotionValue(a);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[a];n.set(s[a]-X(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!It(a)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_e(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const l=c.get();i[o]=jp({min:l,max:l},this.constraints[o])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_e(o=>{if(!zs(o,s,null))return;const c=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];c.set(X(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;wp.set(this.visualElement,this);const s=this.visualElement.current,a=ps(s,"pointerdown",l=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();It(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Q.read(r);const o=Ss(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(_e(m=>{const u=this.getAxisMotionValue(m);u&&(this.originPoint[m]+=l[m].translate,u.set(u.get()+l[m].translate))}),this.visualElement.render())});return()=>{o(),a(),n(),c&&c()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:o=Tr,dragMomentum:c=!0}=s;return{...s,drag:a,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:o,dragMomentum:c}}}function zs(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function _p(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class Sp extends xt{constructor(s){super(s),this.removeGroupControls=ke,this.removeListeners=ke,this.controls=new Cp(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tn=t=>(s,a)=>{t&&Q.postRender(()=>t(s,a))};class Pp extends xt{constructor(){super(...arguments),this.removePointerDownListener=ke}onPointerDown(s){this.session=new Ac(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tc(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Tn(s),onStart:Tn(a),onMove:r,onEnd:(n,o)=>{delete this.session,i&&Q.postRender(()=>i(n,o))}}}mount(){this.removePointerDownListener=ps(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function An(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const ls={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(L.test(t))t=parseFloat(t);else return t;const a=An(t,s.target.x),r=An(t,s.target.y);return`${a}% ${r}%`}},kp={correct:(t,{treeScale:s,projectionDelta:a})=>{const r=t,i=dt.parse(t);if(i.length>5)return r;const n=dt.createTransformer(t),o=typeof i[0]!="number"?1:0,c=a.x.scale*s.x,l=a.y.scale*s.y;i[0+o]/=c,i[1+o]/=l;const d=X(c,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),n(i)}};let Mn=!1;class Ep extends h.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=s;xh(Dp),n&&(a.group&&a.group.add(n),r&&r.register&&i&&r.register(n),Mn&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),Xs.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:r,drag:i,isPresent:n}=this.props,{projection:o}=r;return o&&(o.isPresent=n,Mn=!0,i||s.layoutDependency!==a||a===void 0||s.isPresent!==n?o.willUpdate():this.safeToRemove(),s.isPresent!==n&&(n?o.promote():o.relegate()||Q.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),hi.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:i}=s;i&&(i.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function Oc(t){const[s,a]=lc(),r=h.useContext(Hr);return e.jsx(Ep,{...t,layoutGroup:r,switchLayoutGroup:h.useContext(xc),isPresent:s,safeToRemove:a})}const Dp={borderRadius:{...ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomLeftRadius:ls,borderBottomRightRadius:ls,boxShadow:kp};function Fp(t,s,a){const r=he(t)?t:Ht(t);return r.start(_i("",r,s,a)),r.animation}const Tp=(t,s)=>t.depth-s.depth;class Ap{constructor(){this.children=[],this.isDirty=!1}add(s){Yr(this.children,s),this.isDirty=!0}remove(s){Zr(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(Tp),this.isDirty=!1,this.children.forEach(s)}}function Mp(t,s){const a=be.now(),r=({timestamp:i})=>{const n=i-a;n>=s&&(ct(r),t(n-s))};return Q.setup(r,!0),()=>ct(r)}const Ic=["TopLeft","TopRight","BottomLeft","BottomRight"],Op=Ic.length,On=t=>typeof t=="string"?parseFloat(t):t,In=t=>typeof t=="number"||L.test(t);function Ip(t,s,a,r,i,n){i?(t.opacity=X(0,a.opacity??1,Rp(r)),t.opacityExit=X(s.opacity??1,0,Vp(r))):n&&(t.opacity=X(s.opacity??1,a.opacity??1,r));for(let o=0;o<Op;o++){const c=`border${Ic[o]}Radius`;let l=Rn(s,c),d=Rn(a,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||In(l)===In(d)?(t[c]=Math.max(X(On(l),On(d),r),0),(He.test(d)||He.test(l))&&(t[c]+="%")):t[c]=d}(s.rotate||a.rotate)&&(t.rotate=X(s.rotate||0,a.rotate||0,r))}function Rn(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const Rp=Rc(0,.5,El),Vp=Rc(.5,.95,ke);function Rc(t,s,a){return r=>r<t?0:r>s?1:a(js(t,s,r))}function Vn(t,s){t.min=s.min,t.max=s.max}function Ce(t,s){Vn(t.x,s.x),Vn(t.y,s.y)}function Ln(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function qn(t,s,a,r,i){return t-=s,t=ia(t,1/a,r),i!==void 0&&(t=ia(t,1/i,r)),t}function Lp(t,s=0,a=1,r=.5,i,n=t,o=t){if(He.test(s)&&(s=parseFloat(s),s=X(o.min,o.max,s/100)-o.min),typeof s!="number")return;let c=X(n.min,n.max,r);t===n&&(c-=s),t.min=qn(t.min,s,a,c,i),t.max=qn(t.max,s,a,c,i)}function Bn(t,s,[a,r,i],n,o){Lp(t,s[a],s[r],s[i],s.scale,n,o)}const qp=["x","scaleX","originX"],Bp=["y","scaleY","originY"];function Un(t,s,a,r){Bn(t.x,s,qp,a?a.x:void 0,r?r.x:void 0),Bn(t.y,s,Bp,a?a.y:void 0,r?r.y:void 0)}function zn(t){return t.translate===0&&t.scale===1}function Vc(t){return zn(t.x)&&zn(t.y)}function $n(t,s){return t.min===s.min&&t.max===s.max}function Up(t,s){return $n(t.x,s.x)&&$n(t.y,s.y)}function Hn(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function Lc(t,s){return Hn(t.x,s.x)&&Hn(t.y,s.y)}function Gn(t){return fe(t.x)/fe(t.y)}function Wn(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class zp{constructor(){this.members=[]}add(s){Yr(this.members,s),s.scheduleRender()}remove(s){if(Zr(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(i=>s===i);if(a===0)return!1;let r;for(let i=a;i>=0;i--){const n=this.members[i];if(n.isPresent!==!1){r=n;break}}return r?(this.promote(r),!0):!1}promote(s,a){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,a&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:i}=s.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:r}=s;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $p(t,s,a){let r="";const i=t.x.translate/s.x,n=t.y.translate/s.y,o=a?.z||0;if((i||n||o)&&(r=`translate3d(${i}px, ${n}px, ${o}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:d,rotate:m,rotateX:u,rotateY:x,skewX:f,skewY:b}=a;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),u&&(r+=`rotateX(${u}deg) `),x&&(r+=`rotateY(${x}deg) `),f&&(r+=`skewX(${f}deg) `),b&&(r+=`skewY(${b}deg) `)}const c=t.x.scale*s.x,l=t.y.scale*s.y;return(c!==1||l!==1)&&(r+=`scale(${c}, ${l})`),r||"none"}const Ta=["","X","Y","Z"],Hp=1e3;let Gp=0;function Aa(t,s,a,r){const{latestValues:i}=s;i[t]&&(a[t]=i[t],s.setStaticValue(t,0),r&&(r[t]=0))}function qc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=Nc(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:i,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",Q,!(i||n))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qc(r)}function Bc({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=s?.()){this.id=Gp++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zp),this.nodes.forEach(Xp),this.nodes.forEach(ef),this.nodes.forEach(Kp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ap)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jr),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=oc(o)&&!zx(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||c)&&(this.isLayoutDirty=!0),t){let m,u=0;const x=()=>this.root.updateBlockedByResize=!1;Q.read(()=>{u=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==u&&(u=f,this.root.updateBlockedByResize=!0,m&&m(),m=Mp(x,250),Xs.hasAnimatedSinceResize&&(Xs.hasAnimatedSinceResize=!1,this.nodes.forEach(Kn)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:u,hasRelativeLayoutChanged:x,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||nf,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=d.getProps(),p=!this.targetLayout||!Lc(this.targetLayout,f),y=!u&&x;if(this.options.layoutRoot||this.resumeFrom||y||u&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...ui(b,"layout"),onPlay:j,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(m,y)}else u||Kn(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ct(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tf),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const u=this.path[m];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yn);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zn);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jp),this.nodes.forEach(Wp),this.nodes.forEach(Yp)):this.nodes.forEach(Zn),this.clearAllSnapshots();const c=be.now();ce.delta=Qe(0,1e3/60,c-ce.timestamp),ce.timestamp=c,ce.isProcessing=!0,wa.update.process(ce),wa.preRender.process(ce),wa.render.process(ce),ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qp),this.sharedNodes.forEach(sf)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fe(this.snapshot.measuredBox.x)&&!fe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Vc(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||ft(this.latestValues)||m)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),of(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return re();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lf))){const{scroll:d}=this.root;d&&(Vt(c.x,d.offset.x),Vt(c.y,d.offset.y))}return c}removeElementScroll(o){const c=re();if(Ce(c,o),this.scroll?.wasRoot)return c;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:m,options:u}=d;d!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&Ce(c,o),Vt(c.x,m.offset.x),Vt(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const l=re();Ce(l,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Lt(l,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ft(m.latestValues)&&Lt(l,m.latestValues)}return ft(this.latestValues)&&Lt(l,this.latestValues),l}removeTransform(o){const c=re();Ce(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!ft(d.latestValues))continue;Dr(d.latestValues)&&d.updateSnapshot();const m=re(),u=d.measurePageBox();Ce(m,u),Un(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return ft(this.latestValues)&&Un(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:u}=this.options;if(!(!this.layout||!(m||u))){if(this.resolvedRelativeTargetAt=ce.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),gs(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ce(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ce(this.target,this.layout.layoutBox),Dc(this.target,this.targetDelta)):Ce(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),gs(this.relativeTargetOrigin,this.target,x.target),Ce(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dr(this.parent.latestValues)||Ec(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ce.timestamp&&(l=!1),l)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Ce(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,x=this.treeScale.y;up(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=re());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ln(this.prevProjectionDelta.x,this.projectionDelta.x),Ln(this.prevProjectionDelta.y,this.projectionDelta.y)),fs(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==x||!Wn(this.projectionDelta.x,this.prevProjectionDelta.x)||!Wn(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rt(),this.projectionDelta=Rt(),this.projectionDeltaWithTransform=Rt()}setAnimationOrigin(o,c=!1){const l=this.snapshot,d=l?l.latestValues:{},m={...this.latestValues},u=Rt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=re(),f=l?l.source:void 0,b=this.layout?this.layout.source:void 0,j=f!==b,v=this.getStack(),p=!v||v.members.length<=1,y=!!(j&&!p&&this.options.crossfade===!0&&!this.path.some(rf));this.animationProgress=0;let g;this.mixTargetDelta=_=>{const k=_/1e3;Qn(u.x,o.x,k),Qn(u.y,o.y,k),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),af(this.relativeTarget,this.relativeTargetOrigin,x,k),g&&Up(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=re()),Ce(g,this.relativeTarget)),j&&(this.animationValues=m,Ip(m,d,this.latestValues,k,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ct(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{Xs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ht(0)),this.currentAnimation=Fp(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:m}=o;if(!(!c||!l||!d)){if(this!==o&&this.layout&&d&&Uc(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||re();const u=fe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+u;const x=fe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+x}Ce(c,l),Lt(c,m),fs(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zp),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&Aa("z",o,d,this.animationValues);for(let m=0;m<Ta.length;m++)Aa(`rotate${Ta[m]}`,o,d,this.animationValues),Aa(`skew${Ta[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Js(c?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Js(c?.pointerEvents)||""),this.hasProjected&&!ft(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let u=$p(this.projectionDeltaWithTransform,this.treeScale,m);l&&(u=l(m,u)),o.transform=u;const{x,y:f}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Cs){if(m[b]===void 0)continue;const{correct:j,applyTo:v,isCSSVariable:p}=Cs[b],y=u==="none"?m[b]:j(m[b],d);if(v){const g=v.length;for(let _=0;_<g;_++)o[v[_]]=y}else p?this.options.visualElement.renderState.vars[b]=y:o[b]=y}this.options.layoutId&&(o.pointerEvents=d===this?Js(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Yn),this.root.sharedNodes.clear()}}}function Wp(t){t.updateLayout()}function Yp(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=t.layout,{animationType:i}=t.options,n=s.source!==t.layout.source;i==="size"?_e(m=>{const u=n?s.measuredBox[m]:s.layoutBox[m],x=fe(u);u.min=a[m].min,u.max=u.min+x}):Uc(i,s.layoutBox,a)&&_e(m=>{const u=n?s.measuredBox[m]:s.layoutBox[m],x=fe(a[m]);u.max=u.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const o=Rt();fs(o,a,s.layoutBox);const c=Rt();n?fs(c,t.applyTransform(r,!0),s.measuredBox):fs(c,a,s.layoutBox);const l=!Vc(o);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:x}=m;if(u&&x){const f=re();gs(f,s.layoutBox,u.layoutBox);const b=re();gs(b,a,x.layoutBox),Lc(f,b)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=f,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function Zp(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kp(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Qp(t){t.clearSnapshot()}function Yn(t){t.clearMeasurements()}function Zn(t){t.isLayoutDirty=!1}function Jp(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kn(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xp(t){t.resolveTargetDelta()}function ef(t){t.calcProjection()}function tf(t){t.resetSkewAndRotation()}function sf(t){t.removeLeadSnapshot()}function Qn(t,s,a){t.translate=X(s.translate,0,a),t.scale=X(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function Jn(t,s,a,r){t.min=X(s.min,a.min,r),t.max=X(s.max,a.max,r)}function af(t,s,a,r){Jn(t.x,s.x,a.x,r),Jn(t.y,s.y,a.y,r)}function rf(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nf={duration:.45,ease:[.4,0,.1,1]},Xn=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eo=Xn("applewebkit/")&&!Xn("chrome/")?Math.round:ke;function to(t){t.min=eo(t.min),t.max=eo(t.max)}function of(t){to(t.x),to(t.y)}function Uc(t,s,a){return t==="position"||t==="preserve-aspect"&&!dp(Gn(s),Gn(a),.2)}function lf(t){return t!==t.root&&t.scroll?.wasRoot}const cf=Bc({attachResizeListener:(t,s)=>Ss(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ma={current:void 0},zc=Bc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ma.current){const t=new cf({});t.mount(window),t.setOptions({layoutScroll:!0}),Ma.current=t}return Ma.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),df={pan:{Feature:Pp},drag:{Feature:Sp,ProjectionNode:zc,MeasureLayout:Oc}};function so(t,s,a){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",a==="Start");const i="onHover"+a,n=r[i];n&&Q.postRender(()=>n(s,As(s)))}class mf extends xt{mount(){const{current:s}=this.node;s&&(this.unmount=Vx(s,(a,r)=>(so(this.node,r,"Start"),i=>so(this.node,i,"End"))))}unmount(){}}class uf extends xt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ds(Ss(this.node.current,"focus",()=>this.onFocus()),Ss(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ao(t,s,a){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",a==="Start");const i="onTap"+(a==="End"?"":a),n=r[i];n&&Q.postRender(()=>n(s,As(s)))}class xf extends xt{mount(){const{current:s}=this.node;s&&(this.unmount=Ux(s,(a,r)=>(ao(this.node,r,"Start"),(i,{success:n})=>ao(this.node,i,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ar=new WeakMap,Oa=new WeakMap,hf=t=>{const s=Ar.get(t.target);s&&s(t)},pf=t=>{t.forEach(hf)};function ff({root:t,...s}){const a=t||document;Oa.has(a)||Oa.set(a,{});const r=Oa.get(a),i=JSON.stringify(s);return r[i]||(r[i]=new IntersectionObserver(pf,{root:t,...s})),r[i]}function gf(t,s,a){const r=ff(s);return Ar.set(t,a),r.observe(t),()=>{Ar.delete(t),r.unobserve(t)}}const bf={some:0,all:1};class yf extends xt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:r,amount:i="some",once:n}=s,o={root:a?a.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bf[i]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,n&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:u}=this.node.getProps(),x=d?m:u;x&&x(l)};return gf(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(jf(s,a))&&this.startObserver()}unmount(){}}function jf({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const vf={inView:{Feature:yf},tap:{Feature:xf},focus:{Feature:uf},hover:{Feature:mf}},Nf={layout:{ProjectionNode:zc,MeasureLayout:Oc}},Mr={current:null},$c={current:!1};function wf(){if($c.current=!0,!!Wr)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Mr.current=t.matches;t.addEventListener("change",s),s()}else Mr.current=!1}const Cf=new WeakMap;function _f(t,s,a){for(const r in s){const i=s[r],n=a[r];if(he(i))t.addValue(r,i);else if(he(n))t.addValue(r,Ht(i,{owner:t}));else if(n!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ht(o!==void 0?o:i,{owner:t}))}}for(const r in a)s[r]===void 0&&t.removeValue(r);return s}const ro=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sf{scrapeMotionValuesFromProps(s,a,r){return{}}constructor({parent:s,props:a,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=di,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=be.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Q.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=a.initial?{...l}:{},this.renderState=d,this.parent=s,this.props=a,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!n,this.isControllingVariants=ha(a),this.isVariantNode=mc(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:m,...u}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in u){const f=u[x];l[x]!==void 0&&he(f)&&f.set(l[x],!1)}}mount(s){this.current=s,Cf.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),$c.current||wf(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ct(this.notifyUpdate),ct(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=ss.has(s);r&&this.onBindTransform&&this.onBindTransform();const i=a.on("change",c=>{this.latestValues[s]=c,this.props.onUpdate&&Q.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),n=a.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{i(),n(),o&&o(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Gt){const a=Gt[s];if(!a)continue;const{isEnabled:r,Feature:i}=a;if(!this.features[s]&&i&&r(this.props)&&(this.features[s]=new i(this)),this.features[s]){const n=this.features[s];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):re()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<ro.length;r++){const i=ro[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const n="on"+i,o=s[n];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=_f(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const r=this.values.get(s);a!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&a!==void 0&&(r=Ht(a===null?void 0:a,{owner:this}),this.addValue(s,r)),r}readValue(s,a){let r=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return r!=null&&(typeof r=="string"&&(yl(r)||vl(r))?r=parseFloat(r):!Hx(r)&&dt.test(a)&&(r=sc(s,a)),this.setBaseTarget(s,he(r)?r.get():r)),he(r)?r.get():r}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const n=wi(this.props,a,this.presenceContext?.custom);n&&(r=n[s])}if(a&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,s);return i!==void 0&&!he(i)?i:this.initialValues[s]!==void 0&&r===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Jr),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}}class Hc extends Sf{constructor(){super(...arguments),this.KeyframeResolver=Ax}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:r}){delete a[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;he(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Gc(t,{style:s,vars:a},r,i){const n=t.style;let o;for(o in s)n[o]=s[o];i?.applyProjectionStyles(n,r);for(o in a)n.setProperty(o,a[o])}function Pf(t){return window.getComputedStyle(t)}class kf extends Hc{constructor(){super(...arguments),this.type="html",this.renderInstance=Gc}readValueFromInstance(s,a){if(ss.has(a))return this.projection?.isProjecting?vr(a):Ju(s,a);{const r=Pf(s),i=(ti(a)?r.getPropertyValue(a):r[a])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(s,{transformPagePoint:a}){return Fc(s,a)}build(s,a,r){ji(s,a,r.transformTemplate)}scrapeMotionValuesFromProps(s,a,r){return Ci(s,a,r)}}const Wc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ef(t,s,a,r){Gc(t,s,void 0,r);for(const i in s.attrs)t.setAttribute(Wc.has(i)?i:yi(i),s.attrs[i])}class Df extends Hc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=re}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(ss.has(a)){const r=tc(a);return r&&r.default||0}return a=Wc.has(a)?a:yi(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,r){return vc(s,a,r)}build(s,a,r){gc(s,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(s,a,r,i){Ef(s,a,r,i)}mount(s){this.isSVGTag=yc(s.tagName),super.mount(s)}}const Ff=(t,s)=>Ni(t)?new Df(s):new kf(s,{allowProjection:t!==h.Fragment}),Tf=Dh({...sp,...vf,...df,...Nf},Ff),M=th(Tf),Af=[{id:"gastronomy",icon:Ur,color:"from-[#F6C100] to-[#C91F1F]"},{id:"beauty",icon:Em,color:"from-[#C91F1F] to-[#F6C100]"},{id:"leisure",icon:fm,color:"from-[#333333] to-[#C91F1F]"},{id:"fitness",icon:um,color:"from-[#F6C100] to-[#333333]"},{id:"shopping",icon:ys,color:"from-[#C91F1F] to-[#333333]"},{id:"services",icon:Mm,color:"from-[#333333] to-[#F6C100]"}];function Mf({onCategorySelect:t}){const{t:s}=Xt();return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:Af.map(a=>{const r=a.icon;return e.jsxs("button",{onClick:()=>t?.(a.id),className:"flex flex-col items-center p-8 bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF] hover:border-[#F6C100] hover:shadow-xl transition-all group",children:[e.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${a.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:e.jsx(r,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-[#333333] text-center",children:s(`category.${a.id}`)})]},a.id)})})}const Yc=function({limit:s=6,showHeader:a=!0}){const[r,i]=h.useState([]),[n,o]=h.useState(!0),[c,l]=h.useState(null),d=h.useMemo(()=>[{id:"romance",label:"Romance",icon:"💕",description:"Para momentos íntimos"},{id:"amizade",label:"Amizade",icon:"🤝",description:"Para fortalecer laços"},{id:"descoberta",label:"Descoberta",icon:"🔍",description:"Para explorar o novo"},{id:"reflexao",label:"Reflexão",icon:"🧘",description:"Para momentos contemplativos"},{id:"celebracao",label:"Celebração",icon:"🎉",description:"Para ocasiões especiais"},{id:"inspiracao",label:"Inspiração",icon:"✨",description:"Para despertar criatividade"}],[]),m=h.useCallback(()=>[{id:"sarau-literario",experience_name:"Sarau Literário com Café Especial",story_behind:"Uma noite especial onde poesia e café se encontram, criando um ambiente mágico para compartilhar histórias.",cultural_value:"Promove a literatura local e cria um espaço de expressão artística acessível.",duo_benefit:"Duas pessoas participam do sarau e degustam cafés especiais pelo preço de uma.",original_price:60,duo_price:30,ambiance_notes:"Luzes suaves, música acústica ao vivo e um ambiente que convida à contemplação.",best_for:["primeiro_encontro","amigos_arte","descoberta_cultural"],cultural_tags:["literatura","poesia","musica_acustica"],emotion_tags:["inspiracao","conexao","descoberta"],active:!0,cultural_partners:{business_name:"Café das Letras",business_type:"cafe_cultural",cultural_category:"literatura_cafe",ambiance_description:"Um ambiente acolhedor com estantes repletas de livros e música suave."}},{id:"jantar-velas",experience_name:"Jantar à Luz de Velas com Música ao Vivo",story_behind:"Uma experiência gastronômica que celebra receitas familiares em um ambiente romântico.",cultural_value:"Preserva tradições culinárias familiares e promove conexões genuínas.",duo_benefit:"Jantar completo para duas pessoas com música ao vivo incluída.",original_price:120,duo_price:60,ambiance_notes:"Ambiente íntimo com velas, música acústica e decoração que conta histórias.",best_for:["momento_romantico","celebracao_especial"],cultural_tags:["gastronomia_familiar","musica_ao_vivo","ambiente_romantico"],emotion_tags:["romance","celebracao","conexao"],active:!0,cultural_partners:{business_name:"Restaurante da Nonna",business_type:"restaurante_familia",cultural_category:"gastronomia_autoral",ambiance_description:"Restaurante familiar que preserva receitas tradicionais italianas."}},{id:"oficina-ceramica",experience_name:"Oficina de Cerâmica e Chá da Tarde",story_behind:"Conecte-se com a arte milenar da cerâmica enquanto saboreia chás especiais.",cultural_value:"Preserva técnicas artesanais e promove mindfulness através da arte.",duo_benefit:"Duas pessoas criam suas peças únicas e levam para casa.",original_price:80,duo_price:40,ambiance_notes:"Ateliê com luz natural, plantas e o som suave da roda de oleiro.",best_for:["reflexao_pessoal","amigos_arte","descoberta_cultural"],cultural_tags:["artesanato","ceramica","mindfulness"],emotion_tags:["reflexao","tranquilidade","descoberta"],active:!0,cultural_partners:{business_name:"Ateliê Terra & Alma",business_type:"atelier_arte",cultural_category:"artesanato_local",ambiance_description:"Espaço criativo dedicado à cerâmica e bem-estar."}}],[]),u=h.useCallback(async()=>{try{o(!0),await Promise.race([T.from("cultural_experiences").select("count").limit(1),new Promise((g,_)=>setTimeout(()=>_(new Error("Timeout de conectividade experiências (5s)")),5e3))]);let j=T.from("cultural_experiences").select(`
          *,
          cultural_partners (
            business_name,
            business_type,
            cultural_category,
            ambiance_description
          )
        `).eq("active",!0).limit(s);c&&(j=j.contains("emotion_tags",[c]));const v=new Promise((g,_)=>setTimeout(()=>_(new Error("Timeout da query experiências (10s)")),1e4)),{data:p,error:y}=await Promise.race([j,v]);y||!p||p.length===0?i(m()):i(p)}catch{i(m())}finally{o(!1)}},[c,s,m]);h.useEffect(()=>{u()},[u]);const x=h.useCallback(b=>d.find(v=>v.id===b)?.icon||"✨",[d]),f=h.useCallback(b=>({primeiro_encontro:"Primeiro Encontro",amigos_arte:"Amigos & Arte",reflexao_pessoal:"Reflexão Pessoal",celebracao_especial:"Celebração Especial",momento_romantico:"Momento Romântico",descoberta_cultural:"Descoberta Cultural"})[b]||b,[]);return n?e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((b,j)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},j))})}):e.jsxs("div",{className:"py-12",children:[a&&e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent mb-4",children:"Descubra Experiências com Alma"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Não vendemos produtos, criamos memórias. Cada experiência é uma oportunidade de conexão genuína."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[e.jsx("button",{onClick:()=>l(null),className:`px-4 py-2 rounded-full font-medium transition-all ${c===null?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas as Experiências"}),d.map(b=>e.jsxs("button",{onClick:()=>l(b.id),className:`px-4 py-2 rounded-full font-medium transition-all flex items-center space-x-2 ${c===b.id?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:b.icon}),e.jsx("span",{children:b.label})]},b.id))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.length===0?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhuma experiência encontrada"})}):r.map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group",children:[e.jsxs("div",{className:"p-6 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 group-hover:text-amber-600 transition-colors",children:b.experience_name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:b.cultural_partners.business_name})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:b.emotion_tags.slice(0,2).map(j=>e.jsx("span",{className:"text-lg",children:x(j)},j))})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:b.story_behind}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.best_for.slice(0,2).map(j=>e.jsx("span",{className:"px-2 py-1 bg-amber-50 text-amber-700 text-xs rounded-full",children:f(j)},j))})]}),e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-rose-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Experiência Individual"}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["CHF ",(b.original_price*.18).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-amber-700",children:"DUO PASS"}),e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["CHF ",(b.duo_price*.18).toFixed(2)]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:b.duo_benefit})]})}),e.jsxs("div",{className:"px-6 pb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(Ie,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"line-clamp-1",children:b.ambiance_notes})]}),e.jsxs(R,{to:`/experiencia/${b.id}`,className:"w-full bg-gradient-to-r from-amber-500 to-rose-500 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all flex items-center justify-center space-x-2 group",children:[e.jsx("span",{children:"Viver Esta Experiência"}),e.jsx(ee,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},b.id))}),a&&r.length>=s&&e.jsx("div",{className:"text-center mt-12",children:e.jsxs(R,{to:"/experiencias",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:[e.jsx("span",{children:"Descobrir Mais Experiências"}),e.jsx(ee,{className:"w-4 h-4"})]})})]})};Yc.displayName="CulturalExperiences";const Of=ge.memo(Yc);function If(){const t=G();return e.jsxs("div",{className:"bg-[#F5F3EF]",children:[e.jsxs(rm,{children:[e.jsx("title",{children:"Duo Pass Club – Experiências Autênticas"}),e.jsx("meta",{name:"description",content:"Uma plataforma cultural que conecta pessoas através de experiências genuínas. Não vendemos produtos, criamos memórias e fortalecemos comunidades."}),e.jsx("meta",{property:"og:title",content:"Duo Pass Club"}),e.jsx("meta",{property:"og:description",content:"Transforme momentos em memórias com experiências culturais únicas."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Duo Pass Club"}),e.jsx("meta",{name:"twitter:description",content:"Transforme momentos em memórias com experiências culturais únicas."})]}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] text-white py-24",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(M.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsx(Ne,{className:"w-24 h-24 md:w-32 md:h-32 text-yellow-400 drop-shadow-lg",strokeWidth:1.5,fill:"currentColor"})}),e.jsx(M.h1,{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Duo Pass Club"}),e.jsx(M.p,{className:"text-2xl md:text-3xl mb-6 font-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Onde experiências autênticas ganham vida."}),e.jsx(M.p,{className:"text-xl md:text-2xl mb-12 text-yellow-100 max-w-4xl mx-auto font-light leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Uma plataforma cultural que conecta pessoas através de experiências genuínas. Não vendemos produtos, criamos memórias e fortalecemos comunidades."}),e.jsxs(M.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[e.jsxs(R,{to:"/ofertas",onClick:()=>console.log("🔗 Clicou em Descobrir Experiências - Navegando para /ofertas"),className:"inline-flex items-center bg-white text-[#C91F1F] px-10 py-5 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Descobrir Experiências",e.jsx(ee,{className:"ml-3 w-6 h-6"})]}),e.jsxs(R,{to:"/como-funciona-parceiros",onClick:()=>console.log("🔗 Clicou em Ser Parceiro Cultural - Navegando para /como-funciona-parceiros"),className:"inline-flex items-center bg-transparent border-2 border-white text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-white hover:text-[#C91F1F] transition-all",children:["Ser Parceiro Cultural",e.jsx(W,{className:"ml-3 w-6 h-6"})]})]})]})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs(M.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full mb-8",children:e.jsx(Lr,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"O que é o Duo Pass Club?"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-4xl mx-auto leading-relaxed",children:"Uma plataforma cultural que conecta pessoas através de experiências autênticas. Apoiamos negócios com alma, promovemos conexões genuínas e fortalecemos a economia criativa local — transformando consumo em cultura viva."})]})}),e.jsx("section",{className:"bg-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(M.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#C91F1F] to-[#F6C100] rounded-full mb-8",children:e.jsx(W,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Para quem é?"}),e.jsx("p",{className:"text-xl text-gray-700 mb-12 max-w-3xl mx-auto",children:"Para quem quer fazer parte de algo maior:"})]}),e.jsxs(M.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ge,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Parceiros Culturais"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Cafés culturais, ateliês, restaurantes familiares e espaços que respiram autenticidade e propósito"})]}),e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#C91F1F] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#C91F1F] to-[#F6C100] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(H,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Artistas & Criativos"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Artistas, criativos, coletivos que valorizam cultura e expressão autêntica"})]}),e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#333333] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#333333] to-[#F6C100] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(U,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Comunidade Consciente"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Pessoas que buscam experiências com alma, valorizam conexões genuínas e apoiam a cultura local"})]})]})]})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs(M.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#C91F1F] to-[#333333] rounded-full mb-8",children:e.jsx(lt,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Por que entrar?"})]}),e.jsxs(M.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#F6C100] rounded-lg flex items-center justify-center mb-6",children:e.jsx(H,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Destaque como Parceiro Fundador"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Divulgue seu negócio com destaque especial na plataforma"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#C91F1F] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#C91F1F] rounded-lg flex items-center justify-center mb-6",children:e.jsx(U,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Ações Promocionais Conjuntas"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Faça parte de campanhas colaborativas com outros parceiros"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#333333] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-lg flex items-center justify-center mb-6",children:e.jsx(Ge,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Novos Clientes"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Receba clientes sem comissão, sem complicação"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-lg flex items-center justify-center mb-6",children:e.jsx(lt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Ativação Imediata"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Ative sua oferta e comece imediatamente"})]})]})]}),e.jsx("section",{className:"bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:e.jsx(Of,{limit:6,showHeader:!0})})})}),e.jsx("section",{className:"bg-white py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(M.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Explore por Categoria"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"Descubra experiências organizadas por tipo e conecte-se com a comunidade cultural"})]}),e.jsx(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:e.jsx(Mf,{onCategorySelect:s=>{t(`/ofertas?category=${s}`)}})})]})}),e.jsx("section",{className:"bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(M.h2,{className:"text-4xl md:text-5xl font-bold text-white mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Pronto para começar?"}),e.jsx(M.p,{className:"text-xl text-yellow-100 mb-12 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Junte-se à nossa comunidade cultural e descubra experiências autênticas que transformam momentos em memórias."}),e.jsxs(M.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:[e.jsxs(R,{to:"/ofertas",className:"inline-flex items-center bg-white text-[#C91F1F] px-10 py-5 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Explorar Ofertas",e.jsx(ee,{className:"ml-3 w-6 h-6"})]}),e.jsxs(R,{to:"/signup",className:"inline-flex items-center bg-transparent border-2 border-white text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-white hover:text-[#C91F1F] transition-all",children:["Criar Conta",e.jsx(U,{className:"ml-3 w-6 h-6"})]})]})]})}),e.jsx("section",{className:"bg-gradient-to-r from-[#F6C100] via-[#C91F1F] to-[#333333] text-white py-24",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx(M.h2,{className:"text-4xl md:text-6xl font-bold mb-8 leading-tight",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Sua história, em movimento."}),e.jsx(M.h3,{className:"text-3xl md:text-4xl font-light mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Sua comunidade, conectada."}),e.jsx(M.p,{className:"text-xl md:text-2xl mb-12 text-yellow-100 font-light leading-relaxed",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:"✨ Faça parte deste movimento cultural. Onde autenticidade encontra propósito."}),e.jsxs(M.div,{className:"flex flex-col sm:flex-row gap-6 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},children:[e.jsxs(R,{to:"/parceiros-culturais",className:"inline-flex items-center bg-white text-[#C91F1F] px-12 py-6 rounded-full font-bold text-xl hover:bg-gray-100 transition-all shadow-2xl hover:shadow-3xl transform hover:-translate-y-2",children:["Ser Parceiro Cultural",e.jsx(W,{className:"ml-3 w-7 h-7"})]}),e.jsxs(R,{to:"/ofertas",className:"inline-flex items-center bg-transparent border-3 border-white text-white px-12 py-6 rounded-full font-bold text-xl hover:bg-white hover:text-[#C91F1F] transition-all",children:["Descobrir Experiências",e.jsx(ee,{className:"ml-3 w-7 h-7"})]})]})]})})]})}function Rf(){const[t,s]=h.useState([]),[a,r]=h.useState(!1),i=h.useCallback(async()=>{console.log("🔄 Iniciando loadData..."),r(!0);try{console.log("📦 Criando vouchers demo...");const n=[{id:"demo-1",code:"WELCOME50",title:"50% de Desconto - Bem-vindo!",description:"Desconto especial para novos usuários",discount_type:"percentage",discount_value:50,min_purchase_amount:25,max_discount_amount:100,expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),is_active:!0,used_at:null,merchant:{name:"Restaurante Demo",logo:"🍕"}},{id:"demo-2",code:"SAVE20",title:"CHF 3.60 de Desconto",description:"Válido em compras acima de CHF 14.50",discount_type:"fixed",discount_value:20,min_purchase_amount:80,max_discount_amount:20,expires_at:new Date(Date.now()+15*24*60*60*1e3).toISOString(),is_active:!0,used_at:null,merchant:{name:"Loja Fashion",logo:"👕"}},{id:"demo-3",code:"USADO123",title:"Voucher Já Usado",description:"Este voucher já foi utilizado",discount_type:"percentage",discount_value:30,min_purchase_amount:50,max_discount_amount:75,expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString(),is_active:!1,used_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),merchant:{name:"Café Gourmet",logo:"☕"}}];console.log("⏳ Simulando delay..."),await new Promise(o=>setTimeout(o,1e3)),console.log("✅ Setando vouchers:",n.length),s(n)}catch(n){console.error("❌ Erro no loadData:",n),s([])}finally{console.log("🏁 Finalizando loadData, setLoading(false)"),r(!1)}},[]);return h.useEffect(()=>{console.log("🚀 useEffect executando, chamando loadData..."),i()},[i]),console.log("🖥️ Renderizando. Loading:",a,"Vouchers:",t.length),e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 pt-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Meus Vouchers"}),a&&e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"text-gray-600",children:"Carregando vouchers..."})}),!a&&t.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Nenhum voucher encontrado"})}),!a&&t.length>0&&e.jsx("div",{className:"grid gap-4",children:t.map(n=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:n.title}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:n.code})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:n.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[n.merchant.logo," ",n.merchant.name]}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${n.used_at?"bg-gray-100 text-gray-600":"bg-green-100 text-green-800"}`,children:n.used_at?"✅ Usado":"🟢 Disponível"})]})]},n.id))})]})})}function Vf(){const[t,s]=h.useState([]),[a,r]=h.useState(!1),i=h.useCallback(async()=>{console.log("🔄 Iniciando loadHistory..."),r(!0);try{console.log("📦 Criando histórico demo...");const d=[{id:"hist-1",type:"voucher_used",title:"Voucher Utilizado",description:"Você usou o voucher WELCOME50 e economizou CHF 8.10",amount_saved:45,voucher_code:"WELCOME50",merchant_name:"Restaurante Demo",merchant_logo:"🍕",created_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),status:"completed"},{id:"hist-2",type:"voucher_received",title:"Novo Voucher Recebido",description:"Você ganhou um voucher de 20% de desconto na Loja Fashion",amount_saved:0,voucher_code:"FASHION20",merchant_name:"Loja Fashion",merchant_logo:"👕",created_at:new Date(Date.now()-5*24*60*60*1e3).toISOString(),status:"received"},{id:"hist-3",type:"voucher_used",title:"Voucher Utilizado",description:"Você usou o voucher SAVE20 e economizou CHF 3.60",amount_saved:20,voucher_code:"SAVE20",merchant_name:"Café Gourmet",merchant_logo:"☕",created_at:new Date(Date.now()-7*24*60*60*1e3).toISOString(),status:"completed"},{id:"hist-4",type:"voucher_expired",title:"Voucher Expirado",description:"O voucher EXPIRED99 expirou sem ser utilizado",amount_saved:0,voucher_code:"EXPIRED99",merchant_name:"Supermercado Local",merchant_logo:"🛒",created_at:new Date(Date.now()-10*24*60*60*1e3).toISOString(),status:"expired"},{id:"hist-5",type:"voucher_used",title:"Voucher Utilizado",description:"Você usou o voucher FIRST30 e economizou CHF 6.30",amount_saved:35,voucher_code:"FIRST30",merchant_name:"Farmácia Central",merchant_logo:"💊",created_at:new Date(Date.now()-15*24*60*60*1e3).toISOString(),status:"completed"},{id:"hist-6",type:"account_created",title:"Conta Criada",description:"Bem-vindo ao DuoPass Club! Sua conta foi criada com sucesso",amount_saved:0,voucher_code:null,merchant_name:"DuoPass Club",merchant_logo:"🎉",created_at:new Date(Date.now()-30*24*60*60*1e3).toISOString(),status:"completed"}];console.log("⏳ Simulando delay..."),await new Promise(m=>setTimeout(m,800)),console.log("✅ Setando histórico:",d.length),s(d)}catch(d){console.error("❌ Erro no loadHistory:",d),s([])}finally{console.log("🏁 Finalizando loadHistory, setLoading(false)"),r(!1)}},[]);h.useEffect(()=>{console.log("🚀 useEffect executando, chamando loadHistory..."),i()},[i]);const n=d=>{const m=new Date(d),x=Math.abs(new Date-m),f=Math.ceil(x/(1e3*60*60*24));return f===1?"Ontem":f<7?`${f} dias atrás`:f<30?`${Math.ceil(f/7)} semanas atrás`:`${Math.ceil(f/30)} meses atrás`},o=(d,m)=>d==="voucher_used"&&m==="completed"?"bg-green-100 text-green-800":d==="voucher_received"?"bg-blue-100 text-blue-800":d==="voucher_expired"?"bg-red-100 text-red-800":d==="account_created"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",c=d=>{switch(d){case"voucher_used":return"✅";case"voucher_received":return"🎁";case"voucher_expired":return"⏰";case"account_created":return"🎉";default:return"📋"}};console.log("🖥️ Renderizando. Loading:",a,"History:",t.length);const l=t.reduce((d,m)=>d+(m.amount_saved||0),0);return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 pt-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Histórico"}),e.jsx("p",{className:"text-gray-600",children:"Acompanhe todas as suas atividades no DuoPass Club"})]}),!a&&t.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Resumo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["CHF ",(l*.18).toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Economizado"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(d=>d.type==="voucher_used").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vouchers Usados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total de Atividades"})]})]})]}),a&&e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"text-gray-600",children:"Carregando histórico..."})}),!a&&t.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Nenhuma atividade encontrada"})}),!a&&t.length>0&&e.jsx("div",{className:"space-y-4",children:t.map(d=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:c(d.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:d.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:d.description})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${o(d.type,d.status)}`,children:d.status==="completed"?"Concluído":d.status==="received"?"Recebido":d.status==="expired"?"Expirado":d.status})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[d.merchant_name&&e.jsxs("span",{children:[d.merchant_logo," ",d.merchant_name]}),d.voucher_code&&e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:d.voucher_code})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[d.amount_saved>0&&e.jsxs("span",{className:"text-green-600 font-semibold",children:["+CHF ",(d.amount_saved*.18).toFixed(2)," economizado"]}),e.jsx("span",{children:n(d.created_at)})]})]})]},d.id))})]})})}function Lf(){const{user:t,userProfile:s}=$(),[a,r]=h.useState(null),[i,n]=h.useState(!1),[o,c]=h.useState(!0),[l,d]=h.useState(!1),[m,u]=h.useState({full_name:"",phone:"",address:"",birth_date:""}),[x,f]=h.useState(!1),[b,j]=h.useState(!1),[v,p]=h.useState(!1),[y,g]=h.useState(!1),[_,k]=h.useState(!1),[S,C]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,E]=h.useState({current:!1,new:!1,confirm:!1}),[w,F]=h.useState(!1),[P,D]=h.useState(!1),[A,V]=h.useState(!1),[J,Z]=h.useState(""),[I,te]=h.useState(""),[ae,Ye]=h.useState(1),[as,Et]=h.useState(""),[De,me]=h.useState({type:"",text:""});h.useEffect(()=>{if(s){const B={full_name:s.full_name,email:t?.email||"",phone:s.phone||"",address:s.address||"",birth_date:s.birth_date||"",user_type:s.user_type,subscription_status:s.subscription_status,created_at:s.created_at};r(B),u({full_name:B.full_name,phone:B.phone||"",address:B.address||"",birth_date:B.birth_date||""}),c(!1)}},[t,s]),h.useEffect(()=>{if(De.text){const B=setTimeout(()=>me({type:"",text:""}),3e3);return()=>clearTimeout(B)}},[De]);const Rs=()=>{n(!0)},Fe=()=>{a&&u({full_name:a.full_name,phone:a.phone||"",address:a.address||"",birth_date:a.birth_date||""}),n(!1)},Te=async()=>{d(!0),me({type:"",text:""});try{if(!m.full_name.trim())throw new Error("Nome completo é obrigatório");if(m.phone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(m.phone))throw new Error("Formato de telefone inválido. Use: (11) 99999-9999");const{error:B}=await T.from("users").update({full_name:m.full_name,phone:m.phone||null,address:m.address||null,birth_date:m.birth_date||null}).eq("id",t?.id);if(B)throw B;if(a){const oe={...a,full_name:m.full_name,phone:m.phone,address:m.address,birth_date:m.birth_date};r(oe)}n(!1),me({type:"success",text:"Perfil atualizado com sucesso!"})}catch(B){me({type:"error",text:B.message})}finally{d(!1)}},Xe=async B=>{B.preventDefault(),F(!0);try{if(S.newPassword!==S.confirmPassword)throw new Error("As senhas não coincidem");if(S.newPassword.length<6)throw new Error("A nova senha deve ter pelo menos 6 caracteres");if(S.currentPassword===S.newPassword)throw new Error("A nova senha deve ser diferente da atual");await new Promise(oe=>setTimeout(oe,2e3)),me({type:"success",text:"Senha alterada com sucesso!"}),f(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(oe){me({type:"error",text:oe.message})}finally{F(!1)}},rs=async()=>{D(!0);try{_?(await new Promise(B=>setTimeout(B,1e3)),k(!1),me({type:"success",text:"Autenticação em duas etapas desativada!"})):(await new Promise(B=>setTimeout(B,1500)),Z("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2ZmZiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNCI+UVIgQ29kZTwvdGV4dD48L3N2Zz4="),j(!0))}catch{me({type:"error",text:"Erro ao processar solicitação"})}finally{D(!1)}},bd=async B=>{B.preventDefault(),D(!0);try{if(I.length!==6)throw new Error("Código deve ter 6 dígitos");await new Promise(oe=>setTimeout(oe,1500)),k(!0),j(!1),te(""),Z(""),me({type:"success",text:"Autenticação em duas etapas ativada com sucesso!"})}catch(oe){me({type:"error",text:oe.message})}finally{D(!1)}},yd=async()=>{V(!0),await new Promise(Nd=>setTimeout(Nd,2e3));const B={user:{email:a?.email,name:a?.full_name},vouchers:[{code:"WELCOME50",status:"active"}],history:[{action:"voucher_used",amount:45}]},oe=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),Di=URL.createObjectURL(oe),pa=document.createElement("a");pa.href=Di,pa.download=`duopass-export-${new Date().toISOString().split("T")[0]}.json`,pa.click(),URL.revokeObjectURL(Di),V(!1),p(!1),me({type:"success",text:"Dados exportados com sucesso!"})},jd=async()=>{if(ae<3){Ye(ae+1);return}me({type:"success",text:"Solicitação de exclusão processada!"}),g(!1),Ye(1),Et("")},Ei=B=>new Date(B).toLocaleDateString("pt-BR"),vd=B=>{const oe=B==="active";return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${oe?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${oe?"bg-green-500":"bg-yellow-500"}`}),oe?"Ativo":"Inativo"]})};return o?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-24 bg-gray-300 rounded-full w-24 mx-auto mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((B,oe)=>e.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"},oe))})]})]})})}):a?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#333333] mb-2",children:"Meu Perfil"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie suas informações pessoais"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-10 h-10 text-gray-600"})}),e.jsx("button",{className:"absolute bottom-0 right-0 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-shadow",children:e.jsx(ll,{className:"w-3 h-3 text-gray-600"})})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-2xl font-bold",children:a.full_name}),e.jsx("p",{className:"opacity-90 capitalize",children:a.user_type==="merchant"?"Comerciante":"Cliente"}),e.jsx("div",{className:"mt-2",children:vd(a.subscription_status)})]})]}),!i&&e.jsxs("button",{onClick:Rs,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(Cm,{className:"w-4 h-4"}),e.jsx("span",{children:"Editar"})]})]})}),e.jsxs("div",{className:"p-6",children:[De.text&&e.jsxs("div",{className:`p-4 rounded-lg mb-6 flex items-center space-x-2 ${De.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[De.type==="success"?e.jsx(ue,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("span",{children:De.text})]}),i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),e.jsx("input",{type:"text",value:m.full_name,onChange:B=>u({...m,full_name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",value:m.phone,onChange:B=>u({...m,phone:B.target.value}),placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),e.jsx("input",{type:"text",value:m.address,onChange:B=>u({...m,address:B.target.value}),placeholder:"Rua, número, bairro, cidade",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),e.jsx("input",{type:"date",value:m.birth_date,onChange:B=>u({...m,birth_date:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:Te,disabled:l,className:"flex-1 bg-[#C91F1F] text-white px-4 py-2 rounded-lg hover:bg-[#A91A1A] transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Salvando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(hl,{className:"w-4 h-4"}),e.jsx("span",{children:"Salvar"})]})}),e.jsxs("button",{onClick:Fe,disabled:l,className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancelar"})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.email})]})]}),a.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.phone})]})]}),a.address&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Endereço"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.address})]})]}),a.birth_date&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Data de Nascimento"}),e.jsx("p",{className:"font-medium text-gray-900",children:Ei(a.birth_date)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ne,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Membro desde"}),e.jsx("p",{className:"font-medium text-gray-900",children:Ei(a.created_at)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Segurança da Conta"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(St,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Alterar Senha"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Última alteração há mais de 90 dias"})]})]}),e.jsx("div",{className:"text-gray-400",children:"→"})]}),e.jsxs("button",{onClick:rs,disabled:P,className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors disabled:opacity-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ne,{className:`w-5 h-5 ${_?"text-green-500":"text-gray-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Autenticação em Duas Etapas"}),e.jsx("div",{className:"text-sm text-gray-500",children:_?"Ativada - clique para desativar":"Adicione uma camada extra de segurança"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[P&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),_?e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Ativo"}):e.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs",children:"Inativo"}),e.jsx("div",{className:"text-gray-400",children:"→"})]})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bs,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Exportar Dados"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Baixe todos os seus dados em formato JSON"})]})]}),e.jsx("div",{className:"text-gray-400",children:"→"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border border-red-200 hover:border-red-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-red-600",children:"Zona de Perigo"}),e.jsx("div",{className:"text-sm text-red-500",children:"Excluir conta permanentemente"})]})]}),e.jsx("div",{className:"text-red-400",children:"→"})]})]})]})]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Alterar Senha"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Xe,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Atual"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:N.current?"text":"password",value:S.currentPassword,onChange:B=>C({...S,currentPassword:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>E({...N,current:!N.current}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:N.current?e.jsx(us,{className:"w-5 h-5"}):e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:N.new?"text":"password",value:S.newPassword,onChange:B=>C({...S,newPassword:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>E({...N,new:!N.new}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:N.new?e.jsx(us,{className:"w-5 h-5"}):e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:N.confirm?"text":"password",value:S.confirmPassword,onChange:B=>C({...S,confirmPassword:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>E({...N,confirm:!N.confirm}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:N.confirm?e.jsx(us,{className:"w-5 h-5"}):e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:w?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Alterar Senha"})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Configurar 2FA"}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-48 h-48 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:J?e.jsx("img",{src:J,alt:"QR Code 2FA",className:"w-40 h-40"}):e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Escaneie este QR code com seu app autenticador"})]}),e.jsxs("form",{onSubmit:bd,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código de Verificação"}),e.jsx("input",{type:"text",value:I,onChange:B=>te(B.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-wider",required:!0})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:P||I.length!==6,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center",children:P?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ativar 2FA"})]})]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"font-semibold",children:"Exportar Dados"}),e.jsx("button",{onClick:()=>p(!1),children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download incluirá: perfil, vouchers, histórico e atividades"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 border border-gray-300 py-2 rounded",children:"Cancelar"}),e.jsx("button",{onClick:yd,disabled:A,className:"flex-1 bg-blue-600 text-white py-2 rounded disabled:opacity-50",children:A?"Processando...":"Exportar"})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"font-semibold text-red-900",children:"Excluir Conta"}),e.jsx("button",{onClick:()=>g(!1),children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[ae===1&&e.jsx("div",{children:e.jsx("div",{className:"bg-red-50 p-3 rounded mb-4",children:e.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Ação irreversível! Todos os dados serão removidos."})})}),ae===2&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm mb-4",children:["Digite ",e.jsx("strong",{children:"EXCLUIR CONTA"}),":"]}),e.jsx("input",{value:as,onChange:B=>Et(B.target.value),placeholder:"EXCLUIR CONTA",className:"w-full p-2 border rounded mb-4"})]}),ae===3&&e.jsxs("div",{className:"text-center",children:[e.jsx(ue,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Processando exclusão..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 border border-gray-300 py-2 rounded",children:"Cancelar"}),e.jsx("button",{onClick:jd,disabled:ae===2&&as!=="EXCLUIR CONTA",className:"flex-1 bg-red-600 text-white py-2 rounded disabled:opacity-50",children:ae===1?"Continuar":ae===2?"Confirmar":"Finalizar"})]})]})]})}),De.text&&e.jsx("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded shadow-lg ${De.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:De.text})]})}):e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erro ao carregar perfil"}),e.jsx("p",{className:"text-gray-600",children:"Não foi possível carregar as informações do perfil."})]})})})}function qf(){const{language:t,setLanguage:s}=Xt(),[a,r]=h.useState("notifications"),[i,n]=h.useState(!1),[o,c]=h.useState(!0),[l,d]=h.useState({email_offers:!0,email_vouchers:!0,email_marketing:!1,push_offers:!0,push_vouchers:!0,push_reminders:!0,sms_important:!1}),[m,u]=h.useState({profile_visibility:"private",data_sharing:!1,analytics_tracking:!0,location_sharing:!1}),x=(p,y)=>{d(g=>({...g,[p]:y}))},f=(p,y)=>{u(g=>({...g,[p]:y}))},b=()=>{alert("Funcionalidade de exportação será implementada em breve.")},j=()=>{confirm("Tem certeza que deseja excluir sua conta? Esta ação não pode ser desfeita.")&&alert("Funcionalidade de exclusão será implementada em breve.")},v=[{id:"notifications",label:"Notificações",icon:jt},{id:"privacy",label:"Privacidade",icon:ne},{id:"account",label:"Conta",icon:Ke},{id:"preferences",label:"Preferências",icon:Lr}];return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#333333] mb-2",children:"Configurações"}),e.jsx("p",{className:"text-gray-600",children:"Personalize sua experiência no DuoPass"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsx("nav",{className:"space-y-2",children:v.map(p=>{const y=p.icon;return e.jsxs("button",{onClick:()=>r(p.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${a===p.id?"bg-[#C91F1F] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(y,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:p.label})]},p.id)})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a==="notifications"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Notificação"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Notificações por Email"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Novas Ofertas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receba emails sobre ofertas especiais"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email_offers,onChange:p=>x("email_offers",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Vouchers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Confirmações e lembretes de vouchers"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email_vouchers,onChange:p=>x("email_vouchers",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Marketing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Novidades e promoções especiais"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email_marketing,onChange:p=>x("email_marketing",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Dm,{className:"w-5 h-5 mr-2"}),"Notificações Push"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Ofertas Próximas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Quando estiver perto de ofertas relevantes"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.push_offers,onChange:p=>x("push_offers",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lembretes de Vouchers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Antes dos vouchers expirarem"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.push_reminders,onChange:p=>x("push_reminders",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]})]})]}),a==="privacy"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Privacidade"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Visibilidade do Perfil"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Controle quem pode ver seu perfil"})]}),e.jsxs("select",{value:m.profile_visibility,onChange:p=>f("profile_visibility",p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"public",children:"Público"}),e.jsx("option",{value:"private",children:"Privado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Compartilhamento de Dados"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Permitir compartilhamento com parceiros"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.data_sharing,onChange:p=>f("data_sharing",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Rastreamento de Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ajuda a melhorar nossos serviços"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.analytics_tracking,onChange:p=>f("analytics_tracking",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]}),a==="account"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações da Conta"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Exportar Dados"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Baixe uma cópia de todos os seus dados"}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-[#C91F1F] text-white rounded-lg hover:bg-[#A91A1A] transition-colors",children:[e.jsx(bs,{className:"w-4 h-4"}),e.jsx("span",{children:"Exportar Dados"})]})]}),e.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[e.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Zona de Perigo"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Excluir sua conta removerá permanentemente todos os seus dados"}),e.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(ut,{className:"w-4 h-4"}),e.jsx("span",{children:"Excluir Conta"})]})]})]})]}),a==="preferences"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Preferências"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Idioma"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Escolha seu idioma preferido"})]}),e.jsxs("select",{value:t,onChange:p=>s(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Modo Escuro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ativar tema escuro"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:p=>n(p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Sons"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ativar sons de notificação"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:p=>c(p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]})]})})]})]})})}const Wt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiB2aWV3Qm94PSIwIDAgNTAwIDUwMCI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQxIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzRGNDZFNTtzdG9wLW9wYWNpdHk6MSIgLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojN0MzQUVEO3N0b3Atb3BhY2l0eToxIiAvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgCiAgPCEtLSBCYWNrZ3JvdW5kIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIyNTAiIGN5PSIyNTAiIHI9IjI0MCIgZmlsbD0idXJsKCNncmFkMSkiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSI0Ii8+CiAgCiAgPCEtLSBEVU8gVGV4dCAtLT4KICA8dGV4dCB4PSIyNTAiIHk9IjIwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjYwIiBmb250LXdlaWdodD0iYm9sZCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iI2ZmZmZmZiI+RFVPPC90ZXh0PgogIAogIDwhLS0gUEFTUyBUZXh0IC0tPgogIDx0ZXh0IHg9IjI1MCIgeT0iMjgwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iNDAiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNmZmZmZmYiPlBBU1M8L3RleHQ+CiAgCiAgPCEtLSBDbHViIFRleHQgLS0+CiAgPHRleHQgeD0iMjUwIiB5PSIzMjAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIyNCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iI2ZmZmZmZiIgb3BhY2l0eT0iMC44Ij5DbHViPC90ZXh0PgogIAogIDwhLS0gRGVjb3JhdGl2ZSBFbGVtZW50cyAtLT4KICA8Y2lyY2xlIGN4PSIxNTAiIGN5PSIxNTAiIHI9IjgiIGZpbGw9IiNmZmZmZmYiIG9wYWNpdHk9IjAuNiIvPgogIDxjaXJjbGUgY3g9IjM1MCIgY3k9IjE1MCIgcj0iNiIgZmlsbD0iI2ZmZmZmZiIgb3BhY2l0eT0iMC40Ii8+CiAgPGNpcmNsZSBjeD0iMTIwIiBjeT0iMzAwIiByPSI0IiBmaWxsPSIjZmZmZmZmIiBvcGFjaXR5PSIwLjUiLz4KICA8Y2lyY2xlIGN4PSIzODAiIGN5PSIzMjAiIHI9IjUiIGZpbGw9IiNmZmZmZmYiIG9wYWNpdHk9IjAuMyIvPgo8L3N2Zz4=";function Bf(){const{signIn:t}=$(),{t:s}=Xt(),a=G(),[r]=Qt(),[i,n]=h.useState(!1),[o,c]=h.useState(!1),[l,d]=h.useState({email:"",password:""}),m=async u=>{u.preventDefault(),c(!0);try{console.log("📧 Tentando fazer login com:",l.email);const x=await t(l.email,l.password);console.log("✅ Login bem-sucedido:",x);const f=r.get("redirect");f?(console.log("🚀 Redirecionando para:",f),a(decodeURIComponent(f))):(console.log("🚀 Navegando para home..."),a("/"))}catch(x){console.error("❌ Erro no login:",x),x instanceof Error?x.message.includes("Email não verificado")?(console.log("📨 Redirecionando para verificação de email"),a(`/email-verification?email=${encodeURIComponent(l.email)}`)):x.message.includes("Timeout")?alert("A conexão demorou muito para responder. Verifique sua internet e tente novamente."):x.message.includes("invalid_credentials")?alert("Email ou senha incorretos. Verifique suas credenciais e tente novamente."):alert(x.message):alert("Erro ao fazer login. Tente novamente.")}finally{c(!1),console.log("🏁 Processo de login finalizado")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Wt,{className:"h-20 w-auto",fill:"currentColor"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333]",children:"Bem-vindo de volta"}),e.jsx("p",{className:"text-gray-600 mt-3 text-lg",children:"Entre na sua conta para continuar"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:u=>d({...l,email:u.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"seu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:i?"text":"password",required:!0,value:l.password,onChange:u=>d({...l,password:u.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>n(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#C91F1F] transition-colors",children:i?e.jsx(us,{className:"w-5 h-5"}):e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:o?"Entrando...":s("auth.signin")})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"🎯 Credenciais de Demonstração"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," demo@duopass.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Senha:"})," 123456"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Não tem uma conta?"," ",e.jsx(R,{to:"/signup",className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Cadastre-se"})]})})]})})})}function Uf(){const{signUp:t}=$(),{t:s}=Xt(),a=G(),[r,i]=h.useState(!1),[n,o]=h.useState(!1),[c,l]=h.useState({email:"",password:"",fullName:"",userType:"customer"}),d=async m=>{m.preventDefault(),o(!0);try{await t(c.email,c.password,{full_name:c.fullName,user_type:c.userType}),a(`/email-verification?email=${encodeURIComponent(c.email)}`)}catch(u){console.error("Erro no cadastro:",u);let x="Erro ao criar conta. Tente novamente.";u instanceof Error&&(u.message.includes("já está cadastrado")?x="Este email já está cadastrado. Tente fazer login ou use outro email.":u.message.includes("Invalid email")?x="Email inválido. Verifique o formato do email.":u.message.includes("Password")?x="Senha deve ter pelo menos 6 caracteres.":u.message.includes("duplicate key")?x="Este email já está em uso. Tente fazer login.":x=u.message),alert(x)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Wt,{className:"h-20 w-auto",fill:"currentColor"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333]",children:"Criar Conta"}),e.jsx("p",{className:"text-gray-600 mt-3 text-lg",children:"Cadastre-se para começar a economizar"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.fullname")}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"text",required:!0,value:c.fullName,onChange:m=>l({...c,fullName:m.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Seu nome completo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"email",required:!0,value:c.email,onChange:m=>l({...c,email:m.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"seu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:r?"text":"password",required:!0,value:c.password,onChange:m=>l({...c,password:m.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#C91F1F] transition-colors",children:r?e.jsx(us,{className:"w-5 h-5"}):e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.usertype")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>l({...c,userType:"customer"}),className:`p-4 border-2 rounded-xl text-center transition-all ${c.userType==="customer"?"border-[#F6C100] bg-gradient-to-br from-[#F6C100] to-[#C91F1F] text-white":"border-gray-300 text-[#333333] hover:border-[#F6C100]"}`,children:[e.jsx("div",{className:"font-semibold",children:s("auth.customer")}),e.jsx("div",{className:"text-sm opacity-80",children:"Usar cupons"})]}),e.jsxs("button",{type:"button",onClick:()=>l({...c,userType:"merchant"}),className:`p-4 border-2 rounded-xl text-center transition-all ${c.userType==="merchant"?"border-[#C91F1F] bg-gradient-to-br from-[#C91F1F] to-[#333333] text-white":"border-gray-300 text-[#333333] hover:border-[#C91F1F]"}`,children:[e.jsx("div",{className:"font-semibold",children:s("auth.merchant")}),e.jsx("div",{className:"text-sm opacity-80",children:"Criar ofertas"})]})]})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:n?"Criando conta...":s("auth.signup")})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",e.jsx(R,{to:"/login",className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Entre aqui"})]})})]})})})}function zf({message:t,type:s,isVisible:a,onClose:r,duration:i=4e3}){const[n,o]=h.useState(!1);return h.useEffect(()=>{if(a){o(!0);const c=setTimeout(()=>{o(!1),setTimeout(r,300)},i);return()=>clearTimeout(c)}},[a,i,r]),!a&&!n?null:e.jsx("div",{className:`fixed top-4 right-4 z-50 transition-all duration-300 transform ${a?"translate-x-0 opacity-100 animate-slide-up":"translate-x-full opacity-0"}`,children:e.jsxs("div",{className:`px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 min-w-[300px] hover-lift ${s==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[s==="success"?e.jsx(z,{className:"w-5 h-5 flex-shrink-0 animate-scale-in"}):e.jsx(Ze,{className:"w-5 h-5 flex-shrink-0 animate-shake"}),e.jsx("span",{className:"font-medium animate-fade-in",children:t}),e.jsx("button",{onClick:r,className:"ml-auto text-white hover:text-gray-200 transition-all duration-200 hover:scale-110 active:scale-95",children:e.jsx(Pe,{className:"w-4 h-4"})})]})})}function $f(){const[t]=Qt(),[s,a]=h.useState(""),{resendConfirmation:r,getResendCooldown:i}=$(),[n,o]=h.useState(!1),[c,l]=h.useState(0),[d,m]=h.useState({message:"",type:"info",isVisible:!1});h.useEffect(()=>{const j=t.get("email");j&&(a(j),u(j))},[t,u]),h.useEffect(()=>{let j;return c>0&&(j=setTimeout(()=>{l(c-1)},1e3)),()=>clearTimeout(j)},[c]);const u=h.useCallback(async j=>{try{const v=await i(j);l(v)}catch(v){console.error("Error checking cooldown:",v)}},[i]),x=(j,v)=>{m({message:j,type:v,isVisible:!0})},f=()=>{m(j=>({...j,isVisible:!1}))},b=async()=>{if(!(!s||c>0)){o(!0);try{await r(s),x("Email reenviado com sucesso!","success"),l(60)}catch(j){const v=j instanceof Error?j.message:"Unknown error";v.includes("Aguarde")?(x(v,"error"),await u(s)):x("Erro ao reenviar. Tente novamente.","error")}finally{o(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center animate-scale-in hover-lift",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Wt,{className:"h-20 w-auto",fill:"currentColor"})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mb-6 animate-glow",children:e.jsx(We,{className:"w-10 h-10 text-white animate-bounce"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333] mb-4 animate-fade-in",children:"Verifique seu email"}),e.jsx("p",{className:"text-gray-600 text-lg mb-2 animate-fade-in",children:"Enviamos um link de confirmação para:"}),e.jsx("p",{className:"text-[#F6C100] font-semibold text-lg mb-6 break-all animate-fade-in",children:s}),e.jsx("div",{className:"bg-gradient-to-r from-[#F6C100]/10 to-[#C91F1F]/10 border border-[#F6C100]/30 rounded-xl p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Importante:"})," Verifique também sua caixa de spam ou lixo eletrônico. O email pode levar alguns minutos para chegar."]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:b,disabled:n||c>0,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-200 transform min-h-[44px] ${n||c>0?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50":"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white hover:shadow-lg hover:-translate-y-0.5 hover:scale-105 active:scale-95"}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 animate-spin inline mr-2"}),"Enviando..."]}):c>0?`Reenviar em ${c}s`:"Reenviar email de confirmação"}),e.jsx(R,{to:"/login",className:"block w-full bg-gray-100 text-[#333333] py-3 px-4 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-300 text-center transform hover:-translate-y-1 active:scale-95 min-h-[48px] flex items-center justify-center",children:"Voltar ao login"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Não recebeu o email? Verifique se o endereço está correto ou"," ",e.jsx(R,{to:"/signup",className:"text-[#C91F1F] hover:text-[#F6C100] font-medium",children:"tente cadastrar novamente"})]})})]})}),e.jsx(zf,{message:d.message,type:d.type,isVisible:d.isVisible,onClose:f})]})}function Hf(){const[t,s]=h.useState("loading"),[a,r]=h.useState(null),[i]=Qt(),n=G(),{user:o}=$();h.useEffect(()=>{const d=async()=>{try{const u=i.get("access_token"),x=i.get("refresh_token"),f=i.get("type"),b=i.get("token_hash");if(console.log("URL params:",{accessToken:u,refreshToken:x,type:f,tokenHash:b}),!u||!x){console.error("Missing tokens in URL"),s("error");return}if(o?.email_confirmed_at){console.log("User already verified, redirecting..."),s("success"),setTimeout(()=>{n("/dashboard")},3e3);return}const{data:j,error:v}=await T.auth.setSession({access_token:u,refresh_token:x});if(v){console.error("Session error:",v),s("error"),setError("Link inválido ou expirado");return}console.log("Session set successfully:",j);const{data:p,error:y}=await T.auth.verifyOtp({token_hash:b||"",type:"email"});if(y){console.error("Verify error:",y),s("error"),setError("Link inválido ou expirado");return}if(console.log("Email verified successfully:",p),p.user){const{error:g}=await T.from("users").update({email_verified:!0,email_verification_sent_at:null}).eq("id",p.user.id);if(g){console.error("Error updating user profile:",g),s("error"),setError("Link inválido ou expirado");return}const{data:_,error:k}=await T.from("users").select("user_type").eq("id",p.user.id).single();k?console.error("Error fetching user data:",k):r(_.user_type)}s("success"),setTimeout(()=>{n(a==="merchant"?"/merchant/dashboard":"/dashboard")},3e3)}catch(u){console.error("Unexpected error:",u),s("error"),setError("Link inválido ou expirado")}},m=setTimeout(()=>{d()},1e3);return()=>clearTimeout(m)},[i,n,o,a]);const c=()=>{n("/login")},l=()=>e.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:"D"})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 px-4",children:[e.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(l,{})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Duo Pass Club"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:e.jsxs("div",{className:"text-center",children:[t==="loading"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(vt,{className:"h-12 w-12 text-orange-500 animate-spin"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Confirmando seu email..."}),e.jsx("p",{className:"text-gray-600",children:"Por favor, aguarde enquanto verificamos seu email."})]})]}),t==="success"&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(z,{className:"h-12 w-12 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Email Confirmado!"}),e.jsx("p",{className:"text-gray-600",children:"Redirecionando para dashboard..."})]})]}),t==="error"&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(zr,{className:"h-12 w-12 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Erro na confirmação"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Link inválido ou expirado"}),e.jsx("button",{onClick:c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:"Voltar ao Login"})]})]})]})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
      `})]})}var Ft={},Ia,io;function Gf(){return io||(io=1,Ia=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ia}var Ra={},tt={},no;function Pt(){if(no)return tt;no=1;let t;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return tt.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},tt.getSymbolTotalCodewords=function(r){return s[r]},tt.getBCHDigit=function(a){let r=0;for(;a!==0;)r++,a>>>=1;return r},tt.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},tt.isKanjiModeEnabled=function(){return typeof t<"u"},tt.toSJIS=function(r){return t(r)},tt}var Va={},oo;function Si(){return oo||(oo=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function s(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+a)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return s(r)}catch{return i}}}(Va)),Va}var La,lo;function Wf(){if(lo)return La;lo=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(s){const a=Math.floor(s/8);return(this.buffer[a]>>>7-s%8&1)===1},put:function(s,a){for(let r=0;r<a;r++)this.putBit((s>>>a-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),s&&(this.buffer[a]|=128>>>this.length%8),this.length++}},La=t,La}var qa,co;function Yf(){if(co)return qa;co=1;function t(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return t.prototype.set=function(s,a,r,i){const n=s*this.size+a;this.data[n]=r,i&&(this.reservedBit[n]=!0)},t.prototype.get=function(s,a){return this.data[s*this.size+a]},t.prototype.xor=function(s,a,r){this.data[s*this.size+a]^=r},t.prototype.isReserved=function(s,a){return this.reservedBit[s*this.size+a]},qa=t,qa}var Ba={},mo;function Zf(){return mo||(mo=1,function(t){const s=Pt().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,n=s(r),o=n===145?26:Math.ceil((n-13)/(2*i-2))*2,c=[n-7];for(let l=1;l<i-1;l++)c[l]=c[l-1]-o;return c.push(6),c.reverse()},t.getPositions=function(r){const i=[],n=t.getRowColCoords(r),o=n.length;for(let c=0;c<o;c++)for(let l=0;l<o;l++)c===0&&l===0||c===0&&l===o-1||c===o-1&&l===0||i.push([n[c],n[l]]);return i}}(Ba)),Ba}var Ua={},uo;function Kf(){if(uo)return Ua;uo=1;const t=Pt().getSymbolSize,s=7;return Ua.getPositions=function(r){const i=t(r);return[[0,0],[i-s,0],[0,i-s]]},Ua}var za={},xo;function Qf(){return xo||(xo=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const n=i.size;let o=0,c=0,l=0,d=null,m=null;for(let u=0;u<n;u++){c=l=0,d=m=null;for(let x=0;x<n;x++){let f=i.get(u,x);f===d?c++:(c>=5&&(o+=s.N1+(c-5)),d=f,c=1),f=i.get(x,u),f===m?l++:(l>=5&&(o+=s.N1+(l-5)),m=f,l=1)}c>=5&&(o+=s.N1+(c-5)),l>=5&&(o+=s.N1+(l-5))}return o},t.getPenaltyN2=function(i){const n=i.size;let o=0;for(let c=0;c<n-1;c++)for(let l=0;l<n-1;l++){const d=i.get(c,l)+i.get(c,l+1)+i.get(c+1,l)+i.get(c+1,l+1);(d===4||d===0)&&o++}return o*s.N2},t.getPenaltyN3=function(i){const n=i.size;let o=0,c=0,l=0;for(let d=0;d<n;d++){c=l=0;for(let m=0;m<n;m++)c=c<<1&2047|i.get(d,m),m>=10&&(c===1488||c===93)&&o++,l=l<<1&2047|i.get(m,d),m>=10&&(l===1488||l===93)&&o++}return o*s.N3},t.getPenaltyN4=function(i){let n=0;const o=i.data.length;for(let l=0;l<o;l++)n+=i.data[l];return Math.abs(Math.ceil(n*100/o/5)-10)*s.N4};function a(r,i,n){switch(r){case t.Patterns.PATTERN000:return(i+n)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return n%3===0;case t.Patterns.PATTERN011:return(i+n)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2===0;case t.Patterns.PATTERN101:return i*n%2+i*n%3===0;case t.Patterns.PATTERN110:return(i*n%2+i*n%3)%2===0;case t.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,n){const o=n.size;for(let c=0;c<o;c++)for(let l=0;l<o;l++)n.isReserved(l,c)||n.xor(l,c,a(i,l,c))},t.getBestMask=function(i,n){const o=Object.keys(t.Patterns).length;let c=0,l=1/0;for(let d=0;d<o;d++){n(d),t.applyMask(d,i);const m=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),m<l&&(l=m,c=d)}return c}}(za)),za}var $s={},ho;function Zc(){if(ho)return $s;ho=1;const t=Si(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return $s.getBlocksCount=function(i,n){switch(n){case t.L:return s[(i-1)*4+0];case t.M:return s[(i-1)*4+1];case t.Q:return s[(i-1)*4+2];case t.H:return s[(i-1)*4+3];default:return}},$s.getTotalCodewordsCount=function(i,n){switch(n){case t.L:return a[(i-1)*4+0];case t.M:return a[(i-1)*4+1];case t.Q:return a[(i-1)*4+2];case t.H:return a[(i-1)*4+3];default:return}},$s}var $a={},cs={},po;function Jf(){if(po)return cs;po=1;const t=new Uint8Array(512),s=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)t[i]=r,s[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]}(),cs.log=function(r){if(r<1)throw new Error("log("+r+")");return s[r]},cs.exp=function(r){return t[r]},cs.mul=function(r,i){return r===0||i===0?0:t[s[r]+s[i]]},cs}var fo;function Xf(){return fo||(fo=1,function(t){const s=Jf();t.mul=function(r,i){const n=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let c=0;c<i.length;c++)n[o+c]^=s.mul(r[o],i[c]);return n},t.mod=function(r,i){let n=new Uint8Array(r);for(;n.length-i.length>=0;){const o=n[0];for(let l=0;l<i.length;l++)n[l]^=s.mul(i[l],o);let c=0;for(;c<n.length&&n[c]===0;)c++;n=n.slice(c)}return n},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let n=0;n<r;n++)i=t.mul(i,new Uint8Array([1,s.exp(n)]));return i}}($a)),$a}var Ha,go;function eg(){if(go)return Ha;go=1;const t=Xf();function s(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},s.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const n=t.mod(i,this.genPoly),o=this.degree-n.length;if(o>0){const c=new Uint8Array(this.degree);return c.set(n,o),c}return n},Ha=s,Ha}var Ga={},Wa={},Ya={},bo;function Kc(){return bo||(bo=1,Ya.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),Ya}var Re={},yo;function Qc(){if(yo)return Re;yo=1;const t="[0-9]+",s="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;Re.KANJI=new RegExp(a,"g"),Re.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Re.BYTE=new RegExp(r,"g"),Re.NUMERIC=new RegExp(t,"g"),Re.ALPHANUMERIC=new RegExp(s,"g");const i=new RegExp("^"+a+"$"),n=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Re.testKanji=function(l){return i.test(l)},Re.testNumeric=function(l){return n.test(l)},Re.testAlphanumeric=function(l){return o.test(l)},Re}var jo;function kt(){return jo||(jo=1,function(t){const s=Kc(),a=Qc();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(n,o){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!s.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?n.ccBits[0]:o<27?n.ccBits[1]:n.ccBits[2]},t.getBestModeForData=function(n){return a.testNumeric(n)?t.NUMERIC:a.testAlphanumeric(n)?t.ALPHANUMERIC:a.testKanji(n)?t.KANJI:t.BYTE},t.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},t.isValid=function(n){return n&&n.bit&&n.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(n,o){if(t.isValid(n))return n;try{return r(n)}catch{return o}}}(Wa)),Wa}var vo;function tg(){return vo||(vo=1,function(t){const s=Pt(),a=Zc(),r=Si(),i=kt(),n=Kc(),o=7973,c=s.getBCHDigit(o);function l(x,f,b){for(let j=1;j<=40;j++)if(f<=t.getCapacity(j,b,x))return j}function d(x,f){return i.getCharCountIndicator(x,f)+4}function m(x,f){let b=0;return x.forEach(function(j){const v=d(j.mode,f);b+=v+j.getBitsLength()}),b}function u(x,f){for(let b=1;b<=40;b++)if(m(x,b)<=t.getCapacity(b,f,i.MIXED))return b}t.from=function(f,b){return n.isValid(f)?parseInt(f,10):b},t.getCapacity=function(f,b,j){if(!n.isValid(f))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=i.BYTE);const v=s.getSymbolTotalCodewords(f),p=a.getTotalCodewordsCount(f,b),y=(v-p)*8;if(j===i.MIXED)return y;const g=y-d(j,f);switch(j){case i.NUMERIC:return Math.floor(g/10*3);case i.ALPHANUMERIC:return Math.floor(g/11*2);case i.KANJI:return Math.floor(g/13);case i.BYTE:default:return Math.floor(g/8)}},t.getBestVersionForData=function(f,b){let j;const v=r.from(b,r.M);if(Array.isArray(f)){if(f.length>1)return u(f,v);if(f.length===0)return 1;j=f[0]}else j=f;return l(j.mode,j.getLength(),v)},t.getEncodedBits=function(f){if(!n.isValid(f)||f<7)throw new Error("Invalid QR Code version");let b=f<<12;for(;s.getBCHDigit(b)-c>=0;)b^=o<<s.getBCHDigit(b)-c;return f<<12|b}}(Ga)),Ga}var Za={},No;function sg(){if(No)return Za;No=1;const t=Pt(),s=1335,a=21522,r=t.getBCHDigit(s);return Za.getEncodedBits=function(n,o){const c=n.bit<<3|o;let l=c<<10;for(;t.getBCHDigit(l)-r>=0;)l^=s<<t.getBCHDigit(l)-r;return(c<<10|l)^a},Za}var Ka={},Qa,wo;function ag(){if(wo)return Qa;wo=1;const t=kt();function s(a){this.mode=t.NUMERIC,this.data=a.toString()}return s.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){let i,n,o;for(i=0;i+3<=this.data.length;i+=3)n=this.data.substr(i,3),o=parseInt(n,10),r.put(o,10);const c=this.data.length-i;c>0&&(n=this.data.substr(i),o=parseInt(n,10),r.put(o,c*3+1))},Qa=s,Qa}var Ja,Co;function rg(){if(Co)return Ja;Co=1;const t=kt(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(r){this.mode=t.ALPHANUMERIC,this.data=r}return a.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(i){let n;for(n=0;n+2<=this.data.length;n+=2){let o=s.indexOf(this.data[n])*45;o+=s.indexOf(this.data[n+1]),i.put(o,11)}this.data.length%2&&i.put(s.indexOf(this.data[n]),6)},Ja=a,Ja}var Xa,_o;function ig(){if(_o)return Xa;_o=1;const t=kt();function s(a){this.mode=t.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return s.getBitsLength=function(r){return r*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(a){for(let r=0,i=this.data.length;r<i;r++)a.put(this.data[r],8)},Xa=s,Xa}var er,So;function ng(){if(So)return er;So=1;const t=kt(),s=Pt();function a(r){this.mode=t.KANJI,this.data=r}return a.getBitsLength=function(i){return i*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let n=s.toSJIS(this.data[i]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),r.put(n,13)}},er=a,er}var tr={exports:{}},Po;function og(){return Po||(Po=1,function(t){var s={single_source_shortest_paths:function(a,r,i){var n={},o={};o[r]=0;var c=s.PriorityQueue.make();c.push(r,0);for(var l,d,m,u,x,f,b,j,v;!c.empty();){l=c.pop(),d=l.value,u=l.cost,x=a[d]||{};for(m in x)x.hasOwnProperty(m)&&(f=x[m],b=u+f,j=o[m],v=typeof o[m]>"u",(v||j>b)&&(o[m]=b,c.push(m,b),n[m]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var p=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(p)}return n},extract_shortest_path_from_predecessor_list:function(a,r){for(var i=[],n=r;n;)i.push(n),a[n],n=a[n];return i.reverse(),i},find_path:function(a,r,i){var n=s.single_source_shortest_paths(a,r,i);return s.extract_shortest_path_from_predecessor_list(n,i)},PriorityQueue:{make:function(a){var r=s.PriorityQueue,i={},n;a=a||{};for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=a.sorter||r.default_sorter,i},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var i={value:a,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=s}(tr)),tr.exports}var ko;function lg(){return ko||(ko=1,function(t){const s=kt(),a=ag(),r=rg(),i=ig(),n=ng(),o=Qc(),c=Pt(),l=og();function d(p){return unescape(encodeURIComponent(p)).length}function m(p,y,g){const _=[];let k;for(;(k=p.exec(g))!==null;)_.push({data:k[0],index:k.index,mode:y,length:k[0].length});return _}function u(p){const y=m(o.NUMERIC,s.NUMERIC,p),g=m(o.ALPHANUMERIC,s.ALPHANUMERIC,p);let _,k;return c.isKanjiModeEnabled()?(_=m(o.BYTE,s.BYTE,p),k=m(o.KANJI,s.KANJI,p)):(_=m(o.BYTE_KANJI,s.BYTE,p),k=[]),y.concat(g,_,k).sort(function(C,N){return C.index-N.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function x(p,y){switch(y){case s.NUMERIC:return a.getBitsLength(p);case s.ALPHANUMERIC:return r.getBitsLength(p);case s.KANJI:return n.getBitsLength(p);case s.BYTE:return i.getBitsLength(p)}}function f(p){return p.reduce(function(y,g){const _=y.length-1>=0?y[y.length-1]:null;return _&&_.mode===g.mode?(y[y.length-1].data+=g.data,y):(y.push(g),y)},[])}function b(p){const y=[];for(let g=0;g<p.length;g++){const _=p[g];switch(_.mode){case s.NUMERIC:y.push([_,{data:_.data,mode:s.ALPHANUMERIC,length:_.length},{data:_.data,mode:s.BYTE,length:_.length}]);break;case s.ALPHANUMERIC:y.push([_,{data:_.data,mode:s.BYTE,length:_.length}]);break;case s.KANJI:y.push([_,{data:_.data,mode:s.BYTE,length:d(_.data)}]);break;case s.BYTE:y.push([{data:_.data,mode:s.BYTE,length:d(_.data)}])}}return y}function j(p,y){const g={},_={start:{}};let k=["start"];for(let S=0;S<p.length;S++){const C=p[S],N=[];for(let E=0;E<C.length;E++){const w=C[E],F=""+S+E;N.push(F),g[F]={node:w,lastCount:0},_[F]={};for(let P=0;P<k.length;P++){const D=k[P];g[D]&&g[D].node.mode===w.mode?(_[D][F]=x(g[D].lastCount+w.length,w.mode)-x(g[D].lastCount,w.mode),g[D].lastCount+=w.length):(g[D]&&(g[D].lastCount=w.length),_[D][F]=x(w.length,w.mode)+4+s.getCharCountIndicator(w.mode,y))}}k=N}for(let S=0;S<k.length;S++)_[k[S]].end=0;return{map:_,table:g}}function v(p,y){let g;const _=s.getBestModeForData(p);if(g=s.from(y,_),g!==s.BYTE&&g.bit<_.bit)throw new Error('"'+p+'" cannot be encoded with mode '+s.toString(g)+`.
 Suggested mode is: `+s.toString(_));switch(g===s.KANJI&&!c.isKanjiModeEnabled()&&(g=s.BYTE),g){case s.NUMERIC:return new a(p);case s.ALPHANUMERIC:return new r(p);case s.KANJI:return new n(p);case s.BYTE:return new i(p)}}t.fromArray=function(y){return y.reduce(function(g,_){return typeof _=="string"?g.push(v(_,null)):_.data&&g.push(v(_.data,_.mode)),g},[])},t.fromString=function(y,g){const _=u(y,c.isKanjiModeEnabled()),k=b(_),S=j(k,g),C=l.find_path(S.map,"start","end"),N=[];for(let E=1;E<C.length-1;E++)N.push(S.table[C[E]].node);return t.fromArray(f(N))},t.rawSplit=function(y){return t.fromArray(u(y,c.isKanjiModeEnabled()))}}(Ka)),Ka}var Eo;function cg(){if(Eo)return Ra;Eo=1;const t=Pt(),s=Si(),a=Wf(),r=Yf(),i=Zf(),n=Kf(),o=Qf(),c=Zc(),l=eg(),d=tg(),m=sg(),u=kt(),x=lg();function f(S,C){const N=S.size,E=n.getPositions(C);for(let w=0;w<E.length;w++){const F=E[w][0],P=E[w][1];for(let D=-1;D<=7;D++)if(!(F+D<=-1||N<=F+D))for(let A=-1;A<=7;A++)P+A<=-1||N<=P+A||(D>=0&&D<=6&&(A===0||A===6)||A>=0&&A<=6&&(D===0||D===6)||D>=2&&D<=4&&A>=2&&A<=4?S.set(F+D,P+A,!0,!0):S.set(F+D,P+A,!1,!0))}}function b(S){const C=S.size;for(let N=8;N<C-8;N++){const E=N%2===0;S.set(N,6,E,!0),S.set(6,N,E,!0)}}function j(S,C){const N=i.getPositions(C);for(let E=0;E<N.length;E++){const w=N[E][0],F=N[E][1];for(let P=-2;P<=2;P++)for(let D=-2;D<=2;D++)P===-2||P===2||D===-2||D===2||P===0&&D===0?S.set(w+P,F+D,!0,!0):S.set(w+P,F+D,!1,!0)}}function v(S,C){const N=S.size,E=d.getEncodedBits(C);let w,F,P;for(let D=0;D<18;D++)w=Math.floor(D/3),F=D%3+N-8-3,P=(E>>D&1)===1,S.set(w,F,P,!0),S.set(F,w,P,!0)}function p(S,C,N){const E=S.size,w=m.getEncodedBits(C,N);let F,P;for(F=0;F<15;F++)P=(w>>F&1)===1,F<6?S.set(F,8,P,!0):F<8?S.set(F+1,8,P,!0):S.set(E-15+F,8,P,!0),F<8?S.set(8,E-F-1,P,!0):F<9?S.set(8,15-F-1+1,P,!0):S.set(8,15-F-1,P,!0);S.set(E-8,8,1,!0)}function y(S,C){const N=S.size;let E=-1,w=N-1,F=7,P=0;for(let D=N-1;D>0;D-=2)for(D===6&&D--;;){for(let A=0;A<2;A++)if(!S.isReserved(w,D-A)){let V=!1;P<C.length&&(V=(C[P]>>>F&1)===1),S.set(w,D-A,V),F--,F===-1&&(P++,F=7)}if(w+=E,w<0||N<=w){w-=E,E=-E;break}}}function g(S,C,N){const E=new a;N.forEach(function(A){E.put(A.mode.bit,4),E.put(A.getLength(),u.getCharCountIndicator(A.mode,S)),A.write(E)});const w=t.getSymbolTotalCodewords(S),F=c.getTotalCodewordsCount(S,C),P=(w-F)*8;for(E.getLengthInBits()+4<=P&&E.put(0,4);E.getLengthInBits()%8!==0;)E.putBit(0);const D=(P-E.getLengthInBits())/8;for(let A=0;A<D;A++)E.put(A%2?17:236,8);return _(E,S,C)}function _(S,C,N){const E=t.getSymbolTotalCodewords(C),w=c.getTotalCodewordsCount(C,N),F=E-w,P=c.getBlocksCount(C,N),D=E%P,A=P-D,V=Math.floor(E/P),J=Math.floor(F/P),Z=J+1,I=V-J,te=new l(I);let ae=0;const Ye=new Array(P),as=new Array(P);let Et=0;const De=new Uint8Array(S.buffer);for(let Xe=0;Xe<P;Xe++){const rs=Xe<A?J:Z;Ye[Xe]=De.slice(ae,ae+rs),as[Xe]=te.encode(Ye[Xe]),ae+=rs,Et=Math.max(Et,rs)}const me=new Uint8Array(E);let Rs=0,Fe,Te;for(Fe=0;Fe<Et;Fe++)for(Te=0;Te<P;Te++)Fe<Ye[Te].length&&(me[Rs++]=Ye[Te][Fe]);for(Fe=0;Fe<I;Fe++)for(Te=0;Te<P;Te++)me[Rs++]=as[Te][Fe];return me}function k(S,C,N,E){let w;if(Array.isArray(S))w=x.fromArray(S);else if(typeof S=="string"){let V=C;if(!V){const J=x.rawSplit(S);V=d.getBestVersionForData(J,N)}w=x.fromString(S,V||40)}else throw new Error("Invalid data");const F=d.getBestVersionForData(w,N);if(!F)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=F;else if(C<F)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+F+`.
`);const P=g(C,N,w),D=t.getSymbolSize(C),A=new r(D);return f(A,C),b(A),j(A,C),p(A,N,0),C>=7&&v(A,C),y(A,P),isNaN(E)&&(E=o.getBestMask(A,p.bind(null,A,N))),o.applyMask(E,A),p(A,N,E),{modules:A,version:C,errorCorrectionLevel:N,maskPattern:E,segments:w}}return Ra.create=function(C,N){if(typeof C>"u"||C==="")throw new Error("No input text");let E=s.M,w,F;return typeof N<"u"&&(E=s.from(N.errorCorrectionLevel,s.M),w=d.from(N.version),F=o.from(N.maskPattern),N.toSJISFunc&&t.setToSJISFunction(N.toSJISFunc)),k(C,w,E,F)},Ra}var sr={},ar={},Do;function Jc(){return Do||(Do=1,function(t){function s(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(n){return[n,n]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,n=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:n,scale:n?4:o,margin:i,color:{dark:s(r.color.dark||"#000000ff"),light:s(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const n=t.getScale(r,i);return Math.floor((r+i.margin*2)*n)},t.qrToImageData=function(r,i,n){const o=i.modules.size,c=i.modules.data,l=t.getScale(o,n),d=Math.floor((o+n.margin*2)*l),m=n.margin*l,u=[n.color.light,n.color.dark];for(let x=0;x<d;x++)for(let f=0;f<d;f++){let b=(x*d+f)*4,j=n.color.light;if(x>=m&&f>=m&&x<d-m&&f<d-m){const v=Math.floor((x-m)/l),p=Math.floor((f-m)/l);j=u[c[v*o+p]?1:0]}r[b++]=j.r,r[b++]=j.g,r[b++]=j.b,r[b]=j.a}}}(ar)),ar}var Fo;function dg(){return Fo||(Fo=1,function(t){const s=Jc();function a(i,n,o){i.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=o,n.width=o,n.style.height=o+"px",n.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(n,o,c){let l=c,d=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(d=r()),l=s.getOptions(l);const m=s.getImageWidth(n.modules.size,l),u=d.getContext("2d"),x=u.createImageData(m,m);return s.qrToImageData(x.data,n,l),a(u,d,m),u.putImageData(x,0,0),d},t.renderToDataURL=function(n,o,c){let l=c;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const d=t.render(n,o,l),m=l.type||"image/png",u=l.rendererOpts||{};return d.toDataURL(m,u.quality)}}(sr)),sr}var rr={},To;function mg(){if(To)return rr;To=1;const t=Jc();function s(i,n){const o=i.a/255,c=n+'="'+i.hex+'"';return o<1?c+" "+n+'-opacity="'+o.toFixed(2).slice(1)+'"':c}function a(i,n,o){let c=i+n;return typeof o<"u"&&(c+=" "+o),c}function r(i,n,o){let c="",l=0,d=!1,m=0;for(let u=0;u<i.length;u++){const x=Math.floor(u%n),f=Math.floor(u/n);!x&&!d&&(d=!0),i[u]?(m++,u>0&&x>0&&i[u-1]||(c+=d?a("M",x+o,.5+f+o):a("m",l,0),l=0,d=!1),x+1<n&&i[u+1]||(c+=a("h",m),m=0)):l++}return c}return rr.render=function(n,o,c){const l=t.getOptions(o),d=n.modules.size,m=n.modules.data,u=d+l.margin*2,x=l.color.light.a?"<path "+s(l.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+s(l.color.dark,"stroke")+' d="'+r(m,d,l.margin)+'"/>',b='viewBox="0 0 '+u+" "+u+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+b+' shape-rendering="crispEdges">'+x+f+`</svg>
`;return typeof c=="function"&&c(null,v),v},rr}var Ao;function ug(){if(Ao)return Ft;Ao=1;const t=Gf(),s=cg(),a=dg(),r=mg();function i(n,o,c,l,d){const m=[].slice.call(arguments,1),u=m.length,x=typeof m[u-1]=="function";if(!x&&!t())throw new Error("Callback required as last argument");if(x){if(u<2)throw new Error("Too few arguments provided");u===2?(d=c,c=o,o=l=void 0):u===3&&(o.getContext&&typeof d>"u"?(d=l,l=void 0):(d=l,l=c,c=o,o=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(c=o,o=l=void 0):u===2&&!o.getContext&&(l=c,c=o,o=void 0),new Promise(function(f,b){try{const j=s.create(c,l);f(n(j,o,l))}catch(j){b(j)}})}try{const f=s.create(c,l);d(null,n(f,o,l))}catch(f){d(f)}}return Ft.create=s.create,Ft.toCanvas=i.bind(null,a.render),Ft.toDataURL=i.bind(null,a.renderToDataURL),Ft.toString=i.bind(null,function(n,o,c){return r.render(n,c)}),Ft}var xg=ug();const Xc=la(xg),ed=6048e5,hg=864e5,Mo=Symbol.for("constructDateFrom");function mt(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&Mo in t?t[Mo](s):t instanceof Date?new t.constructor(s):new Date(s)}function ve(t,s){return mt(s||t,t)}let pg={};function Ms(){return pg}function Yt(t,s){const a=Ms(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=ve(t,s?.in),n=i.getDay(),o=(n<r?7:0)+n-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function na(t,s){return Yt(t,{...s,weekStartsOn:1})}function td(t,s){const a=ve(t,s?.in),r=a.getFullYear(),i=mt(a,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const n=na(i),o=mt(a,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=na(o);return a.getTime()>=n.getTime()?r+1:a.getTime()>=c.getTime()?r:r-1}function Oo(t){const s=ve(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function fg(t,...s){const a=mt.bind(null,s.find(r=>typeof r=="object"));return s.map(a)}function Io(t,s){const a=ve(t,s?.in);return a.setHours(0,0,0,0),a}function gg(t,s,a){const[r,i]=fg(a?.in,t,s),n=Io(r),o=Io(i),c=+n-Oo(n),l=+o-Oo(o);return Math.round((c-l)/hg)}function bg(t,s){const a=td(t,s),r=mt(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),na(r)}function yg(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jg(t){return!(!yg(t)&&typeof t!="number"||isNaN(+ve(t)))}function vg(t,s){const a=ve(t,s?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function Ng(t,s){const a=ve(t,s?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function wg(t,s){const a=ve(t,s?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Cg(t,s){const a=Ms(),r=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=ve(t,s?.in),n=i.getDay(),o=(n<r?-7:0)+6-(n-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const _g={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sg=(t,s,a)=>{let r;const i=_g[t];return typeof i=="string"?r=i:s===1?r=i.one:r=i.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function $t(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Pg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Eg={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dg={date:$t({formats:Pg,defaultWidth:"full"}),time:$t({formats:kg,defaultWidth:"full"}),dateTime:$t({formats:Eg,defaultWidth:"full"})},Fg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tg=(t,s,a,r)=>Fg[t];function Ve(t){return(s,a)=>{const r=a?.context?String(a.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=a?.width?String(a.width):o;i=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=a?.width?String(a.width):t.defaultWidth;i=t.values[c]||t.values[o]}const n=t.argumentCallback?t.argumentCallback(s):s;return i[n]}}const Ag={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mg={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Og={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ig={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lg=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},qg={ordinalNumber:Lg,era:Ve({values:Ag,defaultWidth:"wide"}),quarter:Ve({values:Mg,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ve({values:Og,defaultWidth:"wide"}),day:Ve({values:Ig,defaultWidth:"wide"}),dayPeriod:Ve({values:Rg,defaultWidth:"wide",formattingValues:Vg,defaultFormattingWidth:"wide"})};function Le(t){return(s,a={})=>{const r=a.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],n=s.match(i);if(!n)return null;const o=n[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(c)?Ug(c,u=>u.test(o)):Bg(c,u=>u.test(o));let d;d=t.valueCallback?t.valueCallback(l):l,d=a.valueCallback?a.valueCallback(d):d;const m=s.slice(o.length);return{value:d,rest:m}}}function Bg(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function Ug(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function sd(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const i=r[0],n=s.match(t.parsePattern);if(!n)return null;let o=t.valueCallback?t.valueCallback(n[0]):n[0];o=a.valueCallback?a.valueCallback(o):o;const c=s.slice(i.length);return{value:o,rest:c}}}const zg=/^(\d+)(th|st|nd|rd)?/i,$g=/\d+/i,Hg={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gg={any:[/^b/i,/^(a|c)/i]},Wg={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yg={any:[/1/i,/2/i,/3/i,/4/i]},Zg={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qg={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jg={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xg={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e0={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t0={ordinalNumber:sd({matchPattern:zg,parsePattern:$g,valueCallback:t=>parseInt(t,10)}),era:Le({matchPatterns:Hg,defaultMatchWidth:"wide",parsePatterns:Gg,defaultParseWidth:"any"}),quarter:Le({matchPatterns:Wg,defaultMatchWidth:"wide",parsePatterns:Yg,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Le({matchPatterns:Zg,defaultMatchWidth:"wide",parsePatterns:Kg,defaultParseWidth:"any"}),day:Le({matchPatterns:Qg,defaultMatchWidth:"wide",parsePatterns:Jg,defaultParseWidth:"any"}),dayPeriod:Le({matchPatterns:Xg,defaultMatchWidth:"any",parsePatterns:e0,defaultParseWidth:"any"})},s0={code:"en-US",formatDistance:Sg,formatLong:Dg,formatRelative:Tg,localize:qg,match:t0,options:{weekStartsOn:0,firstWeekContainsDate:1}};function a0(t,s){const a=ve(t,s?.in);return gg(a,wg(a))+1}function r0(t,s){const a=ve(t,s?.in),r=+na(a)-+bg(a);return Math.round(r/ed)+1}function ad(t,s){const a=ve(t,s?.in),r=a.getFullYear(),i=Ms(),n=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=mt(s?.in||t,0);o.setFullYear(r+1,0,n),o.setHours(0,0,0,0);const c=Yt(o,s),l=mt(s?.in||t,0);l.setFullYear(r,0,n),l.setHours(0,0,0,0);const d=Yt(l,s);return+a>=+c?r+1:+a>=+d?r:r-1}function i0(t,s){const a=Ms(),r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=ad(t,s),n=mt(s?.in||t,0);return n.setFullYear(i,0,r),n.setHours(0,0,0,0),Yt(n,s)}function n0(t,s){const a=ve(t,s?.in),r=+Yt(a,s)-+i0(a,s);return Math.round(r/ed)+1}function Y(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const st={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Y(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Y(a+1,2)},d(t,s){return Y(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Y(t.getHours()%12||12,s.length)},H(t,s){return Y(t.getHours(),s.length)},m(t,s){return Y(t.getMinutes(),s.length)},s(t,s){return Y(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,a-3));return Y(i,s.length)}},Tt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ro={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return a.ordinalNumber(i,{unit:"year"})}return st.y(t,s)},Y:function(t,s,a,r){const i=ad(t,r),n=i>0?i:1-i;if(s==="YY"){const o=n%100;return Y(o,2)}return s==="Yo"?a.ordinalNumber(n,{unit:"year"}):Y(n,s.length)},R:function(t,s){const a=td(t);return Y(a,s.length)},u:function(t,s){const a=t.getFullYear();return Y(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Y(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Y(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return st.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Y(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const i=n0(t,r);return s==="wo"?a.ordinalNumber(i,{unit:"week"}):Y(i,s.length)},I:function(t,s,a){const r=r0(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Y(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):st.d(t,s)},D:function(t,s,a){const r=a0(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Y(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const i=t.getDay(),n=(i-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(n);case"ee":return Y(n,2);case"eo":return a.ordinalNumber(n,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const i=t.getDay(),n=(i-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(n);case"cc":return Y(n,s.length);case"co":return a.ordinalNumber(n,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),i=r===0?7:r;switch(s){case"i":return String(i);case"ii":return Y(i,s.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const i=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let i;switch(r===12?i=Tt.noon:r===0?i=Tt.midnight:i=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let i;switch(r>=17?i=Tt.evening:r>=12?i=Tt.afternoon:r>=4?i=Tt.morning:i=Tt.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return st.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):st.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Y(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Y(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):st.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):st.s(t,s)},S:function(t,s){return st.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return Lo(r);case"XXXX":case"XX":return gt(r);case"XXXXX":case"XXX":default:return gt(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return Lo(r);case"xxxx":case"xx":return gt(r);case"xxxxx":case"xxx":default:return gt(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Vo(r,":");case"OOOO":default:return"GMT"+gt(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Vo(r,":");case"zzzz":default:return"GMT"+gt(r,":")}},t:function(t,s,a){const r=Math.trunc(+t/1e3);return Y(r,s.length)},T:function(t,s,a){return Y(+t,s.length)}};function Vo(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),n=r%60;return n===0?a+String(i):a+String(i)+s+Y(n,2)}function Lo(t,s){return t%60===0?(t>0?"-":"+")+Y(Math.abs(t)/60,2):gt(t,s)}function gt(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),i=Y(Math.trunc(r/60),2),n=Y(r%60,2);return a+i+s+n}const qo=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},rd=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},o0=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],i=a[2];if(!i)return qo(t,s);let n;switch(r){case"P":n=s.dateTime({width:"short"});break;case"PP":n=s.dateTime({width:"medium"});break;case"PPP":n=s.dateTime({width:"long"});break;case"PPPP":default:n=s.dateTime({width:"full"});break}return n.replace("{{date}}",qo(r,s)).replace("{{time}}",rd(i,s))},l0={p:rd,P:o0},c0=/^D+$/,d0=/^Y+$/,m0=["D","DD","YY","YYYY"];function u0(t){return c0.test(t)}function x0(t){return d0.test(t)}function h0(t,s,a){const r=p0(t,s,a);if(console.warn(r),m0.includes(t))throw new RangeError(r)}function p0(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b0=/^'([^]*?)'?$/,y0=/''/g,j0=/[a-zA-Z]/;function oa(t,s,a){const r=Ms(),i=a?.locale??r.locale??s0,n=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=ve(t,a?.in);if(!jg(c))throw new RangeError("Invalid time value");let l=s.match(g0).map(m=>{const u=m[0];if(u==="p"||u==="P"){const x=l0[u];return x(m,i.formatLong)}return m}).join("").match(f0).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const u=m[0];if(u==="'")return{isToken:!1,value:v0(m)};if(Ro[u])return{isToken:!0,value:m};if(u.match(j0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(c,l));const d={firstWeekContainsDate:n,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const u=m.value;(!a?.useAdditionalWeekYearTokens&&x0(u)||!a?.useAdditionalDayOfYearTokens&&u0(u))&&h0(u,s,String(t));const x=Ro[u[0]];return x(c,u,i.localize,d)}).join("")}function v0(t){const s=t.match(b0);return s?s[1].replace(y0,"'"):t}class Zt{static async generateVoucher(s,a){try{if(console.log("🎫 Mock: Gerando voucher...",{userId:s,partnerId:a}),localStorage.getItem(`voucher_${s}_${a}`))throw console.log("⚠️ Mock: Usuário já possui voucher ativo para este parceiro"),new Error("Usuário já possui voucher ativo para este parceiro");const i=`voucher_${Date.now()}`,n=`DUO${Math.random().toString(36).substr(2,8).toUpperCase()}`,o=JSON.stringify({voucherId:i,userId:s,partnerId:a,code:n,timestamp:new Date().toISOString()}),c=await Xc.toDataURL(o,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),l={id:i,voucher_code:n,user_id:s,partner_id:a,merchant_id:a,status:"active",created_at:new Date().toISOString(),expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),qr_code_data:c,cultural_experience:{experience_name:"Experiência DuoPass",duo_price:60},cultural_partners:{id:a,business_name:"Parceiro Cultural",contact_name:"Contato do Parceiro",email:"contato@parceiro.com",address:{street:"Rua Cultural, 123",city:"Genebra",state:"Genebra",zipcode:"1200"}}};return localStorage.setItem(`voucher_${s}_${a}`,JSON.stringify(l)),localStorage.setItem(`active_voucher_${i}`,JSON.stringify(l)),console.log("✅ Mock: Voucher gerado com sucesso!",l),l}catch(r){throw console.error("❌ Erro ao gerar voucher mock:",r),r}}static async canGenerateVoucher(s,a){try{console.log("🔍 Mock: Verificando se pode gerar voucher...",{userId:s,partnerId:a});const i=!localStorage.getItem(`voucher_${s}_${a}`);return console.log("🔍 Mock: Pode gerar voucher?",i),i}catch(r){return console.error("Erro ao verificar voucher:",r),!0}}static async getActiveVoucher(s){try{const a=localStorage.getItem(`active_voucher_${s}`);return a?JSON.parse(a):null}catch(a){return console.error("Erro ao buscar voucher ativo:",a),null}}static async getUserVouchers(s){try{const a=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);if(i?.startsWith(`voucher_${s}_`)){const n=localStorage.getItem(i);n&&a.push(JSON.parse(n))}}return a}catch(a){return console.error("Erro ao buscar vouchers do usuário:",a),[]}}static async validateVoucher(s,a,r){try{const i=JSON.parse(s);if(!i.voucherId||!i.userId||!i.partnerId||!i.code)return{success:!1,message:"QR Code inválido"};if(i.partnerId!==a)return{success:!1,message:"Voucher não é válido para este estabelecimento"};const n=localStorage.getItem(`active_voucher_${i.voucherId}`);if(!n)return{success:!1,message:"Voucher não encontrado"};const o=JSON.parse(n);return o.status==="used"?{success:!1,message:"Voucher já foi utilizado"}:o.status==="expired"||new Date(o.expires_at)<new Date?{success:!1,message:"Voucher expirado"}:(o.status="used",o.used_at=new Date().toISOString(),o.used_location=r,localStorage.setItem(`active_voucher_${i.voucherId}`,JSON.stringify(o)),{success:!0,message:"Voucher validado com sucesso!",voucher:o})}catch(i){return console.error("Erro ao validar voucher:",i),{success:!1,message:"Erro interno do sistema"}}}static async generateUsageReport(s,a=new Date){try{let r,i;return s==="weekly"?(r=Yt(a),i=Cg(a)):(r=Ng(a),i=vg(a)),{period:s,start_date:oa(r,"yyyy-MM-dd"),end_date:oa(i,"yyyy-MM-dd"),total_vouchers_used:5,unique_customers:3,merchant_stats:[{merchant_id:"mock-merchant-1",business_name:"Café das Letras",total_uses:3,unique_customers:2}],top_customers:[{user_id:"mock-user-1",full_name:"João Silva",total_uses:2}]}}catch(r){return console.error("Erro ao gerar relatório:",r),null}}static generateVoucherCode(s){const a="DUO",r=s.substring(0,3).toUpperCase(),i=Math.floor(Math.random()*1e6).toString().padStart(6,"0");return`${a}-${r}-${i}`}}const Ae=[{id:"bronze",name:"Bronze",min_points:0,max_points:499,benefits:["Acesso a ofertas básicas","Suporte por email"],badge_color:"bg-amber-600",badge_icon:"🥉"},{id:"silver",name:"Prata",min_points:500,max_points:1499,benefits:["Ofertas exclusivas","Suporte prioritário","5% cashback extra"],badge_color:"bg-gray-400",badge_icon:"🥈"},{id:"gold",name:"Ouro",min_points:1500,max_points:4999,benefits:["Ofertas VIP","Suporte 24/7","10% cashback extra","Acesso antecipado"],badge_color:"bg-yellow-500",badge_icon:"🥇"},{id:"platinum",name:"Platinum",min_points:5e3,max_points:999999,benefits:["Ofertas exclusivas Platinum","Gerente de conta dedicado","15% cashback extra","Eventos exclusivos"],badge_color:"bg-purple-600",badge_icon:"💎"}],N0=[{name:"Primeiro Passo",description:"Ativou sua primeira oferta",icon:"🎯",points_reward:50,category:"usage",requirements:{type:"count",target:1,action:"offer_activation"},is_active:!0},{name:"Explorador",description:"Ativou 10 ofertas",icon:"🗺️",points_reward:200,category:"usage",requirements:{type:"count",target:10,action:"offer_activation"},is_active:!0},{name:"Veterano",description:"Ativou 50 ofertas",icon:"🏆",points_reward:500,category:"usage",requirements:{type:"count",target:50,action:"offer_activation"},is_active:!0},{name:"Sequência de Fogo",description:"Usou ofertas por 7 dias consecutivos",icon:"🔥",points_reward:300,category:"loyalty",requirements:{type:"streak",target:7,action:"daily_usage"},is_active:!0},{name:"Crítico Construtivo",description:"Avaliou 5 estabelecimentos",icon:"⭐",points_reward:150,category:"social",requirements:{type:"count",target:5,action:"review_submission"},is_active:!0},{name:"Embaixador",description:"Indicou 3 amigos que se cadastraram",icon:"👥",points_reward:400,category:"social",requirements:{type:"count",target:3,action:"successful_referral"},is_active:!0},{name:"Madrugador",description:"Ativou uma oferta antes das 8h",icon:"🌅",points_reward:100,category:"special",requirements:{type:"date",target:8,action:"early_activation"},is_active:!0},{name:"Gastador VIP",description:"Gastou mais de CHF 180.- em ofertas",icon:"💰",points_reward:600,category:"loyalty",requirements:{type:"value",target:1e3,action:"total_spent"},is_active:!0}],w0=[{type:"offer_new",title:"Nova oferta disponível!",message:"🎁 40% OFF Hambúrguer Gourmet na Burger House - Válida até meia-noite!",action_url:"/ofertas",action_text:"Ver Oferta"},{type:"voucher_redeemed",title:"Voucher resgatado com sucesso!",message:"💰 Parabéns! Você economizou CHF 4.50 na Pizzaria Italiana",action_url:"/vouchers",action_text:"Ver Vouchers"},{type:"achievement_unlocked",title:"Conquista desbloqueada!",message:'🏆 Incrível! Você resgatou 10 ofertas este mês e desbloqueou o badge "Explorador"',action_url:"/profile",action_text:"Ver Perfil"},{type:"system_update",title:"Complete seu perfil",message:"📱 Adicione mais informações ao seu perfil para receber ofertas personalizadas",action_url:"/profile",action_text:"Completar"},{type:"voucher_expiring",title:"Voucher expirando!",message:"⏰ Seu voucher de academia expira amanhã - use agora e economize CHF 9.-!",action_url:"/vouchers",action_text:"Usar Agora"},{type:"level_up",title:"Nível UP!",message:"⭐ Parabéns! Agora você é membro Bronze e tem acesso a ofertas exclusivas",action_url:"/profile",action_text:"Ver Benefícios"},{type:"goal_reached",title:"Meta alcançada!",message:"🎯 Fantástico! Você economizou CHF 36.- este mês com o DuoPass Club",action_url:"/history",action_text:"Ver Histórico"}],C0=[{type:"business_performance",title:"Excelente performance!",message:"📊 Parabéns! 22 clientes resgataram suas ofertas hoje - 45% acima da média",action_url:"/merchant/dashboard",action_text:"Ver Dashboard"},{type:"offer_management",title:"Oferta expirando",message:'💼 Sua oferta "Desconto 30% Pizza" expira em 24 horas',action_url:"/merchant/offers",action_text:"Gerenciar Ofertas"},{type:"business_opportunity",title:"Oportunidade de negócio",message:"🎯 45 clientes visualizaram seu estabelecimento hoje - considere criar uma oferta especial",action_url:"/merchant/offers/new",action_text:"Criar Oferta"},{type:"system_merchant",title:"Novos relatórios disponíveis",message:"⚙️ Acesse os novos relatórios de performance e analytics avançados",action_url:"/merchant/analytics",action_text:"Ver Relatórios"},{type:"payment_processed",title:"Pagamento processado",message:"💳 Pagamento de CHF 153.- referente às ofertas de março foi processado",action_url:"/merchant/payments",action_text:"Ver Detalhes"},{type:"business_opportunity",title:"Dica de conversão",message:"💡 Ofertas de fim de semana têm 60% mais conversão - que tal criar uma promoção especial?",action_url:"/merchant/offers/new",action_text:"Criar Promoção"},{type:"business_performance",title:"Novos favoritos",message:"🌟 25 clientes favoritaram seu estabelecimento esta semana!",action_url:"/merchant/customers",action_text:"Ver Clientes"}],ir=[{id:"welcome_email",name:"Email de Boas-vindas",type:"email",category:"transactional",subject:"Bem-vindo ao DuoPass Club, {{user_name}}!",body:`
      <h1>Olá {{user_name}}, bem-vindo ao DuoPass Club!</h1>
      <p>Estamos muito felizes em tê-lo conosco. Agora você tem acesso a ofertas exclusivas dos melhores estabelecimentos da sua cidade.</p>
      <h2>Primeiros Passos:</h2>
      <ul>
        <li>Complete seu perfil para receber ofertas personalizadas</li>
        <li>Explore as ofertas disponíveis na sua região</li>
        <li>Baixe nosso app para não perder nenhuma oportunidade</li>
      </ul>
      <p>Como bônus de boas-vindas, você ganhou <strong>{{welcome_points}} pontos</strong>!</p>
      <a href="{{app_download_url}}" style="background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Baixar App</a>
    `,variables:["user_name","welcome_points","app_download_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"offer_nearby_push",name:"Oferta Próxima - Push",type:"push",category:"promotional",title:"🎯 Oferta próxima a você!",body:"{{offer_title}} em {{merchant_name}} - apenas {{distance}}m de distância. {{discount}}% OFF!",variables:["offer_title","merchant_name","distance","discount"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"points_milestone_push",name:"Marco de Pontos - Push",type:"push",category:"system",title:"🎉 Parabéns! Novo marco alcançado!",body:"Você acumulou {{total_points}} pontos e subiu para o nível {{new_level}}! Continue assim!",variables:["total_points","new_level"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"subscription_reminder_email",name:"Lembrete de Assinatura",type:"email",category:"transactional",subject:"Sua assinatura DuoPass vence em {{days_until_expiry}} dias",body:`
      <h1>Olá {{user_name}},</h1>
      <p>Sua assinatura {{plan_name}} vence em <strong>{{days_until_expiry}} dias</strong>.</p>
      <p>Para continuar aproveitando todos os benefícios exclusivos, renove sua assinatura agora:</p>
      <ul>
        <li>Ofertas exclusivas para assinantes</li>
        <li>Pontos em dobro em todas as compras</li>
        <li>Acesso antecipado a promoções</li>
        <li>Suporte prioritário</li>
      </ul>
      <a href="{{renewal_url}}" style="background: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Renovar Assinatura</a>
    `,variables:["user_name","days_until_expiry","plan_name","renewal_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"winback_email",name:"Email de Reativação",type:"email",category:"marketing",subject:"Sentimos sua falta! Oferta especial para você 💙",body:`
      <h1>Olá {{user_name}}, sentimos sua falta!</h1>
      <p>Notamos que você não visita o DuoPass há {{days_inactive}} dias. Que tal voltar com uma oferta especial?</p>
      <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h2 style="color: #007bff;">🎁 Oferta Especial de Volta</h2>
        <p><strong>{{discount_percentage}}% de desconto</strong> na sua próxima compra</p>
        <p>Válido até {{offer_expiry}}</p>
      </div>
      <p>Além disso, você ganha <strong>{{bonus_points}} pontos bônus</strong> só por voltar!</p>
      <a href="{{return_url}}" style="background: #dc3545; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Aproveitar Oferta</a>
    `,variables:["user_name","days_inactive","discount_percentage","offer_expiry","bonus_points","return_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"merchant_approval_email",name:"Aprovação de Parceiro",type:"email",category:"transactional",subject:"Parabéns! Sua parceria foi aprovada 🎉",body:`
      <h1>Parabéns {{merchant_name}}!</h1>
      <p>Sua solicitação de parceria foi aprovada. Agora você faz parte da rede DuoPass Club!</p>
      <h2>Próximos Passos:</h2>
      <ol>
        <li>Acesse seu painel de parceiro</li>
        <li>Configure seu perfil e informações</li>
        <li>Crie sua primeira oferta</li>
        <li>Comece a atrair novos clientes</li>
      </ol>
      <p>Seu consultor dedicado é <strong>{{consultant_name}}</strong> ({{consultant_email}}).</p>
      <a href="{{partner_dashboard_url}}" style="background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Acessar Painel</a>
    `,variables:["merchant_name","consultant_name","consultant_email","partner_dashboard_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class qe{static async createNotification(s){try{const{error:a}=await T.from("notifications").insert([s]);if(a)throw a}catch(a){throw console.error("Error creating notification:",a),a}}static async createBulkNotifications(s){try{const{error:a}=await T.from("notifications").insert(s);if(a)throw a}catch(a){throw console.error("Error creating bulk notifications:",a),a}}static async generateDemoNotifications(s,a){const o=[...a==="client"?w0:C0].sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+3).map(c=>({user_id:s,type:c.type,title:c.title,message:c.message,icon:c.icon,action_url:c.action_url,action_text:c.action_text}));await this.createBulkNotifications(o)}static async notifyOfferRedeemed(s,a,r){await this.createNotification({user_id:s,type:"voucher_redeemed",title:"Voucher resgatado!",message:`💰 Parabéns! Você economizou R$ ${r.toFixed(2)} com "${a}"`,action_url:"/vouchers",action_text:"Ver Vouchers"})}static async notifyNewOffer(s,a,r){await this.createNotification({user_id:s,type:"offer_new",title:"Nova oferta disponível!",message:`🎁 ${r} em ${a} - Não perca!`,action_url:"/ofertas",action_text:"Ver Oferta"})}static async notifyOfferExpiring(s,a,r){await this.createNotification({user_id:s,type:"offer_expiring",title:"Oferta expirando!",message:`⏰ "${a}" expira em ${r} horas`,action_url:"/ofertas",action_text:"Resgatar Agora"})}static async notifyMerchantOfferRedeemed(s,a,r){await this.createNotification({user_id:s,type:"business_performance",title:"Oferta resgatada!",message:`📊 Sua oferta "${a}" foi resgatada ${r} vezes hoje`,action_url:"/merchant/dashboard",action_text:"Ver Dashboard"})}static async notifyMerchantOfferExpiring(s,a,r){await this.createNotification({user_id:s,type:"offer_management",title:"Oferta expirando",message:`💼 Sua oferta "${a}" expira em ${r} horas`,action_url:"/merchant/offers",action_text:"Gerenciar Ofertas"})}static async notifyAchievementUnlocked(s,a,r){await this.createNotification({user_id:s,type:"achievement_unlocked",title:"Conquista desbloqueada!",message:`🏆 ${a}: ${r}`,action_url:"/profile",action_text:"Ver Perfil"})}static async notifyLevelUp(s,a){await this.createNotification({user_id:s,type:"level_up",title:"Nível UP!",message:`⭐ Parabéns! Agora você é membro ${a}`,action_url:"/profile",action_text:"Ver Benefícios"})}static async cleanOldNotifications(){try{const s=new Date;s.setDate(s.getDate()-30);const{error:a}=await T.from("notifications").delete().lt("created_at",s.toISOString());if(a)throw a}catch(s){console.error("Error cleaning old notifications:",s)}}static async createTemplate(s){try{const a={id:`template_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando template de notificação:",a),a}catch(a){throw console.error("Erro ao criar template:",a),a}}static async getTemplates(s){try{let a=[...ir];return s&&(s.type&&(a=a.filter(r=>r.type===s.type)),s.category&&(a=a.filter(r=>r.category===s.category)),s.is_active!==void 0&&(a=a.filter(r=>r.is_active===s.is_active))),a}catch(a){throw console.error("Erro ao buscar templates:",a),a}}static async updateTemplate(s,a){try{const r=ir.find(n=>n.id===s);if(!r)throw new Error("Template não encontrado");const i={...r,...a,updated_at:new Date().toISOString()};return console.log("Atualizando template:",i),i}catch(r){throw console.error("Erro ao atualizar template:",r),r}}static async createCampaign(s){try{const a={id:`campaign_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,metrics:{sent:0,delivered:0,opened:0,clicked:0,converted:0,unsubscribed:0,bounced:0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando campanha de notificação:",a),a}catch(a){throw console.error("Erro ao criar campanha:",a),a}}static async getCampaigns(s){try{return[{id:"campaign_1",name:"Campanha de Boas-vindas",description:"Série automática para novos usuários",template_id:"welcome_email",target_audience:{user_segments:["new_users"],filters:{registration_date:"last_7_days"},estimated_reach:1250},schedule:{type:"immediate"},personalization:{enabled:!0,rules:[]},status:"sent",metrics:{sent:1250,delivered:1198,opened:756,clicked:234,converted:89,unsubscribed:12,bounced:52},created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-5184e5).toISOString()},{id:"campaign_2",name:"Promoção Fim de Semana",description:"Ofertas especiais para o fim de semana",template_id:"weekend_promo",target_audience:{user_segments:["active_users","premium_users"],filters:{last_activity:"last_30_days"},estimated_reach:5600},schedule:{type:"scheduled",send_at:new Date(Date.now()+1728e5).toISOString(),timezone:"America/Sao_Paulo"},personalization:{enabled:!0,rules:[{condition:'user.location == "Rio de Janeiro"',variable:"city_offers",value:"ofertas_rj"}]},ab_test:{enabled:!0,variants:[{name:"Versão A",template_id:"weekend_promo_a",traffic_percentage:50},{name:"Versão B",template_id:"weekend_promo_b",traffic_percentage:50}]},status:"scheduled",metrics:{sent:0,delivered:0,opened:0,clicked:0,converted:0,unsubscribed:0,bounced:0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}].filter(r=>!(s?.status&&r.status!==s.status))}catch(a){throw console.error("Erro ao buscar campanhas:",a),a}}static async sendCampaign(s){try{return console.log("Enviando campanha:",s),await new Promise(r=>setTimeout(r,2e3)),{success:!0,message:"Campanha enviada com sucesso",sent_count:Math.floor(Math.random()*1e3)+500}}catch(a){throw console.error("Erro ao enviar campanha:",a),a}}static async sendAdvancedNotification(s){try{const a=ir.find(n=>n.id===s.template_id);if(!a)throw new Error("Template não encontrado");if(!s.override_preferences){const n=await this.getUserPreferences(s.user_id);if(!this.shouldSendNotification(a,n))throw new Error("Usuário optou por não receber este tipo de notificação")}const r=this.processTemplate(a,s.variables||{}),i={id:`delivery_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,template_id:s.template_id,user_id:s.user_id,type:a.type,status:s.schedule_for?"pending":"sent",content:r,metadata:{variables:s.variables,scheduled_for:s.schedule_for},sent_at:s.schedule_for?void 0:new Date().toISOString(),created_at:new Date().toISOString()};switch(console.log("Enviando notificação avançada:",i),a.type){case"email":await this.sendEmail(i);break;case"push":await this.sendPushNotification(i);break;case"sms":await this.sendSMS(i);break;case"in_app":await this.sendInAppNotification(i);break}return i}catch(a){throw console.error("Erro ao enviar notificação avançada:",a),a}}static processTemplate(s,a){let r=s.subject,i=s.title,n=s.body;for(const[o,c]of Object.entries(a)){const l=`{{${o}}}`;r&&(r=r.replace(new RegExp(l,"g"),String(c))),i&&(i=i.replace(new RegExp(l,"g"),String(c))),n=n.replace(new RegExp(l,"g"),String(c))}return{subject:r,title:i,body:n,action_url:a.action_url}}static async sendEmail(s){console.log("Enviando email:",{to:s.user_id,subject:s.content.subject,body:s.content.body}),await new Promise(a=>setTimeout(a,500))}static async sendPushNotification(s){console.log("Enviando push notification:",{to:s.user_id,title:s.content.title,body:s.content.body,action_url:s.content.action_url}),await new Promise(a=>setTimeout(a,200))}static async sendSMS(s){console.log("Enviando SMS:",{to:s.user_id,message:s.content.body}),await new Promise(a=>setTimeout(a,300))}static async sendInAppNotification(s){console.log("Enviando notificação in-app:",{to:s.user_id,title:s.content.title,body:s.content.body}),await new Promise(a=>setTimeout(a,100))}static async getUserPreferences(s){try{return{user_id:s,email_notifications:{marketing:!0,transactional:!0,system:!0,promotional:!0},push_notifications:{marketing:!0,transactional:!0,system:!0,promotional:!1,location_based:!0},sms_notifications:{transactional:!0,promotional:!1},frequency_limits:{max_daily_marketing:3,max_weekly_promotional:5},quiet_hours:{enabled:!0,start_time:"22:00",end_time:"08:00",timezone:"America/Sao_Paulo"},updated_at:new Date().toISOString()}}catch(a){throw console.error("Erro ao buscar preferências:",a),a}}static async updateUserPreferences(s,a){try{const i={...await this.getUserPreferences(s),...a,user_id:s,updated_at:new Date().toISOString()};return console.log("Atualizando preferências do usuário:",i),i}catch(r){throw console.error("Erro ao atualizar preferências:",r),r}}static shouldSendNotification(s,a){const r=a[`${s.type}_notifications`];return r?r[s.category]===!0:!1}static async getCampaignAnalytics(s){try{return{campaign_id:s,metrics:{sent:1250,delivered:1198,delivery_rate:95.8,opened:756,open_rate:63.1,clicked:234,click_rate:31,converted:89,conversion_rate:38,unsubscribed:12,unsubscribe_rate:1,bounced:52,bounce_rate:4.2},performance_by_time:{"00:00":5,"01:00":3,"02:00":2,"03:00":1,"08:00":45,"09:00":78,"10:00":89,"11:00":95,"12:00":120,"13:00":98,"14:00":87,"15:00":76,"18:00":110,"19:00":125,"20:00":98,"21:00":67},performance_by_segment:{new_users:{open_rate:68.5,click_rate:35.2},active_users:{open_rate:58.9,click_rate:28.7},premium_users:{open_rate:72.1,click_rate:41.3}},device_breakdown:{mobile:78.5,desktop:18.2,tablet:3.3},location_breakdown:{"São Paulo":35.2,"Rio de Janeiro":28.7,"Belo Horizonte":12.4,Outros:23.7},revenue_attribution:15670.8}}catch(a){throw console.error("Erro ao buscar analytics da campanha:",a),a}}static async createSmartRule(s){try{const a={id:`smart_rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando regra inteligente:",a),a}catch(a){throw console.error("Erro ao criar regra inteligente:",a),a}}static async triggerSmartNotification(s,a){try{console.log("Processando evento para notificações inteligentes:",s,a),console.log("Notificações inteligentes processadas para evento:",s)}catch(r){throw console.error("Erro ao processar notificações inteligentes:",r),r}}static async optimizeSendTime(s,a){try{const i=Object.entries({"08:00":.15,"12:00":.25,"18:00":.35,"20:00":.45,"21:00":.3}).sort(([,n],[,o])=>o-n)[0][0];return console.log(`Horário otimizado para usuário ${s}: ${i}`),i}catch(r){return console.error("Erro ao otimizar horário de envio:",r),a}}static async generateReport(s){try{return console.log("Gerando relatório de notificações:",s),{generated_at:new Date().toISOString(),config:s,summary:{total_campaigns:45,total_notifications_sent:125670,avg_open_rate:62.5,avg_click_rate:28.7,avg_conversion_rate:12.3},detailed_metrics:{by_type:{email:{sent:89450,open_rate:58.9,click_rate:25.4},push:{sent:34560,open_rate:78.2,click_rate:35.7},sms:{sent:1660,open_rate:95.1,click_rate:45.2}},by_category:{marketing:{sent:67890,open_rate:55.3,click_rate:22.1},transactional:{sent:45670,open_rate:89.7,click_rate:67.8},promotional:{sent:12110,open_rate:48.9,click_rate:18.5}}},recommendations:["Aumentar frequência de notificações push para usuários mobile","Otimizar horários de envio para campanhas de marketing","Personalizar mais o conteúdo baseado no comportamento do usuário"]}}catch(a){throw console.error("Erro ao gerar relatório:",a),a}}}class Or{static async initializeUserGamification(s){try{const{error:a}=await T.from("user_points").insert({user_id:s,total_points:0,current_level:"bronze",points_to_next_level:500,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});a&&console.error("Erro ao inicializar pontos:",a),await this.addPoints(s,100,"bonus","Bônus de boas-vindas! 🎉")}catch(a){console.error("Erro ao inicializar gamificação:",a)}}static async addPoints(s,a,r,i,n){try{const{data:o}=await T.from("user_points").select("*").eq("user_id",s).single();if(!o)return await this.initializeUserGamification(s),{levelUp:!1};const c=o.total_points+a,l=Ae.find(x=>x.id===o.current_level),d=this.calculateLevel(c),m=l?.id!==d.id,{error:u}=await T.from("user_points").update({total_points:c,current_level:d.id,points_to_next_level:this.calculatePointsToNextLevel(c),updated_at:new Date().toISOString()}).eq("user_id",s);return u?(console.error("Erro ao atualizar pontos:",u),{levelUp:!1}):(await T.from("points_transactions").insert({user_id:s,points:a,type:"earned",source:r,description:i,metadata:n,created_at:new Date().toISOString()}),await this.checkAchievements(s,r,n),m&&await qe.notifyLevelUp(s,d.name),{levelUp:m,newLevel:m?d:void 0})}catch(o){return console.error("Erro ao adicionar pontos:",o),{levelUp:!1}}}static calculateLevel(s){for(let a=Ae.length-1;a>=0;a--){const r=Ae[a];if(s>=r.min_points)return r}return Ae[0]}static calculatePointsToNextLevel(s){const a=this.calculateLevel(s),r=Ae.findIndex(n=>n.id===a.id);return r===Ae.length-1?0:Ae[r+1].min_points-s}static async checkAchievements(s,a,r){try{const{data:i}=await T.from("user_achievements").select("achievement_id").eq("user_id",s),n=i?.map(c=>c.achievement_id)||[],{data:o}=await T.from("achievements").select("*").eq("is_active",!0).not("id","in",`(${n.join(",")||"null"})`);if(!o)return;for(const c of o)await this.checkSingleAchievement(s,c,a,r)&&await this.grantAchievement(s,c)}catch(i){console.error("Erro ao verificar conquistas:",i)}}static async checkSingleAchievement(s,a,r,i){const{requirements:n}=a;if(n.action!==r)return!1;try{switch(n.type){case"count":return await this.checkCountRequirement(s,n.action,n.target);case"streak":return await this.checkStreakRequirement(s,n.action,n.target);case"value":return await this.checkValueRequirement(s,n.action,n.target);case"date":return this.checkDateRequirement(n.target,i);default:return!1}}catch(o){return console.error("Erro ao verificar conquista:",o),!1}}static async checkCountRequirement(s,a,r){const{count:i}=await T.from("points_transactions").select("*",{count:"exact"}).eq("user_id",s).eq("source",a);return(i||0)>=r}static async checkStreakRequirement(s,a,r){const i=new Date;i.setDate(i.getDate()-r);const{data:n}=await T.from("points_transactions").select("created_at").eq("user_id",s).eq("source",a).gte("created_at",i.toISOString()).order("created_at",{ascending:!1});if(!n||n.length<r)return!1;const o=n.map(l=>new Date(l.created_at).toDateString());return[...new Set(o)].length>=r}static async checkValueRequirement(s,a,r){const{data:i}=await T.from("points_transactions").select("metadata").eq("user_id",s).eq("source",a);return i?i.reduce((o,c)=>{const l=c.metadata?.value||0;return o+l},0)>=r:!1}static checkDateRequirement(s,a){return a?.timestamp?new Date(a.timestamp).getHours()<s:!1}static async grantAchievement(s,a){try{const{error:r}=await T.from("user_achievements").insert({user_id:s,achievement_id:a.id,earned_at:new Date().toISOString()});if(r){console.error("Erro ao conceder conquista:",r);return}await this.addPoints(s,a.points_reward,"achievement",`Conquista desbloqueada: ${a.name}`,{achievement_id:a.id}),await qe.notifyAchievement(s,a.name,a.icon)}catch(r){console.error("Erro ao conceder conquista:",r)}}static async getUserGamificationStats(s){try{const{data:a}=await T.from("user_points").select("*").eq("user_id",s).single();if(!a)return null;const r=Ae.find(x=>x.id===a.current_level),i=Ae.findIndex(x=>x.id===r.id),n=i<Ae.length-1?Ae[i+1]:void 0,o=n?(a.total_points-r.min_points)/(n.min_points-r.min_points)*100:100,{data:c}=await T.from("user_achievements").select(`
          *,
          achievement:achievements(*)
        `).eq("user_id",s).order("earned_at",{ascending:!1}).limit(5),l=new Date;l.setDate(1),l.setHours(0,0,0,0);const{data:d}=await T.from("points_transactions").select("points").eq("user_id",s).eq("type","earned").gte("created_at",l.toISOString()),m=d?.reduce((x,f)=>x+f.points,0)||0,u=await this.calculateUserStreak(s);return{total_points:a.total_points,current_level:r,next_level:n,progress_percentage:Math.round(o),achievements_count:c?.length||0,recent_achievements:c||[],points_this_month:m,streak_days:u}}catch(a){return console.error("Erro ao buscar estatísticas:",a),null}}static async calculateUserStreak(s){try{const{data:a}=await T.from("points_transactions").select("created_at").eq("user_id",s).order("created_at",{ascending:!1}).limit(30);if(!a||a.length===0)return 0;const r=a.map(c=>new Date(c.created_at).toDateString()),i=[...new Set(r)].sort((c,l)=>new Date(l).getTime()-new Date(c).getTime());let n=0;const o=new Date;for(const c of i){const l=o.toDateString();if(c===l)n++,o.setDate(o.getDate()-1);else break}return n}catch(a){return console.error("Erro ao calcular streak:",a),0}}static async getLeaderboard(s=10){try{const{data:a}=await T.from("user_points").select(`
          *,
          user:users(full_name)
        `).order("total_points",{ascending:!1}).limit(s);return a||[]}catch(a){return console.error("Erro ao buscar ranking:",a),[]}}static async initializePredefinedAchievements(){try{for(const s of N0){const{error:a}=await T.from("achievements").upsert({...s,id:s.name.toLowerCase().replace(/\s+/g,"_"),created_at:new Date().toISOString()},{onConflict:"name"});a&&console.error("Erro ao inserir conquista:",s.name,a)}}catch(s){console.error("Erro ao inicializar conquistas:",s)}}}function _0({merchantId:t,onClose:s,onVoucherValidated:a}){const{user:r}=$(),[i,n]=h.useState(!1),[o,c]=h.useState(null),[l,d]=h.useState(""),[m]=h.useState(""),[u,x]=h.useState(null),[f,b]=h.useState(navigator.onLine),[j]=h.useState([]),v=h.useRef(null),p=h.useRef(null);h.useEffect(()=>{const N=()=>b(!0),E=()=>b(!1);return window.addEventListener("online",N),window.addEventListener("offline",E),y(),()=>{p.current&&p.current.getTracks().forEach(w=>w.stop()),window.removeEventListener("online",N),window.removeEventListener("offline",E)}},[]),h.useEffect(()=>{f&&j.length>0&&g()},[f,j.length,g]);const y=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(N=>{x({lat:N.coords.latitude,lng:N.coords.longitude})},N=>{console.warn("Erro ao obter localização:",N)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},g=h.useCallback(async()=>{for(const N of j)try{await Zt.validateVoucher(N.qrData,N.merchantId,N.location)}catch(E){console.error("Erro ao processar item da fila offline:",E)}setOfflineQueue([])},[j]),_=async()=>{try{const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});v.current&&(v.current.srcObject=N,p.current=N,n(!0))}catch(N){console.error("Erro ao acessar câmera:",N),alert("Não foi possível acessar a câmera. Use a validação manual.")}},k=()=>{p.current&&(p.current.getTracks().forEach(N=>N.stop()),p.current=null),n(!1)},S=async()=>{if(!l.trim()||!m.trim()){alert("Por favor, preencha o código e o local.");return}try{const N={code:l.trim(),merchantId:t,location:u,timestamp:new Date().toISOString()};if(!f){setOfflineQueue(w=>[...w,{qrData:JSON.stringify(N),merchantId:t,location:m.trim()}]),c({success:!0,message:"✈️ Validação salva offline. Será processada quando voltar a conexão."}),setTimeout(()=>{s()},3e3);return}const E=await Zt.validateVoucher(JSON.stringify(N),t,m.trim());c(E),E.success&&E.voucher&&r&&(await Or.addPoints(r.id,50,"voucher_use","Voucher utilizado com sucesso! 🎉",{voucher_id:E.voucher.id,merchant_id:t,location:u,timestamp:new Date().toISOString()}),setTimeout(()=>{a(E.voucher),s()},2e3))}catch{c({success:!1,message:"Erro ao validar código manual"})}},C=async N=>{const E=N.target.files?.[0];if(!E||!m.trim()){m.trim()||alert("Por favor, informe o local antes de fazer upload.");return}try{const w=new FileReader;w.onload=async()=>{try{alert("Funcionalidade de upload de imagem será implementada com biblioteca específica de QR code.")}catch{c({success:!1,message:"Erro ao ler QR code da imagem"})}},w.readAsDataURL(E)}catch{c({success:!1,message:"Erro ao processar imagem"})}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Validar Voucher"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local da validação *"}),e.jsx("input",{type:"text",value:m,onChange:N=>setLocation(N.target.value),placeholder:"Ex: Loja Centro, Filial Shopping...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Escanear QR Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[f?e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(Am,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Online"})]}):e.jsxs("div",{className:"flex items-center gap-1 text-orange-600",children:[e.jsx(Tm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Offline"})]}),u&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"GPS"})]})]})]}),i?e.jsxs("div",{className:"space-y-4",children:[e.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,className:"w-full h-64 bg-black rounded-lg"}),e.jsx("button",{onClick:k,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors",children:"Parar Câmera"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Posicione o QR code na frente da câmera"})]}):e.jsxs("button",{onClick:_,disabled:!m.trim(),className:"w-full flex items-center justify-center gap-2 bg-yellow-500 text-white py-3 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[e.jsx(ll,{className:"w-5 h-5"}),f?"Iniciar Câmera":"Iniciar Câmera (Offline)"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Validação Manual"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:l,onChange:N=>d(N.target.value),placeholder:"Digite o código do voucher (ex: DUO-ABC-123456)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("button",{onClick:S,disabled:!l.trim()||!m.trim(),className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:f?"Validar Código":"Salvar Offline"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Upload de Imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:!m.trim(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Faça upload de uma foto do QR code"})]}),j.length>0&&e.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("p",{className:"text-orange-800 text-sm font-medium",children:["📱 ",j.length," validação(ões) na fila offline"]}),e.jsx("p",{className:"text-orange-600 text-xs mt-1",children:"Serão processadas quando a conexão for restaurada"})]}),o&&e.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${o.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[o.success?e.jsx(z,{className:"w-5 h-5 text-green-600"}):e.jsx(zr,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.message}),o.voucher&&e.jsxs("p",{className:"text-sm mt-1",children:["Cliente: ",o.voucher.user?.full_name]}),!f&&o.success&&e.jsx("p",{className:"text-sm mt-1 text-orange-600",children:"🎯 +50 pontos serão creditados quando voltar online"})]})]})]})]})})}function S0(){const{user:t}=$(),[s,a]=h.useState([]),[r,i]=h.useState(!1),[n,o]=h.useState(!0),[c,l]=h.useState("offers"),[d,m]=h.useState(!1),[u,x]=h.useState([]),[f,b]=h.useState(null),[j,v]=h.useState(null),[p,y]=h.useState({title:"",description:"",original_value:"",category:"",location:"",expires_at:"",terms_conditions:""});h.useEffect(()=>{t&&g()},[t,g]);const g=h.useCallback(async()=>{await Promise.all([C(),_(),k()])},[C,_,k]),_=h.useCallback(async()=>{if(t)try{const{data:w,error:F}=await T.from("vouchers").select(`
          *,
          user:users(full_name, email)
        `).eq("merchant_id",t.id).order("created_at",{ascending:!1}).limit(10);if(F)throw F;x(w||[])}catch(w){console.error("Erro ao carregar vouchers:",w)}},[t]),k=h.useCallback(async()=>{if(t)try{const[w,F]=await Promise.all([Zt.generateUsageReport("weekly"),Zt.generateUsageReport("monthly")]);b(w),v(F)}catch(w){console.error("Erro ao carregar relatórios:",w)}},[t]),S=w=>{x(F=>[w,...F.slice(0,9)]),k()},C=h.useCallback(async()=>{try{const{data:w,error:F}=await T.from("offers").select("*").eq("merchant_id",t?.id).order("created_at",{ascending:!1});if(F)throw F;a(w||[])}catch(w){console.error("Error fetching offers:",w)}finally{o(!1)}},[t]),N=async w=>{w.preventDefault();try{const{error:F}=await T.from("offers").insert([{merchant_id:t?.id,title:p.title,description:p.description,original_value:parseFloat(p.original_value),category:p.category,location:p.location,expires_at:p.expires_at,terms_conditions:p.terms_conditions,is_active:!0}]);if(F)throw F;i(!1),y({title:"",description:"",original_value:"",category:"",location:"",expires_at:"",terms_conditions:""}),C()}catch(F){console.error("Error creating offer:",F),alert("Erro ao criar oferta. Tente novamente.")}},E=async(w,F)=>{try{const{error:P}=await T.from("offers").update({is_active:!F}).eq("id",w);if(P)throw P;C()}catch(P){console.error("Error updating offer:",P)}};return n?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx(Wt,{className:"h-16 w-auto",fill:"currentColor"})}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando dashboard..."})]})}):e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] pt-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-[#333333]",children:"Dashboard do Comerciante"}),e.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Gerencie ofertas, valide vouchers e visualize relatórios"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-600 transition-all",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{children:"Escanear QR"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:"Nova Oferta"})]})]})]}),e.jsx("div",{className:"flex space-x-1 mb-8",children:[{id:"offers",label:"Ofertas",icon:ye},{id:"vouchers",label:"Vouchers",icon:nt},{id:"reports",label:"Relatórios",icon:Be}].map(({id:w,label:F,icon:P})=>e.jsxs("button",{onClick:()=>l(w),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${c===w?"bg-white text-[#333333] shadow-sm":"text-gray-600 hover:text-[#333333] hover:bg-white/50"}`,children:[e.jsx(P,{className:"w-4 h-4"}),F]},w))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Total de Ofertas"}),e.jsx("p",{className:"text-3xl font-bold text-[#F6C100]",children:s.length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Ofertas Ativas"}),e.jsx("p",{className:"text-3xl font-bold text-[#C91F1F]",children:s.filter(w=>w.is_active).length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Vouchers Ativos"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u.filter(w=>w.status==="active").length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Vouchers Usados"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:u.filter(w=>w.status==="used").length})]})]}),c==="offers"&&e.jsx(P0,{offers:s,setShowCreateForm:i,toggleOfferStatus:E}),c==="vouchers"&&e.jsx(k0,{recentVouchers:u}),c==="reports"&&e.jsx(E0,{weeklyReport:f,monthlyReport:j}),d&&e.jsx(_0,{merchantId:t?.id||"",onClose:()=>m(!1),onVoucherValidated:S}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-8",children:"Criar Nova Oferta"}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Título da Oferta"}),e.jsx("input",{type:"text",required:!0,value:p.title,onChange:w=>y({...p,title:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Ex: Almoço executivo - Pague 1, Leve 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Descrição"}),e.jsx("textarea",{required:!0,value:p.description,onChange:w=>y({...p,description:w.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Descreva os detalhes da oferta..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Valor Original (CHF)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p.original_value,onChange:w=>y({...p,original_value:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Categoria"}),e.jsxs("select",{required:!0,value:p.category,onChange:w=>y({...p,category:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",children:[e.jsx("option",{value:"",children:"Selecione uma categoria"}),e.jsx("option",{value:"gastronomy",children:"Gastronomia"}),e.jsx("option",{value:"beauty",children:"Beleza"}),e.jsx("option",{value:"leisure",children:"Lazer"}),e.jsx("option",{value:"fitness",children:"Fitness"}),e.jsx("option",{value:"shopping",children:"Compras"}),e.jsx("option",{value:"services",children:"Serviços"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Localização"}),e.jsx("input",{type:"text",required:!0,value:p.location,onChange:w=>y({...p,location:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Ex: Centro, São Paulo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Data de Expiração"}),e.jsx("input",{type:"date",required:!0,value:p.expires_at,onChange:w=>y({...p,expires_at:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Termos e Condições"}),e.jsx("textarea",{required:!0,value:p.terms_conditions,onChange:w=>y({...p,terms_conditions:w.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Descreva os termos e condições da oferta..."})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-xl text-[#333333] font-medium hover:bg-gray-50 transition-all",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Criar Oferta"})]})]})]})})]})})}const P0=({offers:t,setShowCreateForm:s,toggleOfferStatus:a})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Suas Ofertas"})}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#F5F3EF]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Oferta"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Categoria"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Expira em"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(r=>e.jsxs("tr",{className:"hover:bg-[#F5F3EF] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-[#333333]",children:r.title}),e.jsx("div",{className:"text-sm text-gray-500",children:r.location})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white",children:r.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#333333]",children:["CHF ",(r.original_value*.18).toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.is_active?"Ativa":"Inativa"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:new Date(r.expires_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"text-[#F6C100] hover:text-[#C91F1F] transition-colors",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-[#C91F1F] hover:text-[#333333] transition-colors",children:e.jsx(_m,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(r.id,r.is_active),className:"text-green-600 hover:text-green-800 transition-colors font-medium",children:r.is_active?"Desativar":"Ativar"})]})})]},r.id))})]})}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ct,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-[#333333] text-xl font-medium mb-4",children:"Você ainda não criou nenhuma oferta."}),e.jsx("button",{onClick:()=>s(!0),className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Criar sua primeira oferta"})]})]}),k0=({recentVouchers:t})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Vouchers Recentes"})}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#F5F3EF]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Código"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Data de Uso"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Validade"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-[#F5F3EF] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-[#333333]",children:s.customer_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-mono text-[#333333]",children:s.unique_code})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${s.is_used?"bg-green-100 text-green-800":new Date(s.expires_at)<new Date?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.is_used?"Usado":new Date(s.expires_at)<new Date?"Expirado":"Ativo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:s.used_at?new Date(s.used_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:new Date(s.expires_at).toLocaleDateString()})]},s.id))})]})}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(nt,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-[#333333] text-xl font-medium mb-4",children:"Nenhum voucher foi usado ainda."}),e.jsx("p",{className:"text-gray-500",children:"Os vouchers validados aparecerão aqui."})]})]}),E0=({weeklyReport:t,monthlyReport:s})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Relatório Semanal"})}),t?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Usos"}),e.jsx("p",{className:"text-3xl font-bold",children:t.total_usage})]}),e.jsx(Be,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Clientes Únicos"}),e.jsx("p",{className:"text-3xl font-bold",children:t.unique_customers})]}),e.jsx(U,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Período"}),e.jsxs("p",{className:"text-lg font-bold",children:[new Date(t.start_date).toLocaleDateString()," - ",new Date(t.end_date).toLocaleDateString()]})]})})})]}),t.top_customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-4",children:"Top Clientes"}),e.jsx("div",{className:"space-y-3",children:t.top_customers.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F5F3EF] rounded-lg",children:[e.jsx("span",{className:"font-medium text-[#333333]",children:a.customer_name}),e.jsxs("span",{className:"text-[#C91F1F] font-bold",children:[a.usage_count," usos"]})]},r))})]})]}):e.jsx("div",{className:"p-16 text-center",children:e.jsx("p",{className:"text-[#333333] text-xl font-medium",children:"Carregando relatório semanal..."})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Relatório Mensal"})}),s?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Usos"}),e.jsx("p",{className:"text-3xl font-bold",children:s.total_usage})]}),e.jsx(Be,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Clientes Únicos"}),e.jsx("p",{className:"text-3xl font-bold",children:s.unique_customers})]}),e.jsx(U,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Período"}),e.jsxs("p",{className:"text-lg font-bold",children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]})]})})})]}),s.top_customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-4",children:"Top Clientes"}),e.jsx("div",{className:"space-y-3",children:s.top_customers.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F5F3EF] rounded-lg",children:[e.jsx("span",{className:"font-medium text-[#333333]",children:a.customer_name}),e.jsxs("span",{className:"text-[#C91F1F] font-bold",children:[a.usage_count," usos"]})]},r))})]})]}):e.jsx("div",{className:"p-16 text-center",children:e.jsx("p",{className:"text-[#333333] text-xl font-medium",children:"Carregando relatório mensal..."})})]})]}),D0={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},F0=(t,s,a)=>{let r;const i=D0[t];return typeof i=="string"?r=i:s===1?r=i.one:r=i.other.replace("{{count}}",String(s)),a?.addSuffix?a.comparison&&a.comparison>0?"em "+r:"há "+r:r},T0={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},A0={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},M0={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O0={date:$t({formats:T0,defaultWidth:"full"}),time:$t({formats:A0,defaultWidth:"full"}),dateTime:$t({formats:M0,defaultWidth:"full"})},I0={lastWeek:t=>{const s=t.getDay();return"'"+(s===0||s===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},R0=(t,s,a,r)=>{const i=I0[t];return typeof i=="function"?i(s):i},V0={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},L0={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},q0={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},B0={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},U0={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},z0={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},$0=(t,s)=>{const a=Number(t);return s?.unit==="week"?a+"ª":a+"º"},H0={ordinalNumber:$0,era:Ve({values:V0,defaultWidth:"wide"}),quarter:Ve({values:L0,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ve({values:q0,defaultWidth:"wide"}),day:Ve({values:B0,defaultWidth:"wide"}),dayPeriod:Ve({values:U0,defaultWidth:"wide",formattingValues:z0,defaultFormattingWidth:"wide"})},G0=/^(\d+)[ºªo]?/i,W0=/\d+/i,Y0={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Z0={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},K0={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Q0={any:[/1/i,/2/i,/3/i,/4/i]},J0={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},X0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},eb={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},tb={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},sb={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},ab={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},rb={ordinalNumber:sd({matchPattern:G0,parsePattern:W0,valueCallback:t=>parseInt(t,10)}),era:Le({matchPatterns:Y0,defaultMatchWidth:"wide",parsePatterns:Z0,defaultParseWidth:"any"}),quarter:Le({matchPatterns:K0,defaultMatchWidth:"wide",parsePatterns:Q0,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Le({matchPatterns:J0,defaultMatchWidth:"wide",parsePatterns:X0,defaultParseWidth:"any"}),day:Le({matchPatterns:eb,defaultMatchWidth:"wide",parsePatterns:tb,defaultParseWidth:"any"}),dayPeriod:Le({matchPatterns:sb,defaultMatchWidth:"any",parsePatterns:ab,defaultParseWidth:"any"})},Bo={code:"pt-BR",formatDistance:F0,formatLong:O0,formatRelative:R0,localize:H0,match:rb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ib({voucher:t,className:s=""}){const a=t.status==="used",r=t.status==="expired"||new Date(t.expires_at)<new Date;return e.jsxs("div",{className:`relative max-w-sm mx-auto ${s}`,children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-2xl p-6 shadow-2xl border-4 border-red-600",style:{backgroundColor:"#F6C100",borderColor:"#C91F1F"},children:[(a||r)&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-2xl flex items-center justify-center z-10",children:e.jsx("div",{className:"bg-white px-4 py-2 rounded-lg transform -rotate-12",children:e.jsx("span",{className:"text-red-600 font-bold text-lg",children:a?"UTILIZADO":"EXPIRADO"})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-white font-bold text-xl mb-1 drop-shadow-lg",children:t.merchant?.business_name||"Parceiro DuoPass"}),e.jsx("div",{className:"h-0.5 bg-red-600 mx-8"})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("p",{className:"text-red-800 font-semibold text-lg",children:t.user?.full_name||"Cliente"})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-3 rounded-xl shadow-lg",children:e.jsx("img",{src:t.qr_code_data,alt:"QR Code",className:"w-32 h-32"})})}),e.jsx("div",{className:"text-center mb-4",children:e.jsxs("p",{className:"text-red-800 font-medium",children:["Válido até: ",oa(new Date(t.expires_at),"dd/MM/yyyy",{locale:Bo})]})}),t.used_at&&e.jsxs("div",{className:"text-center mb-4 text-sm",children:[e.jsxs("p",{className:"text-red-700",children:["Usado em: ",oa(new Date(t.used_at),"dd/MM/yyyy HH:mm",{locale:Bo})]}),t.used_location&&e.jsxs("p",{className:"text-red-700",children:["Local: ",t.used_location]})]}),e.jsx("div",{className:"border-t-2 border-red-600 pt-3 mt-4",children:e.jsx("p",{className:"text-center text-red-800 font-mono text-sm font-bold",children:t.voucher_code})}),e.jsx("div",{className:"absolute top-2 left-2 w-4 h-4 bg-red-600 rounded-full opacity-50"}),e.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-red-600 rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-2 left-2 w-4 h-4 bg-red-600 rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-2 right-2 w-4 h-4 bg-red-600 rounded-full opacity-50"})]}),e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full border-2 border-gray-300"})}),e.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full border-2 border-gray-300"})})]})}const Hs=[{id:"preferred_time",title:"Quando você prefere suas experiências culturais?",subtitle:"Escolha o período que mais combina com você",icon:je,type:"single",options:[{value:"morning",label:"Manhã",description:"Até 12h"},{value:"afternoon",label:"Tarde",description:"12h às 18h"},{value:"evening",label:"Noite",description:"Após 18h"},{value:"flexible",label:"Flexível",description:"Qualquer horário"}]},{id:"cultural_frequency",title:"Com que frequência você busca experiências culturais?",subtitle:"Nos ajude a entender seu ritmo",icon:Ee,type:"single",options:[{value:"daily",label:"Diariamente",description:"Sempre em busca de algo novo"},{value:"weekly",label:"Semanalmente",description:"Fins de semana culturais"},{value:"monthly",label:"Mensalmente",description:"Experiências especiais"},{value:"occasionally",label:"Ocasionalmente",description:"Quando surge oportunidade"}]},{id:"budget_range",title:"Qual seu orçamento típico para experiências culturais?",subtitle:"Por pessoa, por experiência",icon:Vr,type:"single",options:[{value:"low",label:"Até CHF 9.-",description:"Experiências acessíveis"},{value:"medium",label:"CHF 9.- - CHF 27.-",description:"Investimento moderado"},{value:"high",label:"CHF 27.- - CHF 54.-",description:"Experiências premium"},{value:"luxury",label:"Acima de CHF 54.-",description:"Sem limites para cultura"}]},{id:"group_size_preference",title:"Como você prefere vivenciar a cultura?",subtitle:"Tamanho ideal do grupo",icon:U,type:"single",options:[{value:"solo",label:"Sozinho(a)",description:"Momentos de introspecção"},{value:"couple",label:"Em dupla",description:"Experiências íntimas"},{value:"small_group",label:"Grupo pequeno",description:"3-6 pessoas"},{value:"large_group",label:"Grupo grande",description:"7+ pessoas"}]},{id:"discovery_style",title:"Como você gosta de descobrir novas experiências?",subtitle:"Seu estilo de exploração",icon:dm,type:"single",options:[{value:"planned",label:"Planejado",description:"Pesquiso e organizo com antecedência"},{value:"spontaneous",label:"Espontâneo",description:"Decido na hora"},{value:"recommended",label:"Por indicação",description:"Confio em recomendações"},{value:"mixed",label:"Misto",description:"Depende da ocasião"}]},{id:"primary_interests",title:"Quais são seus principais interesses culturais?",subtitle:"Escolha até 3 opções",icon:W,type:"multiple",options:[{value:"arte",label:"Arte & Design",description:"Museus, galerias, exposições"},{value:"gastronomia",label:"Gastronomia",description:"Restaurantes, degustações, culinária"},{value:"musica",label:"Música",description:"Shows, concertos, festivais"},{value:"bem-estar",label:"Bem-estar",description:"Spas, retiros, mindfulness"},{value:"cultura",label:"Cultura Local",description:"História, tradições, patrimônio"}]},{id:"preferred_location",title:"Onde você prefere suas experiências culturais?",subtitle:"Localização ideal",icon:K,type:"single",options:[{value:"São Paulo - SP",label:"São Paulo - SP",description:"Centro cultural do país"},{value:"Rio de Janeiro - RJ",label:"Rio de Janeiro - RJ",description:"Cidade maravilhosa"},{value:"Belo Horizonte - MG",label:"Belo Horizonte - MG",description:"Capital mineira"},{value:"Porto Alegre - RS",label:"Porto Alegre - RS",description:"Sul do Brasil"},{value:"Outras",label:"Outras cidades",description:"Especificar depois"}]},{id:"available_days",title:"Quais dias você tem mais disponibilidade?",subtitle:"Selecione todos que se aplicam",icon:Ee,type:"days",options:[{value:"monday",label:"Segunda"},{value:"tuesday",label:"Terça"},{value:"wednesday",label:"Quarta"},{value:"thursday",label:"Quinta"},{value:"friday",label:"Sexta"},{value:"saturday",label:"Sábado"},{value:"sunday",label:"Domingo"}]},{id:"social_style",title:"Como você se descreveria socialmente?",subtitle:"Seu perfil social",icon:U,type:"single",options:[{value:"introvert",label:"Introvertido(a)",description:"Prefiro grupos menores e conversas profundas"},{value:"extrovert",label:"Extrovertido(a)",description:"Adoro conhecer pessoas e grandes grupos"},{value:"ambivert",label:"Ambivertido(a)",description:"Depende do momento e contexto"}]},{id:"experience_level",title:"Como você se considera em relação à cultura?",subtitle:"Seu nível de experiência",icon:H,type:"single",options:[{value:"beginner",label:"Iniciante",description:"Começando a explorar"},{value:"intermediate",label:"Intermediário",description:"Tenho alguma experiência"},{value:"advanced",label:"Avançado",description:"Sou bem experiente"},{value:"expert",label:"Especialista",description:"Conheço muito sobre cultura"}]}];function nb({onComplete:t,existingAffinity:s,onCancel:a}){const{user:r}=$(),[i,n]=h.useState(0),[o,c]=h.useState(()=>s?{preferred_time:s.preferred_time,cultural_frequency:s.cultural_frequency,budget_range:s.budget_range,group_size_preference:s.group_size_preference,discovery_style:s.discovery_style,primary_interests:s.primary_interests,preferred_location:s.preferred_location,available_days:s.available_days,social_style:s.social_style,experience_level:s.experience_level}:{}),[l,d]=h.useState(!1),m=Hs[i],u=i===Hs.length-1,x=o[m.id]!==void 0,f=g=>{if(m.type==="multiple"){const _=o[m.id]||[];_.includes(g)?c(k=>({...k,[m.id]:_.filter(S=>S!==g)})):_.length<3&&c(k=>({...k,[m.id]:[..._,g]}))}else if(m.type==="days"){const _=o[m.id]||[];_.includes(g)?c(k=>({...k,[m.id]:_.filter(S=>S!==g)})):c(k=>({...k,[m.id]:[..._,g]}))}else c(_=>({..._,[m.id]:g}))},b=()=>{u?v():n(g=>g+1)},j=()=>{n(g=>g-1)},v=async()=>{if(r){d(!0);try{const g={user_id:r.id,preferred_time:o.preferred_time,cultural_frequency:o.cultural_frequency,budget_range:o.budget_range,group_size_preference:o.group_size_preference,discovery_style:o.discovery_style,primary_interests:o.primary_interests||[],preferred_location:o.preferred_location,available_days:o.available_days||[],social_style:o.social_style,experience_level:o.experience_level};let _;if(s?_=await T.from("cultural_affinities").update(g).eq("id",s.id).select().single():_=await T.from("cultural_affinities").insert(g).select().single(),_.error)throw _.error;t(_.data)}catch(g){console.error("Erro ao salvar afinidades:",g),alert("Erro ao salvar suas preferências. Tente novamente.")}finally{d(!1)}}},p=(i+1)/Hs.length*100,y=m.icon;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] rounded-lg flex items-center justify-center",children:e.jsx(Ie,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:s?"Atualizar Perfil Cultural":"Perfil Cultural"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Questão ",i+1," de ",Hs.length]})]})]}),a&&e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(pe,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"pb-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.title}),e.jsx("p",{className:"text-gray-600",children:m.subtitle}),m.type==="multiple"&&e.jsx("p",{className:"text-sm text-[#C91F1F] mt-2",children:"Selecione até 3 opções"})]}),e.jsx("div",{className:"space-y-3",children:m.options.map(g=>{const _=m.type==="multiple"||m.type==="days"?(o[m.id]||[]).includes(g.value):o[m.id]===g.value,k=m.type==="multiple"&&!_&&(o[m.id]||[]).length>=3;return e.jsx("button",{onClick:()=>!k&&f(g.value),disabled:k,className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${_?"border-[#C91F1F] bg-red-50 text-[#C91F1F]":k?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-[#C91F1F] hover:bg-red-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:g.label}),g.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:g.description})]}),_&&e.jsx(z,{className:"w-6 h-6 text-[#C91F1F] flex-shrink-0 ml-3"})]})},g.value)})}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t",children:[e.jsxs("button",{onClick:j,disabled:i===0,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${i===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Anterior"})]}),e.jsx("button",{onClick:b,disabled:!x||l,className:`flex items-center space-x-2 px-8 py-3 rounded-lg font-medium transition-colors ${x&&!l?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:l?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:u?"Finalizar":"Próxima"}),e.jsx(ee,{className:"w-5 h-5"})]})})]})]})})]})}const Uo={arte:ca,gastronomia:Ur,musica:Br,"bem-estar":W,cultura:ol},Gs={arte:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"},gastronomia:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200"},musica:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},"bem-estar":{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"},cultura:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200"}};function zo({userAffinity:t}){const{user:s}=$(),a=G(),[r,i]=h.useState([]),[n,o]=h.useState([]),[c,l]=h.useState(!0),[d,m]=h.useState(""),[u,x]=h.useState("all"),[f,b]=h.useState(!1),[j,v]=h.useState(null),p=async()=>{try{if(s?.id==="demo-user-id"){const A=[{id:"arte-design",name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",member_count:1247,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"gastronomia-gourmet",name:"Gastronomia Gourmet",description:"Descubra novos sabores, restaurantes exclusivos e experiências culinárias únicas com outros food lovers.",category:"gastronomia",member_count:892,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"musica-concertos",name:"Música & Concertos",description:"Compartilhe shows, concertos e festivais musicais com melômanos que adoram descobrir novos artistas.",category:"musica",member_count:1534,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"bem-estar-mindful",name:"Bem-estar & Mindfulness",description:"Conecte-se com pessoas que valorizam o autocuidado, spas, retiros e práticas de bem-estar.",category:"bem-estar",member_count:678,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"cultura-patrimonio",name:"Cultura & Patrimônio",description:"Explore a história local, tradições culturais e patrimônio histórico com outros entusiastas da cultura.",category:"cultura",member_count:945,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];i(A),l(!1);return}const{data:P,error:D}=await T.from("cultural_communities").select("*").order("member_count",{ascending:!1});if(D)throw D;i(P||[])}catch(P){console.error("Erro ao carregar comunidades:",P)}finally{l(!1)}},y=async()=>{if(s)try{if(s.id==="demo-user-id"){o(["arte-design","gastronomia-gourmet"]);return}const{data:P,error:D}=await T.from("community_members").select("community_id").eq("user_id",s.id);if(D)throw D;o(P?.map(A=>A.community_id)||[])}catch(P){console.error("Erro ao carregar memberships:",P)}},g=ge.useCallback(p,[s]),_=ge.useCallback(y,[s]);h.useEffect(()=>{g(),s&&_()},[s,g,_]);const k=async P=>{if(!(!s||j)){v(P);try{if(s.id==="demo-user-id"){o(A=>[...A,P]),i(A=>A.map(V=>V.id===P?{...V,member_count:V.member_count+1}:V)),v(null),a(`/comunidade/${P}`);return}const{error:D}=await T.from("community_members").insert({community_id:P,user_id:s.id});if(D)throw D;o(A=>[...A,P]),await p(),a(`/comunidade/${P}`)}catch(D){console.error("Erro ao entrar na comunidade:",D),alert("Erro ao entrar na comunidade. Tente novamente.")}finally{v(null)}}},S=async P=>{if(!(!s||j)){v(P);try{if(s.id==="demo-user-id"){o(A=>A.filter(V=>V!==P)),i(A=>A.map(V=>V.id===P?{...V,member_count:Math.max(0,V.member_count-1)}:V)),v(null);return}const{error:D}=await T.from("community_members").delete().eq("community_id",P).eq("user_id",s.id);if(D)throw D;o(A=>A.filter(V=>V!==P)),await p()}catch(D){console.error("Erro ao sair da comunidade:",D),alert("Erro ao sair da comunidade. Tente novamente.")}finally{v(null)}}},C=P=>{a(`/comunidade/${P}`)},N=r.filter(P=>{const D=P.name.toLowerCase().includes(d.toLowerCase())||P.description.toLowerCase().includes(d.toLowerCase()),A=u==="all"||P.category===u,V=!f||n.includes(P.id);return D&&A&&V}),E=()=>t?.primary_interests?N.filter(P=>t.primary_interests.includes(P.category)):[],w=[{value:"all",label:"Todas",icon:U},{value:"arte",label:"Arte",icon:ca},{value:"gastronomia",label:"Gastronomia",icon:Ur},{value:"musica",label:"Música",icon:Br},{value:"bem-estar",label:"Bem-estar",icon:W},{value:"cultura",label:"Cultura",icon:ol}],F=E();return c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando comunidades..."})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar comunidades...",value:d,onChange:P=>m(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-[#C91F1F] text-white"}`,children:"Todas"}),e.jsxs("button",{onClick:()=>b(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Participando (",n.length,")"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:w.map(P=>{const D=P.icon,A=u===P.value;return e.jsxs("button",{onClick:()=>x(P.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${A?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:P.label})]},P.value)})})]})}),F.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(H,{className:"w-5 h-5 text-[#F6C100]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recomendadas para Você"}),e.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(P=>{const D=Uo[P.category]||U,A=Gs[P.category]||Gs.cultura,V=n.includes(P.id),J=j===P.id;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-[#F6C100] p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${A.bg} rounded-xl flex items-center justify-center`,children:e.jsx(D,{className:`w-6 h-6 ${A.text}`})}),e.jsxs("div",{className:"flex items-center space-x-1 text-[#F6C100]",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Recomendada"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-[#C91F1F] transition-colors",onClick:()=>C(P.id),children:P.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:P.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:P.member_count.toLocaleString()})]})}),e.jsx("button",{onClick:()=>V?S(P.id):k(P.id),disabled:J,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg"} ${J?"opacity-50 cursor-not-allowed":""}`,children:J?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):V?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair"})]}):e.jsxs(e.Fragment,{children:[e.jsx(zi,{className:"w-4 h-4"}),e.jsx("span",{children:"Participar"})]})})]})]},P.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u==="all"?"Todas as Comunidades":`Comunidades de ${w.find(P=>P.value===u)?.label}`}),e.jsxs("span",{className:"text-sm text-gray-500",children:[N.length," ",N.length===1?"comunidade":"comunidades"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(P=>{const D=Uo[P.category]||U,A=Gs[P.category]||Gs.cultura,V=n.includes(P.id),J=j===P.id,Z=F.some(I=>I.id===P.id);return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow ${Z?"border-2 border-[#F6C100]":"border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${A.bg} rounded-xl flex items-center justify-center`,children:e.jsx(D,{className:`w-6 h-6 ${A.text}`})}),V&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Membro"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-[#C91F1F] transition-colors",onClick:()=>C(P.id),children:P.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:P.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:P.member_count.toLocaleString()})]})}),e.jsx("button",{onClick:()=>V?S(P.id):k(P.id),disabled:J,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg"} ${J?"opacity-50 cursor-not-allowed":""}`,children:J?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):V?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair"})]}):e.jsxs(e.Fragment,{children:[e.jsx(zi,{className:"w-4 h-4"}),e.jsx("span",{children:"Participar"})]})})]})]},P.id)})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma comunidade encontrada"}),e.jsx("p",{className:"text-gray-500",children:d?"Tente ajustar sua busca":"Não há comunidades nesta categoria"})]})]})]})}function ob(){const{user:t}=$(),[s,a]=h.useState([]),[r,i]=h.useState(null),[n,o]=h.useState([]),[c,l]=h.useState(""),[d,m]=h.useState(!0),[u,x]=h.useState(!1),[f,b]=h.useState(""),[j,v]=h.useState(!1),p=h.useRef(null),y=h.useRef(null),g=()=>{p.current?.scrollIntoView({behavior:"smooth"})},_=async P=>{if(t)try{if(t.id==="demo-user-id"){const V={"conn-1":[{id:"msg-1-1",connection_id:"conn-1",sender_id:"user-2",content:"Oi! Vi que você também adora arte moderna. Que coincidência!",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()},{id:"msg-1-2",connection_id:"conn-1",sender_id:"demo-user-id",content:"Oi Ana! Sim, é uma paixão mesmo. Você foi na exposição do MASP recentemente?",message_type:"text",read_at:new Date(Date.now()-828e5).toISOString(),created_at:new Date(Date.now()-828e5).toISOString()},{id:"msg-1-3",connection_id:"conn-1",sender_id:"user-2",content:"Fui sim! Adorei a curadoria. Você tem alguma galeria favorita na cidade?",message_type:"text",created_at:new Date(Date.now()-792e5).toISOString()},{id:"msg-1-4",connection_id:"conn-1",sender_id:"demo-user-id",content:"Tenho várias! A Galeria Vermelho e a Nara Roesler são incríveis. Que tal irmos juntos na próxima exposição?",message_type:"text",read_at:new Date(Date.now()-756e5).toISOString(),created_at:new Date(Date.now()-756e5).toISOString()},{id:"msg-1-5",connection_id:"conn-1",sender_id:"user-2",content:"Adorei a exposição de arte moderna! Quando podemos ir juntos na próxima?",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()}],"conn-2":[{id:"msg-2-1",connection_id:"conn-2",sender_id:"user-3",content:"E aí! Vi que você curte gastronomia também. Conhece algum lugar bom para um jantar especial?",message_type:"text",created_at:new Date(Date.now()-1728e5).toISOString()},{id:"msg-2-2",connection_id:"conn-2",sender_id:"demo-user-id",content:"Oi Carlos! Conheço sim. O D.O.M. e o Maní são fantásticos. Que tipo de culinária você prefere?",message_type:"text",read_at:new Date(Date.now()-1692e5).toISOString(),created_at:new Date(Date.now()-1692e5).toISOString()},{id:"msg-2-3",connection_id:"conn-2",sender_id:"user-3",content:"Gosto muito de culinária contemporânea brasileira. O D.O.M. está na minha lista há tempos!",message_type:"text",created_at:new Date(Date.now()-1656e5).toISOString()},{id:"msg-2-4",connection_id:"conn-2",sender_id:"demo-user-id",content:"Perfeito! Vamos marcar para sábado então.",message_type:"text",read_at:new Date(Date.now()-18e5).toISOString(),created_at:new Date(Date.now()-72e5).toISOString()}],"conn-3":[{id:"msg-3-1",connection_id:"conn-3",sender_id:"user-4",content:"Oi! Que bom encontrar alguém que também valoriza o bem-estar. Você tem algum spa favorito?",message_type:"text",created_at:new Date(Date.now()-2592e5).toISOString()},{id:"msg-3-2",connection_id:"conn-3",sender_id:"demo-user-id",content:"Oi Marina! Sim, adoro cuidar do bem-estar. O Spa L'Occitane e o Kurotel são incríveis.",message_type:"text",read_at:new Date(Date.now()-2556e5).toISOString(),created_at:new Date(Date.now()-2556e5).toISOString()},{id:"msg-3-3",connection_id:"conn-3",sender_id:"user-4",content:"Que experiência incrível no spa! Obrigada pela companhia 🧘‍♀️",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()}]};o(V[P]||[]);return}const{data:D,error:A}=await T.from("member_messages").select("*").eq("connection_id",P).order("created_at",{ascending:!0});if(A)throw A;o(D||[])}catch(D){console.error("Erro ao carregar mensagens:",D)}},k=ge.useCallback(_,[t]);h.useEffect(()=>{console.log("🤝 Carregando conversas...");const P=[{connection:{id:"conn-1",user1_id:"demo-user-id",user2_id:"user-2",status:"accepted",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-36e5).toISOString()},otherUser:{id:"user-2",name:"Ana Silva",avatar:"🎭",isOnline:!0,lastSeen:new Date(Date.now()-18e5).toISOString()},lastMessage:{id:"msg-1-5",connection_id:"conn-1",sender_id:"user-2",content:"Adorei a exposição de arte moderna! Quando podemos ir juntos na próxima?",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()},unreadCount:2},{connection:{id:"conn-2",user1_id:"demo-user-id",user2_id:"user-3",status:"accepted",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-72e5).toISOString()},otherUser:{id:"user-3",name:"Pedro Santos",avatar:"🎵",isOnline:!1,lastSeen:new Date(Date.now()-18e6).toISOString()},lastMessage:{id:"msg-2-4",connection_id:"conn-2",sender_id:"demo-user-id",content:"Perfeito! Vamos marcar para sábado então.",message_type:"text",read_at:new Date(Date.now()-18e5).toISOString(),created_at:new Date(Date.now()-72e5).toISOString()},unreadCount:0},{connection:{id:"conn-3",user1_id:"demo-user-id",user2_id:"user-4",status:"accepted",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString()},otherUser:{id:"user-4",name:"Clara Oliveira",avatar:"🍷",isOnline:!1,lastSeen:new Date(Date.now()-864e5).toISOString()},lastMessage:{id:"msg-3-3",connection_id:"conn-3",sender_id:"user-4",content:"Que experiência incrível no spa! Obrigada pela companhia 🧘‍♀️",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()},unreadCount:1}];a(P),m(!1),console.log("✅ Conversas carregadas:",P.length)},[]),h.useEffect(()=>{r&&(console.log("📨 Carregando mensagens para:",r.connection.id),k(r.connection.id))},[r,k]),h.useEffect(()=>{g()},[n]),h.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const S=async()=>{if(!(!c.trim()||!r||!t||u)){x(!0);try{const P=c.trim();if(l(""),t.id==="demo-user-id"){const A={id:`msg-${Date.now()}`,connection_id:r.connection.id,sender_id:t.id,content:P,message_type:"text",created_at:new Date().toISOString()};o(V=>[...V,A]),a(V=>V.map(J=>J.connection.id===r.connection.id?{...J,lastMessage:A,unreadCount:0}:J)),console.log("✅ Mensagem enviada:",P),x(!1);return}const{error:D}=await T.from("member_messages").insert({connection_id:r.connection.id,sender_id:t.id,content:P,message_type:"text"});if(D)throw D;await _(r.connection.id)}catch(P){console.error("Erro ao enviar mensagem:",P),alert("Erro ao enviar mensagem. Tente novamente.")}finally{x(!1)}}},C=()=>{j||(v(!0),console.log("👤 Usuário começou a digitar...")),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{v(!1),console.log("👤 Usuário parou de digitar")},2e3)},N=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),v(!1),y.current&&clearTimeout(y.current),S())},E=P=>{l(P.target.value),C()},w=P=>{const D=new Date(P);return(new Date().getTime()-D.getTime())/(1e3*60*60)<24?D.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):D.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},F=s.filter(P=>P.otherUser.name.toLowerCase().includes(f.toLowerCase()));return d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando conversas..."})]})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-[600px] flex",children:[e.jsxs("div",{className:`${r?"hidden lg:flex":"flex"} flex-col w-full lg:w-80 border-r border-gray-200`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Conversas"}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Ct,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:f,onChange:P=>b(P.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent text-sm"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:F.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[e.jsx(xe,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma conversa ainda"}),e.jsx("p",{className:"text-gray-500 text-sm",children:f?"Nenhuma conversa encontrada":"Conecte-se com outros membros para começar a conversar"})]}):F.map(P=>e.jsx("button",{onClick:()=>i(P),className:`w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 transition-colors ${r?.connection.id===P.connection.id?"bg-blue-50 border-blue-200":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P.otherUser.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(P.otherUser.name)}&background=C91F1F&color=fff`,alt:P.otherUser.name,className:"w-12 h-12 rounded-full object-cover"}),P.otherUser.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:P.otherUser.name}),P.lastMessage&&e.jsx("span",{className:"text-xs text-gray-500",children:w(P.lastMessage.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.lastMessage?.content||"Nenhuma mensagem ainda"}),P.unreadCount>0&&e.jsx("span",{className:"bg-[#C91F1F] text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:P.unreadCount})]})]})]})},P.connection.id))})]}),r?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>i(null),className:"lg:hidden p-1 text-gray-400 hover:text-gray-600",children:e.jsx(pe,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.otherUser.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.otherUser.name)}&background=C91F1F&color=fff`,alt:r.otherUser.name,className:"w-10 h-10 rounded-full object-cover"}),r.otherUser.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:r.otherUser.name}),e.jsx("p",{className:"text-sm text-gray-500",children:r.otherUser.isOnline?"Online agora":r.otherUser.lastSeen?`Visto por último ${w(r.otherUser.lastSeen)}`:"Offline"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(it,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(pl,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(xl,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(P=>{const D=P.sender_id===t?.id;return e.jsx("div",{className:`flex ${D?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${D?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:P.content}),e.jsxs("div",{className:`flex items-center justify-end mt-1 space-x-1 ${D?"text-white text-opacity-70":"text-gray-500"}`,children:[e.jsx("span",{className:"text-xs",children:w(P.created_at)}),D&&(P.read_at?e.jsx(cl,{className:"w-3 h-3"}):e.jsx(ue,{className:"w-3 h-3"}))]})]})},P.id)}),j&&e.jsx("div",{className:"flex justify-start mb-4",children:e.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-2xl max-w-xs",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Digitando"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),e.jsx("div",{ref:p})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:c,onChange:E,onKeyPress:N,placeholder:"Digite sua mensagem...",rows:1,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}})}),e.jsx("button",{onClick:S,disabled:!c.trim()||u,className:`p-2 rounded-lg transition-colors ${c.trim()&&!u?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):e.jsx(da,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione uma conversa"}),e.jsx("p",{className:"text-gray-500",children:"Escolha uma conversa da lista para começar a trocar mensagens"})]})})]})}const nr=[{id:"monthly",name:"Mensal",price:29.9,period:"mês",description:"Perfeito para começar",features:["Acesso completo ao DUO PASS Connect","Participação em todas as 5 comunidades","Chat ilimitado com outros membros","Questionário de afinidades culturais","Recomendações personalizadas","Suporte prioritário"]},{id:"quarterly",name:"Trimestral",price:24.9,period:"mês",description:"Mais popular",features:["Tudo do plano mensal","Desconto de 17% no valor total","Acesso antecipado a novas funcionalidades","Badge exclusivo de membro trimestral","Convites para eventos especiais","Consultoria cultural personalizada"],popular:!0,savings:"Economize CHF 2.50 por trimestre"},{id:"annual",name:"Anual",price:19.9,period:"mês",description:"Melhor valor",features:["Tudo dos planos anteriores","Desconto de 33% no valor total","Acesso vitalício a funcionalidades básicas","Badge exclusivo de membro anual","Mentoria cultural mensal","Acesso a comunidades premium futuras"],savings:"Economize CHF 22.- por ano"}],lb=[{icon:U,title:"Comunidades Exclusivas",description:"Participe de 5 comunidades culturais cuidadosamente curadas: Arte & Design, Gastronomia Gourmet, Música & Concertos, Bem-estar & Mindfulness, e Cultura & Patrimônio.",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:xe,title:"Chat Direto",description:"Converse diretamente com outros membros que compartilham suas paixões culturais. Organize experiências, troque dicas e faça conexões reais.",color:"text-green-600",bgColor:"bg-green-50"},{icon:W,title:"Matching Inteligente",description:"Nosso questionário de afinidades culturais conecta você com pessoas que realmente combinam com seus interesses e estilo de vida.",color:"text-red-600",bgColor:"bg-red-50"},{icon:H,title:"Experiências Premium",description:"Acesso a experiências culturais exclusivas, eventos especiais e oportunidades únicas disponíveis apenas para membros.",color:"text-yellow-600",bgColor:"bg-yellow-50"}];function cb(){const[t,s]=h.useState("quarterly"),[a,r]=h.useState(!1),i=async o=>{r(!0),setTimeout(()=>{alert(`Redirecionando para pagamento do plano ${nr.find(c=>c.id===o)?.name}...`),r(!1)},2e3)},n=nr.find(o=>o.id===t);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mr-4",children:e.jsx(Ne,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-4xl font-bold flex items-center",children:["DUO PASS Connect",e.jsx(Ie,{className:"w-8 h-8 ml-3"})]}),e.jsx("p",{className:"text-xl text-white text-opacity-90 mt-2",children:"Conecte-se com pessoas que compartilham suas paixões culturais"})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("p",{className:"text-lg text-white text-opacity-90 mb-8",children:"Descubra uma nova forma de vivenciar a cultura. Conecte-se com pessoas que realmente entendem suas paixões, participe de comunidades exclusivas e transforme cada experiência cultural em uma memória compartilhada."}),e.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Membros verificados"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lt,{className:"w-5 h-5"}),e.jsx("span",{children:"Matching inteligente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("span",{children:"Experiências exclusivas"})]})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que o DUO PASS Connect é especial?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Não é apenas mais uma rede social. É uma comunidade exclusiva para pessoas que valorizam experiências culturais autênticas e conexões significativas."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:lb.map((o,c)=>{const l=o.icon;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[e.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-xl flex items-center justify-center mb-4`,children:e.jsx(l,{className:`w-6 h-6 ${o.color}`})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:o.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]},c)})})]}),e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Escolha seu plano de acesso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Torne-se membro e desbloqueie todas as funcionalidades do DUO PASS Connect"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-gray-100 rounded-lg p-1 flex space-x-1",children:nr.map(o=>e.jsxs("button",{onClick:()=>s(o.id),className:`px-6 py-2 rounded-md font-medium transition-colors ${t===o.id?"bg-white text-[#C91F1F] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.name,o.popular&&e.jsx("span",{className:"ml-2 bg-[#C91F1F] text-white text-xs px-2 py-1 rounded-full",children:"Popular"})]},o.id))})}),n&&e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg border-2 p-8 text-center ${n.popular?"border-[#F6C100]":"border-gray-200"}`,children:[n.popular&&e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white text-sm font-medium px-4 py-1 rounded-full inline-block mb-4",children:"Mais Popular"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.name}),e.jsx("p",{className:"text-gray-600 mb-6",children:n.description}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["CHF ",n.price.toFixed(2)]}),e.jsxs("span",{className:"text-gray-600 ml-2",children:["/",n.period]})]}),n.savings&&e.jsx("p",{className:"text-green-600 text-sm font-medium mt-2",children:n.savings})]}),e.jsx("button",{onClick:()=>i(n.id),disabled:a,className:`w-full bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white font-bold py-4 px-6 rounded-xl hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Tornar-se Membro"}),e.jsx(ee,{className:"w-5 h-5"})]})}),e.jsx("div",{className:"mt-6 space-y-3",children:n.features.map((o,c)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:o})]},c))})]})})]})}),e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pronto para transformar suas experiências culturais?"}),e.jsx("p",{className:"text-lg text-white text-opacity-90 mb-6",children:"Junte-se a centenas de pessoas que já descobriram uma nova forma de vivenciar a cultura."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs(R,{to:"/",className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 rotate-180"}),e.jsx("span",{children:"Voltar ao Início"})]}),e.jsxs("button",{onClick:()=>i(t),disabled:a,className:"bg-white text-[#C91F1F] font-bold px-8 py-3 rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Começar Agora"})]})]})]})})}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 text-center pointer-events-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(St,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Conteúdo Exclusivo para Membros"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"O DUO PASS Connect é uma funcionalidade premium. Torne-se membro para acessar."}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white font-bold py-3 px-6 rounded-lg hover:shadow-lg transition-all duration-200",children:"Ver Planos"})]})})]})}function id(){const{user:t}=$(),[s,a]=h.useState("directory"),[r,i]=h.useState(!1),[n,o]=h.useState(null),[c,l]=h.useState(!0),[d,m]=h.useState(!1),[u,x]=h.useState(!1),f=async()=>{if(t)try{if(l(!0),t.id==="demo-user-id"){m(!0);const _={id:"demo-affinity",user_id:"demo-user-id",preferred_time:"evening",cultural_frequency:"weekly",budget_range:"medium",group_size_preference:"couple",discovery_style:"mixed",primary_interests:["arte","gastronomia","musica"],preferred_location:"São Paulo - SP",available_days:["friday","saturday","sunday"],social_style:"ambivert",experience_level:"intermediate",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(_),i(!0),l(!1);return}m(!0);const{data:y,error:g}=await T.from("cultural_affinities").select("*").eq("user_id",t.id).single();g&&g.code!=="PGRST116"&&console.error("Erro ao verificar afinidades:",g),y&&(o(y),i(!0))}catch(y){console.error("Erro ao verificar subscription e afinidades:",y)}finally{l(!1)}},b=ge.useCallback(f,[t]);h.useEffect(()=>{t&&b()},[t,b]);const j=y=>{o(y),i(!0),x(!1),a("directory")};if(c)return e.jsx("div",{className:"py-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando DUO PASS Connect..."})]})});if(!d)return e.jsx(cb,{});if(!r||u)return e.jsx(nb,{onComplete:j,existingAffinity:n,onCancel:()=>x(!1)});const v=[{id:"directory",name:"Comunidades",icon:U,description:"Explore e participe",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"chat",name:"Conexões",icon:xe,description:"Suas conversas",color:"text-green-600",bgColor:"bg-green-50"}],p=()=>{switch(s){case"directory":return e.jsx(zo,{userAffinity:n});case"chat":return e.jsx(ob,{});default:return e.jsx(zo,{userAffinity:n})}};return e.jsxs("div",{className:"bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white rounded-lg mb-6",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx(Ne,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:["DUO PASS Connect",e.jsx(Ie,{className:"w-5 h-5 ml-2"})]}),e.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"Conecte-se com pessoas que compartilham suas paixões culturais"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg px-3 py-1.5 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Premium"})]}),e.jsx("button",{onClick:()=>x(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg px-3 py-1.5 transition-colors text-sm",children:"Atualizar Perfil"})]})]}),n&&e.jsx("div",{className:"mt-4 bg-white bg-opacity-10 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsxs("span",{children:["Interesses: ",n.primary_interests.join(", ")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:["Prefere: ",n.group_size_preference]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsxs("span",{children:["Estilo: ",n.social_style]})]})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:v.map(y=>{const g=y.icon,_=s===y.id;return e.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${_?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg ${_?y.bgColor:"bg-gray-100"}`,children:e.jsx(g,{className:`w-4 h-4 ${_?y.color:"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:y.name}),e.jsx("div",{className:"text-xs text-gray-400",children:y.description})]})]},y.id)})})})}),e.jsx("div",{children:p()})]})}function db(){const{user:t,signOut:s}=$(),a=ks(),r=G(),[i,n]=h.useState([]),[o,c]=h.useState([]),[l,d]=h.useState(!0),[m,u]=h.useState("vouchers"),[x,f]=h.useState(null),[b,j]=h.useState(!1);h.useEffect(()=>{const F=new URLSearchParams(a.search).get("tab");F&&["vouchers","offers","connect"].includes(F)&&u(F)},[a.search]);const v=h.useCallback(async()=>{if(t){if(t.id==="demo-user-id"){const w=[{id:"voucher-1",user_id:"demo-user-id",voucher_code:"DEMO001",status:"active",created_at:new Date(Date.now()-1728e5).toISOString(),expires_at:new Date(Date.now()+2592e6).toISOString(),used_at:null},{id:"voucher-2",user_id:"demo-user-id",voucher_code:"DEMO002",status:"used",created_at:new Date(Date.now()-432e6).toISOString(),expires_at:new Date(Date.now()+216e7).toISOString(),used_at:new Date(Date.now()-864e5).toISOString()},{id:"voucher-3",user_id:"demo-user-id",voucher_code:"DEMO003",status:"expired",created_at:new Date(Date.now()-3456e6).toISOString(),expires_at:new Date(Date.now()-432e6).toISOString(),used_at:null}];n(w);return}try{const{data:w,error:F}=await T.from("vouchers").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(F){console.error("Erro ao carregar vouchers:",F);return}n(w||[])}catch(w){console.error("Erro ao carregar vouchers:",w)}}},[t]),p=h.useCallback(async()=>{if(t?.id==="demo-user-id"){const w=[{id:"offer-1",title:"Desconto 50% em Pizza",description:"Aproveite 50% de desconto em qualquer pizza grande da nossa pizzaria. Válido de segunda a quinta-feira.",original_value:45.9,category:"Alimentação",is_active:!0,expires_at:new Date(Date.now()+1296e6).toISOString(),created_at:new Date(Date.now()-2592e5).toISOString()},{id:"offer-2",title:"Massagem Relaxante",description:"Sessão de massagem relaxante de 60 minutos com desconto especial para novos clientes.",original_value:120,category:"Bem-estar",is_active:!0,expires_at:new Date(Date.now()+1728e6).toISOString(),created_at:new Date(Date.now()-864e5).toISOString()},{id:"offer-3",title:"Corte + Barba",description:"Corte de cabelo masculino + barba feita com navalha. Inclui lavagem e finalização.",original_value:35,category:"Beleza",is_active:!0,expires_at:new Date(Date.now()+864e6).toISOString(),created_at:new Date(Date.now()-1728e5).toISOString()},{id:"offer-4",title:"Aula de Yoga",description:"Pacote com 4 aulas de yoga para iniciantes. Inclui tapete e acompanhamento personalizado.",original_value:80,category:"Fitness",is_active:!0,expires_at:new Date(Date.now()+216e7).toISOString(),created_at:new Date(Date.now()-3456e5).toISOString()}];c(w);return}try{const{data:w,error:F}=await T.from("offers").select("*").eq("is_active",!0).gte("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(10);if(F){console.error("Erro ao carregar ofertas:",F);return}c(w||[])}catch(w){console.error("Erro ao carregar ofertas:",w)}},[t]),y=h.useCallback(async()=>{d(!0);try{await Promise.all([v(),p()])}catch(w){console.error("Erro ao carregar dados do dashboard:",w)}finally{d(!1)}},[v,p]);h.useEffect(()=>{t&&y()},[t,y]);const g=async()=>{try{await s()}catch(w){console.error("Erro ao fazer logout:",w)}},_=w=>new Intl.NumberFormat("de-CH",{style:"currency",currency:"CHF"}).format(w*.18),k=w=>new Date(w).toLocaleDateString("de-CH"),S=w=>{switch(w){case"active":return"bg-green-100 text-green-800";case"used":return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=w=>{switch(w){case"active":return"Ativo";case"used":return"Usado";case"expired":return"Expirado";default:return w}},N=w=>{f(w),j(!0)},E=()=>{j(!1),f(null)};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Wt,{className:"mx-auto mb-4 h-16 w-auto",fill:"currentColor"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando dashboard..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Wt,{className:"h-12 w-auto",fill:"currentColor"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-[#333333]",children:"Meu Dashboard"}),e.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",t?.email]})]})]}),e.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(qr,{className:"h-5 w-5"}),e.jsx("span",{children:"Sair"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>u("vouchers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="vouchers"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ge,{className:"h-5 w-5 inline mr-2"}),"Meus Vouchers"]}),e.jsxs("button",{onClick:()=>u("offers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="offers"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ys,{className:"h-5 w-5 inline mr-2"}),"Ofertas Disponíveis"]}),e.jsxs("button",{onClick:()=>u("connect"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="connect"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(U,{className:"h-5 w-5 inline mr-2"}),"DUO PASS Connect"]})]})})}),m==="vouchers"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-6",children:"Meus Vouchers"}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ge,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não possui vouchers"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Explore as ofertas disponíveis para adquirir seus primeiros vouchers"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(w=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"font-semibold text-[#333333]",children:["Voucher #",w.voucher_code]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(w.status)}`,children:C(w.status)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Voucher válido para uso no estabelecimento parceiro"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Código:"}),e.jsx("span",{className:"font-medium font-mono",children:w.voucher_code})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Criado em:"}),e.jsx("span",{children:k(w.created_at)})]}),w.used_at&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Usado em:"}),e.jsx("span",{children:k(w.used_at)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>N(w),className:"flex-1 bg-[#FF6B35] hover:bg-[#E55A2B] text-white font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center space-x-1",children:[e.jsx(nt,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver E-Ticket"})]}),e.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsx(ye,{className:"h-4 w-4 text-gray-600"})})]})]},w.id))})]}),m==="offers"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-6",children:"Ofertas Disponíveis"}),o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma oferta disponível no momento"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(w=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"font-semibold text-[#333333] mb-2",children:w.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:w.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Valor:"}),e.jsx("span",{className:"font-medium text-[#FF6B35]",children:_(w.original_value)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Categoria:"}),e.jsx("span",{children:w.category})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Expira em:"}),e.jsx("span",{children:k(w.expires_at)})]})]}),e.jsx("button",{onClick:()=>r(`/offer/${w.id}`),className:"w-full bg-[#FF6B35] hover:bg-[#E55A2B] text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Ver Detalhes"})]},w.id))})]}),m==="connect"&&e.jsx("div",{className:"-mx-4 sm:-mx-6 lg:-mx-8",children:e.jsx(id,{})})]}),b&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#333333]",children:"Seu E-Ticket"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ib,{voucher:x})}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Apresente este e-ticket no estabelecimento para utilizar seu voucher"}),e.jsx("button",{onClick:E,className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Fechar"})]})]})})]})}function mb(){const{user:t}=$(),[s,a]=h.useState([]),[r,i]=h.useState(!1),[n,o]=h.useState(null),c=s.filter(b=>!b.is_read).length,l=h.useCallback(async()=>{if(t){i(!0),o(null);try{if(t.id==="demo-user-id"){const v=[{id:"1",type:"experience_invite",title:"🤝 Convite para experiência",message:'Ana Silva te convidou para "Arte Contemporânea"',created_at:new Date(Date.now()-72e5).toISOString(),is_read:!1,user_id:t.id,action_url:"/dashboard?tab=connect",action_text:"Ver Convite",updated_at:new Date().toISOString()},{id:"2",type:"voucher_expiring",title:"⏰ Voucher expirando",message:"Teatro Experimental expira em 24h",created_at:new Date(Date.now()-18e6).toISOString(),is_read:!1,user_id:t.id,action_url:"/vouchers",action_text:"Usar Voucher",updated_at:new Date().toISOString()}];a(v),i(!1);return}const{data:b,error:j}=await T.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(j)throw j;a(b||[])}catch(b){console.error("Error fetching notifications:",b),o("Erro ao carregar notificações")}finally{i(!1)}}},[t]),d=h.useCallback(async b=>{try{const{data:j,error:v}=await T.from("notifications").insert([b]).select().single();if(v)throw v;return j}catch(j){throw console.error("Error creating notification:",j),j}},[]),m=h.useCallback(async b=>{try{if(t?.id==="demo-user-id"){a(v=>v.map(p=>p.id===b?{...p,is_read:!0}:p));return}const{error:j}=await T.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",b);if(j)throw j;a(v=>v.map(p=>p.id===b?{...p,is_read:!0}:p))}catch(j){console.error("Error marking notification as read:",j),o("Erro ao marcar notificação como lida")}},[t]),u=h.useCallback(async()=>{if(t)try{if(t.id==="demo-user-id"){a(j=>j.map(v=>({...v,is_read:!0})));return}const{error:b}=await T.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("user_id",t.id).eq("is_read",!1);if(b)throw b;a(j=>j.map(v=>({...v,is_read:!0})))}catch(b){console.error("Error marking all notifications as read:",b),o("Erro ao marcar todas as notificações como lidas")}},[t]),x=h.useCallback(async b=>{try{const{error:j}=await T.from("notifications").delete().eq("id",b);if(j)throw j;a(v=>v.filter(p=>p.id!==b))}catch(j){console.error("Error deleting notification:",j),o("Erro ao excluir notificação")}},[]),f=h.useCallback(async()=>{if(t)try{if(t.id==="demo-user-id"){a([]);return}const{error:b}=await T.from("notifications").delete().eq("user_id",t.id);if(b)throw b;a([])}catch(b){console.error("Error clearing notifications:",b),o("Erro ao limpar notificações")}},[t]);return h.useEffect(()=>{t?l():a([])},[t,l]),h.useEffect(()=>{if(!t||t.id==="demo-user-id")return;const b=T.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},j=>{const v=j.new;a(p=>[v,...p])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},j=>{const v=j.new;a(p=>p.map(y=>y.id===v.id?v:y))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},j=>{const v=j.old;a(p=>p.filter(y=>y.id!==v.id))}).subscribe();return()=>{T.removeChannel(b)}},[t]),{notifications:s,unreadCount:c,loading:r,error:n,fetchNotifications:l,createNotification:d,markAsRead:m,markAllAsRead:u,deleteNotification:x,clearAllNotifications:f}}function ub(){const{user:t,userProfile:s}=$(),{notifications:a,unreadCount:r,clearAllNotifications:i}=mb(),[n,o]=h.useState(!1),c=async()=>{if(!(!t||!s)){o(!0);try{await qe.generateDemoNotifications(t.id,s.user_type)}catch(d){console.error("Error generating demo notifications:",d)}finally{o(!1)}}},l=async d=>{if(t)try{switch(d){case"offer":await qe.notifyNewOffer(t.id,"Pizza Margherita","50% OFF");break;case"voucher":await qe.notifyOfferRedeemed(t.id,"Hambúrguer Gourmet",35);break;case"achievement":await qe.notifyAchievementUnlocked(t.id,"Primeiro Resgate","Você fez seu primeiro resgate no DuoPass Club!");break;case"level":await qe.notifyLevelUp(t.id,"Bronze");break}}catch(m){console.error("Error generating specific notification:",m)}};return t?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(jt,{className:"w-6 h-6 text-[#C91F1F]"}),"Sistema de Notificações"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Teste o sistema inteligente de notificações do DuoPass Club"})]}),r>0&&e.jsxs("div",{className:"bg-[#C91F1F] text-white px-3 py-1 rounded-full text-sm font-medium",children:[r," não lidas"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Tipo de Usuário: ",s?.user_type==="client"?"👤 Cliente":"🏪 Comerciante"]}),e.jsx("p",{className:"text-sm text-gray-600",children:s?.user_type==="client"?"Como cliente, você receberá notificações sobre ofertas, vouchers, conquistas e atualizações do sistema.":"Como comerciante, você receberá notificações sobre performance do negócio, gestão de ofertas e oportunidades."})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Testar Notificações"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:c,disabled:n,className:"flex items-center justify-center gap-2 bg-[#C91F1F] text-white px-4 py-3 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n?e.jsx(km,{className:"w-4 h-4 animate-spin"}):e.jsx(Ct,{className:"w-4 h-4"}),n?"Gerando...":"Gerar Notificações Demo"]}),e.jsxs("button",{onClick:i,disabled:a.length===0,className:"flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ut,{className:"w-4 h-4"}),"Limpar Todas"]})]}),s?.user_type==="client"&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>l("offer"),className:"bg-blue-100 text-blue-700 px-3 py-2 rounded text-sm hover:bg-blue-200 transition-colors",children:"🎁 Nova Oferta"}),e.jsx("button",{onClick:()=>l("voucher"),className:"bg-green-100 text-green-700 px-3 py-2 rounded text-sm hover:bg-green-200 transition-colors",children:"💰 Voucher"}),e.jsx("button",{onClick:()=>l("achievement"),className:"bg-purple-100 text-purple-700 px-3 py-2 rounded text-sm hover:bg-purple-200 transition-colors",children:"🏆 Conquista"}),e.jsx("button",{onClick:()=>l("level"),className:"bg-yellow-100 text-yellow-700 px-3 py-2 rounded text-sm hover:bg-yellow-200 transition-colors",children:"⭐ Level Up"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Estatísticas"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-[#C91F1F]",children:a.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r}),e.jsx("div",{className:"text-sm text-gray-600",children:"Não Lidas"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.length-r}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lidas"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"💡 Como testar:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Clique no sininho no header para ver as notificações"}),e.jsx("li",{children:'• Use "Gerar Notificações Demo" para criar exemplos baseados no seu tipo de usuário'}),e.jsx("li",{children:"• Teste os botões específicos para diferentes tipos de notificação"}),e.jsx("li",{children:"• As notificações aparecem em tempo real"}),e.jsx("li",{children:"• Marque como lidas individualmente ou todas de uma vez"})]})]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(jt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Faça login para testar as notificações"})]})})}const xb=t=>({experience_invite:"🤝",voucher_expiring:"⏰",new_experience:"🎭",offer_new:"🎁",offer_expiring:"⏰",voucher_redeemed:"💰",voucher_available:"🎫",achievement_unlocked:"🏆",level_up:"⭐",goal_reached:"🎯",system_update:"📱",profile_reminder:"👤",business_performance:"📊",offer_management:"💼",business_opportunity:"🎯",system_merchant:"⚙️",payment_processed:"💳"})[t]||"📢",$o=[{id:"1",type:"experience_invite",title:"🤝 Convite para experiência",message:'Ana Silva te convidou para "Arte Contemporânea"',created_at:new Date(Date.now()-2*60*60*1e3).toISOString(),is_read:!1,action_url:"/dashboard?tab=connect",action_text:"Ver Convite"},{id:"2",type:"voucher_expiring",title:"⏰ Voucher expirando",message:"Teatro Experimental expira em 24h",created_at:new Date(Date.now()-5*60*60*1e3).toISOString(),is_read:!1,action_url:"/vouchers",action_text:"Usar Voucher"},{id:"3",type:"new_experience",title:"🎭 Nova experiência",message:"Concerto de Piano disponível",created_at:new Date(Date.now()-24*60*60*1e3).toISOString(),is_read:!0,action_url:"/ofertas",action_text:"Ver Experiência"}];function hb(){const{user:t}=$(),[s,a]=h.useState($o),[r,i]=h.useState(!0),[n,o]=h.useState("all"),[c,l]=h.useState(""),d=s.filter(b=>!b.is_read).length,m=b=>{a(j=>j.map(v=>v.id===b?{...v,is_read:!0}:v))},u=()=>{a(b=>b.map(j=>({...j,is_read:!0})))},x=()=>{a([])};if(h.useEffect(()=>{a($o),i(!1)},[]),!t)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(jt,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Acesso negado"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Você precisa estar logado para ver as notificações."})]})});const f=s.filter(b=>{const j=n==="all"||n==="unread"&&!b.is_read||n==="read"&&b.is_read,v=c===""||b.title.toLowerCase().includes(c.toLowerCase())||b.message.toLowerCase().includes(c.toLowerCase());return j&&v});return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(jt,{className:"w-8 h-8 text-[#C91F1F]"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notificações"}),e.jsx("p",{className:"text-gray-600",children:s.length===0?"Nenhuma notificação encontrada":`${d} não lidas de ${s.length} total`})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar notificações...",value:c,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:n,onChange:b=>o(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Todas"}),e.jsx("option",{value:"unread",children:"Não lidas"}),e.jsx("option",{value:"read",children:"Lidas"})]})})]}),s.length>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:u,disabled:d===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[e.jsx(cl,{className:"w-4 h-4"}),"Marcar todas como lidas"]}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(ut,{className:"w-4 h-4"}),"Limpar todas"]})]})]}),r&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F] mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando notificações..."})]}),!r&&e.jsx("div",{className:"space-y-4 mb-8",children:f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(jt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:c||n!=="all"?"Nenhuma notificação encontrada":"Nenhuma notificação"}),e.jsx("p",{className:"text-gray-600",children:c||n!=="all"?"Tente ajustar os filtros ou termo de busca.":"Você não tem notificações no momento."})]}):f.map(b=>e.jsx("div",{className:`p-4 rounded-lg border transition-all ${b.is_read?"bg-white border-gray-200":"bg-blue-50 border-blue-200 shadow-sm"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:xb(b.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-sm font-medium ${b.is_read?"text-gray-900":"text-gray-900 font-semibold"}`,children:b.title}),e.jsx("p",{className:`mt-1 text-sm ${b.is_read?"text-gray-600":"text-gray-700"}`,children:b.message}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:new Date(b.created_at).toLocaleString("pt-BR")})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:!b.is_read&&e.jsx("button",{onClick:()=>m(b.id),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Marcar como lida",children:e.jsx(ue,{className:"w-4 h-4"})})})]}),b.action_url&&b.action_text&&e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:b.action_url,className:"inline-flex items-center px-3 py-1 text-sm font-medium text-[#C91F1F] bg-red-50 rounded-md hover:bg-red-100 transition-colors",children:b.action_text})})]})]})},b.id))}),e.jsx("div",{className:"border-t pt-8",children:e.jsx(ub,{})})]})})}function pb(){const{id:t}=_t(),s=G(),{user:a,loginDemo:r}=$(),[i,n]=h.useState(null),[o,c]=h.useState(!0),[l,d]=h.useState(!1),[m,u]=h.useState(!1),[x,f]=h.useState(!1);h.useEffect(()=>{if(!t)return;c(!0);const C={"demo-1":{id:"demo-1",merchant_id:"demo-merchant-1",title:"🍕 Pizza Margherita + Bebida GRÁTIS",description:"Deliciosa pizza artesanal com molho especial da casa, mussarela fresca e manjericão. Acompanha refrigerante ou suco natural à sua escolha!",original_value:45.9,category:"gastronomy",location:"Zürich",city:"Zürich",expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",terms_conditions:"Válido de segunda a quinta-feira. Não cumulativo com outras promoções.",created_at:new Date().toISOString(),merchant:{business_name:"Pizzaria Bella Vista",contact_info:"+41 44 123 4567"}},"demo-2":{id:"demo-2",merchant_id:"demo-merchant-2",title:"💄 Maquiagem Completa - 50% OFF",description:"Transformação completa com maquiagem profissional para qualquer ocasião. Inclui limpeza de pele, base, contorno, olhos e batom de longa duração.",original_value:120,category:"beauty",location:"Genève",city:"Genève",expires_at:new Date(Date.now()+5*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=800&h=600&fit=crop",terms_conditions:"Agendamento obrigatório. Válido até o final do mês.",created_at:new Date().toISOString(),merchant:{business_name:"Studio Glamour",contact_info:"+41 22 987 6543"}},"demo-3":{id:"demo-3",merchant_id:"demo-merchant-3",title:"🎬 Cinema 2x1 + Pipoca Gigante",description:"Ingresso duplo para qualquer sessão + pipoca gigante doce ou salgada para compartilhar. Válido para todos os filmes em cartaz!",original_value:38,category:"leisure",location:"Basel",city:"Basel",expires_at:new Date(Date.now()+10*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1489185078254-c3365d6e359f?w=800&h=600&fit=crop",terms_conditions:"Não válido para pré-estreias e sessões especiais.",created_at:new Date().toISOString(),merchant:{business_name:"CineMax Basel",contact_info:"+41 61 456 7890"}},"demo-4":{id:"demo-4",merchant_id:"demo-merchant-4",title:"💪 1 Mês de Academia + Personal",description:"Acesso completo à academia por 30 dias + 2 sessões de personal trainer. Inclui avaliação física e plano de treino personalizado.",original_value:180,category:"fitness",location:"Bern",city:"Bern",expires_at:new Date(Date.now()+3*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&h=600&fit=crop",terms_conditions:"Válido apenas para novos alunos. Documentos obrigatórios.",created_at:new Date().toISOString(),merchant:{business_name:"FitZone Bern",contact_info:"+41 31 234 5678"}},"demo-5":{id:"demo-5",merchant_id:"demo-merchant-5",title:"📱 iPhone 15 - Cashback CHF 36.-",description:"iPhone 15 128GB com cashback exclusivo de CHF 36.- + película de vidro e capinha premium inclusos. Parcelamento em até 12x sem juros!",original_value:1299,category:"shopping",location:"Lausanne",city:"Lausanne",expires_at:new Date(Date.now()+2*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=800&h=600&fit=crop",terms_conditions:"Cashback creditado em até 30 dias. Estoque limitado.",created_at:new Date().toISOString(),merchant:{business_name:"TechStore Lausanne",contact_info:"+41 21 345 6789"}},"demo-6":{id:"demo-6",merchant_id:"demo-merchant-6",title:"🏠 Limpeza Residencial Completa",description:"Limpeza profunda de casa ou apartamento até 100m². Inclui todos os cômodos, janelas, eletrodomésticos e organização básica.",original_value:150,category:"services",location:"Winterthur",city:"Winterthur",expires_at:new Date(Date.now()+14*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop",terms_conditions:"Agendamento com 48h de antecedência. Produtos inclusos.",created_at:new Date().toISOString(),merchant:{business_name:"CleanPro Services",contact_info:"+41 52 678 9012"}}}[t];n(C||null),c(!1)},[t]);const b=async()=>{a||(console.log("🎭 Usuário não logado, fazendo login demo..."),await r(),await new Promise(S=>setTimeout(S,500))),d(!0);try{const S=`voucher-${Date.now()}`,C=`DUO${Date.now().toString().slice(-6)}`;await new Promise(E=>setTimeout(E,1500));const N={id:S,offer_id:i?.id,status:"active",code:C,qr_code:`{"voucher_id":"${S}","code":"${C}","offer_id":"${i?.id}"}`,redeemed_at:new Date().toISOString(),expires_at:i?.expires_at,offer_details:{title:i?.title,business_name:i?.merchant?.business_name,original_price:i?.original_value,duo_price:i?.original_value?i.original_value*.5:0}};localStorage.setItem(`voucher-${S}`,JSON.stringify(N)),s(`/voucher/${S}/active?code=${C}`)}catch(S){console.error("Erro ao resgatar voucher:",S),alert("Erro ao resgatar voucher. Tente novamente.")}d(!1),u(!1)},j=()=>{f(!x)},v=()=>{navigator.share?navigator.share({title:i?.title,text:i?.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copiado para a área de transferência!"))},p=()=>{if(!i)return 0;const S=new Date,N=new Date(i.expires_at).getTime()-S.getTime();return Math.ceil(N/(1e3*60*60*24))},y=()=>50;if(o)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando detalhes da oferta..."})]})});if(!i)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-[#333333] mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Oferta não encontrada"}),e.jsx("button",{onClick:()=>s("/ofertas"),className:"text-[#C91F1F] hover:underline",children:"Voltar às ofertas"})]})});const g=p(),_=y(),k=i.original_value*(1-_/100);return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF] pt-16",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-[#333333] hover:text-[#C91F1F] transition-colors",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Voltar"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:v,className:"p-2 rounded-full bg-white border-2 border-gray-200 hover:border-[#F6C100] transition-colors",children:e.jsx(ot,{className:"w-5 h-5 text-[#333333]"})}),e.jsx("button",{onClick:j,className:`p-2 rounded-full border-2 transition-colors ${x?"bg-red-50 border-red-200 text-red-500":"bg-white border-gray-200 hover:border-[#F6C100] text-[#333333]"}`,children:e.jsx(W,{className:`w-5 h-5 ${x?"fill-current":""}`})})]})]}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"h-80 bg-gray-200 rounded-2xl overflow-hidden",children:i.image_url&&e.jsx("img",{src:i.image_url,alt:i.title,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute top-4 left-4 flex gap-2",children:g<=3&&e.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1 animate-pulse",children:[e.jsx(je,{className:"w-4 h-4"}),g<=1?"ÚLTIMAS HORAS":`${g} DIAS`]})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("div",{className:"bg-green-500 text-white px-4 py-2 rounded-full text-lg font-bold",children:["-",_,"%"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#333333] flex-1",children:i.title}),e.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white ml-4",children:i.category})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"font-medium",children:"4.8"}),e.jsx("span",{children:"(127 avaliações)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-4 h-4 text-[#C91F1F]"}),e.jsx("span",{children:"342+ pessoas resgataram"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-[#333333] mb-3",children:"Sobre esta oferta"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.description})]}),i.merchant&&e.jsxs("div",{className:"mb-8 p-6 bg-white rounded-2xl border-2 border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Estabelecimento"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-[#333333]",children:i.merchant.business_name}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[#C91F1F]"}),e.jsx("span",{children:i.merchant.contact_info})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-[#333333] mb-3 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-[#C91F1F]"}),"Termos e Condições"]}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:i.terms_conditions})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["CHF ",k.toFixed(2)]}),e.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["CHF ",i.original_value.toFixed(2)]})]}),e.jsxs("div",{className:"text-green-600 font-medium",children:["Economize CHF ",(i.original_value-k).toFixed(2)]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Ee,{className:"w-4 h-4 mr-3 text-[#C91F1F]"}),e.jsxs("span",{className:"text-gray-700",children:["Válido até: ",new Date(i.expires_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(K,{className:"w-4 h-4 mr-3 text-[#C91F1F]"}),e.jsx("span",{className:"text-gray-700",children:i.city})]}),g<=7&&e.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[e.jsx(je,{className:"w-4 h-4 mr-3"}),e.jsx("span",{className:"font-medium",children:g<=1?"Expira hoje!":`Expira em ${g} dias`})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>u(!0),disabled:l,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-6 rounded-full font-bold text-lg hover:shadow-lg transition-all transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"RESGATANDO..."]}):"🎯 RESGATAR VOUCHER"}),e.jsx("button",{onClick:j,className:`w-full py-3 px-6 rounded-full font-semibold border-2 transition-all ${x?"bg-red-50 border-red-200 text-red-600":"bg-white border-[#F6C100] text-[#C91F1F] hover:bg-[#F6C100] hover:text-white"}`,children:x?"❤️ SALVO":"🔖 SALVAR PARA DEPOIS"})]})]}),e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ne,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-800",children:"Garantia DuoPass"})]}),e.jsx("p",{className:"text-green-700 text-sm",children:"Reembolso total se o estabelecimento não honrar a oferta."})]})]})})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(lt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-2",children:"Confirmar Resgate"}),e.jsx("p",{className:"text-gray-600",children:"Você está prestes a resgatar este voucher. Esta ação não pode ser desfeita."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-[#333333] mb-2",children:i.title}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Valor original:"}),e.jsxs("span",{className:"line-through",children:["CHF ",i.original_value.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-green-600",children:[e.jsx("span",{children:"Seu preço:"}),e.jsxs("span",{children:["CHF ",k.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-xl text-[#333333] font-medium hover:bg-gray-50 transition-all",children:"Cancelar"}),e.jsx("button",{onClick:b,disabled:l,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:l?"Resgatando...":"Confirmar"})]})]})})]})}function fb(){const t=G(),{user:s}=$(),[a,r]=h.useState([]),[i,n]=h.useState([]),[o,c]=h.useState(!0),[l,d]=h.useState("all"),[m,u]=h.useState(""),x=h.useCallback(()=>{const C=new Date;return[{id:"demo-voucher-1",user_id:s?.id||"demo-user",offer_id:"demo-1",merchant_id:"demo-merchant-1",voucher_code:"DUO123456",qr_code_data:"demo-qr-data-1",status:"active",created_at:new Date(C.getTime()-2*24*60*60*1e3).toISOString(),expires_at:new Date(C.getTime()+28*24*60*60*1e3).toISOString(),used_at:null,offer:{id:"demo-1",merchant_id:"demo-merchant-1",title:"🍕 Pizza Margherita + Bebida GRÁTIS",description:"Deliciosa pizza artesanal com molho especial da casa.",original_value:45.9,category:"gastronomy",location:"Zürich",city:"Zürich",expires_at:new Date(C.getTime()+28*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",terms_conditions:"Válido de segunda a quinta-feira das 18h às 22h.",created_at:new Date().toISOString(),merchant:{business_name:"Pizzaria Bella Vista",contact_info:"+41 44 123 4567"}}},{id:"demo-voucher-2",user_id:s?.id||"demo-user",offer_id:"demo-2",merchant_id:"demo-merchant-2",voucher_code:"DUO789012",qr_code_data:"demo-qr-data-2",status:"used",created_at:new Date(C.getTime()-10*24*60*60*1e3).toISOString(),expires_at:new Date(C.getTime()+20*24*60*60*1e3).toISOString(),used_at:new Date(C.getTime()-5*24*60*60*1e3).toISOString(),offer:{id:"demo-2",merchant_id:"demo-merchant-2",title:"💄 Maquiagem Completa - 50% OFF",description:"Transformação completa com maquiagem profissional.",original_value:120,category:"beauty",location:"Genève",city:"Genève",expires_at:new Date(C.getTime()+20*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=400&h=300&fit=crop",terms_conditions:"Agendamento obrigatório com 24h de antecedência.",created_at:new Date().toISOString(),merchant:{business_name:"Studio Glamour",contact_info:"+41 22 987 6543"}}},{id:"demo-voucher-3",user_id:s?.id||"demo-user",offer_id:"demo-3",merchant_id:"demo-merchant-3",voucher_code:"DUO345678",qr_code_data:"demo-qr-data-3",status:"expired",created_at:new Date(C.getTime()-40*24*60*60*1e3).toISOString(),expires_at:new Date(C.getTime()-5*24*60*60*1e3).toISOString(),used_at:null,offer:{id:"demo-3",merchant_id:"demo-merchant-3",title:"☕ Café Premium + Croissant",description:"Café especial da casa com croissant artesanal.",original_value:18.5,category:"gastronomy",location:"Basel",city:"Basel",expires_at:new Date(C.getTime()-5*24*60*60*1e3).toISOString(),is_active:!1,image_url:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=300&fit=crop",terms_conditions:"Válido apenas no período da manhã.",created_at:new Date().toISOString(),merchant:{business_name:"Café Central",contact_info:"+41 61 555 0123"}}}]},[s]),f=h.useCallback(async()=>{if(s){c(!0);try{const{data:C,error:N}=await T.from("vouchers").select(`
          *,
          offers (
            id,
            title,
            description,
            original_value,
            category,
            location,
            image_url,
            merchants (
              name
            )
          )
        `).eq("user_id",s.id).order("created_at",{ascending:!1});if(C&&!N){const E=C.map(w=>({...w,offer:w.offers?{id:w.offers.id,merchant_id:w.merchant_id,title:w.offers.title,description:w.offers.description,original_value:w.offers.original_value||0,category:w.offers.category,location:w.offers.location||"Zürich",city:w.offers.location||"Zürich",expires_at:w.expires_at,is_active:!0,image_url:w.offers.image_url,terms_conditions:"Consulte termos e condições.",created_at:w.created_at,merchant:{business_name:w.offers.merchants?.name||"Merchant",contact_info:"Contato não informado"}}:void 0}));r(E)}else{const E=x();r(E)}}catch(C){console.error("Erro ao carregar vouchers:",C);const N=x();r(N)}c(!1)}},[s,x]),b=h.useCallback(()=>{let C=a;l!=="all"&&(l==="expired"?C=C.filter(N=>new Date(N.expires_at)<=new Date&&N.status!=="used"):C=C.filter(N=>{if(l==="active"){const E=new Date(N.expires_at)<=new Date;return N.status==="active"&&!E}return N.status===l})),m&&(C=C.filter(N=>N.offer?.title.toLowerCase().includes(m.toLowerCase())||N.offer?.merchant?.business_name.toLowerCase().includes(m.toLowerCase())||N.voucher_code.toLowerCase().includes(m.toLowerCase()))),n(C)},[a,l,m]);h.useEffect(()=>{f()},[f]),h.useEffect(()=>{b()},[b]);const j=C=>C.status==="used"?"used":new Date(C.expires_at)<=new Date?"expired":"active",v=C=>{switch(C){case"active":return e.jsx(z,{className:"w-5 h-5 text-green-500"});case"used":return e.jsx(z,{className:"w-5 h-5 text-blue-500"});case"expired":return e.jsx(zr,{className:"w-5 h-5 text-red-500"});default:return e.jsx(Ze,{className:"w-5 h-5 text-gray-500"})}},p=C=>{switch(C){case"active":return"Ativo";case"used":return"Usado";case"expired":return"Expirado";default:return"Desconhecido"}},y=C=>{switch(C){case"active":return"bg-green-100 text-green-800 border-green-200";case"used":return"bg-blue-100 text-blue-800 border-blue-200";case"expired":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=C=>{const N=j(C);t(N==="active"?`/voucher/${C.id}/active`:`/voucher/${C.id}`)},_=async C=>{if(window.confirm("Tem certeza que deseja excluir este voucher?"))try{const{error:N}=await T.from("vouchers").delete().eq("id",C);N||r(a.filter(E=>E.id!==C))}catch(N){console.error("Erro ao excluir voucher:",N),r(a.filter(E=>E.id!==C))}},k=()=>{const C=a.filter(w=>{const F=new Date(w.expires_at)<=new Date;return w.status==="active"&&!F}).length,N=a.filter(w=>w.status==="used").length,E=a.filter(w=>new Date(w.expires_at)<=new Date&&w.status!=="used").length;return{active:C,used:N,expired:E,total:a.length}};if(o)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando seus vouchers..."})]})});const S=k();return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] pt-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#333333] mb-2",children:"Meus Vouchers"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie todos os seus vouchers em um só lugar"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border-2 border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-[#333333]",children:S.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border-2 border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.active}),e.jsx("div",{className:"text-sm text-green-700",children:"Ativos"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border-2 border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.used}),e.jsx("div",{className:"text-sm text-blue-700",children:"Usados"})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border-2 border-red-200",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:S.expired}),e.jsx("div",{className:"text-sm text-red-700",children:"Expirados"})]})]}),e.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar por título, estabelecimento ou código...",value:m,onChange:C=>u(C.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#F6C100] focus:outline-none"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pm,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:l,onChange:C=>d(C.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#F6C100] focus:outline-none bg-white",children:[e.jsxs("option",{value:"all",children:["Todos (",S.total,")"]}),e.jsxs("option",{value:"active",children:["Ativos (",S.active,")"]}),e.jsxs("option",{value:"used",children:["Usados (",S.used,")"]}),e.jsxs("option",{value:"expired",children:["Expirados (",S.expired,")"]})]})]})]})}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ze,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-[#333333] mb-2",children:m||l!=="all"?"Nenhum voucher encontrado":"Você ainda não tem vouchers"}),e.jsx("p",{className:"text-gray-600 mb-6",children:m||l!=="all"?"Tente ajustar os filtros de busca":"Explore nossas ofertas e resgate seu primeiro voucher!"}),!m&&l==="all"&&e.jsx("button",{onClick:()=>t("/ofertas"),className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Ver Ofertas"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(C=>{const N=j(C),E=(C.offer?.original_value||0)*.5;return e.jsxs("div",{className:`bg-white rounded-xl border-2 overflow-hidden transition-all hover:shadow-lg ${N==="active"?"border-green-200 hover:border-green-300":N==="used"?"border-blue-200 hover:border-blue-300":"border-red-200 hover:border-red-300"}`,children:[C.offer?.image_url&&e.jsxs("div",{className:"h-48 bg-gray-200 overflow-hidden relative",children:[e.jsx("img",{src:C.offer.image_url,alt:C.offer.title,className:`w-full h-full object-cover ${N!=="active"?"opacity-60":""}`}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold border-2 ${y(N)}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[v(N),p(N)]})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2 line-clamp-2",children:C.offer?.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.offer?.merchant?.business_name}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["CHF ",E.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["CHF ",C.offer?.original_value.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-xs",children:C.voucher_code})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{children:N==="used"&&C.used_at?`Usado em ${new Date(C.used_at).toLocaleDateString()}`:`Expira em ${new Date(C.expires_at).toLocaleDateString()}`})]}),C.offer?.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:C.offer.location})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>g(C),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${N==="active"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(ye,{className:"w-4 h-4"}),N==="active"?"Usar":"Ver"]}),N!=="active"&&e.jsx("button",{onClick:()=>_(C.id),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:"Excluir voucher",children:e.jsx(ut,{className:"w-4 h-4"})})]})]})]},C.id)})})]})})}function gb(){const{id:t}=_t(),s=G(),{user:a}=$(),[r,i]=h.useState(null),[n,o]=h.useState(!0),[c,l]=h.useState(null),[d,m]=h.useState(!1),[u,x]=h.useState(!1),[f,b]=h.useState(!1),j=h.useCallback(async()=>{try{if(o(!0),l(null),!a?.id){l("Usuário não autenticado");return}if(!t){l("ID do voucher não fornecido");return}console.log("🔍 Carregando detalhes do voucher:",t);const{data:F,error:P}=await T.from("vouchers").select("*").eq("id",t).eq("user_id",a.id).single();let D=F;if(P&&P.code==="PGRST116"){const{data:A,error:V}=await T.from("vouchers").select("*").eq("code",t).eq("user_id",a.id).single();if(V){console.error("❌ Voucher não encontrado:",V),l("Voucher não encontrado");return}D=A}else if(P){console.error("❌ Erro ao carregar voucher:",P),l("Erro ao carregar voucher");return}console.log("✅ Voucher carregado:",D),i(D)}catch(F){console.error("❌ Erro inesperado:",F),l("Erro inesperado ao carregar voucher")}finally{o(!1)}},[t,a?.id]);h.useEffect(()=>{j()},[j]);const v=async()=>{if(!(!r||!a))try{if(x(!0),console.log("🎯 Resgatando voucher:",r.id),r.status!=="purchased"){alert("Este voucher não está disponível para resgate.");return}if(new Date(r.expires_at)<=new Date){alert("Este voucher expirou e não pode mais ser resgatado.");return}const{error:F}=await T.from("vouchers").update({status:"active",used_at:new Date().toISOString()}).eq("id",r.id).eq("user_id",a.id);if(F){console.error("❌ Erro ao resgatar voucher:",F),alert("Erro ao resgatar voucher. Tente novamente.");return}console.log("✅ Voucher resgatado com sucesso"),s(`/voucher/${r.id}/active`)}catch(F){console.error("❌ Erro inesperado ao resgatar:",F),alert("Erro inesperado. Tente novamente.")}finally{x(!1),m(!1)}},p=async()=>{if(!(!r||!a))try{console.log("💾 Salvando voucher para mais tarde:",r.id),await new Promise(F=>setTimeout(F,500)),b(!0),alert("Voucher salvo com sucesso!")}catch(F){console.error("❌ Erro ao salvar voucher:",F),alert("Erro ao salvar voucher. Tente novamente.")}},y=()=>{r&&s(`/voucher/${r.id}/active`)},g=F=>new Date(F).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),_=F=>{const P=new Date,A=new Date(F).getTime()-P.getTime();return Math.ceil(A/(1e3*60*60*24))},k=()=>r?Math.round((1-r.discounted_price/r.original_price)*100):0;if(n)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando detalhes do voucher..."})]})});if(c||!r)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-[#333333] mb-2",children:c||"Voucher não encontrado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Verifique se o link está correto ou se você tem permissão para acessar este voucher."}),e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"text-[#C91F1F] hover:underline font-medium",children:"Ver meus vouchers"})]})});const S=_(r.expires_at),C=S<=3&&S>0,N=S<=0,E=r.status==="used",w=k();return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF] pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-[#333333] hover:text-[#C91F1F] transition-colors",children:[e.jsx(pe,{className:"w-5 h-5 mr-2"}),"Voltar"]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-[#F6C100] to-[#C91F1F]",children:[r.image_url?e.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover",onError:F=>{F.currentTarget.style.display="none"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(nt,{className:"w-16 h-16 text-white opacity-50"})}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[E&&e.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"✓ Usado"}),N&&e.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"⚠️ Expirado"}),C&&!E&&!N&&e.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:["⚠️ Expira em ",S," dia",S!==1?"s":""]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#333333] mb-2",children:r.title}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["CHF ",r.discounted_price.toFixed(2)]}),r.original_price>r.discounted_price&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["CHF ",r.original_price.toFixed(2)]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-semibold",children:["-",w,"% OFF"]})]})]}),e.jsx("p",{className:"text-lg text-[#C91F1F] font-semibold",children:r.business_name})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:p,className:`p-2 rounded-full transition-colors ${f?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:f?"Salvo":"Salvar para depois",children:e.jsx(W,{className:`w-5 h-5 ${f?"fill-current":""}`})}),e.jsx("button",{className:"p-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-full transition-colors",title:"Compartilhar",children:e.jsx(ot,{className:"w-5 h-5"})})]})]}),(E||N)&&e.jsx("div",{className:`p-4 rounded-lg mb-6 ${E?"bg-blue-50 border border-blue-200":"bg-red-50 border border-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[E?e.jsx(z,{className:"w-5 h-5 text-blue-600"}):e.jsx(Ze,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:`font-semibold ${E?"text-blue-800":"text-red-800"}`,children:E?`Voucher usado em ${g(r.used_at)}`:"Este voucher expirou e não pode mais ser usado"})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(je,{className:"w-5 h-5 text-[#C91F1F] mr-2"}),e.jsx("h3",{className:"font-semibold text-[#333333]",children:"Validade"})]}),e.jsxs("p",{className:"text-gray-600",children:["Válido até ",g(r.expires_at)]}),e.jsx("p",{className:`text-sm mt-1 ${N?"text-red-500":C?"text-orange-500":"text-gray-500"}`,children:N?"Expirado":S>0?`${S} dia${S!==1?"s":""} restante${S!==1?"s":""}`:"Expira hoje"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(K,{className:"w-5 h-5 text-[#C91F1F] mr-2"}),e.jsx("h3",{className:"font-semibold text-[#333333]",children:"Local de uso"})]}),e.jsx("p",{className:"text-gray-600",children:r.business_name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Apresente o código no estabelecimento"})]})]}),r.terms_conditions&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-3",children:"Termos e Condições"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600",children:r.terms_conditions})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E||N?e.jsx("button",{onClick:y,className:"flex-1 bg-gray-500 text-white py-4 px-8 rounded-full font-bold text-lg hover:bg-gray-600 transition-all",children:"👁️ VER DETALHES"}):r.status==="active"?e.jsx("button",{onClick:y,className:"flex-1 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-8 rounded-full font-bold text-lg hover:shadow-lg transition-all",children:"🎫 USAR VOUCHER"}):e.jsx("button",{onClick:()=>m(!0),className:"flex-1 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-8 rounded-full font-bold text-lg hover:shadow-lg transition-all",children:"🎯 RESGATAR VOUCHER"}),!f&&!E&&!N&&e.jsx("button",{onClick:p,className:"sm:w-auto bg-white border-2 border-[#C91F1F] text-[#C91F1F] py-4 px-8 rounded-full font-semibold hover:bg-[#C91F1F] hover:text-white transition-all",children:"💾 SALVAR PARA DEPOIS"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#333333] mb-4 text-center",children:"Confirmar Resgate"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-[#333333] mb-2",children:r.title}),e.jsxs("p",{className:"text-[#C91F1F] font-semibold mb-2",children:["CHF ",r.discounted_price.toFixed(2),r.original_price>r.discounted_price&&e.jsxs("span",{className:"text-gray-500 line-through ml-2",children:["CHF ",r.original_price.toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Válido até ",g(r.expires_at)]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["⚠️ ",e.jsx("strong",{children:"Atenção:"})," Após o resgate, você receberá um código único para apresentar no estabelecimento."]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>m(!1),disabled:u,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-full font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancelar"}),e.jsx("button",{onClick:v,disabled:u,className:"flex-1 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-3 px-6 rounded-full font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:u?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Resgatando..."]}):"Confirmar Resgate"})]})]})})]})}function bb(){const{id:t}=_t(),s=G(),{user:a}=$(),[r,i]=h.useState(null),[n,o]=h.useState(!0),[c,l]=h.useState(""),[d,m]=h.useState(!1),[u,x]=h.useState(!1),[f,b]=h.useState("");h.useEffect(()=>{t&&a&&j()},[t,a]),h.useEffect(()=>{if(r?.expires_at){const N=setInterval(()=>{v()},1e3);return()=>clearInterval(N)}},[r?.expires_at]);const j=async()=>{if(!t||!a){console.error("ID do voucher ou usuário não encontrado"),s("/meus-vouchers");return}try{o(!0),console.log("🔍 Carregando voucher ativo:",t);const{data:N,error:E}=await T.from("vouchers").select("*").eq("id",t).eq("user_id",a.id).single();if(E){console.error("❌ Erro ao carregar voucher:",E),s("/meus-vouchers");return}if(!N){console.error("❌ Voucher não encontrado"),s("/meus-vouchers");return}const w={id:N.id,voucher_code:N.code,qr_code_data:`DUO-${N.id}-${N.code}`,status:N.status,expires_at:N.expires_at,created_at:N.created_at,offer:{id:N.offer_id||"default-offer",title:N.title,description:N.terms_conditions||"Experiência cultural exclusiva DUO PASS",original_value:N.original_price,image_url:N.image_url||"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",location:"Suíça",terms_conditions:N.terms_conditions||"Válido conforme termos e condições.",merchant:{business_name:N.business_name,address:"Endereço disponível no estabelecimento",phone:"+41 XX XXX XXXX",website:"https://duopassclub.ch",description:`Parceiro cultural DUO PASS - ${N.business_name}`}}};if(i(w),w.qr_code_data){const F=await Xc.toDataURL(w.qr_code_data,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});l(F)}console.log("✅ Voucher ativo carregado com sucesso")}catch(N){console.error("❌ Erro inesperado ao carregar voucher:",N),s("/meus-vouchers")}finally{o(!1)}},v=()=>{if(!r?.expires_at)return;const N=new Date().getTime(),w=new Date(r.expires_at).getTime()-N;if(w<=0){b("Expirado");return}const F=Math.floor(w/(1e3*60*60*24)),P=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(w%(1e3*60*60)/(1e3*60)),A=Math.floor(w%(1e3*60)/1e3);F>0?b(`${F}d ${P}h ${D}m`):P>0?b(`${P}h ${D}m ${A}s`):b(`${D}m ${A}s`)},p=async()=>{if(r?.voucher_code)try{await navigator.clipboard.writeText(r.voucher_code),x(!0),setTimeout(()=>x(!1),2e3)}catch{console.error("Erro ao copiar código")}},y=async()=>{if(navigator.share&&r)try{await navigator.share({title:`Voucher: ${r.offer.title}`,text:"Confira meu voucher ativo no DuoPass!",url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else navigator.clipboard.writeText(window.location.href),alert("Link copiado para a área de transferência!")},g=()=>{if(r?.offer.merchant.address){const N=encodeURIComponent(r.offer.merchant.address);window.open(`https://maps.google.com/maps?q=${N}`,"_blank")}},_=()=>{r?.offer.merchant.phone&&window.open(`tel:${r.offer.merchant.phone}`)},k=()=>{r?.offer.merchant.website&&window.open(r.offer.merchant.website,"_blank")};if(n)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F]"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Voucher não encontrado"}),e.jsx("button",{onClick:()=>s("/vouchers"),className:"text-[#C91F1F] hover:underline",children:"Voltar aos meus vouchers"})]})});const S=new Date(r.expires_at)<new Date,C=r.status==="used";return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:()=>s("/vouchers"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),"Meus Vouchers"]}),e.jsx("button",{onClick:y,className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:e.jsx(ot,{className:"h-5 w-5"})})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(S||C)&&e.jsx(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`mb-6 p-4 rounded-lg border ${C?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center",children:[C?e.jsx(z,{className:"h-5 w-5 mr-2"}):e.jsx(Ze,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:C?"Voucher utilizado com sucesso!":"Este voucher expirou"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#8B1538] p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:r.offer.title}),e.jsxs("div",{className:"flex items-center text-white/90",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r.offer.location})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["CHF ",(r.offer.original_value*.18/2).toFixed(2)]}),e.jsxs("div",{className:"text-white/80 line-through text-sm",children:["CHF ",(r.offer.original_value*.18).toFixed(2)]})]})]})}),e.jsx("div",{className:"aspect-video bg-gray-200",children:e.jsx("img",{src:r.offer.image_url,alt:r.offer.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-700 mb-6",children:r.offer.description}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código do Voucher"}),e.jsx("div",{className:"text-2xl font-mono font-bold text-[#C91F1F]",children:r.voucher_code})]}),e.jsx("button",{onClick:p,className:`p-3 rounded-lg transition-colors ${u?"bg-green-100 text-green-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:u?e.jsx(z,{className:"h-5 w-5"}):e.jsx(ml,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"text-center mb-6",children:e.jsxs("button",{onClick:()=>m(!d),className:"inline-flex items-center px-6 py-3 bg-[#C91F1F] text-white rounded-lg hover:bg-[#B01B1B] transition-colors",children:[e.jsx(nt,{className:"h-5 w-5 mr-2"}),d?"Ocultar QR Code":"Mostrar QR Code"]})}),d&&c&&e.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-6",children:[e.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-200 rounded-lg",children:e.jsx("img",{src:c,alt:"QR Code",className:"w-64 h-64"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Apresente este QR Code no estabelecimento"})]}),r.offer.terms_conditions&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Termos e Condições"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.offer.terms_conditions})]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Sobre o estabelecimento"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-lg",children:r.offer.merchant.business_name}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.offer.merchant.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(K,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Endereço"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.offer.merchant.address})]})]}),r.offer.merchant.phone&&e.jsxs("div",{className:"flex items-start",children:[e.jsx(it,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Telefone"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.offer.merchant.phone})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:g,className:"flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[e.jsx(Nm,{className:"h-4 w-4 mr-2"}),"Ver no Mapa"]}),r.offer.merchant.phone&&e.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Ligar"]}),r.offer.merchant.website&&e.jsxs("button",{onClick:k,className:"flex items-center px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[e.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Site"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm p-6 sticky top-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Status do Voucher"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C?"bg-green-100 text-green-800":S?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:C?"Utilizado":S?"Expirado":"Ativo"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Criado em:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(r.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Válido até:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(r.expires_at).toLocaleDateString()})]}),!S&&!C&&f&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center text-orange-800",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"text-sm font-medium",children:["Expira em: ",f]})]})})]})]}),e.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Como usar"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#C91F1F] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"1"}),e.jsx("p",{children:"Vá até o estabelecimento no endereço indicado"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#C91F1F] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"2"}),e.jsx("p",{children:"Apresente o QR Code ou código do voucher"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#C91F1F] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"3"}),e.jsx("p",{children:"Aproveite sua oferta exclusiva!"})]})]})]}),C&&e.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Avalie sua experiência"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(N=>e.jsx("button",{className:"p-1 hover:scale-110 transition-transform",children:e.jsx(H,{className:"h-6 w-6 text-gray-300 hover:text-yellow-400"})},N))}),e.jsx("button",{className:"w-full bg-[#C91F1F] text-white py-2 rounded-lg hover:bg-[#B01B1B] transition-colors",children:"Enviar Avaliação"})]})]})]})]})]})]})}function yb(){const{id:t}=_t(),s=G(),[a]=Qt(),{user:r}=$(),[i,n]=h.useState(null),[o,c]=h.useState(!0),[l,d]=h.useState(!1),[m,u]=h.useState(!1),x=h.useCallback(y=>{const g=a.get("code")||"DUO"+Math.random().toString(36).substr(2,8).toUpperCase();return{id:y,voucher_code:g,qr_code_data:`DUO_PASS_${g}`,status:"active",expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:new Date().toISOString(),cultural_partners:{business_name:"Café das Letras",contact_name:"Maria Silva",email:"contato@cafedasletras.com",address:{street:"Rua das Flores, 123",city:"São Paulo",state:"SP",zipcode:"01234-567"}},cultural_experiences:{experience_name:"Sarau Íntimo com Degustação",duo_benefit:"Duas pessoas vivem uma experiência cultural única com degustação completa.",original_price:120,duo_price:60}}},[a]),f=h.useCallback(async()=>{if(t)try{c(!0);const{data:y}=await T.from("vouchers").select(`
          *,
          cultural_partners:users!merchant_id (
            business_name,
            contact_name,
            email,
            address
          ),
          cultural_experiences (
            experience_name,
            duo_benefit,
            original_price,
            duo_price
          )
        `).eq("id",t).eq("user_id",r?.id).single();n(y||x(t))}catch(y){console.error("Erro ao carregar voucher:",y),n(x(t))}finally{c(!1)}},[t,r?.id,x]);h.useEffect(()=>{f()},[f]);const b=async()=>{if(i)try{await navigator.clipboard.writeText(i.voucher_code),d(!0),setTimeout(()=>d(!1),2e3)}catch(y){console.error("Erro ao copiar código:",y)}},j=y=>new Date(y).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),v=()=>{if(!i)return 0;const y=new Date(i.expires_at),g=new Date,_=y.getTime()-g.getTime();return Math.ceil(_/(1e3*60*60*24))};if(o)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})});if(!i)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Voucher não encontrado"}),e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"text-amber-600 hover:text-amber-700 font-medium",children:"Ver meus vouchers"})]})});const p=v();return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"bg-white bg-opacity-20 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-12 h-12"})}),e.jsx(M.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-4xl md:text-5xl font-bold mb-4",children:"DUO PASS Ativo! 🎉"}),e.jsx(M.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Seu voucher foi gerado com sucesso! Agora você pode desfrutar da experiência cultural."})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(M.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},onClick:()=>s("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-amber-600 transition-colors mb-8",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar ao início"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(M.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"DUO PASS"}),e.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm font-medium",children:"Ativo"})]}),e.jsx("h3",{className:"text-lg font-semibold",children:i.cultural_experiences.experience_name})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Código do Voucher"}),e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800",children:i.voucher_code}),e.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-amber-600 transition-colors",title:"Copiar código",children:e.jsx(ml,{className:"w-5 h-5"})})]}),l&&e.jsx("p",{className:"text-green-600 text-sm mt-2",children:"Código copiado!"})]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("button",{onClick:()=>u(!m),className:"flex items-center space-x-2 mx-auto text-amber-600 hover:text-amber-700 transition-colors",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsxs("span",{children:[m?"Ocultar":"Mostrar"," QR Code"]})]}),m&&e.jsxs(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:e.jsx(nt,{className:"w-16 h-16 text-gray-400"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"QR Code para apresentar no local"})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Válido até: ",j(i.expires_at)]}),e.jsx("p",{className:"text-sm",children:p>0?`${p} dias restantes`:"Expira hoje"})]})]})})]})]}),e.jsxs(M.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detalhes da Experiência"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"🎁 Benefício DUO:"}),e.jsx("p",{className:"text-gray-800",children:i.cultural_experiences.duo_benefit})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx("span",{className:"text-gray-600",children:"Valor economizado:"}),e.jsxs("span",{className:"text-green-600 font-bold",children:["CHF ",((i.cultural_experiences.original_price-i.cultural_experiences.duo_price)*.18).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Local da Experiência"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-amber-600",children:i.cultural_partners.business_name}),e.jsxs("div",{className:"flex items-start space-x-2 text-gray-600",children:[e.jsx(K,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{children:i.cultural_partners.address.street}),e.jsxs("p",{children:[i.cultural_partners.address.city,", ",i.cultural_partners.address.state]}),e.jsxs("p",{children:["CEP: ",i.cultural_partners.address.zipcode]})]})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Contato: ",i.cultural_partners.contact_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.cultural_partners.email})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-3",children:"📋 Como usar seu voucher"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[e.jsx("li",{children:"1. Entre em contato com o parceiro para agendar"}),e.jsx("li",{children:"2. Apresente o código do voucher ou QR Code"}),e.jsx("li",{children:"3. Aproveite sua experiência cultural!"}),e.jsx("li",{children:"4. Lembre-se: válido para 2 pessoas"})]})]})]})]}),e.jsxs(M.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"px-8 py-3 bg-gradient-to-r from-amber-500 to-rose-500 text-white rounded-lg font-medium hover:shadow-lg transition-all",children:"Ver Todos os Vouchers"}),e.jsx("button",{onClick:()=>s("/experiencias"),className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Descobrir Mais Experiências"}),e.jsxs("button",{className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all flex items-center space-x-2",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartilhar"})]})]})]})]})}function jb(){const{user:t}=$(),[s,a]=h.useState(null),[r,i]=h.useState([]),[n,o]=h.useState("historia"),[c,l]=h.useState(!0),[d,m]=h.useState(!1),[u,x]=h.useState({business_name:"",founder_story:"",cultural_mission:"",contact_name:"",email:"",business_type:"",cultural_category:"",ambiance_description:"",social_values:[]}),f=[{value:"cafe_cultural",label:"Café Cultural"},{value:"restaurante_familia",label:"Restaurante Familiar"},{value:"atelier_arte",label:"Ateliê de Arte"},{value:"espaco_bem_estar",label:"Espaço de Bem-Estar"},{value:"livraria_cafe",label:"Livraria & Café"},{value:"galeria_arte",label:"Galeria de Arte"},{value:"casa_shows",label:"Casa de Shows Intimista"}],b=[{value:"gastronomia_autoral",label:"Gastronomia Autoral"},{value:"arte_local",label:"Arte Local"},{value:"bem_estar_holistico",label:"Bem-Estar Holístico"},{value:"musica_ao_vivo",label:"Música ao Vivo"},{value:"literatura_cafe",label:"Literatura & Café"},{value:"artesanato_local",label:"Artesanato Local"},{value:"experiencias_natureza",label:"Experiências na Natureza"}],j=["sustentabilidade","arte_local","comercio_justo","inclusao_social","preservacao_cultural","economia_criativa","slow_living","mindfulness"],v=h.useCallback(async()=>{if(t)try{l(!0);const{data:g,error:_}=await T.from("cultural_partners").select("*").eq("email",t.email).single();if(_&&_.code!=="PGRST116"&&console.error("Erro ao carregar parceiro:",_),g){a(g),x({business_name:g.business_name||"",founder_story:g.founder_story||"",cultural_mission:g.cultural_mission||"",contact_name:g.contact_name||"",email:g.email||"",business_type:g.business_type||"",cultural_category:g.cultural_category||"",ambiance_description:g.ambiance_description||"",social_values:g.social_values||[]});const{data:k}=await T.from("cultural_experiences").select("*").eq("partner_id",g.id);k&&i(k)}}catch(g){console.error("Erro ao carregar dados:",g)}finally{l(!1)}},[t]);h.useEffect(()=>{v()},[v]);const p=async()=>{if(t)try{m(!0);const g={...u,address:{street:"",city:"",state:"",zipcode:""},status:s?s.status:"pending"};if(s){const{error:_}=await T.from("cultural_partners").update(g).eq("id",s.id);if(_)throw _}else{const{data:_,error:k}=await T.from("cultural_partners").insert([g]).select().single();if(k)throw k;a(_)}alert("Dados salvos com sucesso!")}catch(g){console.error("Erro ao salvar:",g),alert("Erro ao salvar dados.")}finally{m(!1)}},y=(g,_,k)=>{g.includes(_)?k(g.filter(S=>S!==_)):k([...g,_])};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-rose-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{className:"w-12 h-12 text-amber-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando sua história..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-rose-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-amber-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(W,{className:"w-8 h-8 text-rose-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"Portal do Parceiro Cultural"}),e.jsx("p",{className:"text-gray-600",children:"Onde sua história ganha vida"})]})]}),s&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="approved"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.status==="approved"?"✨ Aprovado":s.status==="pending"?"⏳ Em Análise":"📋 Rascunho"})})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex space-x-1 bg-white rounded-lg p-1 mb-8 shadow-sm",children:[{id:"historia",label:"Sua História",icon:W},{id:"experiencias",label:"Experiências",icon:Ie},{id:"metricas",label:"Impacto Cultural",icon:U}].map(g=>{const _=g.icon;return e.jsxs("button",{onClick:()=>o(g.id),className:`flex items-center space-x-2 px-6 py-3 rounded-md font-medium transition-all ${n===g.id?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:g.label})]},g.id)})}),n==="historia"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Conte Sua História"}),e.jsx("p",{className:"text-gray-600",children:"Cada lugar tem uma alma. Qual é a sua?"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do seu espaço cultural"}),e.jsx("input",{type:"text",value:u.business_name,onChange:g=>x({...u,business_name:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café das Letras"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de negócio"}),e.jsxs("select",{value:u.business_type,onChange:g=>x({...u,business_type:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione o tipo"}),f.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria cultural"}),e.jsxs("select",{value:u.cultural_category,onChange:g=>x({...u,cultural_category:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione a categoria"}),b.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A história por trás do lugar"}),e.jsx("textarea",{value:u.founder_story,onChange:g=>x({...u,founder_story:g.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como tudo começou? Qual foi a inspiração? O que te motivou a criar este espaço?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sua missão cultural"}),e.jsx("textarea",{value:u.cultural_mission,onChange:g=>x({...u,cultural_mission:g.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Que impacto cultural você quer gerar? Como seu espaço transforma vidas?"})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o ambiente e energia do seu espaço"}),e.jsx("textarea",{value:u.ambiance_description,onChange:g=>x({...u,ambiance_description:g.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como as pessoas se sentem quando entram? Que tipo de conversas acontecem? Qual é a magia do lugar?"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Valores que compartilhamos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:j.map(g=>e.jsx("button",{onClick:()=>y(u.social_values,g,_=>x({...u,social_values:_})),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${u.social_values.includes(g)?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.replace("_"," ")},g))})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsxs("button",{onClick:p,disabled:d,className:"flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50",children:[e.jsx(hl,{className:"w-4 h-4"}),e.jsx("span",{children:d?"Salvando...":"Salvar História"})]})})]}),n==="experiencias"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Suas Experiências Únicas"}),e.jsx("p",{className:"text-gray-600",children:"Não vendemos produtos, criamos memórias"})]}),e.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:[e.jsx(Ct,{className:"w-4 h-4"}),e.jsx("span",{children:"Nova Experiência"})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ie,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Ainda não há experiências"}),e.jsx("p",{className:"text-gray-500",children:"Crie sua primeira experiência cultural única"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(g=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:g.experience_name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:g.story_behind}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["CHF ",(g.original_price*.18).toFixed(2)]}),e.jsxs("span",{className:"text-green-600 font-semibold ml-2",children:["CHF ",(g.duo_price*.18).toFixed(2)]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${g.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:g.active?"Ativa":"Pausada"})]})]},g.id))})]}),n==="metricas"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Seu Impacto Cultural"}),e.jsx("p",{className:"text-gray-600",children:"Medimos conexões, não apenas vendas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(W,{className:"w-8 h-8 text-amber-600"}),e.jsx("h3",{className:"font-semibold text-amber-800",children:"Conexões Criadas"})]}),e.jsx("div",{className:"text-3xl font-bold text-amber-700 mb-2",children:"12"}),e.jsx("p",{className:"text-amber-600 text-sm",children:"Pessoas se conectaram através das suas experiências"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ie,{className:"w-8 h-8 text-rose-600"}),e.jsx("h3",{className:"font-semibold text-rose-800",children:"Momentos Especiais"})]}),e.jsx("div",{className:"text-3xl font-bold text-rose-700 mb-2",children:"28"}),e.jsx("p",{className:"text-rose-600 text-sm",children:"Histórias compartilhadas pelos visitantes"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(U,{className:"w-8 h-8 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:"Impacto Cultural"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-700 mb-2",children:"4.8"}),e.jsx("p",{className:"text-green-600 text-sm",children:"Avaliação média de impacto cultural"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-amber-50 to-rose-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Últimas Histórias Compartilhadas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-700 italic",children:'"Conheci minha melhor amiga neste café. A energia do lugar nos conectou instantaneamente."'}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"- Ana, há 3 dias"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-700 italic",children:'"Um lugar que respira arte e acolhimento. Cada visita é uma descoberta."'}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"- Carlos, há 1 semana"})]})]})]})]})]})]})}const vb=()=>{const{user:t}=$(),[s,a]=h.useState("overview"),[r,i]=h.useState({total_offers:0,active_offers:0,total_redemptions:0,total_views:0,conversion_rate:0,revenue_generated:0,avg_rating:0,total_reviews:0,monthly_growth:0}),[n,o]=h.useState([]),[c]=h.useState([]),[l,d]=h.useState(!0),[m]=h.useState("30d");h.useEffect(()=>{u()},[m]);const u=async()=>{d(!0);try{await new Promise(v=>setTimeout(v,1e3)),i({total_offers:12,active_offers:8,total_redemptions:245,total_views:3420,conversion_rate:7.2,revenue_generated:15680.5,avg_rating:4.6,total_reviews:89,monthly_growth:23.5}),o([{id:"1",title:"Pizza Margherita 50% OFF",views:890,redemptions:67,conversion_rate:7.5,revenue:2340,status:"active",created_at:"2024-01-15",expires_at:"2024-02-15"},{id:"2",title:"Combo Hambúrguer + Batata",views:654,redemptions:43,conversion_rate:6.6,revenue:1720,status:"active",created_at:"2024-01-10",expires_at:"2024-02-10"},{id:"3",title:"Sobremesa Grátis",views:432,redemptions:89,conversion_rate:20.6,revenue:890,status:"paused",created_at:"2024-01-05",expires_at:"2024-02-05"}]),setCustomerInsights([{age_group:"18-25",gender:"M",location:"Centro",visit_frequency:"Semanal",avg_spending:45.5,preferred_time:"19:00-21:00",count:34},{age_group:"26-35",gender:"F",location:"Zona Sul",visit_frequency:"Quinzenal",avg_spending:62.3,preferred_time:"12:00-14:00",count:28},{age_group:"36-45",gender:"M",location:"Zona Norte",visit_frequency:"Mensal",avg_spending:78.9,preferred_time:"20:00-22:00",count:19}])}catch(v){console.error("Erro ao carregar dados do dashboard:",v)}finally{d(!1)}},x=({title:v,value:p,change:y,icon:g,color:_})=>e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:v}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p}),y!==void 0&&e.jsxs("div",{className:`flex items-center mt-2 text-sm ${y>=0?"text-green-600":"text-red-600"}`,children:[e.jsx(zt,{className:`w-4 h-4 mr-1 ${y<0?"rotate-180":""}`}),Math.abs(y),"% vs mês anterior"]})]}),e.jsx("div",{className:`p-3 rounded-lg ${_}`,children:g})]})}),f=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(x,{title:"Ofertas Ativas",value:r.active_offers,change:12,icon:e.jsx(ys,{className:"w-6 h-6 text-blue-600"}),color:"bg-blue-100"}),e.jsx(x,{title:"Total de Resgates",value:r.total_redemptions,change:r.monthly_growth,icon:e.jsx(xr,{className:"w-6 h-6 text-green-600"}),color:"bg-green-100"}),e.jsx(x,{title:"Taxa de Conversão",value:`${r.conversion_rate}%`,change:2.3,icon:e.jsx(zt,{className:"w-6 h-6 text-purple-600"}),color:"bg-purple-100"}),e.jsx(x,{title:"Receita Gerada",value:`CHF ${(r.revenue_generated*.18).toLocaleString("de-CH",{minimumFractionDigits:2})}`,change:18.7,icon:e.jsx(Vr,{className:"w-6 h-6 text-yellow-600"}),color:"bg-yellow-100"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Performance das Ofertas"}),e.jsxs("select",{value:m,onChange:v=>setSelectedPeriod(v.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-1",children:[e.jsx("option",{value:"7d",children:"Últimos 7 dias"}),e.jsx("option",{value:"30d",children:"Últimos 30 dias"}),e.jsx("option",{value:"90d",children:"Últimos 90 dias"}),e.jsx("option",{value:"1y",children:"Último ano"})]})]}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Be,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Gráfico de Performance"}),e.jsx("p",{className:"text-sm",children:"Visualização em desenvolvimento"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ofertas com Melhor Performance"}),e.jsx("div",{className:"space-y-4",children:n.slice(0,3).map((v,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${p===0?"bg-yellow-100 text-yellow-800":p===1?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"}`,children:p+1}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-medium text-sm",children:v.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[v.redemptions," resgates"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-green-600",children:[v.conversion_rate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"conversão"})]})]},v.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ações Rápidas"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(Ct,{className:"w-8 h-8 text-blue-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Nova Oferta"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(Be,{className:"w-8 h-8 text-green-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Relatórios"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(vm,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Mensagens"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(Ut,{className:"w-8 h-8 text-orange-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Configurações"})]})]})]})]}),b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Ofertas"}),e.jsx("p",{className:"text-gray-600",children:"Controle suas promoções e campanhas"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Nova Oferta"]}),e.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar ofertas...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Todas as ofertas"}),e.jsx("option",{value:"active",children:"Ativas"}),e.jsx("option",{value:"paused",children:"Pausadas"}),e.jsx("option",{value:"expired",children:"Expiradas"})]}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Todas as categorias"}),e.jsx("option",{value:"food",children:"Alimentação"}),e.jsx("option",{value:"retail",children:"Varejo"}),e.jsx("option",{value:"services",children:"Serviços"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Oferta"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visualizações"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resgates"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversão"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receita"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Expira em ",new Date(v.expires_at).toLocaleDateString("pt-BR")]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.status==="active"?"bg-green-100 text-green-800":v.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:v.status==="active"?"Ativa":v.status==="paused"?"Pausada":"Expirada"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"w-4 h-4 text-gray-400 mr-1"}),v.views.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xr,{className:"w-4 h-4 text-gray-400 mr-1"}),v.redemptions]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:`font-medium ${v.conversion_rate>=10?"text-green-600":v.conversion_rate>=5?"text-yellow-600":"text-red-600"}`,children:[v.conversion_rate,"%"]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:["CHF ",(v.revenue*.18).toLocaleString("de-CH",{minimumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(Fm,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",children:v.status==="active"?e.jsx(wm,{className:"w-4 h-4"}):e.jsx(Sm,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ut,{className:"w-4 h-4"})})]})})]},v.id))})]})})})]}),j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics Avançado"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:m,onChange:v=>setSelectedPeriod(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"7d",children:"Últimos 7 dias"}),e.jsx("option",{value:"30d",children:"Últimos 30 dias"}),e.jsx("option",{value:"90d",children:"Últimos 90 dias"}),e.jsx("option",{value:"1y",children:"Último ano"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Exportar Relatório"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Horários de Pico"}),e.jsx(je,{className:"w-6 h-6 text-blue-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"12:00 - 14:00"}),e.jsx("span",{className:"text-sm font-semibold",children:"34%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"19:00 - 21:00"}),e.jsx("span",{className:"text-sm font-semibold",children:"28%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"15:00 - 17:00"}),e.jsx("span",{className:"text-sm font-semibold",children:"22%"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Localização dos Clientes"}),e.jsx(K,{className:"w-6 h-6 text-green-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Centro"}),e.jsx("span",{className:"text-sm font-semibold",children:"42%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Zona Sul"}),e.jsx("span",{className:"text-sm font-semibold",children:"31%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Zona Norte"}),e.jsx("span",{className:"text-sm font-semibold",children:"27%"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Avaliações"}),e.jsx(H,{className:"w-6 h-6 text-yellow-600"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.avg_rating}),e.jsx("div",{className:"flex justify-center mb-2",children:[1,2,3,4,5].map(v=>e.jsx(H,{className:`w-5 h-5 ${v<=Math.floor(r.avg_rating)?"text-yellow-400 fill-current":"text-gray-300"}`},v))}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.total_reviews," avaliações"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Perfil dos Clientes"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Faixa Etária"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Gênero"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Localização"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Frequência"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Gasto Médio"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Horário Preferido"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Clientes"})]})}),e.jsx("tbody",{children:c.map((v,p)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-4 text-sm",children:v.age_group}),e.jsx("td",{className:"py-3 px-4 text-sm",children:v.gender}),e.jsx("td",{className:"py-3 px-4 text-sm",children:v.location}),e.jsx("td",{className:"py-3 px-4 text-sm",children:v.visit_frequency}),e.jsxs("td",{className:"py-3 px-4 text-sm font-medium",children:["R$ ",v.avg_spending.toFixed(2)]}),e.jsx("td",{className:"py-3 px-4 text-sm",children:v.preferred_time}),e.jsx("td",{className:"py-3 px-4 text-sm font-semibold",children:v.count})]},p))})]})})]})]});return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando dashboard..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Parceiro"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie suas ofertas e acompanhe o desempenho"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[e.jsx(jt,{className:"w-6 h-6"}),e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:t?.email?.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t?.email})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Visão Geral",icon:Be},{id:"offers",label:"Ofertas",icon:ys},{id:"analytics",label:"Analytics",icon:zt},{id:"customers",label:"Clientes",icon:U},{id:"settings",label:"Configurações",icon:Ut}].map(v=>{const p=v.icon;return e.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),v.label]},v.id)})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s==="overview"&&e.jsx(f,{}),s==="offers"&&e.jsx(b,{}),s==="analytics"&&e.jsx(j,{}),s==="customers"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Gestão de Clientes"}),e.jsx("p",{className:"text-gray-600",children:"Funcionalidade em desenvolvimento"})]}),s==="settings"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configurações"}),e.jsx("p",{className:"text-gray-600",children:"Funcionalidade em desenvolvimento"})]})]})]})};function Ho(){const t=G(),[s,a]=h.useState(""),[r,i]=h.useState(!1),n=m=>{m.preventDefault(),i(!0)},o={hero:"Sua história merece ser vivida por pessoas que valorizam o autêntico",diferencial:"Não somos apenas cupons - somos cultura em movimento",beneficios:["Clientes conscientes que buscam experiências com alma","Visibilidade em uma comunidade de valores compartilhados","Apoio na construção de relacionamentos, não apenas vendas","Parceria de longo prazo baseada em propósito comum"],cta:"FAÇA PARTE DESTE MOVIMENTO CULTURAL"},c=[{name:"Maria Silva",business:"Café das Letras",quote:"O DUO PASS trouxe pessoas que realmente valorizam nossa proposta cultural. Não são apenas clientes, são parte da nossa comunidade.",impact:"300% aumento em conexões genuínas"},{name:"João Santos",business:"Ateliê Criativo",quote:"Finalmente uma plataforma que entende que vendemos experiências, não produtos. Nossos valores se alinham perfeitamente.",impact:"85% dos visitantes retornam"},{name:"Ana Costa",business:"Restaurante da Vovó",quote:"Cada pessoa que chega através do DUO PASS já vem com o coração aberto para nossa história familiar.",impact:"4.9 estrelas em experiência cultural"}],l=[{icon:W,title:"Autenticidade",description:"Celebramos o que torna seu espaço único e especial"},{icon:U,title:"Comunidade",description:"Construímos relacionamentos duradouros, não transações"},{icon:Ie,title:"Propósito",description:"Cada parceria tem um impacto cultural mensurável"},{icon:K,title:"Local",description:"Fortalecemos a economia criativa da sua região"}],d=[{icon:dl,title:"Cafés Culturais",description:"Espaços onde conversas fluem e ideias nascem",examples:["Café com saraus","Livrarias-café","Espaços de coworking criativo"]},{icon:ca,title:"Ateliês & Galerias",description:"Onde a arte local ganha vida e se conecta com pessoas",examples:["Ateliês abertos","Galerias independentes","Oficinas criativas"]},{icon:Br,title:"Espaços Gastronômicos",description:"Restaurantes que contam histórias através dos sabores",examples:["Restaurantes familiares","Gastronomia autoral","Experiências culinárias"]}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/20 to-rose-600/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[e.jsx(W,{className:"w-12 h-12 text-rose-500"}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"DUO PASS"})]}),e.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:o.hero}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:o.diferencial}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("button",{onClick:()=>t("/cadastro-parceiro"),className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105",children:"Começar Agora"}),e.jsx("button",{onClick:()=>t("/como-funciona-parceiros"),className:"text-gray-700 font-medium hover:text-gray-900 transition-colors",children:"Ver Como Funciona"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600 mb-2",children:"150+"}),e.jsx("div",{className:"text-gray-600",children:"Parceiros Culturais"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-rose-600 mb-2",children:"12k+"}),e.jsx("div",{className:"text-gray-600",children:"Conexões Criadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"4.8★"}),e.jsx("div",{className:"text-gray-600",children:"Impacto Cultural"})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Nossos Valores Compartilhados"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Mais que uma plataforma, somos um movimento cultural que conecta pessoas através de experiências autênticas"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((m,u)=>{const x=m.icon;return e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-100 to-rose-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(x,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:m.title}),e.jsx("p",{className:"text-gray-600",children:m.description})]},u)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-8",children:"Por que escolher o DUO PASS?"}),e.jsx("div",{className:"space-y-6",children:o.beneficios.map((m,u)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(z,{className:"w-6 h-6 text-green-500 mt-1 flex-shrink-0"}),e.jsx("p",{className:"text-lg text-gray-700",children:m})]},u))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Diferencial Cultural"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Plataformas tradicionais"}),e.jsx("span",{className:"text-red-500 font-medium",children:"Foco em vendas"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"DUO PASS"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Foco em conexões"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Métricas tradicionais"}),e.jsx("span",{className:"text-red-500 font-medium",children:"ROI, conversão"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Nossas métricas"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Impacto cultural"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-gray-600",children:"Relacionamento"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Longo prazo"})]})]})]})]})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Parceiros que Respiram Cultura"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Cada tipo de espaço tem sua magia única. Qual é a sua?"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d.map((m,u)=>{const x=m.icon;return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-8 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-16 h-16 rounded-lg flex items-center justify-center mb-6",children:e.jsx(x,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:m.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:m.description}),e.jsx("div",{className:"space-y-2",children:m.examples.map((f,b)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:f})]},b))})]},u)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Histórias de Sucesso Cultural"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Parceiros que transformaram suas experiências em conexões genuínas"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map((m,u)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(5)].map((x,f)=>e.jsx(H,{className:"w-5 h-5 text-yellow-400 fill-current"},f))}),e.jsxs("p",{className:"text-gray-700 italic mb-6",children:['"',m.quote,'"']}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:m.name}),e.jsx("div",{className:"text-gray-600 text-sm mb-2",children:m.business}),e.jsx("div",{className:"text-green-600 font-medium text-sm",children:m.impact})]})]},u))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-amber-600 to-rose-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:o.cta}),e.jsx("p",{className:"text-xl text-amber-100 mb-8",children:"Junte-se a uma comunidade que valoriza autenticidade, propósito e conexões genuínas"}),r?e.jsxs("div",{className:"bg-white/20 rounded-lg p-8 max-w-md mx-auto",children:[e.jsx(z,{className:"w-12 h-12 text-white mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Obrigado!"}),e.jsx("p",{className:"text-amber-100",children:"Em breve entraremos em contato para conhecer sua história."})]}):e.jsx("form",{onSubmit:n,className:"max-w-md mx-auto",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx("input",{type:"email",value:s,onChange:m=>a(m.target.value),placeholder:"Seu email para começar",className:"flex-1 px-6 py-4 rounded-lg text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white",required:!0}),e.jsxs("button",{type:"submit",className:"bg-white text-amber-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Começar"}),e.jsx(ee,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:"mt-8 text-amber-100 text-sm",children:["Ou acesse diretamente o"," ",e.jsx(R,{to:"/cultural-partner-portal",className:"text-white font-semibold hover:underline",children:"Portal do Parceiro Cultural"})]})]})})]})}const Nb=async t=>{try{console.log("💾 Salvando dados do parceiro no Supabase...");const s={business_name:t.businessName,contact_name:t.contactName,email:t.email,phone:t.phone,business_type:t.businessType,address_street:t.address.street,address_city:t.address.city,address_postal_code:t.address.postalCode,address_country:t.address.country,founder_story:t.founderStory,cultural_mission:t.culturalMission,experience_title:t.proposedExperience.title,experience_description:t.proposedExperience.description,experience_normal_price:t.proposedExperience.normalPrice,experience_duo_value:t.proposedExperience.duoValue,terms_accepted:t.termsAccepted,privacy_accepted:t.privacyAccepted,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:r}=await T.from("partner_registrations").insert([s]).select("id").single();return r?(console.error("❌ Erro ao salvar no Supabase:",r),{success:!1,error:r.message}):(console.log("✅ Dados salvos com sucesso:",a.id),{success:!0,id:a.id})}catch(s){return console.error("❌ Erro interno ao salvar dados:",s),{success:!1,error:"Erro interno do sistema"}}};class Os{constructor(s=0,a="Network Error"){this.status=s,this.text=a}}const wb=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,s)=>Promise.resolve(localStorage.setItem(t,s)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},de={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:wb()},Pi=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Cb=(t,s="https://api.emailjs.com")=>{if(!t)return;const a=Pi(t);de.publicKey=a.publicKey,de.blockHeadless=a.blockHeadless,de.storageProvider=a.storageProvider,de.blockList=a.blockList,de.limitRate=a.limitRate,de.origin=a.origin||s},nd=async(t,s,a={})=>{const r=await fetch(de.origin+t,{method:"POST",headers:a,body:s}),i=await r.text(),n=new Os(r.status,i);if(r.ok)return n;throw n},od=(t,s,a)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||typeof a!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},_b=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ld=t=>t.webdriver||!t.languages||t.languages.length===0,cd=()=>new Os(451,"Unavailable For Headless Browser"),Sb=(t,s)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},Pb=t=>!t.list?.length||!t.watchVariable,kb=(t,s)=>t instanceof FormData?t.get(s):t[s],dd=(t,s)=>{if(Pb(t))return!1;Sb(t.list,t.watchVariable);const a=kb(s,t.watchVariable);return typeof a!="string"?!1:t.list.includes(a)},md=()=>new Os(403,"Forbidden"),Eb=(t,s)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},Db=async(t,s,a)=>{const r=Number(await a.get(t)||0);return s-Date.now()+r},ud=async(t,s,a)=>{if(!s.throttle||!a)return!1;Eb(s.throttle,s.id);const r=s.id||t;return await Db(r,s.throttle,a)>0?!0:(await a.set(r,Date.now().toString()),!1)},xd=()=>new Os(429,"Too Many Requests"),Fb=async(t,s,a,r)=>{const i=Pi(r),n=i.publicKey||de.publicKey,o=i.blockHeadless||de.blockHeadless,c=i.storageProvider||de.storageProvider,l={...de.blockList,...i.blockList},d={...de.limitRate,...i.limitRate};return o&&ld(navigator)?Promise.reject(cd()):(od(n,t,s),_b(a),a&&dd(l,a)?Promise.reject(md()):await ud(location.pathname,d,c)?Promise.reject(xd()):nd("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:t,template_id:s,template_params:a}),{"Content-type":"application/json"}))},Tb=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Ab=t=>typeof t=="string"?document.querySelector(t):t,Mb=async(t,s,a,r)=>{const i=Pi(r),n=i.publicKey||de.publicKey,o=i.blockHeadless||de.blockHeadless,c=de.storageProvider||i.storageProvider,l={...de.blockList,...i.blockList},d={...de.limitRate,...i.limitRate};if(o&&ld(navigator))return Promise.reject(cd());const m=Ab(a);od(n,t,s),Tb(m);const u=new FormData(m);return dd(l,u)?Promise.reject(md()):await ud(location.pathname,d,c)?Promise.reject(xd()):(u.append("lib_version","4.4.1"),u.append("service_id",t),u.append("template_id",s),u.append("user_id",n),nd("/api/v1.0/email/send-form",u))},ki={init:Cb,send:Fb,sendForm:Mb,EmailJSResponseStatus:Os},Ps={serviceId:"service_duopass",templateIds:{partnerConfirmation:"template_partner_confirmation",adminNotification:"template_admin_notification"},publicKey:"YOUR_EMAILJS_PUBLIC_KEY"},Ob=()=>{ki.init(Ps.publicKey)},Ib=async t=>{try{const s={to_email:t.email,to_name:t.contactName,business_name:t.businessName,business_type:t.businessType,experience_title:t.proposedExperience.title,reply_to:"contact@dupassclub.ch",from_name:"DUO PASS Club",from_email:"contact@dupassclub.ch"},a=await ki.send(Ps.serviceId,Ps.templateIds.partnerConfirmation,s);return console.log("✅ Email de confirmação enviado:",a.status,a.text),!0}catch(s){return console.error("❌ Erro ao enviar email de confirmação:",s),!1}},Rb=async t=>{try{const s={to_email:"contact@dupassclub.ch",to_name:"Equipe DUO PASS",partner_name:t.contactName,business_name:t.businessName,partner_email:t.email,partner_phone:t.phone,business_type:t.businessType,address:`${t.address.street}, ${t.address.city}, ${t.address.postalCode}`,founder_story:t.founderStory,cultural_mission:t.culturalMission,experience_title:t.proposedExperience.title,experience_description:t.proposedExperience.description,normal_price:t.proposedExperience.normalPrice,duo_value:t.proposedExperience.duoValue,reply_to:"contact@dupassclub.ch",from_name:"Sistema DUO PASS",from_email:"contact@dupassclub.ch"},a=await ki.send(Ps.serviceId,Ps.templateIds.adminNotification,s);return console.log("✅ Notificação admin enviada:",a.status,a.text),!0}catch(s){return console.error("❌ Erro ao enviar notificação admin:",s),!1}},Vb=async t=>{const s=[];try{return await Ib(t)||s.push("Falha ao enviar email de confirmação para o parceiro"),await Rb(t)||s.push("Falha ao enviar notificação para admin"),{success:s.length===0,errors:s}}catch(a){return console.error("❌ Erro geral no envio de emails:",a),{success:!1,errors:["Erro interno no sistema de emails"]}}};function Lb(){const t=G(),[s,a]=h.useState({businessName:"",contactName:"",email:"",phone:"",businessType:"cafe",address:{street:"",city:"",postalCode:"",country:"Brasil"},founderStory:"",culturalMission:"",proposedExperience:{title:"",description:"",normalPrice:0,duoValue:""},termsAccepted:!1,privacyAccepted:!1}),[r,i]=h.useState(1),n=4,[o,c]=h.useState(!1),[l,d]=h.useState("idle"),[m,u]=h.useState(""),x=[{value:"restaurante",label:"Restaurante",icon:"🍽️"},{value:"cafe",label:"Café",icon:"☕"},{value:"galeria",label:"Galeria",icon:"🎨"},{value:"atelier",label:"Ateliê",icon:"🎭"},{value:"spa",label:"Spa/Bem-estar",icon:"🧘"},{value:"teatro",label:"Teatro/Cultura",icon:"🎪"},{value:"outro",label:"Outro",icon:"✨"}],f=(p,y)=>{if(p.includes(".")){const[g,_]=p.split(".");a(k=>({...k,[g]:{...k[g],[_]:y}}))}else a(g=>({...g,[p]:y}))};h.useEffect(()=>{Ob()},[]);const b=async p=>{if(p.preventDefault(),r<n){i(r+1);return}c(!0),d("saving"),u("");try{console.log("📝 Salvando dados no banco...");const y=await Nb(s);if(!y.success)throw new Error(y.error||"Erro ao salvar dados");console.log("✅ Dados salvos com sucesso!"),d("sending"),console.log("📧 Enviando emails...");const g=await Vb(s);g.success||console.warn("⚠️ Alguns emails falharam:",g.errors),console.log("✅ Processo concluído com sucesso!"),d("success"),setTimeout(()=>{t("/parceiro-cadastrado",{state:{contactName:s.contactName,businessName:s.businessName,registrationId:y.id}})},2e3)}catch(y){console.error("❌ Erro no processo de cadastro:",y),d("error"),u(y instanceof Error?y.message:"Erro interno do sistema")}finally{c(!1)}},j=()=>{switch(r){case 1:return s.businessName&&s.contactName&&s.email&&s.phone;case 2:return s.businessType&&s.address.street&&s.address.city&&s.address.postalCode;case 3:return s.founderStory&&s.culturalMission;case 4:return s.proposedExperience.title&&s.proposedExperience.description&&s.proposedExperience.normalPrice>0&&s.proposedExperience.duoValue&&s.termsAccepted&&s.privacyAccepted;default:return!1}},v=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Informações Básicas"}),e.jsx("p",{className:"text-gray-600",children:"Vamos começar conhecendo você e seu negócio"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(lm,{className:"w-4 h-4 inline mr-2"}),"Nome do Estabelecimento *"]}),e.jsx("input",{type:"text",value:s.businessName,onChange:p=>f("businessName",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café das Letras",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ue,{className:"w-4 h-4 inline mr-2"}),"Nome do Responsável *"]}),e.jsx("input",{type:"text",value:s.contactName,onChange:p=>f("contactName",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Seu nome completo",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(We,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),e.jsx("input",{type:"email",value:s.email,onChange:p=>f("email",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(it,{className:"w-4 h-4 inline mr-2"}),"Telefone *"]}),e.jsx("input",{type:"tel",value:s.phone,onChange:p=>f("phone",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 99999-9999",required:!0})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tipo de Negócio e Localização"}),e.jsx("p",{className:"text-gray-600",children:"Nos ajude a entender melhor seu espaço"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Tipo de Estabelecimento *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:x.map(p=>e.jsxs("button",{type:"button",onClick:()=>f("businessType",p.value),className:`p-4 border-2 rounded-lg text-center transition-all ${s.businessType===p.value?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:p.icon}),e.jsx("div",{className:"text-sm font-medium",children:p.label})]},p.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(K,{className:"w-4 h-4 inline mr-2"}),"Endereço Completo *"]}),e.jsx("input",{type:"text",value:s.address.street,onChange:p=>f("address.street",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Rua, número, bairro",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade *"}),e.jsx("input",{type:"text",value:s.address.city,onChange:p=>f("address.city",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"São Paulo",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP *"}),e.jsx("input",{type:"text",value:s.address.postalCode,onChange:p=>f("address.postalCode",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"00000-000",required:!0})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sua História e Propósito"}),e.jsx("p",{className:"text-gray-600",children:"O que torna seu espaço especial e autêntico?"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(W,{className:"w-4 h-4 inline mr-2"}),"Conte um pouco sobre sua história *"]}),e.jsx("textarea",{value:s.founderStory,onChange:p=>f("founderStory",p.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como surgiu seu negócio? O que te motivou a criar este espaço? Qual é a história por trás do seu estabelecimento?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Zs,{className:"w-4 h-4 inline mr-2"}),"Qual seu propósito cultural? *"]}),e.jsx("textarea",{value:s.culturalMission,onChange:p=>f("culturalMission",p.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Que impacto cultural você quer gerar? Como seu espaço contribui para a comunidade? Quais valores você quer transmitir?",required:!0})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Experiência Proposta"}),e.jsx("p",{className:"text-gray-600",children:"Vamos criar sua primeira experiência DUO PASS"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título da Experiência *"}),e.jsx("input",{type:"text",value:s.proposedExperience.title,onChange:p=>f("proposedExperience.title",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café + Conversa com Livros",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição da Experiência *"}),e.jsx("textarea",{value:s.proposedExperience.description,onChange:p=>f("proposedExperience.description",p.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o que torna esta experiência especial e única",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Vr,{className:"w-4 h-4 inline mr-2"}),"Preço Normal (CHF) *"]}),e.jsx("input",{type:"number",value:s.proposedExperience.normalPrice,onChange:p=>f("proposedExperience.normalPrice",parseFloat(p.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"25.00",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"O que oferece no 2 por 1? *"}),e.jsx("input",{type:"text",value:s.proposedExperience.duoValue,onChange:p=>f("proposedExperience.duoValue",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: 2 cafés especiais + acesso à biblioteca",required:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:s.termsAccepted,onChange:p=>f("termsAccepted",p.target.checked),className:"mt-1 w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["Aceito os ",e.jsx("a",{href:"#",className:"text-amber-600 hover:underline",children:"termos de uso"})," e condições da plataforma DUO PASS *"]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"privacy",checked:s.privacyAccepted,onChange:p=>f("privacyAccepted",p.target.checked),className:"mt-1 w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",required:!0}),e.jsxs("label",{htmlFor:"privacy",className:"text-sm text-gray-700",children:["Aceito a ",e.jsx("a",{href:"#",className:"text-amber-600 hover:underline",children:"política de privacidade"})," *"]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{className:"w-8 h-8 text-rose-500"}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"DUO PASS - Cadastro de Parceiro"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Etapa ",r," de ",n]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 h-2 rounded-full transition-all duration-300",style:{width:`${r/n*100}%`}})})})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:e.jsxs("form",{onSubmit:b,className:"bg-white rounded-xl shadow-lg p-8",children:[v(),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>i(Math.max(1,r-1)),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,disabled:r===1,children:"Voltar"}),e.jsx("button",{type:"submit",disabled:!j()||o,className:`px-8 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-all ${j()&&!o?"bg-gradient-to-r from-amber-500 to-rose-500 text-white hover:shadow-lg transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsxs("span",{children:[l==="saving"&&"Salvando...",l==="sending"&&"Enviando emails..."]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r===n?"Finalizar Cadastro":"Próximo"}),e.jsx(ee,{className:"w-4 h-4"})]})}),l!=="idle"&&e.jsxs("div",{className:"mt-4 text-center",children:[l==="saving"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"💾 Salvando dados..."})]}),l==="sending"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"📧 Enviando emails de confirmação..."})]}),l==="success"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"✅ Cadastro realizado com sucesso! Redirecionando..."})]}),l==="error"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-600",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"❌ Erro no cadastro"}),m&&e.jsx("div",{className:"text-sm mt-1 text-red-500",children:m}),e.jsx("button",{onClick:()=>{d("idle"),u("")},className:"mt-2 text-sm underline hover:no-underline",children:"Tentar novamente"})]})]})]})]})]})})]})}function qb(){const t=ks(),s=t.state?.contactName||"Parceiro",a=t.state?.businessName,r=t.state?.registrationId,i=[{icon:hm,title:"Análise (24-48h)",description:"Nossa equipe vai avaliar sua proposta e verificar o alinhamento com nossos valores culturais",timeframe:"1-2 dias"},{icon:U,title:"Entrevista",description:"Se aprovado, agendaremos uma conversa para conhecer melhor sua história e propósito",timeframe:"3-5 dias"},{icon:W,title:"Curadoria",description:"Ajudamos a criar sua experiência perfeita, com descrições autênticas e atrativas",timeframe:"1 semana"},{icon:z,title:"Ativação",description:"Seu espaço entra na plataforma e começa a receber visitantes culturalmente engajados",timeframe:"2 semanas"}],n=[{icon:We,title:"Email",value:"contact@dupassclub.ch",description:"Para dúvidas sobre o processo"},{icon:xe,title:"WhatsApp",value:"(11) 99999-9999",description:"Suporte direto e rápido"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/20 to-rose-600/20"}),e.jsx("div",{className:"relative max-w-4xl mx-auto px-4 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"🎉 Cadastro Recebido com Sucesso!"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["Olá ",e.jsx("span",{className:"font-semibold text-amber-600",children:s}),", recebemos seu interesse em fazer parte do DUO PASS Club."]}),a&&e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Estamos animados para conhecer mais sobre ",e.jsx("span",{className:"font-semibold text-rose-600",children:a}),"!"]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-700",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"📧 Emails de Confirmação Enviados"})]}),e.jsx("p",{className:"text-blue-600 mt-2 text-sm",children:"Enviamos um email de confirmação para você e notificamos nossa equipe. Verifique sua caixa de entrada (e spam) para mais detalhes."}),r&&e.jsxs("p",{className:"text-blue-500 mt-2 text-xs font-mono",children:["ID do Cadastro: ",r]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-rose-100 rounded-lg p-6 mb-8",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx(W,{className:"w-5 h-5 inline text-rose-500 mr-2"}),e.jsx("strong",{children:"Sua história merece ser vivida!"})," Estamos ansiosos para conhecer mais sobre seu espaço e como podemos juntos criar experiências culturais autênticas."]})})]})})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"📋 Próximos Passos"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Aqui está o que acontece agora e quando você pode esperar cada etapa"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((o,c)=>{const l=o.icon;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-rose-50 rounded-xl p-6 h-full",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:e.jsx(l,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:o.title}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:o.description}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-600",children:o.timeframe})]})]}),c<i.length-1&&e.jsx(ee,{className:"w-6 h-6 text-gray-400 absolute top-1/2 -right-3 transform -translate-y-1/2 hidden lg:block"})]},c)})}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-amber-50 to-rose-50 rounded-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"O que esperar durante o processo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📞 Entrevista Personalizada"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa conversa será focada em entender sua história, valores e como podemos criar uma parceria autêntica que beneficie tanto seu negócio quanto nossa comunidade."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🎨 Curadoria Colaborativa"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Trabalharemos juntos para criar descrições que capturem a essência do seu espaço e atraiam pessoas que realmente valorizam experiências culturais."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📊 Dashboard Exclusivo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Após a ativação, você terá acesso a métricas de impacto cultural, não apenas vendas - porque medimos conexões genuínas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🤝 Suporte Contínuo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa equipe estará sempre disponível para ajudar no crescimento do seu impacto cultural e otimização da experiência."})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"📧 Mantenha Contato"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Tem alguma dúvida ou quer saber mais sobre o processo? Estamos aqui para ajudar!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((o,c)=>{const l=o.icon;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(l,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:o.title}),e.jsx("p",{className:"text-lg font-medium text-amber-600 mb-2",children:o.value}),e.jsx("p",{className:"text-gray-600",children:o.description})]},c)})}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enquanto isso..."}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Que tal conhecer mais sobre nossa comunidade e ver como outros parceiros estão criando impacto cultural?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx(R,{to:"/cultural-partner-landing",className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all transform hover:scale-105",children:"Voltar à Página de Parceiros"}),e.jsx(R,{to:"/",className:"text-gray-600 font-medium hover:text-gray-800 transition-colors",children:"Conhecer o DUO PASS"})]})]})})]})}),e.jsx("section",{className:"py-12 bg-gradient-to-r from-amber-600 to-rose-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Sua história merece ser vivida! 💜"}),e.jsx("p",{className:"text-xl text-amber-100",children:"Obrigado por querer fazer parte do movimento que valoriza autenticidade, propósito e conexões genuínas."})]})})]})}async function Bb(t){const{data:s,error:a}=await T.from("contact_messages").insert({name:t.name,email:t.email,business:t.business,type:t.type,description:t.description,status:"new"}).select().single();if(a)throw console.error("Erro ao salvar mensagem de contato:",a),new Error("Erro ao salvar mensagem. Tente novamente.");return s}async function Ub(t){throw new Error("Configuração de email não encontrada")}const zb=({isOpen:t,onClose:s})=>{const[a,r]=h.useState({name:"",email:"",business:"",type:"other",description:""}),[i,n]=h.useState(!1),[o,c]=h.useState("idle"),[l,d]=h.useState(""),m=f=>{const{name:b,value:j}=f.target;r(v=>({...v,[b]:j}))},u=async f=>{f.preventDefault(),n(!0),d("");try{const b=await Bb(a);await Ub({...a,id:b.id,created_at:b.created_at}),c("success"),setTimeout(()=>{s(),r({name:"",email:"",business:"",type:"other",description:""}),c("idle")},2e3)}catch(b){console.error("Erro ao enviar mensagem:",b),d(b instanceof Error?b.message:"Erro ao enviar mensagem"),c("error")}finally{n(!1)}},x=()=>{c("idle"),d("")};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"Falar com Nossa Equipe"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:i,children:e.jsx(Pe,{className:"w-5 h-5 text-gray-500"})})]}),o==="success"&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(z,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mensagem Enviada!"}),e.jsx("p",{className:"text-gray-600",children:"Obrigado pelo seu interesse. Nossa equipe entrará em contato em até 24 horas."})]}),o!=="success"&&e.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:m,required:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:m,required:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Negócio *"}),e.jsx("input",{type:"text",id:"business",name:"business",value:a.business,onChange:m,required:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Nome do seu estabelecimento"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Negócio *"}),e.jsxs("select",{id:"type",name:"type",value:a.type,onChange:m,required:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",children:[e.jsx("option",{value:"gastronomy",children:"Gastronomia"}),e.jsx("option",{value:"art",children:"Arte e Cultura"}),e.jsx("option",{value:"wellbeing",children:"Bem-estar"}),e.jsx("option",{value:"other",children:"Outro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição Breve *"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:m,required:!0,disabled:i,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500 resize-none",placeholder:"Conte-nos brevemente sobre seu negócio e interesse em ser parceiro..."})]}),o==="error"&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-red-600 text-sm",children:l}),e.jsx("button",{type:"button",onClick:x,className:"text-red-600 text-sm underline hover:no-underline mt-1",children:"Tentar novamente"})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-purple-700 hover:to-orange-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(da,{className:"w-4 h-4"}),"Enviar Mensagem"]})})]})]})}):null},Go=({onClick:t,variant:s="primary",size:a="md",className:r="",children:i})=>{const n="inline-flex items-center justify-center gap-2 font-semibold rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",o={primary:"bg-gradient-to-r from-purple-600 to-orange-500 text-white hover:from-purple-700 hover:to-orange-600 shadow-lg hover:shadow-xl",secondary:"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50",outline:"border-2 border-white text-white hover:bg-white hover:text-purple-600"},c={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsxs("button",{onClick:t,className:`${n} ${o[s]} ${c[a]} ${r}`,children:[e.jsx(xe,{className:l[a]}),i||"Falar com Nossa Equipe"]})},$b=()=>{const[t,s]=h.useState(!1);return{isOpen:t,openModal:()=>s(!0),closeModal:()=>s(!1),toggleModal:()=>s(n=>!n)}};function Hb(){const{isOpen:t,openModal:s,closeModal:a}=$b(),r=[{icon:W,title:"Autenticidade Cultural",description:"Valorizamos experiências genuínas que refletem a verdadeira essência cultural do seu espaço"},{icon:U,title:"Comunidade Engajada",description:"Conectamos você com pessoas que realmente valorizam cultura, não apenas buscam descontos"},{icon:H,title:"Curadoria de Qualidade",description:"Cada parceiro passa por um processo cuidadoso para garantir experiências excepcionais"}],i=[{number:"01",title:"Cadastro",description:"Conte sua história, missão cultural e a experiência que deseja oferecer",timeframe:"5 minutos"},{number:"02",title:"Análise",description:"Nossa equipe avalia o alinhamento com nossos valores culturais",timeframe:"24-48h"},{number:"03",title:"Curadoria",description:"Trabalhamos juntos para criar a descrição perfeita da sua experiência",timeframe:"1 semana"},{number:"04",title:"Ativação",description:"Seu espaço entra na plataforma e começa a receber visitantes engajados",timeframe:"2 semanas"}],n=["Aumento de 40% no fluxo de clientes","Redução de 60% em custos de marketing","Dashboard com métricas de impacto cultural","Suporte dedicado para otimização","Pagamentos automáticos e seguros","Flexibilidade total de horários e ofertas"],o=["Conexão com pessoas que valorizam cultura","Fortalecimento da identidade do seu espaço","Rede de parceiros culturais colaborativos","Visibilidade para audiência qualificada","Impacto social mensurável","Preservação e difusão cultural"],c=[{icon:dl,title:"Gastronomia Cultural",description:"Restaurantes, cafés e bistrôs com identidade cultural forte",examples:["Culinária regional autêntica","Ambientes com história","Experiências gastronômicas únicas"]},{icon:ca,title:"Arte & Criatividade",description:"Galerias, ateliês e espaços de expressão artística",examples:["Galerias independentes","Ateliês de artistas","Centros culturais"]},{icon:ym,title:"Bem-estar Consciente",description:"Espaços de wellness com propósito e conexão humana",examples:["Yoga e meditação","Terapias holísticas","Retiros urbanos"]}],l=[{name:"Maria Santos",business:"Café Cultural Raízes",location:"São Paulo, SP",quote:"O DuoPass trouxe pessoas que realmente se conectam com nossa proposta. Não são apenas clientes, são amigos que voltam sempre.",impact:"+65% de frequência",avatar:"👩🏽‍🦱"},{name:"João Oliveira",business:"Ateliê Mãos Criativas",location:"Rio de Janeiro, RJ",quote:"Finalmente encontrei uma plataforma que entende que arte não é commodity. Aqui, nossa história é valorizada.",impact:"+80% de workshops",avatar:"👨🏻‍🎨"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-orange-50 to-rose-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-orange-600/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-800 mb-6",children:["Como Funciona para",e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-orange-600 bg-clip-text text-transparent block",children:"Parceiros Culturais"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Não somos apenas uma plataforma de cupons. Somos um movimento que conecta espaços culturais autênticos com pessoas que valorizam experiências genuínas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs(R,{to:"/cadastro-parceiro",className:"bg-gradient-to-r from-purple-600 to-orange-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx("span",{children:"Quero Ser Parceiro"}),e.jsx(ee,{className:"w-5 h-5"})]}),e.jsx(Go,{onClick:s,variant:"secondary",size:"lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Audiência Qualificada"}),e.jsx("p",{className:"text-gray-600",children:"Pessoas que buscam cultura, não apenas preço"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💝"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Zero Custo Inicial"}),e.jsx("p",{className:"text-gray-600",children:"Sem taxas de adesão ou mensalidades"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📈"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Crescimento Sustentável"}),e.jsx("p",{className:"text-gray-600",children:"Impacto cultural mensurável"})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🌟 Nossos 3 Pilares Culturais"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Mais que uma plataforma, somos um movimento que acredita na força transformadora da cultura autêntica"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((d,m)=>{const u=d.icon;return e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-orange-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:d.title}),e.jsx("p",{className:"text-gray-600",children:d.description})]},m)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-50 to-orange-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"📋 Do Cadastro à Ativação"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Um processo cuidadoso que garante qualidade e autenticidade"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((d,m)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 h-full shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-orange-600 text-white text-2xl font-bold w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.number}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:d.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),e.jsxs("div",{className:"text-sm font-medium text-purple-600",children:["⏱️ ",d.timeframe]})]}),m<i.length-1&&e.jsx(ee,{className:"w-6 h-6 text-gray-400 absolute top-1/2 -right-3 transform -translate-y-1/2 hidden lg:block"})]},m))})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🎁 Benefícios que Fazem a Diferença"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Resultados práticos e impacto cultural genuíno"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"💼"}),"Benefícios Práticos"]}),e.jsx("div",{className:"space-y-4",children:n.map((d,m)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:d})]},m))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-rose-50 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"🎨"}),"Impacto Cultural"]}),e.jsx("div",{className:"space-y-4",children:o.map((d,m)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:d})]},m))})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-orange-50 to-purple-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🏛️ Tipos de Parceiros Culturais"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Espaços diversos unidos pela paixão por cultura autêntica"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map((d,m)=>{const u=d.icon;return e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:d.title}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",children:d.description}),e.jsx("div",{className:"space-y-2",children:d.examples.map((x,f)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-orange-500 to-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:x})]},f))})]},m)})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"💬 Cases de Sucesso"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Histórias reais de parceiros que transformaram seus negócios"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map((d,m)=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8",children:[e.jsx(Pm,{className:"w-8 h-8 text-purple-600 mb-4"}),e.jsxs("p",{className:"text-lg text-gray-700 mb-6 italic",children:['"',d.quote,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:d.avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800",children:d.name}),e.jsx("p",{className:"text-sm text-gray-600",children:d.business}),e.jsx("p",{className:"text-xs text-gray-500",children:d.location})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-orange-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:d.impact})})]})]},m))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-orange-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"🚀 Pronto para Fazer Parte?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Junte-se a centenas de parceiros que já estão transformando cultura em conexão"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs(R,{to:"/cadastro-parceiro",className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx("span",{children:"Começar Agora"}),e.jsx(ee,{className:"w-5 h-5"})]}),e.jsx(Go,{onClick:s,variant:"outline",size:"lg",children:"Falar Conosco"})]}),e.jsx("div",{className:"mt-8 text-purple-100",children:e.jsxs("p",{className:"text-sm",children:["📞 Dúvidas? Entre em contato: ",e.jsx("a",{href:"mailto:contact@dupassclub.ch",className:"underline hover:no-underline",children:"contact@dupassclub.ch"})]})})]})}),e.jsx(zb,{isOpen:t,onClose:a})]})}const Kt=[{id:"cultural-starter",name:"Cultural Starter",description:"Perfeito para começar sua jornada cultural",price_monthly:9,price_yearly:90,experiences_per_month:2,features:["2 experiências culturais por mês (2 por 1)","Acesso a cafés e experiências básicas","Newsletter cultural semanal","Comunidade DUO PASS Connect","Suporte por email"],popular:!1,tier:"starter",color_scheme:{primary:"#F59E0B",secondary:"#FEF3C7",gradient:"from-amber-400 to-orange-500"},icon:"🌟"},{id:"cultural-explorer",name:"Cultural Explorer",description:"O plano mais popular para exploradores culturais",price_monthly:12,price_yearly:120,experiences_per_month:4,features:["4 experiências culturais por mês (2 por 1)","Acesso completo: restaurantes, spas, arte","Eventos exclusivos mensais","Curadoria personalizada","Prioridade no atendimento","Acesso antecipado a novas experiências"],popular:!0,tier:"explorer",color_scheme:{primary:"#8B5CF6",secondary:"#EDE9FE",gradient:"from-purple-500 to-pink-500"},icon:"👑"},{id:"cultural-ambassador",name:"Cultural Ambassador",description:"Experiência VIP completa para verdadeiros embaixadores",price_monthly:18,price_yearly:180,experiences_per_month:"unlimited",features:["Experiências ilimitadas (2 por 1)","Acesso VIP a eventos especiais","Convidados extras (+2 pessoas ocasionalmente)","Concierge cultural personalizado","Acesso beta a novas experiências","Suporte prioritário 24/7","Transferência de experiências entre meses"],popular:!1,tier:"ambassador",color_scheme:{primary:"#EF4444",secondary:"#FEE2E2",gradient:"from-red-500 to-pink-600"},icon:"🏆"}],hd={FREE_EXPERIENCES_LIMIT:2};function Gb({isOpen:t,onClose:s,experiencesUsed:a}){const r=G(),{user:i}=$(),n=d=>{if(!i){r("/login?redirect=/memberships");return}r(`/checkout?plan=${d}&billing=monthly`),s()},o=()=>{r("/memberships"),s()},c=d=>{switch(d){case"starter":return e.jsx(H,{className:"w-6 h-6"});case"explorer":return e.jsx(Ne,{className:"w-6 h-6"});case"ambassador":return e.jsx(Es,{className:"w-6 h-6"});default:return e.jsx(H,{className:"w-6 h-6"})}},l=Kt.find(d=>d.popular);return e.jsx(Kx,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:s}),e.jsxs(M.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:"relative bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5 text-gray-600"})}),e.jsx("div",{className:"bg-gradient-to-r from-amber-500 via-rose-500 to-purple-600 text-white p-8 text-center",children:e.jsxs(M.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-4",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Experiências Gratuitas Esgotadas"})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Continue Sua Jornada Cultural"}),e.jsxs("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:["Você já aproveitou suas ",hd.FREE_EXPERIENCES_LIMIT," experiências gratuitas! Torne-se membro para continuar descobrindo a cultura suíça."]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs(M.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600 mb-1",children:a}),e.jsx("div",{className:"text-sm text-gray-600",children:"Experiências Aproveitadas"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"150+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Experiências Disponíveis"})]}),e.jsxs("div",{className:"text-center p-4 bg-rose-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-rose-600 mb-1",children:"7 dias"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Teste Grátis"})]})]}),l&&e.jsx(M.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-6 text-white mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:c(l.tier)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:l.name}),e.jsx("div",{className:"text-purple-100",children:"⭐ Mais Popular"})]})]}),e.jsx("p",{className:"text-white/90 mb-4",children:l.description}),e.jsxs("div",{className:"flex items-baseline space-x-2 mb-4",children:[e.jsxs("span",{className:"text-3xl font-bold",children:["CHF ",l.price_monthly]}),e.jsx("span",{className:"text-purple-200",children:"/mês"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsxs("span",{children:[l.experiences_per_month," experiências/mês"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Eventos exclusivos"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Curadoria personalizada"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"7 dias grátis"})]})]})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("button",{onClick:()=>n(l.id),className:"bg-white text-purple-600 px-6 py-3 rounded-xl font-bold hover:bg-purple-50 transition-colors flex items-center space-x-2",children:[e.jsx("span",{children:"Começar Teste"}),e.jsx(ee,{className:"w-4 h-4"})]})})]})}),e.jsxs(M.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-amber-50 rounded-xl",children:[e.jsx("div",{className:"bg-amber-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{className:"w-6 h-6 text-amber-600"})}),e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Sempre em Dupla"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Todas as experiências são pensadas para duas pessoas, criando conexões autênticas."})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[e.jsx("div",{className:"bg-purple-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:e.jsx(W,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Curadoria Emocional"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cada experiência é selecionada para criar momentos memoráveis e significativos."})]}),e.jsxs("div",{className:"text-center p-6 bg-rose-50 rounded-xl",children:[e.jsx("div",{className:"bg-rose-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"w-6 h-6 text-rose-600"})}),e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Exclusividade Suíça"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acesso a experiências culturais únicas e autênticas em toda a Suíça."})]})]}),e.jsxs(M.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:o,className:"flex-1 bg-gradient-to-r from-amber-500 to-rose-500 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Ver Todos os Planos"}),e.jsx(ee,{className:"w-5 h-5"})]}),e.jsx("button",{onClick:s,className:"flex-1 bg-gray-100 text-gray-700 py-4 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Talvez Mais Tarde"})]}),e.jsx(M.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"mt-8 pt-6 border-t border-gray-200 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Cancele a qualquer momento"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Sem compromisso"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Suporte 24/7"})]})]})})]})]})]})})}function Wo(){const{id:t}=_t(),s=G(),a=ks(),{user:r}=$(),[i,n]=h.useState(null),[o,c]=h.useState(!0),[l,d]=h.useState(!1),[m,u]=h.useState(!1),[x,f]=h.useState(!1),[b,j]=h.useState(0),[v,p]=h.useState(null),y=h.useCallback(async()=>{if(r)try{const N=parseInt(localStorage.getItem(`experiences_used_${r.id}`)||"0"),E=localStorage.getItem(`subscription_${r.id}`);j(N),p(E?JSON.parse(E):null)}catch(N){console.error("Erro ao verificar status da assinatura:",N)}},[r]),g=h.useCallback(async N=>{if(!(!r||!N))try{const E=await Zt.canGenerateVoucher(r.id,N.cultural_partners.id);u(!E)}catch(E){console.error("Erro ao verificar voucher existente:",E)}},[r]);h.useEffect(()=>{if(!t)return;const E={"sarau-literario":{id:"sarau-literario",experience_name:"Sarau Literário com Café Especial",story_behind:"Uma noite especial onde poesia e café se encontram, criando um ambiente mágico para conexões autênticas.",cultural_value:"Valoriza a literatura brasileira contemporânea e a tradição dos cafés culturais, promovendo encontros genuínos através da arte.",duo_benefit:"Duas pessoas participam do sarau e degustam cafés especiais pelo preço de uma.",original_price:60,duo_price:30,ambiance_notes:"Luzes suaves, música acústica ao vivo, estantes repletas de livros e o aroma de café especial no ar.",best_for:["primeiro_encontro","amigos_arte"],cultural_tags:["literatura","cafe_especial","musica_acustica"],emotion_tags:["reflexao","descoberta"],active:!0,cultural_partners:{id:"cafe-das-letras",business_name:"Café das Letras",business_type:"cafe_cultural",cultural_category:"literatura_gastronomia",ambiance_description:"Café literário acolhedor com eventos culturais e biblioteca comunitária.",contact_name:"Ana Beatriz",email:"contato@cafedasletras.com",address:{street:"Rua da Poesia, 123",city:"Vila Madalena",state:"São Paulo",zipcode:"05014-020"}}},"jantar-velas":{id:"jantar-velas",experience_name:"Jantar à Luz de Velas com Música ao Vivo",story_behind:"Uma experiência gastronômica que celebra receitas familiares em um ambiente romântico e acolhedor.",cultural_value:"Preserva tradições culinárias familiares e valoriza a música brasileira autoral em ambiente intimista.",duo_benefit:"Jantar completo para duas pessoas com música ao vivo incluída.",original_price:120,duo_price:60,ambiance_notes:"Ambiente íntimo com velas, música acústica brasileira e decoração que conta histórias de família.",best_for:["momento_romantico","celebracao_especial"],cultural_tags:["gastronomia_familiar","musica_brasileira","ambiente_romantico"],emotion_tags:["romance","celebracao"],active:!0,cultural_partners:{id:"restaurante-nonna",business_name:"Restaurante da Nonna",business_type:"restaurante_familiar",cultural_category:"gastronomia_tradicional",ambiance_description:"Restaurante familiar com receitas tradicionais e música ao vivo.",contact_name:"Giuseppe Romano",email:"contato@restaurantenonna.com",address:{street:"Rua do Amor, 456",city:"Jardins",state:"São Paulo",zipcode:"01310-100"}}},"oficina-ceramica":{id:"oficina-ceramica",experience_name:"Oficina de Cerâmica e Chá da Tarde",story_behind:"Conecte-se com a arte milenar da cerâmica enquanto saboreiam chás especiais em um ambiente de tranquilidade.",cultural_value:"Preserva técnicas artesanais da cerâmica e promove mindfulness através da criação manual.",duo_benefit:"Duas pessoas criam suas peças únicas e levam para casa, com chá da tarde incluído.",original_price:80,duo_price:40,ambiance_notes:"Ateliê com luz natural abundante, plantas, som ambiente suave e o toque terapêutico da argila.",best_for:["reflexao_pessoal","amigos_arte","descoberta_cultural"],cultural_tags:["ceramica","artesanato","mindfulness","cha_especial"],emotion_tags:["tranquilidade","descoberta","reflexao"],active:!0,cultural_partners:{id:"atelier-terra-alma",business_name:"Ateliê Terra & Alma",business_type:"atelier_arte",cultural_category:"artesanato_local",ambiance_description:"Espaço criativo dedicado à cerâmica, bem-estar e conexão com a natureza.",contact_name:"Mariana Costa",email:"contato@terraealma.com",address:{street:"Rua da Criatividade, 789",city:"Vila Olímpia",state:"São Paulo",zipcode:"04547-130"}}}}[t];E&&n(E),c(!1),r&&E&&(g(E),y())},[t,r,g,y]);const _=()=>v&&v.status==="active"?!0:b<hd.FREE_EXPERIENCES_LIMIT,k=async()=>{if(!r){const N=encodeURIComponent(a.pathname);s(`/login?redirect=${N}`);return}if(i){if(!_()){f(!0);return}try{d(!0);const N=await Zt.generateVoucher(r.id,i.cultural_partners.id);if(N){if(!v||v.status!=="active"){const E=b+1;localStorage.setItem(`experiences_used_${r.id}`,E.toString()),j(E)}s(`/voucher/ativo/${N.id}?code=${N.voucher_code}`)}else throw new Error("Não foi possível gerar o voucher")}catch(N){console.error("Erro ao resgatar voucher:",N),alert("Erro ao resgatar voucher. Tente novamente.")}finally{d(!1)}}},S=N=>({primeiro_encontro:"Primeiro Encontro",amigos_arte:"Amigos & Arte",reflexao_pessoal:"Reflexão Pessoal",celebracao_especial:"Celebração Especial",momento_romantico:"Momento Romântico",descoberta_cultural:"Descoberta Cultural"})[N]||N,C=N=>({romance:"💕",descoberta:"🔍",reflexao:"🧘",tranquilidade:"🕯️",celebracao:"🎉",aventura:"🌟"})[N]||"✨";return o?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):i?e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"relative bg-gradient-to-br from-amber-50 via-rose-50 to-amber-100 py-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(M.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},onClick:()=>s(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-amber-600 transition-colors mb-8",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(M.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[e.jsxs("div",{className:"flex items-center space-x-2 text-amber-600 mb-4",children:[e.jsx(K,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:i.cultural_partners.business_name})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6",children:i.experience_name}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:i.story_behind}),e.jsx("div",{className:"flex items-center space-x-3 mb-8",children:i.emotion_tags.map(N=>e.jsxs("span",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm",children:[e.jsx("span",{className:"text-lg",children:C(N)}),e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:N})]},N))})]}),e.jsxs(M.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-rose-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:e.jsx(Ge,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"DUO PASS Especial"}),e.jsx("p",{className:"text-gray-600",children:"Experiência para duas pessoas"})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Preço Individual"}),e.jsxs("span",{className:"text-gray-500 line-through",children:["CHF ",(i.original_price*.18).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[e.jsx("span",{className:"text-amber-600",children:"DUO PASS"}),e.jsxs("span",{className:"text-green-600",children:["CHF ",(i.duo_price*.18).toFixed(2)]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-green-700 font-medium",children:["💰 Economia de CHF ",((i.original_price-i.duo_price)*.18).toFixed(2)]})})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"🎁 Benefício DUO:"}),e.jsx("p",{className:"text-sm text-amber-700",children:i.duo_benefit})]}),m?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx(z,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-green-700 font-medium",children:"Você já possui um voucher ativo!"})]}),e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Ver Meus Vouchers"})]}):e.jsx("button",{onClick:k,disabled:l,className:"w-full bg-gradient-to-r from-amber-500 to-rose-500 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Gerando Voucher...":"🎯 Resgatar DUO PASS"})]})]})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(M.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(Ie,{className:"w-6 h-6 text-amber-500"}),e.jsx("span",{children:"Valor Cultural"})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.cultural_value})]}),e.jsxs(M.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(W,{className:"w-6 h-6 text-rose-500"}),e.jsx("span",{children:"Ambiente"})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.ambiance_notes})]}),e.jsxs(M.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center space-x-2",children:[e.jsx(U,{className:"w-6 h-6 text-blue-500"}),e.jsx("span",{children:"Ideal Para"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:i.best_for.map(N=>e.jsx("span",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-full font-medium",children:S(N)},N))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-4",children:"Parceiro Cultural"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-semibold text-amber-600",children:i.cultural_partners.business_name}),e.jsx("p",{className:"text-sm text-gray-600",children:i.cultural_partners.ambiance_description}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsxs("span",{children:[i.cultural_partners.address.street,", ",i.cultural_partners.address.city]})]})]})]}),e.jsxs(M.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-4",children:"Tags Culturais"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.cultural_tags.map(N=>e.jsxs("span",{className:"px-3 py-1 bg-amber-50 text-amber-700 text-sm rounded-full",children:["#",N]},N))})]}),e.jsxs(M.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-4",children:"Compartilhar"}),e.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-amber-600 transition-colors",children:[e.jsx(ot,{className:"w-5 h-5"}),e.jsx("span",{children:"Compartilhar experiência"})]})]})]})]})}),e.jsx(Gb,{isOpen:x,onClose:()=>f(!1),experiencesUsed:b,triggerExperience:i?.experience_name})]}):e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Experiência não encontrada"}),e.jsx("button",{onClick:()=>s("/"),className:"text-amber-600 hover:text-amber-700 font-medium",children:"Voltar ao início"})]})})}const Wb=t=>[{id:"group-msg-1",community_id:t,sender_id:"user-1",sender_name:"Ana Silva",sender_avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",content:"Pessoal, alguém foi na exposição do MASP hoje? Estava pensando em ir amanhã!",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()},{id:"group-msg-2",community_id:t,sender_id:"user-2",sender_name:"Carlos Mendes",sender_avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",content:"Eu fui ontem! A curadoria está incrível. Recomendo muito!",message_type:"text",created_at:new Date(Date.now()-3e6).toISOString()},{id:"group-msg-3",community_id:t,sender_id:"user-3",sender_name:"Maria Santos",sender_avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",content:"Que tal formarmos um grupo para ir juntos no fim de semana? 🎨",message_type:"text",created_at:new Date(Date.now()-18e5).toISOString()},{id:"group-msg-4",community_id:t,sender_id:"demo-user-id",sender_name:"Você",sender_avatar:"https://ui-avatars.com/api/?name=Demo&background=C91F1F&color=fff",content:"Adorei a ideia! Podemos nos encontrar lá sábado às 14h?",message_type:"text",created_at:new Date(Date.now()-9e5).toISOString()}],Yo=t=>[{id:"direct-msg-1",sender_id:t,receiver_id:"demo-user-id",content:"Oi! Vi que você também está interessado na exposição. Que bom!",message_type:"text",created_at:new Date(Date.now()-18e5).toISOString()},{id:"direct-msg-2",sender_id:"demo-user-id",receiver_id:t,content:"Sim! Adoro arte contemporânea. Você já foi em outras exposições recentes?",message_type:"text",read_at:new Date(Date.now()-15e5).toISOString(),created_at:new Date(Date.now()-15e5).toISOString()},{id:"direct-msg-3",sender_id:t,receiver_id:"demo-user-id",content:"Fui na Pinacoteca semana passada. Tem uma exposição de fotografia incrível lá!",message_type:"text",created_at:new Date(Date.now()-6e5).toISOString()}];function pd({community:t,onClose:s,initialChatType:a="group",initialMember:r}){const{user:i}=$(),[n,o]=h.useState(a),[c,l]=h.useState(r||null),[d,m]=h.useState([]),[u,x]=h.useState([]),[f,b]=h.useState(""),[j,v]=h.useState(!0),[p,y]=h.useState(!1),g=h.useRef(null);h.useEffect(()=>{setTimeout(()=>{m(Wb(t.id)),c&&x(Yo(c.user_id)),v(!1)},1e3)},[t.id,c]),h.useEffect(()=>{_()},[d,u]);const _=()=>{g.current?.scrollIntoView({behavior:"smooth"})},k=async()=>{if(!(!f.trim()||!i||p)){y(!0);try{const w=f.trim();if(b(""),n==="group"){const F={id:`group-msg-${Date.now()}`,community_id:t.id,sender_id:i.id,sender_name:"Você",sender_avatar:"https://ui-avatars.com/api/?name=Demo&background=C91F1F&color=fff",content:w,message_type:"text",created_at:new Date().toISOString()};m(P=>[...P,F])}else if(c){const F={id:`direct-msg-${Date.now()}`,sender_id:i.id,receiver_id:c.user_id,content:w,message_type:"text",created_at:new Date().toISOString()};x(P=>[...P,F])}}catch(w){console.error("Erro ao enviar mensagem:",w)}finally{y(!1)}}},S=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),k())},C=w=>{const F=new Date(w);return(new Date().getTime()-F.getTime())/(1e3*60*60)<24?F.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):F.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},N=w=>{l(w),o("direct"),x(Yo(w.user_id))},E=n==="group"?d:u;return j?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-96",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando chat..."})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(pe,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center space-x-2",children:n==="group"?e.jsxs(e.Fragment,{children:[e.jsx(gm,{className:"w-5 h-5 text-[#C91F1F]"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Chat da Comunidade • ",t.memberCount," membros"]})]})]}):c?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:c.avatar,alt:c.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),e.jsx("p",{className:"text-sm text-gray-500",children:c.isOnline?"Online agora":"Offline"})]})]}):null})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{n==="group"?(o("direct"),l(null)):(o("group"),l(null))},className:`p-2 rounded-lg transition-colors ${n==="group"?"bg-[#C91F1F] text-white":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:e.jsx(U,{className:"w-5 h-5"})}),n==="direct"&&c&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(it,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(pl,{className:"w-5 h-5"})})]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(xl,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[n==="direct"&&!c&&e.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Membros da Comunidade"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Clique em um membro para iniciar uma conversa"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:t.members.map(w=>e.jsx("button",{onClick:()=>N(w),className:"w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:w.avatar,alt:w.name,className:"w-10 h-10 rounded-full"}),w.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 truncate",children:w.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:w.interests.slice(0,2).join(", ")})]})]})},w.id))})]}),(n==="group"||n==="direct"&&c)&&e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[E.map(w=>{const F=w.sender_id===i?.id;return e.jsx("div",{className:`flex ${F?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${F?"":"flex items-start space-x-2"}`,children:[!F&&n==="group"&&e.jsx("img",{src:w.sender_avatar,alt:w.sender_name,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:`px-4 py-2 rounded-2xl ${F?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white":"bg-gray-100 text-gray-900"}`,children:[!F&&n==="group"&&e.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:w.sender_name}),e.jsx("p",{className:"text-sm",children:w.content}),e.jsx("div",{className:`flex items-center justify-end mt-1 ${F?"text-white text-opacity-70":"text-gray-500"}`,children:e.jsx("span",{className:"text-xs",children:C(w.created_at)})})]})]})},w.id)}),e.jsx("div",{ref:g})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:f,onChange:w=>b(w.target.value),onKeyPress:S,placeholder:`Mensagem para ${n==="group"?t.name:c?.name}...`,rows:1,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}})}),e.jsx("button",{onClick:k,disabled:!f.trim()||p,className:`p-2 rounded-lg transition-colors ${f.trim()&&!p?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:p?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):e.jsx(da,{className:"w-5 h-5"})})]})})]}),n==="direct"&&!c&&t.members.length===0&&e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum membro disponível"}),e.jsx("p",{className:"text-gray-500",children:"Esta comunidade ainda não possui outros membros para conversar."})]})})]})]})})}const Yb=t=>({id:t,name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",memberCount:1247,coverImage:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=400&fit=crop",members:[{id:"1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte Contemporânea","Fotografia","Design"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1",bio:"Apaixonada por arte contemporânea e fotografia urbana."},{id:"2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Pintura","Escultura","História da Arte"],joinedAt:"2024-02-03",isOnline:!1,user_id:"user-2",bio:"Artista plástico e professor de história da arte."},{id:"3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Design Gráfico","Ilustração","Arte Digital"],joinedAt:"2024-01-28",isOnline:!0,user_id:"user-3",bio:"Designer gráfica especializada em identidade visual."}],activities:[{id:"1",type:"experience_share",author:{id:"1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte Contemporânea"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1"},content:'Acabei de visitar a exposição "Vanguardas Contemporâneas" no Museu de Arte Moderna. Simplesmente incrível! As obras de Beatriz Milhazes estão espetaculares. Quem mais foi ou pretende ir?',timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),likes:12,comments:5,community_id:t,images:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop"]},{id:"2",type:"event",author:{id:"2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Pintura"],joinedAt:"2024-02-03",isOnline:!1,user_id:"user-2"},content:"🎨 Workshop de Pintura em Aquarela - Sábado, 14h às 17h na Galeria Central. Vagas limitadas! Quem tem interesse em participar? Vamos formar um grupo da comunidade!",timestamp:new Date(Date.now()-5*60*60*1e3).toISOString(),likes:8,comments:3,community_id:t},{id:"3",type:"discussion",author:{id:"3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Design Gráfico"],joinedAt:"2024-01-28",isOnline:!0,user_id:"user-3"},content:"O que vocês acham da influência da arte digital na arte tradicional? Tenho notado uma convergência interessante entre as duas formas de expressão...",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),likes:15,comments:8,community_id:t}],created_at:new Date().toISOString(),updated_at:new Date().toISOString()});function Zb(){const{id:t}=_t(),s=G(),{user:a}=$(),[r,i]=h.useState(null),[n,o]=h.useState(!0),[c,l]=h.useState("activities"),[d,m]=h.useState(""),[u,x]=h.useState(!1),[f,b]=h.useState(!1),[j,v]=h.useState(!1),[p,y]=h.useState("group"),[g,_]=h.useState(null);h.useEffect(()=>{setTimeout(()=>{const D=Yb(t||"arte-design");i(D),x(!0),o(!1)},1e3)},[t]);const k=async()=>{r&&(x(!1),i(D=>D?{...D,memberCount:D.memberCount-1}:null))},S=async()=>{if(!d.trim()||!r||!a)return;b(!0);const D={id:Date.now().toString(),type:"post",author:{id:a.id,name:a.email?.split("@")[0]||"Usuário",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",interests:["Arte"],joinedAt:new Date().toISOString(),isOnline:!0,user_id:a.id},content:d,timestamp:new Date().toISOString(),likes:0,comments:0,community_id:r.id};i(A=>A?{...A,activities:[D,...A.activities]}:null),m(""),b(!1)},C=()=>{y("group"),_(null),v(!0)},N=D=>{y("direct"),_(D),v(!0)},E=()=>{v(!1),_(null)},w=D=>{s("/dashboard?tab=connect&chat="+D.user_id)},F=D=>{switch(D){case"event":return e.jsx(Ee,{className:"w-4 h-4"});case"experience_share":return e.jsx(ot,{className:"w-4 h-4"});case"discussion":return e.jsx(xe,{className:"w-4 h-4"});default:return e.jsx(xe,{className:"w-4 h-4"})}},P=D=>{switch(D){case"event":return"Evento";case"experience_share":return"Experiência";case"discussion":return"Discussão";default:return"Post"}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F]"})}):r?e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${r.coverImage})`},children:e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("button",{onClick:()=>s("/dashboard?tab=connect"),className:"flex items-center space-x-2 bg-white bg-opacity-90 text-gray-900 px-4 py-2 rounded-lg hover:bg-opacity-100 transition-all",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Voltar"})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.name}),e.jsx("p",{className:"text-lg opacity-90 mb-4",children:r.description}),e.jsx("div",{className:"flex items-center space-x-4 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.memberCount.toLocaleString()," membros"]})]})})]}),u&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:C,className:"flex items-center space-x-2 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Chat da Comunidade"})]}),e.jsxs("button",{onClick:k,className:"flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(hr,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair da Comunidade"})]})]})]})})})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>l("activities"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="activities"?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Atividades"}),e.jsx("button",{onClick:()=>l("members"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="members"?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Membros"})]})}),e.jsxs("div",{className:"p-6",children:[c==="activities"&&e.jsxs("div",{className:"space-y-6",children:[u&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("textarea",{value:d,onChange:D=>m(D.target.value),placeholder:"Compartilhe algo com a comunidade...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",rows:3}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-gray-700",children:[e.jsx(bm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Foto"})]})}),e.jsxs("button",{onClick:S,disabled:!d.trim()||f,className:"flex items-center space-x-2 bg-[#C91F1F] text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(da,{className:"w-4 h-4"}),e.jsx("span",{children:"Publicar"})]})]})]}),e.jsx("div",{className:"space-y-4",children:r.activities.map(D=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("img",{src:D.author.avatar,alt:D.author.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:D.author.name}),e.jsxs("span",{className:"flex items-center space-x-1 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[F(D.type),e.jsx("span",{children:P(D.type)})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(D.timestamp).toLocaleString("pt-BR")})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:D.content}),D.images&&D.images.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("img",{src:D.images[0],alt:"Post image",className:"rounded-lg max-w-md w-full h-48 object-cover"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("button",{className:"flex items-center space-x-1 hover:text-red-600",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:D.likes})]}),e.jsxs("button",{className:"flex items-center space-x-1 hover:text-blue-600",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:D.comments})]}),e.jsxs("button",{className:"flex items-center space-x-1 hover:text-green-600",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartilhar"})]})]})]})]})},D.id))})]}),c==="members"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.members.map(D=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D.avatar,alt:D.name,className:"w-12 h-12 rounded-full"}),D.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:D.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:D.bio}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:D.interests.slice(0,2).map((A,V)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:A},V))}),u&&D.user_id!==a?.id&&e.jsxs("button",{onClick:()=>N(D),className:"flex items-center space-x-1 text-[#C91F1F] hover:text-red-700 text-sm font-medium",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Conversar"})]})]})]})},D.id))})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membros"}),e.jsx("span",{className:"font-medium",children:r.memberCount.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Posts hoje"}),e.jsx("span",{className:"font-medium",children:"12"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membros online"}),e.jsx("span",{className:"font-medium text-green-600",children:"89"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Membros Online"}),e.jsx("div",{className:"space-y-3",children:r.members.filter(D=>D.isOnline).slice(0,5).map(D=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D.avatar,alt:D.name,className:"w-8 h-8 rounded-full"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-green-500 border border-white rounded-full"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.name})}),e.jsx("button",{onClick:()=>w(D),className:"text-[#C91F1F] hover:text-red-700",children:e.jsx(xe,{className:"w-4 h-4"})})]},D.id))})]})]})]})}),j&&r&&e.jsx(pd,{community:r,onClose:E,initialChatType:p,initialMember:g})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Comunidade não encontrada"}),e.jsx("button",{onClick:()=>s("/dashboard?tab=connect"),className:"text-[#C91F1F] hover:underline",children:"Voltar às comunidades"})]})})}class Zo{static _0x1a2b=!0;static _0x2c3d=!0;static SUBSCRIPTION_PLANS=[{id:"basic",name:"Básico",description:"Perfeito para começar",price_monthly:19.9,price_yearly:199,features:["Até 10 ofertas por mês","2% de cashback","Suporte por email","Acesso a ofertas básicas"],max_offers_per_month:10,cashback_percentage:2,is_active:!0},{id:"premium",name:"Premium",description:"Mais economia e benefícios",price_monthly:39.9,price_yearly:399,features:["Ofertas ilimitadas","5% de cashback","Suporte prioritário","Ofertas exclusivas","Acesso antecipado"],max_offers_per_month:-1,cashback_percentage:5,is_active:!0},{id:"vip",name:"VIP",description:"Experiência completa",price_monthly:79.9,price_yearly:799,features:["Ofertas ilimitadas","10% de cashback","Suporte 24/7","Ofertas VIP exclusivas","Gerente de conta dedicado","Eventos exclusivos"],max_offers_per_month:-1,cashback_percentage:10,is_active:!0}];static async createSubscription(s,a,r,i){try{const n=this.SUBSCRIPTION_PLANS.find(f=>f.id===a);if(!n)return{success:!1,error:"Plano não encontrado"};const o=i==="monthly"?n.price_monthly:n.price_yearly,{data:c,error:l}=await T.from("payment_transactions").insert({user_id:s,amount:o,currency:"CHF",type:"subscription",status:"pending",payment_method_id:r,metadata:{plan_id:a,billing_cycle:i},created_at:new Date().toISOString()}).select().single();if(l)return{success:!1,error:"Erro ao criar transação"};const d=await this.processPayment(c.id,r,o);if(!d.success)return{success:!1,error:d.error};const m=new Date;i==="monthly"?m.setMonth(m.getMonth()+1):m.setFullYear(m.getFullYear()+1);const{data:u,error:x}=await T.from("user_subscriptions").upsert({user_id:s,plan_id:a,status:"active",billing_cycle:i,current_period_start:new Date().toISOString(),current_period_end:m.toISOString(),updated_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();return x?{success:!1,error:"Erro ao criar assinatura"}:(await T.from("users").update({subscription_status:"active",subscription_expires_at:m.toISOString()}).eq("id",s),await Or.addPoints(s,i==="yearly"?500:200,"bonus",`Bônus de assinatura ${n.name} ${i==="yearly"?"anual":"mensal"}! 🎉`),await qe.create({user_id:s,type:"payment",title:"🎉 Assinatura ativada!",message:`Sua assinatura ${n.name} está ativa. Aproveite todos os benefícios!`}),{success:!0,subscription:u})}catch(n){return console.error("Erro ao criar assinatura:",n),{success:!1,error:"Erro interno do servidor"}}}static async processPayment(s,a,r){try{if(r<=0)return await this.updateTransactionStatus(s,"failed"),{success:!1,error:"Valor inválido"};await new Promise(l=>setTimeout(l,2e3));const{data:i}=await T.from("payment_methods").select("*").eq("id",a).single();if(!i)return await this.updateTransactionStatus(s,"failed"),{success:!1,error:"Método de pagamento não encontrado"};let n=!0,o="";switch(i.type){case"pix":n=Math.random()>.05,o=n?"":"PIX expirado ou cancelado";break;case"credit_card":n=Math.random()>.1,o=n?"":"Cartão recusado";break;case"debit_card":n=Math.random()>.15,o=n?"":"Saldo insuficiente";break;default:n=Math.random()>.2,o=n?"":"Erro no processamento"}const c=n?"completed":"failed";return await this.updateTransactionStatus(s,c),{success:n,error:o}}catch(i){return console.error("Erro ao processar pagamento:",i),await this.updateTransactionStatus(s,"failed"),{success:!1,error:"Erro no processamento do pagamento"}}}static async updateTransactionStatus(s,a){const r={status:a};a==="completed"&&(r.completed_at=new Date().toISOString()),await T.from("payment_transactions").update(r).eq("id",s)}static async addPaymentMethod(s,a,r,i){try{const{data:n,error:o}=await T.from("payment_methods").insert({user_id:s,type:a,provider:r,last_four:i.last_four,brand:i.brand,is_default:!1,created_at:new Date().toISOString()}).select().single();return o?{success:!1,error:"Erro ao adicionar método de pagamento"}:{success:!0,paymentMethod:n}}catch(n){return console.error("Erro ao adicionar método de pagamento:",n),{success:!1,error:"Erro interno do servidor"}}}static async processCashback(s,a,r){try{const{data:i}=await T.from("user_subscriptions").select(`
          *,
          plan:subscription_plans(*)
        `).eq("user_id",s).eq("status","active").single();if(!i){console.log("Usuário sem assinatura ativa, sem cashback");return}const n=this.SUBSCRIPTION_PLANS.find(m=>m.id===i.plan_id);if(!n){console.error("Plano não encontrado");return}const o=n.cashback_percentage,c=r*o/100,{error:l}=await T.from("cashback_transactions").insert({user_id:s,offer_id:a,amount:c,percentage:o,status:"approved",created_at:new Date().toISOString()});if(l){console.error("Erro ao criar transação de cashback:",l);return}const d=Math.round(c*10);await Or.addPoints(s,d,"cashback",`Cashback de ${o}% recebido! 💰`,{offer_id:a,cashback_amount:c,cashback_percentage:o}),await qe.create({user_id:s,type:"cashback",title:"💰 Cashback recebido!",message:`Você recebeu CHF ${(c*.18).toFixed(2)} de cashback (${o}%)`})}catch(i){console.error("Erro ao processar cashback:",i)}}static generatePixQRCode(s,a,r="duopass@exemplo.com"){const i={initMethod:"12",merchantAccount:r,merchantCategory:"0000",currency:"756",amount:s.toFixed(2),country:"BR",merchantName:"DUOPASS CLUB",merchantCity:"SAO PAULO",description:a.substring(0,25)},n=`00020126${i.initMethod}${i.merchantAccount}${i.merchantCategory}5303${i.currency}54${i.amount.length.toString().padStart(2,"0")}${i.amount}5802${i.country}59${i.merchantName.length.toString().padStart(2,"0")}${i.merchantName}60${i.merchantCity.length.toString().padStart(2,"0")}${i.merchantCity}62${i.description.length.toString().padStart(2,"0")}${i.description}6304`,o=this.calculateCRC16(n);return n+o}static calculateCRC16(s){let a=65535;for(let r=0;r<s.length;r++){a^=s.charCodeAt(r)<<8;for(let i=0;i<8;i++)a&32768?a=a<<1^4129:a<<=1}return(a&65535).toString(16).toUpperCase().padStart(4,"0")}static async getPaymentHistory(s){try{const{data:a}=await T.from("payment_transactions").select(`
          *,
          payment_method:payment_methods(type, brand, last_four)
        `).eq("user_id",s).order("created_at",{ascending:!1});return a||[]}catch(a){return console.error("Erro ao buscar histórico de pagamentos:",a),[]}}static async getCashbackHistory(s){try{const{data:a}=await T.from("cashback_transactions").select(`
          *,
          offer:offers(title, merchant:merchants(business_name))
        `).eq("user_id",s).order("created_at",{ascending:!1});return a||[]}catch(a){return console.error("Erro ao buscar histórico de cashback:",a),[]}}static async cancelSubscription(s){try{const{error:a}=await T.from("user_subscriptions").update({status:"cancelled",cancelled_at:new Date().toISOString()}).eq("user_id",s);return a?{success:!1,error:"Erro ao cancelar assinatura"}:(await T.from("users").update({subscription_status:"inactive"}).eq("id",s),await qe.create({user_id:s,type:"subscription",title:"📋 Assinatura cancelada",message:"Sua assinatura foi cancelada. Você ainda pode usar os benefícios até o final do período pago."}),{success:!0})}catch(a){return console.error("Erro ao cancelar assinatura:",a),{success:!1,error:"Erro interno do servidor"}}}static async checkSubscriptionStatus(s){try{const{data:a}=await T.from("user_subscriptions").select(`
          *,
          plan:subscription_plans(*)
        `).eq("user_id",s).single();return a}catch(a){return console.error("Erro ao verificar status da assinatura:",a),null}}}class Ir{static async checkMembershipStatus(s){try{const{data:a}=await T.from("user_subscriptions").select(`
          *,
          plan:subscription_plans(*)
        `).eq("user_id",s).eq("status","active").single();if(!a)return{isActive:!1,redeemCount:0,canRedeem:!1,remainingRedeems:0};let r=a.plan;if(r||(r=Zo.SUBSCRIPTION_PLANS.find(x=>x.id===a.plan_id)),!r)return{isActive:!1,redeemCount:0,canRedeem:!1,remainingRedeems:0};const i=new Date,n=new Date(i.getFullYear(),i.getMonth(),1),o=new Date(i.getFullYear(),i.getMonth()+1,0),{count:c}=await T.from("vouchers").select("*",{count:"exact",head:!0}).eq("user_id",s).gte("created_at",n.toISOString()).lte("created_at",o.toISOString()),l=c||0,d=r.max_offers_per_month,m=d===-1||l<d,u=d===-1?-1:Math.max(0,d-l);return{isActive:!0,plan:{id:r.id,name:r.name,max_offers_per_month:r.max_offers_per_month,cashback_percentage:r.cashback_percentage},currentPeriodStart:a.current_period_start,currentPeriodEnd:a.current_period_end,redeemCount:l,canRedeem:m,remainingRedeems:u}}catch(a){return console.error("Erro ao verificar status de membership:",a),{isActive:!1,redeemCount:0,canRedeem:!1,remainingRedeems:0}}}static async redeemOffer(s,a){try{const r=await this.checkMembershipStatus(s);if(!r.isActive)return{success:!1,error:"Assinatura inativa",requiresUpgrade:!0};if(!r.canRedeem)return{success:!1,error:`Limite de ${r.plan?.max_offers_per_month} resgates por mês atingido`,requiresUpgrade:!0};const{data:i}=await T.from("offers").select("*").eq("id",a).single();if(!i)return{success:!1,error:"Oferta não encontrada"};if(!i.is_active)return{success:!1,error:"Oferta não está mais ativa"};if(i.expires_at&&new Date(i.expires_at)<new Date)return{success:!1,error:"Oferta expirada"};const{data:n}=await T.from("vouchers").select("*").eq("user_id",s).eq("offer_id",a).eq("status","active").single();if(n)return{success:!1,error:"Você já resgatou esta oferta"};const o=this.generateVoucherCode(),c=JSON.stringify({voucherId:o,userId:s,offerId:a,timestamp:new Date().toISOString()}),{data:l,error:d}=await T.from("vouchers").insert({user_id:s,offer_id:a,merchant_id:i.merchant_id,voucher_code:o,qr_code_data:c,status:"active",expires_at:i.expires_at,created_at:new Date().toISOString()}).select().single();return d?(console.error("Erro ao criar voucher:",d),{success:!1,error:"Erro ao gerar voucher"}):(r.plan?.cashback_percentage>0&&await Zo.processCashback(s,a,i.original_value),{success:!0,voucherId:l.id})}catch(r){return console.error("Erro ao resgatar oferta:",r),{success:!1,error:"Erro interno do servidor"}}}static generateVoucherCode(){const s=Date.now().toString(36),a=Math.random().toString(36).substring(2,8);return`DUO-${s}-${a}`.toUpperCase()}static async canAccessPremiumFeature(s,a){try{const r=await this.checkMembershipStatus(s);return r.isActive?({basic:["favorites","basic_support"],premium:["favorites","basic_support","priority_support","exclusive_offers","early_access"],vip:["favorites","basic_support","priority_support","exclusive_offers","early_access","vip_events","dedicated_manager"]}[r.plan?.id]||[]).includes(a):!1}catch(r){return console.error("Erro ao verificar acesso a feature premium:",r),!1}}static async getMonthlyUsageStats(s){try{const a=await this.checkMembershipStatus(s),r=new Date,i=new Date(r.getFullYear(),r.getMonth(),1),n=new Date(r.getFullYear(),r.getMonth()+1,0),{data:o}=await T.from("cashback_transactions").select("amount").eq("user_id",s).gte("created_at",i.toISOString()).lte("created_at",n.toISOString()),c=o?.reduce((d,m)=>d+m.amount,0)||0,{count:l}=await T.from("user_favorites").select("*",{count:"exact",head:!0}).eq("user_id",s);return{redeemCount:a.redeemCount,maxRedeems:a.plan?.max_offers_per_month||0,cashbackEarned:c,favoriteOffers:l||0}}catch(a){return console.error("Erro ao buscar estatísticas de uso:",a),{redeemCount:0,maxRedeems:0,cashbackEarned:0,favoriteOffers:0}}}}function Is(){const{slug:t}=_t(),s=G(),{user:a}=$(),[r,i]=h.useState(null),[n,o]=h.useState(!0),[c,l]=h.useState(!1),[d,m]=h.useState(!1),[u,x]=h.useState(!1),[f,b]=h.useState(null),[j,v]=h.useState([]),[p,y]=h.useState([]),[g,_]=h.useState(0),[k,S]=h.useState(!1),[C,N]=h.useState({rating:5,comment:""}),E={"desconto-pizza":"1","massagem-relaxante":"2","corte-barba":"3","aula-yoga":"4"};h.useEffect(()=>{t&&a&&(w(),F(),P())},[t,a?.id]);const w=async()=>{try{o(!0);const I=E[t||""];if(!I){s("/ofertas");return}const{data:te}=await T.from("offers").select(`
          *,
          merchant:merchants(*)
        `).eq("id",I).single();if(!te){s("/ofertas");return}i(te);const{data:ae}=await T.from("offer_reviews").select("*").eq("offer_id",I).order("created_at",{ascending:!1}).limit(10);v(ae||[]);const{data:Ye}=await T.from("offer_gallery").select("*").eq("offer_id",I).order("created_at",{ascending:!1});y(Ye||[])}catch(I){console.error("Erro ao carregar dados da oferta:",I)}finally{o(!1)}},F=async()=>{if(a)try{const I=await Ir.checkMembershipStatus(a.id);b(I)}catch(I){console.error("Erro ao verificar membership:",I)}},P=async()=>{if(!(!a||!r))try{const{data:I}=await T.from("user_favorites").select("*").eq("user_id",a.id).eq("offer_id",r.id).single();m(!!I)}catch{m(!1)}},D=async()=>{if(!(!a||!r)){if(!f?.isActive){x(!0);return}if(!f?.canRedeem){x(!0);return}try{l(!0);const I=await Ir.redeemOffer(a.id,r.id);I.success?s(`/voucher/${I.voucherId}`):I.requiresUpgrade?x(!0):alert(I.error||"Erro ao resgatar oferta")}catch(I){console.error("Erro ao resgatar:",I),alert("Erro ao resgatar oferta")}finally{l(!1)}}},A=async()=>{if(!(!a||!r))try{d?(await T.from("user_favorites").delete().eq("user_id",a.id).eq("offer_id",r.id),m(!1)):(await T.from("user_favorites").insert({user_id:a.id,offer_id:r.id,created_at:new Date().toISOString()}),m(!0))}catch(I){console.error("Erro ao favoritar:",I)}},V=async()=>{if(navigator.share)try{await navigator.share({title:r?.title,text:r?.description,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else navigator.clipboard.writeText(window.location.href),alert("Link copiado para a área de transferência!")},J=async()=>{if(!(!a||!r||!C.comment.trim()))try{const{error:I}=await T.from("offer_reviews").insert({offer_id:r.id,user_id:a.id,user_name:a.email?.split("@")[0]||"Usuário",rating:C.rating,comment:C.comment,created_at:new Date().toISOString()});I||(S(!1),N({rating:5,comment:""}),w())}catch(I){console.error("Erro ao enviar avaliação:",I)}};if(n)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F]"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Oferta não encontrada"}),e.jsx("button",{onClick:()=>s("/ofertas"),className:"text-[#C91F1F] hover:underline",children:"Voltar às ofertas"})]})});const Z=j.length>0?j.reduce((I,te)=>I+te.rating,0)/j.length:0;return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),"Voltar"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:A,className:`p-2 rounded-full ${d?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx(W,{className:`h-5 w-5 ${d?"fill-current":""}`})}),e.jsx("button",{onClick:V,className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:e.jsx(ot,{className:"h-5 w-5"})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"aspect-video bg-gray-200 relative",children:[p.length>0?e.jsx("img",{src:p[g]?.image_url||r.image_url,alt:r.title,className:"w-full h-full object-cover"}):e.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover"}),p.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"flex space-x-2",children:p.map((I,te)=>e.jsx("button",{onClick:()=>_(te),className:`w-3 h-3 rounded-full ${te===g?"bg-white":"bg-white/50"}`},te))})})]}),p.length>1&&e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:p.map((I,te)=>e.jsx("button",{onClick:()=>_(te),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ${te===g?"border-[#C91F1F]":"border-gray-200"}`,children:e.jsx("img",{src:I.image_url,alt:I.caption||`Imagem ${te+1}`,className:"w-full h-full object-cover"})},I.id))})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"h-4 w-4 text-yellow-400 mr-1"}),e.jsxs("span",{children:[Z.toFixed(1)," (",j.length," avaliações)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:r.location})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold text-[#C91F1F] mb-1",children:["CHF ",(r.original_value*.18/2).toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["CHF ",(r.original_value*.18).toFixed(2)]}),e.jsx("div",{className:"text-sm font-medium text-green-600",children:"50% OFF"})]})]}),e.jsx("p",{className:"text-gray-700 mb-6",children:r.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Válido até ",new Date(r.expires_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Para 2 pessoas"})]})]}),r.terms_conditions&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Termos e Condições"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.terms_conditions})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Localização"]}),e.jsx("div",{className:"bg-gray-100 rounded-lg h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(K,{className:"h-12 w-12 mx-auto mb-2"}),e.jsx("p",{children:"Mapa interativo"}),e.jsx("p",{className:"text-sm",children:r.location})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(xe,{className:"h-5 w-5 mr-2"}),"Avaliações (",j.length,")"]}),e.jsx("button",{onClick:()=>S(!0),className:"text-[#C91F1F] hover:underline text-sm",children:"Escrever avaliação"})]}),j.length>0?e.jsx("div",{className:"space-y-4",children:j.map(I=>e.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-[#C91F1F] rounded-full flex items-center justify-center text-white text-sm font-medium",children:I.user_name.charAt(0).toUpperCase()}),e.jsx("span",{className:"ml-3 font-medium text-gray-900",children:I.user_name})]}),e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((te,ae)=>e.jsx(H,{className:`h-4 w-4 ${ae<I.rating?"text-yellow-400 fill-current":"text-gray-300"}`},ae))})]}),e.jsx("p",{className:"text-gray-700 text-sm",children:I.comment}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(I.created_at).toLocaleDateString()})]},I.id))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Ainda não há avaliações para esta oferta."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"text-4xl font-bold text-[#C91F1F] mb-2",children:["CHF ",(r.original_value*.18/2).toFixed(2)]}),e.jsxs("div",{className:"text-lg text-gray-500 line-through mb-1",children:["CHF ",(r.original_value*.18).toFixed(2)]}),e.jsx("div",{className:"text-green-600 font-semibold",children:"50% de desconto"})]}),f?.isActive?e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Resgates este mês:"}),e.jsxs("span",{children:[f.redeemCount,"/",f.plan?.max_offers_per_month===-1?"∞":f.plan?.max_offers_per_month]})]}),f.canRedeem?e.jsxs("div",{className:"flex items-center text-green-600 text-sm mb-4",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Você pode resgatar esta oferta"})]}):e.jsxs("div",{className:"flex items-center text-orange-600 text-sm mb-4",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Limite de resgates atingido"})]})]}):e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center text-orange-800 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Assinatura necessária para resgatar"})]})}),e.jsx("button",{onClick:D,disabled:c,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-colors ${c?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#C91F1F] to-[#8B1538] hover:from-[#B01B1B] hover:to-[#7A1230]"}`,children:c?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Resgatando..."]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(lt,{className:"h-5 w-5 mr-2"}),"Resgatar Oferta"]})}),f?.plan&&e.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(lt,{className:"h-4 w-4 mr-1 text-[#C91F1F]"}),e.jsxs("span",{children:["Cashback: ",f.plan.cashback_percentage,"%"]})]})})]}),r.merchant&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Sobre o estabelecimento"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:r.merchant.business_name}),e.jsx("p",{className:"text-sm text-gray-600",children:r.merchant.description})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r.merchant.address})]})]})]})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#C91F1F] to-[#8B1538] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ne,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Torne-se Membro"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Para resgatar ofertas exclusivas, você precisa de uma assinatura ativa."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>s("/dashboard?tab=subscription"),className:"w-full bg-gradient-to-r from-[#C91F1F] to-[#8B1538] text-white py-3 rounded-lg font-semibold hover:from-[#B01B1B] hover:to-[#7A1230] transition-colors",children:"Ver Planos"}),e.jsx("button",{onClick:()=>x(!1),className:"w-full text-gray-600 py-2",children:"Cancelar"})]})]})})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Escrever Avaliação"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nota"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(I=>e.jsx("button",{onClick:()=>N({...C,rating:I}),className:"p-1",children:e.jsx(H,{className:`h-6 w-6 ${I<=C.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},I))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentário"}),e.jsx("textarea",{value:C.comment,onChange:I=>N({...C,comment:I.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",rows:4,placeholder:"Conte sobre sua experiência..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{onClick:J,disabled:!C.comment.trim(),className:"flex-1 py-2 px-4 bg-[#C91F1F] text-white rounded-lg hover:bg-[#B01B1B] disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Enviar"})]})]})})]})}function Kb(){return e.jsx(Is,{})}function Qb(){return e.jsx(Is,{})}function Jb(){return e.jsx(Is,{})}function Xb(){return e.jsx(Is,{})}function ey(){const t=G(),{user:s}=$(),[a,r]=h.useState("monthly"),i=l=>{if(!s){t("/login?redirect=/memberships");return}setSelectedPlan(l),t(`/checkout?plan=${l}&billing=${a}`)},n=l=>{switch(l){case"starter":return e.jsx(H,{className:"w-8 h-8"});case"explorer":return e.jsx(Ne,{className:"w-8 h-8"});case"ambassador":return e.jsx(Es,{className:"w-8 h-8"});default:return e.jsx(H,{className:"w-8 h-8"})}},o=l=>a==="monthly"?l.price_monthly:Math.round(l.price_yearly/12),c=l=>a==="yearly"?l.price_monthly*12-l.price_yearly:0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-purple-50",children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden bg-gradient-to-r from-amber-500 via-rose-500 to-purple-600 text-white py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6},className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3 mb-6",children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Exclusividade Cultural Suíça"})]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:["Torne-se Membro do",e.jsx("span",{className:"block bg-gradient-to-r from-yellow-300 to-pink-300 bg-clip-text text-transparent",children:"DUO PASS Club"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Experiências culturais autênticas, sempre em dupla, com curadoria emocional exclusiva na Suíça"})]}),e.jsxs(M.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),e.jsx("div",{className:"text-white/80",children:"Membros Ativos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"150+"}),e.jsx("div",{className:"text-white/80",children:"Experiências Únicas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"98%"}),e.jsx("div",{className:"text-white/80",children:"Satisfação"})]})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(M.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.6},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Escolha Seu Plano Cultural"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Experiências autênticas que conectam pessoas através da cultura"}),e.jsxs("div",{className:"inline-flex items-center bg-white rounded-full p-1 shadow-lg border",children:[e.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-3 rounded-full font-medium transition-all ${a==="monthly"?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Mensal"}),e.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-3 rounded-full font-medium transition-all relative ${a==="yearly"?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:["Anual",e.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"-17%"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:Kt.map((l,d)=>{const m=l.popular,u=c(l);return e.jsxs(M.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8+d*.1,duration:.6},className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transform hover:scale-105 transition-all duration-300 ${m?"ring-4 ring-purple-500 ring-opacity-50":""}`,children:[m&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-center py-2 font-bold text-sm",children:"⭐ MAIS POPULAR"}),e.jsxs("div",{className:`p-8 ${m?"pt-12":""}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${l.color_scheme.gradient} text-white mb-4`,children:n(l.tier)}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:l.name}),e.jsx("p",{className:"text-gray-600",children:l.description})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-baseline justify-center mb-2",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-800",children:["CHF ",o(l)]}),e.jsx("span",{className:"text-gray-500 ml-2",children:"/mês"})]}),a==="yearly"&&u>0&&e.jsxs("div",{className:"text-green-600 font-medium text-sm",children:["Economize CHF ",u,"/ano"]}),a==="yearly"&&e.jsxs("div",{className:"text-gray-500 text-sm",children:["Cobrado CHF ",l.price_yearly," anualmente"]})]}),e.jsx("div",{className:"space-y-4 mb-8",children:l.features.map((x,f)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ue,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 text-sm",children:x})]},f))}),e.jsxs("button",{onClick:()=>i(l.id),className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center space-x-2 ${m?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg hover:shadow-purple-500/25":`bg-gradient-to-r ${l.color_scheme.gradient} text-white hover:shadow-lg`}`,children:[e.jsx("span",{children:"Começar Agora"}),e.jsx(ee,{className:"w-5 h-5"})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("span",{className:"text-sm text-gray-500",children:"7 dias grátis • Cancele a qualquer momento"})})]})]},l.id)})}),e.jsxs(M.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2,duration:.6},className:"mt-20",children:[e.jsx("h3",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"O que nossos membros dizem"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:"M"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Maria Santos"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Explorer"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"O DUO PASS transformou minha vida social. Descobri lugares incríveis e fiz amizades genuínas através da cultura."'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((l,d)=>e.jsx(H,{className:"w-4 h-4 fill-current"},d))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:"J"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"João Silva"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Ambassador"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"A curadoria é excepcional. Cada experiência é única e autêntica. Vale cada franco investido!"'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((l,d)=>e.jsx(H,{className:"w-4 h-4 fill-current"},d))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:"A"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Ana Costa"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Starter"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"Perfeito para quem está começando. As experiências são sempre em dupla, criando conexões reais."'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((l,d)=>e.jsx(H,{className:"w-4 h-4 fill-current"},d))})]})]})]}),e.jsxs(M.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.4,duration:.6},className:"mt-20 bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h3",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Perguntas Frequentes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:'Como funciona o modelo "2 por 1"?'}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Todas as experiências são pensadas para duas pessoas. Você paga por uma experiência e duas pessoas participam, promovendo conexões autênticas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Posso cancelar a qualquer momento?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Sim! Não há compromisso de longo prazo. Você pode cancelar sua assinatura a qualquer momento através do seu dashboard."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"O que acontece se eu não usar todas as experiências do mês?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Membros Ambassador podem transferir experiências entre meses. Outros planos renovam mensalmente."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Como é feita a curadoria das experiências?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Nossa equipe seleciona cuidadosamente cada parceiro cultural, priorizando autenticidade, qualidade e potencial de conexão humana."})]})]})]})]})]})}const ty=!1;function sy(){const t=G(),{user:s}=$(),[a]=Qt(),[r,i]=h.useState(!1),[n,o]=h.useState("monthly"),[c,l]=h.useState("card"),[d,m]=h.useState({cardNumber:"",expiryDate:"",cvv:"",cardName:"",email:"",country:"CH"}),u=a.get("plan")||"cultural-explorer",x=a.get("billing")||"monthly",f=Kt.find(k=>k.id===u)||Kt[1];h.useEffect(()=>{o(x)},[x]),h.useEffect(()=>{s||t("/login?redirect="+encodeURIComponent(`/checkout?plan=${u}&billing=${n}`))},[s,t,u,n]);const b=k=>{switch(k){case"starter":return e.jsx(H,{className:"w-6 h-6"});case"explorer":return e.jsx(Ne,{className:"w-6 h-6"});case"ambassador":return e.jsx(Es,{className:"w-6 h-6"});default:return e.jsx(H,{className:"w-6 h-6"})}},j=()=>n==="yearly"?f.price_yearly:f.price_monthly,v=()=>{const k=f.price_monthly*12,S=f.price_yearly;return k-S},p=(k,S)=>{m(C=>({...C,[k]:S}))},y=k=>{const S=k.replace(/\s+/g,"").replace(/[^0-9]/gi,""),C=S.match(/\d{4,16}/g),N=C&&C[0]||"",E=[];for(let w=0,F=N.length;w<F;w+=4)E.push(N.substring(w,w+4));return E.length?E.join(" "):S},g=k=>{const S=k.replace(/\D/g,"");return S.length>=2?S.substring(0,2)+"/"+S.substring(2,4):S},_=async k=>{k.preventDefault(),i(!0);try{await new Promise(S=>setTimeout(S,2e3)),t("/dashboard?welcome=true&plan="+f.id)}catch{alert("Erro no pagamento. Tente novamente.")}finally{i(!1)}};return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:()=>t("/memberships"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar aos Planos"})]}),e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-amber-500 to-purple-600 bg-clip-text text-transparent",children:"DUO PASS"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Pagamento Seguro"})]})]})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"order-2 lg:order-1",children:e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Resumo do Pedido"}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:`rounded-full p-2 ${f.tier==="starter"?"bg-amber-100 text-amber-600":f.tier==="explorer"?"bg-purple-100 text-purple-600":"bg-rose-100 text-rose-600"}`,children:b(f.tier)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:f.name}),f.popular&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:"⭐ Popular"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:f.experiences_per_month===-1?"Experiências ilimitadas":`${f.experiences_per_month} experiências por mês`})]}),f.features.slice(0,3).map((k,S)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:k})]},S))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ciclo de Cobrança"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>o("monthly"),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all ${n==="monthly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{children:"Mensal"}),e.jsxs("div",{className:"text-lg font-bold",children:["CHF ",f.price_monthly]})]}),e.jsxs("button",{onClick:()=>o("yearly"),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all relative ${n==="yearly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:["Economize CHF ",v()]}),e.jsx("div",{children:"Anual"}),e.jsxs("div",{className:"text-lg font-bold",children:["CHF ",f.price_yearly]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CHF ",(f.price_yearly/12).toFixed(2),"/mês"]})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["CHF ",j()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"IVA (7.7%)"}),e.jsxs("span",{children:["CHF ",(j()*.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Teste Grátis (7 dias)"}),e.jsxs("span",{children:["-CHF ",j()]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Hoje"}),e.jsx("span",{children:"CHF 0.00"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Após o período de teste, você será cobrado CHF ",(j()*1.077).toFixed(2)," ",n==="yearly"?"anualmente":"mensalmente","."]})]})]})}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Informações de Pagamento"}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Método de Pagamento"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("button",{type:"button",onClick:()=>l("card"),className:`p-4 rounded-lg border-2 text-left transition-all ${c==="card"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ke,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Cartão de Crédito/Débito"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Visa, Mastercard, American Express"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Cartão"}),e.jsx("input",{type:"text",value:d.cardNumber,onChange:k=>p("cardNumber",y(k.target.value)),placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Expiração"}),e.jsx("input",{type:"text",value:d.expiryDate,onChange:k=>p("expiryDate",g(k.target.value)),placeholder:"MM/AA",maxLength:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:d.cvv,onChange:k=>p("cvv",k.target.value.replace(/\D/g,"")),placeholder:"123",maxLength:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome no Cartão"}),e.jsx("input",{type:"text",value:d.cardName,onChange:k=>p("cardName",k.target.value),placeholder:"João Silva",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Informações de Cobrança"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:d.email||s?.email||"",onChange:k=>p("email",k.target.value),placeholder:"seu@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),e.jsxs("select",{value:d.country,onChange:k=>p("country",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"CH",children:"Suíça"}),e.jsx("option",{value:"DE",children:"Alemanha"}),e.jsx("option",{value:"FR",children:"França"}),e.jsx("option",{value:"IT",children:"Itália"}),e.jsx("option",{value:"AT",children:"Áustria"})]})]})]}),e.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"⚖️ Confirmações Obrigatórias"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["✓ Aceito os ",e.jsx("a",{href:"/termos-de-uso",target:"_blank",className:"text-purple-600 hover:underline font-medium",children:"Termos de Uso"})," e ",e.jsx("a",{href:"/privacidade",target:"_blank",className:"text-purple-600 hover:underline font-medium",children:"Política de Privacidade"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"auto-renewal",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"auto-renewal",className:"text-sm text-gray-700",children:["✓ Entendo que minha assinatura ",e.jsx("strong",{children:"renova automaticamente"})," ",n==="yearly"?"anualmente":"mensalmente"," por CHF ",(j()*1.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"cancellation",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"cancellation",className:"text-sm text-gray-700",children:["✓ Posso ",e.jsx("strong",{children:"cancelar a qualquer momento"})," com um clique no meu dashboard. ",e.jsx("a",{href:"/cancelamento",target:"_blank",className:"text-purple-600 hover:underline",children:"Saiba mais"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"refund-policy",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"refund-policy",className:"text-sm text-gray-700",children:["✓ Tenho ",e.jsx("strong",{children:"14 dias"})," para solicitar reembolso integral conforme lei suíça. ",e.jsx("a",{href:"/cancelamento",target:"_blank",className:"text-purple-600 hover:underline",children:"Política de reembolso"})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400 mt-4",children:e.jsxs("p",{className:"text-xs text-blue-800",children:["🇨🇭 ",e.jsx("strong",{children:"Proteção do Consumidor Suíço:"})," Esta compra está protegida pelas leis suíças de proteção ao consumidor e GDPR. Seus dados são processados de acordo com nossa política de privacidade."]})})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-amber-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Processando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(St,{className:"w-5 h-5"}),e.jsx("span",{children:"Iniciar Teste Grátis de 7 Dias"})]})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Seus dados estão protegidos com criptografia SSL"})]})]})]})})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Redirecionando para login..."})]})})}const ay=t=>{switch(t){case"starter":return{emoji:"🌟",name:"Starter",color:"text-yellow-500"};case"explorer":return{emoji:"💎",name:"Explorer",color:"text-blue-500"};case"ambassador":return{emoji:"👑",name:"Ambassador",color:"text-purple-500"};default:return{emoji:"🌟",name:"Starter",color:"text-yellow-500"}}};function Ko({community:t,isLocked:s=!1,onOpenChat:a}){const r=G(),i={starter:"bg-green-100 text-green-700",explorer:"bg-blue-100 text-blue-700",ambassador:"bg-purple-100 text-purple-700"},n=()=>{if(s){r("/memberships");return}a?a(t):r(`/community/${t.id}`)};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-shadow relative",children:[s&&e.jsx("div",{className:"absolute inset-0 bg-gray-50/80 backdrop-blur-sm rounded-lg flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(St,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Upgrade necessário"})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[!s&&t.requiredTier!=="ambassador"&&e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700 flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),"Aberto para todos"]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i[t.requiredTier]}`,children:t.requiredTier})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("span",{children:["👥 ",t.members," membros"]}),e.jsxs("span",{children:["🟢 ",t.online," online"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',t.lastMessage,'"']}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.lastTime})]}),e.jsx("button",{onClick:n,disabled:s,className:`w-full py-2 rounded-lg font-medium transition-all ${s?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-purple-600 text-white hover:shadow-lg"}`,children:s?"Bloqueado 🔒":"Entrar na Conversa 💬"})]})}function ry({currentTier:t}){const s=G(),r=(()=>{switch(t){case"starter":return{title:"Desbloqueie Mais Comunidades",description:"Upgrade para Explorer e acesse Cultural Explorers + comunidades exclusivas",communities:["Cultural Explorers","Art Enthusiasts"],targetPlan:"Explorer"};case"explorer":return{title:"Acesso VIP Exclusivo",description:"Torne-se Ambassador e participe de experiências VIP exclusivas",communities:["VIP Experiences","Private Events"],targetPlan:"Ambassador"};default:return null}})();return r?e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-purple-50 border border-orange-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600 mb-3",children:r.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.communities.map(i=>e.jsxs("span",{className:"bg-white px-3 py-1 rounded-full text-sm text-gray-700 border",children:["🔒 ",i]},i))})]}),e.jsxs("button",{onClick:()=>s("/memberships"),className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsxs("span",{children:["Upgrade para ",r.targetPlan]}),e.jsx(ee,{className:"w-4 h-4"})]})]})}):null}function iy({userMembership:t}){const[s,a]=h.useState(!1),[r,i]=h.useState(!1),[n,o]=h.useState(null),c=ay(t.tier),l=j=>{o(j),i(!0)},d=j=>{const v=p=>{const y=[{id:"member-1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte","Cultura"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1",bio:"Apaixonada por arte contemporânea"},{id:"member-2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Gastronomia","Vinhos"],joinedAt:"2024-01-20",isOnline:!1,user_id:"user-2",bio:"Chef e sommelier"},{id:"member-3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Bem-estar","Yoga"],joinedAt:"2024-02-01",isOnline:!0,user_id:"user-3",bio:"Instrutora de yoga e mindfulness"},{id:"member-4",name:"João Costa",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",interests:["Música","Teatro"],joinedAt:"2024-02-10",isOnline:!0,user_id:"user-4",bio:"Músico e produtor cultural"}];switch(p){case"cultural-explorers":return y.map(g=>({...g,interests:["Cultura","História","Saraus"]}));case"food-lovers":return y.map(g=>({...g,interests:["Gastronomia","Vinhos","Restaurantes"]}));case"art-enthusiasts":return y.map(g=>({...g,interests:["Arte","Exposições","Oficinas"]}));case"wellness-mindful":return y.map(g=>({...g,interests:["Bem-estar","Yoga","Spas"]}));case"ambassador-lounge":return y.slice(0,2).map(g=>({...g,interests:["VIP","Experiências Exclusivas"]}));default:return y}};return{...j,memberCount:j.members,coverImage:"",members:v(j.id),activities:[]}},m=()=>{i(!1),o(null)},u={starter:["cultural-explorers","food-lovers","art-enthusiasts","wellness-mindful"],explorer:["cultural-explorers","food-lovers","art-enthusiasts","wellness-mindful"],ambassador:["cultural-explorers","food-lovers","art-enthusiasts","wellness-mindful","ambassador-lounge"]},x=[{id:"cultural-explorers",name:"Cultural Explorers",description:"Membros apaixonados por experiências culturais autênticas",members:347,online:24,lastMessage:"Alguém foi no sarau literário ontem? Como foi? 📚",lastTime:"2h atrás",requiredTier:"starter",category:"cultura",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"food-lovers",name:"Food & Wine Lovers",description:"Experiências gastronômicas e vinícolas em dupla",members:289,online:18,lastMessage:"Dicas de restaurantes românticos para um primeiro encontro? 🍷",lastTime:"1h atrás",requiredTier:"starter",category:"gastronomia",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"art-enthusiasts",name:"Art Enthusiasts",description:"Arte, música e experiências criativas para todos",members:256,online:15,lastMessage:"A oficina de cerâmica foi transformadora! 🎨",lastTime:"3h atrás",requiredTier:"starter",category:"arte",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"wellness-mindful",name:"Wellness & Mindful",description:"Bem-estar, mindfulness e experiências de autocuidado",members:198,online:12,lastMessage:"Sessão de yoga no parque foi revigorante! 🧘‍♀️",lastTime:"5h atrás",requiredTier:"starter",category:"bem-estar",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"ambassador-lounge",name:"Ambassador Lounge",description:"Lounge exclusivo para Ambassadors com experiências VIP",members:89,online:8,lastMessage:"Jantar privativo na vinícola foi incrível! 🥂",lastTime:"2h atrás",requiredTier:"ambassador",category:"cultura",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],f=x.filter(j=>u[t.tier]?.includes(j.id)),b=x.filter(j=>!u[t.tier]?.includes(j.id));return s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{onClick:()=>a(!1),className:"text-purple-600 hover:text-purple-700 font-medium flex items-center space-x-2",children:e.jsx("span",{children:"← Voltar ao Dashboard"})})}),e.jsx(id,{})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-purple-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"💬 DUO PASS Connect"}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-white/20 backdrop-blur-sm",children:[e.jsx("span",{children:c.emoji}),e.jsx("span",{children:c.name})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"🎉 Bem-vindo ao DUO PASS Connect!"}),e.jsxs("p",{className:"text-sm opacity-90",children:[e.jsx("strong",{children:"Novidade:"})," Agora todas as comunidades principais estão abertas para todos os membros! Conecte-se, compartilhe experiências e descubra novas oportunidades culturais.",t.tier!=="ambassador"&&" Ambassadors têm acesso exclusivo ao Ambassador Lounge!"]})]}),e.jsx("p",{className:"opacity-90",children:"Conecte-se com outros membros e compartilhe experiências culturais autênticas"}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm",children:[e.jsxs("span",{children:["🎭 ",f.length," comunidades disponíveis"]}),e.jsxs("span",{children:["👥 ",f.reduce((j,v)=>j+v.online,0)," membros online"]})]}),e.jsxs("button",{onClick:()=>a(!0),className:"mt-4 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center space-x-2",children:[e.jsx("span",{children:"Explorar Connect Completo"}),e.jsx(ee,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.map(j=>e.jsx(Ko,{community:j,onOpenChat:l},j.id)),b.slice(0,2).map(j=>e.jsx(Ko,{community:j,isLocked:!0},j.id))]}),t.tier!=="ambassador"&&e.jsx(ry,{currentTier:t.tier}),r&&n&&e.jsx(pd,{community:d(n),onClose:m})]})}function ny(){const t=G(),s=ks(),{user:a,logout:r}=$(),[i]=Qt(),[n,o]=h.useState("overview"),[c,l]=h.useState(!1),[d]=h.useState({id:"sub_123",plan_id:i.get("plan")||"cultural-explorer",status:"active",current_period_start:new Date,current_period_end:new Date(Date.now()+30*24*60*60*1e3),experiences_used_this_month:2,created_at:new Date}),[m]=h.useState([{id:"1",title:"Sarau Literário no Café Central",partner:"Café Central Zurich",date:new Date(Date.now()-5*24*60*60*1e3),status:"completed",voucher_code:"DUO123"},{id:"2",title:"Jantar à Luz de Velas",partner:"Restaurant Romantique",date:new Date(Date.now()-2*24*60*60*1e3),status:"completed",voucher_code:"DUO456"},{id:"3",title:"Oficina de Cerâmica & Chá",partner:"Atelier Keramik",date:new Date(Date.now()+3*24*60*60*1e3),status:"upcoming",voucher_code:"DUO789"}]),u=Kt.find(p=>p.id===d.plan_id)||Kt[1];h.useEffect(()=>{if(!a){t("/login");return}if(new URLSearchParams(s.search).get("tab")==="connect"&&o("connect"),i.get("welcome")==="true"){l(!0);const g=new URLSearchParams(i);g.delete("welcome"),t({search:g.toString()},{replace:!0})}},[a,t,i,s]);const x=p=>{switch(p){case"starter":return e.jsx(H,{className:"w-6 h-6"});case"explorer":return e.jsx(Ne,{className:"w-6 h-6"});case"ambassador":return e.jsx(Es,{className:"w-6 h-6"});default:return e.jsx(H,{className:"w-6 h-6"})}},f=p=>{switch(p){case"active":return"text-green-600 bg-green-100";case"canceled":return"text-red-600 bg-red-100";case"past_due":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},b=p=>{switch(p){case"completed":return"text-green-600 bg-green-100";case"upcoming":return"text-blue-600 bg-blue-100";case"canceled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},j=()=>u.experiences_per_month===-1?0:d.experiences_used_this_month/u.experiences_per_month*100,v=()=>{confirm("Tem certeza que deseja cancelar sua assinatura? Você ainda terá acesso até o final do período atual.")&&alert("Assinatura cancelada com sucesso. Você ainda pode usar o serviço até "+d.current_period_end.toLocaleDateString())};return a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>l(!1)}),e.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(Ge,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Bem-vindo ao DUO PASS!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Sua assinatura ",u.name," está ativa! Aproveite seus 7 dias grátis e descubra experiências culturais incríveis."]}),e.jsx("button",{onClick:()=>l(!1),className:"w-full bg-gradient-to-r from-amber-500 to-purple-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Começar a Explorar"})]})]}),e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-amber-500 to-purple-600 bg-clip-text text-transparent",children:"DUO PASS"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`rounded-full p-1 ${u.tier==="starter"?"bg-amber-100 text-amber-600":u.tier==="explorer"?"bg-purple-100 text-purple-600":"bg-rose-100 text-rose-600"}`,children:x(u.tier)}),e.jsx("span",{className:"font-medium text-gray-700",children:u.name})]}),e.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"Sair"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1 mb-8",children:[{id:"overview",label:"Visão Geral",icon:zt},{id:"experiences",label:"Experiências",icon:W},{id:"connect",label:"Connect",icon:xe},{id:"billing",label:"Cobrança & Transparência",icon:Ke},{id:"privacy",label:"Dados Pessoais",icon:ne},{id:"settings",label:"Configurações",icon:Ut}].map(p=>e.jsxs("button",{onClick:()=>o(p.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${n===p.id?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(p.icon,{className:"w-4 h-4"}),e.jsx("span",{children:p.label})]},p.id))}),n==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Experiências Este Mês"}),e.jsx(W,{className:"w-5 h-5 text-rose-500"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:[d.experiences_used_this_month,u.experiences_per_month!==-1&&e.jsxs("span",{className:"text-lg text-gray-500",children:["/",u.experiences_per_month]})]}),u.experiences_per_month!==-1&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 h-2 rounded-full transition-all",style:{width:`${Math.min(j(),100)}%`}})})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Próxima Cobrança"}),e.jsx(Ee,{className:"w-5 h-5 text-purple-500"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:d.current_period_end.getDate()}),e.jsx("div",{className:"text-sm text-gray-500",children:d.current_period_end.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Status da Conta"}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(d.status)}`,children:d.status==="active"?"Ativa":d.status})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:["CHF ",u.price_monthly]}),e.jsx("div",{className:"text-sm text-gray-500",children:"por mês"})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Seu Plano Atual"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`rounded-full p-3 ${u.tier==="starter"?"bg-amber-100 text-amber-600":u.tier==="explorer"?"bg-purple-100 text-purple-600":"bg-rose-100 text-rose-600"}`,children:x(u.tier)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:u.name}),e.jsx("p",{className:"text-gray-600",children:u.description})]})]}),e.jsx("button",{onClick:()=>t("/memberships"),className:"bg-gradient-to-r from-amber-500 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg transition-all",children:"Alterar Plano"})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Experiências Recentes"}),e.jsxs("button",{onClick:()=>o("experiences"),className:"text-purple-600 hover:text-purple-700 font-medium flex items-center space-x-1",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(ee,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"space-y-4",children:m.slice(0,3).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:e.jsx(W,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600",children:p.partner})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(p.status)}`,children:p.status==="completed"?"Concluída":p.status==="upcoming"?"Agendada":"Cancelada"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.date.toLocaleDateString("pt-BR")})]})]},p.id))})]})]}),n==="experiences"&&e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Histórico de Experiências"}),e.jsx("button",{onClick:()=>t("/"),className:"bg-gradient-to-r from-amber-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:shadow-lg transition-all",children:"Explorar Experiências"})]}),e.jsx("div",{className:"space-y-4",children:m.map(p=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:p.title}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(p.status)}`,children:p.status==="completed"?"Concluída":p.status==="upcoming"?"Agendada":"Cancelada"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:p.partner})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:p.date.toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"2 pessoas"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Código do voucher: ",e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:p.voucher_code})]})]}),p.status==="upcoming"&&e.jsx("button",{className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Ver Detalhes"})]})},p.id))})]}),n==="connect"&&e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx(iy,{userMembership:{tier:u.tier,status:d.status}})}),n==="billing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(ne,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"⚖️ Transparência Total de Cobrança"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-100",children:[e.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Próxima Cobrança"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:d.current_period_end.toLocaleDateString("pt-BR")}),e.jsxs("div",{className:"text-sm text-gray-600",children:["CHF ",(u.price_monthly*1.077).toFixed(2)," (com IVA 7.7%)"]}),e.jsxs("div",{className:"text-xs text-purple-600 mt-2",children:[Math.ceil((d.current_period_end.getTime()-Date.now())/(1e3*60*60*24))," dias restantes"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-100",children:[e.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Plano Atual"}),e.jsx("div",{className:"text-xl font-bold text-gray-800 mb-1",children:u.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["CHF ",u.price_monthly,"/mês"]}),e.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Renovação automática ativa"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-100",children:[e.jsx("div",{className:"text-sm font-medium text-amber-700 mb-1",children:"Status da Conta"}),e.jsx("div",{className:"text-xl font-bold text-gray-800 mb-1",children:"Ativa"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Desde ",d.created_at.toLocaleDateString("pt-BR")]}),e.jsx("div",{className:"text-xs text-amber-600 mt-2",children:"Pode cancelar a qualquer momento"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800 mb-1",children:"Cancelar Assinatura"}),e.jsxs("p",{className:"text-sm text-red-600",children:["Você pode cancelar a qualquer momento. Manterá acesso até ",d.current_period_end.toLocaleDateString("pt-BR"),"."]})]}),e.jsx("button",{onClick:v,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Cancelar Assinatura"})]})})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Detalhes de Cobrança"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Valor base da assinatura"}),e.jsxs("span",{className:"font-medium",children:["CHF ",u.price_monthly]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"IVA Suíço (7.7%)"}),e.jsxs("span",{className:"font-medium",children:["CHF ",(u.price_monthly*.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("span",{className:"font-medium text-purple-800",children:"Total mensal"}),e.jsxs("span",{className:"font-bold text-purple-800",children:["CHF ",(u.price_monthly*1.077).toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🇨🇭 Direitos do Consumidor Suíço"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Direito de arrependimento de 14 dias"}),e.jsx("li",{children:"• Cancelamento a qualquer momento sem multa"}),e.jsx("li",{children:"• Reembolso proporcional em caso de cancelamento"}),e.jsx("li",{children:"• Transparência total de preços e taxas"})]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Método de Pagamento"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"VISA"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"•••• •••• •••• 4242"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expira em 12/25"})]}),e.jsx("button",{className:"ml-auto text-purple-600 hover:text-purple-700 font-medium",children:"Alterar"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Pagamento Seguro SSL"})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Seus dados de pagamento são criptografados e protegidos conforme padrões PCI DSS."})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"📊 Histórico Completo de Pagamentos"}),e.jsxs("button",{className:"text-purple-600 hover:text-purple-700 font-medium text-sm flex items-center space-x-1",children:[e.jsx(Zs,{className:"w-4 h-4"}),e.jsx("span",{children:"Exportar Relatório"})]})]}),e.jsx("div",{className:"space-y-3",children:[{date:"15 Jan 2024",amount:32.31,status:"Pago",invoice:"INV-2024-001",period:"Jan 2024 - Fev 2024"},{date:"15 Dez 2023",amount:32.31,status:"Pago",invoice:"INV-2023-012",period:"Dez 2023 - Jan 2024"},{date:"15 Nov 2023",amount:32.31,status:"Pago",invoice:"INV-2023-011",period:"Nov 2023 - Dez 2023"},{date:"15 Out 2023",amount:0,status:"Teste Grátis",invoice:"FREE-TRIAL",period:"Período de Teste"}].map((p,y)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"font-medium text-gray-800",children:"DUO PASS Premium"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="Pago"?"bg-green-100 text-green-800":p.status==="Teste Grátis"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:p.status})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:p.period}),e.jsxs("div",{className:"text-xs text-gray-500",children:[p.date," • Fatura: ",p.invoice]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-gray-800",children:p.amount===0?"Gratuito":`CHF ${p.amount.toFixed(2)}`}),p.status==="Pago"&&e.jsxs("button",{className:"text-purple-600 hover:text-purple-700 text-sm flex items-center space-x-1 mt-1",children:[e.jsx(Zs,{className:"w-3 h-3"}),e.jsx("span",{children:"PDF"})]})]})]},y))}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total pago em 2024:"}),e.jsx("span",{className:"font-bold text-gray-800",children:"CHF 64.62"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Próximo pagamento:"}),e.jsxs("span",{className:"font-medium text-purple-600",children:["CHF 32.31 em ",d.current_period_end.toLocaleDateString("pt-BR")]})]})]})]})]}),n==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Dados Pessoais"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Visualizar Dados Coletados"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Veja todos os dados que coletamos sobre você"})]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Visualizar"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Zs,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Exportar Dados"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Baixe uma cópia de todos os seus dados"})]})]}),e.jsx("button",{className:"text-green-600 hover:text-green-700 font-medium",children:"Exportar"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Excluir Conta"}),e.jsx("div",{className:"text-sm text-red-600",children:"Remova permanentemente sua conta e todos os dados"})]})]}),e.jsx("button",{className:"text-red-600 hover:text-red-700 font-medium",children:"Excluir"})]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Consentimentos"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Cookies Essenciais"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Necessários para o funcionamento do site"})]}),e.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Cookies de Analytics"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nos ajudam a melhorar a experiência"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Cookies de Marketing"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Para personalizar anúncios e conteúdo"})]}),e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Transparência de Dados"}),e.jsxs("div",{className:"space-y-3 text-sm text-blue-700",children:[e.jsx("p",{children:"• Coletamos apenas os dados necessários para fornecer nossos serviços"}),e.jsx("p",{children:"• Seus dados nunca são vendidos para terceiros"}),e.jsx("p",{children:"• Você pode solicitar a exclusão de seus dados a qualquer momento"}),e.jsx("p",{children:"• Utilizamos criptografia para proteger suas informações"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Leia nossa Política de Privacidade completa"})})]})]}),n==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Informações da Conta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome"}),e.jsx("input",{type:"text",value:a?.user_metadata?.full_name||a?.email?.split("@")[0]||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:a?.email||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",readOnly:!0})]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Preferências"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Notificações por Email"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Receber atualizações sobre novas experiências"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Newsletter Cultural"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Curadoria semanal de experiências"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-4",children:"Zona de Perigo"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Cancelar Assinatura"}),e.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Você ainda terá acesso até o final do período atual (",d.current_period_end.toLocaleDateString("pt-BR"),")."]}),e.jsx("button",{onClick:v,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Cancelar Assinatura"})]})})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})})}const oy=[{id:"starter",name:"Cultural Starter",icon:e.jsx(H,{className:"w-6 h-6"}),badge:"Ideal para iniciantes",badgeColor:"bg-blue-100 text-blue-800",monthlyPrice:9,yearlyPrice:86,description:"Perfeito para descobrir a cultura suíça",features:["2 experiências culturais/mês","Acesso a cafés e experiências básicas","Newsletter cultural semanal","Comunidade DUO PASS Connect","Suporte por email"],cta:"Experimentar grátis"},{id:"explorer",name:"Cultural Explorer",icon:e.jsx(Ne,{className:"w-6 h-6"}),badge:"Mais popular",badgeColor:"bg-gradient-to-r from-orange-500 to-purple-600 text-white",monthlyPrice:12,yearlyPrice:115,description:"A escolha ideal para exploradores culturais",features:["4 experiências culturais/mês","Acesso completo: restaurantes, spas, arte","Eventos exclusivos mensais","Curadoria personalizada","Prioridade no atendimento","Comunidades premium"],popular:!0,cta:"Escolher plano"},{id:"ambassador",name:"Cultural Ambassador",icon:e.jsx(Es,{className:"w-6 h-6"}),badge:"Para especialistas",badgeColor:"bg-yellow-100 text-yellow-800",monthlyPrice:18,yearlyPrice:173,description:"Experiência cultural completa e exclusiva",features:["Experiências ilimitadas","Acesso VIP a eventos especiais","Convidados extras (+2 pessoas)","Concierge cultural personalizado","Acesso beta a novas experiências","Mentoria cultural"],cta:"Escolher plano"}],ly=[{icon:e.jsx(U,{className:"w-8 h-8 text-orange-500"}),title:"Sempre 2 por 1",description:"Todas as experiências são pensadas para duplas"},{icon:e.jsx(W,{className:"w-8 h-8 text-purple-500"}),title:"Curadoria Cultural",description:"Seleção de estabelecimentos autênticos e únicos"},{icon:e.jsx(ne,{className:"w-8 h-8 text-green-500"}),title:"Sem Compromisso",description:"Cancele quando quiser, sem taxas ou multas"},{icon:e.jsx(je,{className:"w-8 h-8 text-blue-500"}),title:"Garantia 30 dias",description:"Satisfação garantida ou seu dinheiro de volta"}],cy=[{name:"Ana",age:29,text:"Descobri lugares incríveis que nunca encontraria sozinha",rating:5},{name:"Pedro",age:35,text:"Cada experiência é uma nova conexão cultural",rating:5},{name:"Clara",age:42,text:"Melhor investimento que fiz em qualidade de vida",rating:5}],dy=[{question:"Como funciona o modelo 2 por 1?",answer:"Todas as nossas experiências são pensadas para duplas. Você paga por uma experiência e pode levar um acompanhante gratuitamente."},{question:"Posso cancelar a qualquer momento?",answer:"Sim! Não há compromisso de permanência. Você pode cancelar sua assinatura a qualquer momento sem taxas adicionais."},{question:"Que tipos de experiências estão incluídas?",answer:"Oferecemos experiências em restaurantes, spas, atividades artísticas, eventos culturais, workshops e muito mais, todos cuidadosamente selecionados."},{question:"Os parceiros são verificados?",answer:"Absolutamente! Todos os nossos parceiros passam por um rigoroso processo de curadoria para garantir qualidade e autenticidade."},{question:"Funciona para turistas?",answer:"Sim! Nossas experiências são perfeitas tanto para residentes quanto para turistas que querem conhecer a verdadeira cultura suíça."}],my=()=>{const[t,s]=h.useState(!1),[a,r]=h.useState(null),i=G(),{user:n}=$(),o=l=>{if(!n){i("/login");return}i("/checkout",{state:{planId:l,billing:t?"yearly":"monthly"}})},c=(l,d)=>{const m=l*12,u=m-d,x=Math.round(u/m*100);return{savings:u,percentage:x}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-orange-500 to-purple-600 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Experiências Culturais Autênticas"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:"Conecte-se com a cultura suíça através de experiências únicas para viver em dupla"}),e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx("span",{className:`mr-3 ${t?"text-white/70":"text-white"}`,children:"Mensal"}),e.jsx("button",{onClick:()=>s(!t),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-white/20 transition-colors focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2",children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:`ml-3 ${t?"text-white":"text-white/70"}`,children:"Anual"}),t&&e.jsx("span",{className:"ml-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-sm font-semibold",children:"Economize 20%"})]}),e.jsx("p",{className:"text-lg opacity-90",children:"🎭 Mais de 500 experiências culturais curadas"})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:oy.map(l=>{const d=t?l.yearlyPrice:l.monthlyPrice,m=t?c(l.monthlyPrice,l.yearlyPrice):null;return e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl hover:scale-105 ${l.popular?"ring-2 ring-orange-500 transform scale-105":""}`,children:[l.popular&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-orange-500 to-purple-600 text-white text-center py-2 text-sm font-semibold",children:"⭐ MAIS POPULAR"}),e.jsxs("div",{className:`p-8 ${l.popular?"pt-16":""}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-orange-500 to-purple-600 rounded-full text-white mb-4",children:l.icon}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.name}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${l.badgeColor}`,children:l.badge})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["CHF ",d]}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["/",t?"ano":"mês"]})]}),t&&m&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Economize CHF ",m.savings,"/ano (",m.percentage,"%)"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:l.description})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:l.features.map((u,x)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(ue,{className:"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:u})]},x))}),e.jsx("button",{onClick:()=>o(l.id),className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${l.popular?"bg-gradient-to-r from-orange-500 to-purple-600 text-white hover:from-orange-600 hover:to-purple-700 shadow-lg":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:l.cta})]})]},l.id)})})}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que escolher DUO PASS?"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Mais que um clube de benefícios, uma porta para a cultura autêntica"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:ly.map((l,d)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-50 rounded-full mb-4",children:l.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:l.title}),e.jsx("p",{className:"text-gray-600",children:l.description})]},d))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-purple-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"O que nossos membros dizem"})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:cy.map((l,d)=>e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((m,u)=>e.jsx(H,{className:"w-5 h-5 text-yellow-400 fill-current"},u))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',l.text,'"']}),e.jsxs("div",{className:"text-sm text-gray-500",children:[l.name,", ",l.age," anos"]})]},d))})]})}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"})}),e.jsx("div",{className:"space-y-4",children:dy.map((l,d)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("button",{onClick:()=>r(a===d?null:d),className:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:l.question}),e.jsx("span",{className:"text-gray-500",children:a===d?"−":"+"})]}),a===d&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700",children:l.answer})})]},d))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Comece sua jornada cultural hoje"}),e.jsx("p",{className:"text-xl mb-8 opacity-90",children:"7 dias grátis • Sem cartão de crédito necessário • Cancele quando quiser"}),e.jsx("button",{onClick:()=>o("explorer"),className:"bg-white text-orange-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors",children:"Experimentar grátis por 7 dias"})]})})]})};function uy(){const[t,s]=h.useState({company:"",name:"",email:"",phone:"",employees:"",message:""}),a=i=>{i.preventDefault(),console.log("📋 Formulário B2B enviado:",t),alert("Obrigado! Entraremos em contato em breve.")},r=i=>{s({...t,[i.target.name]:i.target.value})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Experiências Culturais para Sua ",e.jsx("span",{className:"text-orange-300",children:"Equipe"})]}),e.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Fortaleça vínculos, inspire criatividade e construa uma cultura corporativa única através de experiências culturais autênticas em dupla."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("contact-form")?.scrollIntoView({behavior:"smooth"}),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 hover:scale-105 shadow-lg",children:"Agende uma Demonstração"}),e.jsx(R,{to:"/experiencias",className:"border-2 border-white text-white hover:bg-white hover:text-purple-900 px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 text-center",children:"Ver Experiências"})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Team Building"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Experiências em dupla"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(W,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Cultura"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Valores autênticos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(zt,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Engajamento"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Equipes motivadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(xr,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Resultados"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"ROI mensurável"})]})]})})})]})})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Por que Escolher DUO PASS para Sua Empresa?"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Transforme sua cultura corporativa com experiências que conectam pessoas e fortalecem equipes."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(om,{className:"w-12 h-12 text-purple-600 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cultura Corporativa"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Fortaleça os valores da sua empresa através de experiências culturais que refletem autenticidade e conexão humana."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Valores compartilhados"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Identidade corporativa"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Engajamento autêntico"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(U,{className:"w-12 h-12 text-orange-500 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Building Único"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Experiências sempre em dupla que criam vínculos genuínos e melhoram a colaboração entre equipes."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Conexões em dupla"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Colaboração natural"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Vínculos duradouros"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(zt,{className:"w-12 h-12 text-green-500 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ROI Mensurável"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Acompanhe o impacto das experiências na produtividade, satisfação e retenção de talentos."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Métricas de engajamento"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Retenção de talentos"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(z,{className:"w-5 h-5 text-green-500 mr-2"}),"Produtividade elevada"]})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"O que Nossos Parceiros Corporativos Dizem"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((i,n)=>e.jsx(H,{className:"w-5 h-5 text-yellow-400 fill-current"},n))}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 italic",children:'"As experiências culturais do DUO PASS transformaram nossa cultura corporativa. Nossos colaboradores estão mais conectados e engajados do que nunca."'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"MC"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Maria Clara Santos"}),e.jsx("p",{className:"text-gray-600",children:"Diretora de RH, TechCorp"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-purple-50 rounded-xl p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((i,n)=>e.jsx(H,{className:"w-5 h-5 text-yellow-400 fill-current"},n))}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 italic",children:'"O conceito de experiências em dupla é genial. Criou vínculos genuínos entre equipes que antes mal se falavam. ROI comprovado!"'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"RS"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Roberto Silva"}),e.jsx("p",{className:"text-gray-600",children:"CEO, Inovação & Cia"})]})]})]})]})]})}),e.jsx("section",{id:"contact-form",className:"py-20 bg-gradient-to-br from-gray-900 to-purple-900 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Pronto para Transformar Sua Equipe?"}),e.jsx("p",{className:"text-xl text-purple-200",children:"Agende uma demonstração personalizada e descubra como o DUO PASS pode revolucionar sua cultura corporativa."})]}),e.jsx("div",{className:"bg-white rounded-2xl p-8 text-gray-900",children:e.jsxs("form",{onSubmit:a,className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa *"}),e.jsx("input",{type:"text",name:"company",required:!0,value:t.company,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Sua empresa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seu Nome *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:t.name,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Corporativo *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"seu.email@empresa.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Funcionários"}),e.jsxs("select",{name:"employees",value:t.employees,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"1-10",children:"1-10 funcionários"}),e.jsx("option",{value:"11-50",children:"11-50 funcionários"}),e.jsx("option",{value:"51-200",children:"51-200 funcionários"}),e.jsx("option",{value:"201-500",children:"201-500 funcionários"}),e.jsx("option",{value:"500+",children:"500+ funcionários"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),e.jsx("textarea",{name:"message",rows:4,value:t.message,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Conte-nos sobre seus objetivos e desafios de team building..."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105 flex items-center justify-center",children:["Agendar Demonstração",e.jsx(ee,{className:"w-5 h-5 ml-2"})]})})]})}),e.jsxs("div",{className:"mt-12 grid md:grid-cols-2 gap-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(it,{className:"w-6 h-6 text-orange-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Telefone"}),e.jsx("p",{className:"text-purple-200",children:"+41 (0) 21 123 4567"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(We,{className:"w-6 h-6 text-orange-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Email"}),e.jsx("p",{className:"text-purple-200",children:"empresas@duopass.ch"})]})]})]})]})})]})}function xy(){const t=G(),[s,a]=h.useState(!1),[r,i]=h.useState({name:"",email:"",password:"",confirmPassword:""}),n=async c=>{if(c.preventDefault(),r.password!==r.confirmPassword){alert("As senhas não coincidem!");return}if(r.password.length<6){alert("A senha deve ter pelo menos 6 caracteres!");return}a(!0);try{console.log("🎁 Iniciando trial gratuito:",r),await new Promise(l=>setTimeout(l,1500)),localStorage.setItem("trialUser",JSON.stringify({name:r.name,email:r.email,trialStartDate:new Date().toISOString(),trialEndDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),experiencesUsed:0,subscription:{type:"trial",status:"active",plan:"Cultural Starter",experiencesIncluded:3}})),t("/dashboard")}catch(l){console.error("❌ Erro ao criar trial:",l),alert("Erro ao criar conta. Tente novamente.")}finally{a(!1)}},o=c=>{i({...r,[c.target.name]:c.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl w-full",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center bg-orange-500/20 text-orange-300 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Oferta Especial - Trial Gratuito"]}),e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"text-orange-300",children:"7 Dias"})," de Experiências Culturais ",e.jsx("span",{className:"text-orange-300",children:"Grátis"})]}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Descubra o poder das experiências culturais em dupla. Sem compromisso, sem cartão de crédito."})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"3 experiências culturais incluídas"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Acesso completo à plataforma"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Curadoria emocional personalizada"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Cancele a qualquer momento"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((c,l)=>e.jsx(H,{className:"w-5 h-5 text-yellow-400 fill-current"},l))}),e.jsx("span",{className:"ml-2 text-white font-semibold",children:"4.9/5"})]}),e.jsx("p",{className:"text-purple-100 italic",children:'"O DUO PASS transformou nossa forma de viver a cultura. As experiências em dupla criaram memórias inesquecíveis!"'}),e.jsx("p",{className:"text-orange-300 font-medium mt-2",children:"- Ana & Carlos, membros desde 2023"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Comece Seu Trial Gratuito"}),e.jsx("p",{className:"text-gray-600",children:"Crie sua conta em menos de 2 minutos"})]}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),e.jsx("input",{type:"password",name:"password",required:!0,value:r.password,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),e.jsx("input",{type:"password",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Confirme sua senha"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-orange-50 rounded-lg p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(je,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"Seu Trial Inclui:"})]}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• 7 dias de acesso completo"}),e.jsx("li",{children:"• 3 experiências culturais"}),e.jsx("li",{children:"• Curadoria personalizada"}),e.jsx("li",{children:"• Suporte prioritário"})]})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Criando sua conta..."]}):e.jsxs(e.Fragment,{children:["Iniciar Trial Gratuito",e.jsx(ee,{className:"w-5 h-5 ml-2"})]})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Seus dados estão seguros conosco"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ao criar sua conta, você concorda com nossos"," ",e.jsx(R,{to:"/terms",className:"text-purple-600 hover:underline",children:"Termos de Uso"})," ","e"," ",e.jsx(R,{to:"/privacy",className:"text-purple-600 hover:underline",children:"Política de Privacidade"})]})]})]}),e.jsx("div",{className:"mt-8 text-center border-t border-gray-200 pt-6",children:e.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",e.jsx(R,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Faça login"})]})})]})]}),e.jsxs("div",{className:"mt-16 grid md:grid-cols-3 gap-8 text-white",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experiências em Dupla"}),e.jsx("p",{className:"text-purple-200",children:"Todas as experiências são pensadas para serem vividas em dupla, criando conexões autênticas."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(W,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Curadoria Emocional"}),e.jsx("p",{className:"text-purple-200",children:"Cada experiência é cuidadosamente selecionada para tocar sua alma e criar memórias especiais."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Ee,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Flexibilidade Total"}),e.jsx("p",{className:"text-purple-200",children:"Agende suas experiências quando quiser, cancele sem taxas durante o trial."})]})]})]})})})}const hy=[{id:1,title:"Jantar Romântico no Restaurante Gourmet",category:"Gastronomia",location:"Centro, Zurique",image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=300&fit=crop",rating:4.8,description:"Experiência gastronômica única para duas pessoas"},{id:2,title:"Concerto de Música Clássica",category:"Música",location:"Opera House, Zurique",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop",rating:4.9,description:"Noite inesquecível de música clássica"},{id:3,title:"Workshop de Arte Contemporânea",category:"Arte",location:"Galeria Central, Zurique",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=300&fit=crop",rating:4.7,description:"Aprenda técnicas de arte moderna em dupla"},{id:4,title:"Tour Cultural pela Cidade Antiga",category:"Cultura",location:"Centro Histórico, Zurique",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",rating:4.6,description:"Descubra a história suíça em uma caminhada guiada"},{id:5,title:"Degustação de Vinhos Suíços",category:"Gastronomia",location:"Wine Bar Premium, Zurique",image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop",rating:4.8,description:"Explore os melhores vinhos locais"},{id:6,title:"Espetáculo de Teatro Contemporâneo",category:"Teatro",location:"Teatro Municipal, Zurique",image:"https://images.unsplash.com/photo-1507924538820-ede94a04019d?w=400&h=300&fit=crop",rating:4.7,description:"Performance teatral inovadora e envolvente"}],py=[{step:"1",title:"Escolha sua Experiência",description:"Navegue por nossa curadoria de experiências culturais autênticas",icon:"🎭"},{step:"2",title:"Sempre em Dupla",description:"Todas as experiências são para duas pessoas - conecte-se!",icon:"👥"},{step:"3",title:"Resgate e Aproveite",description:"Use seu voucher e viva momentos únicos na cultura suíça",icon:"✨"}];function fy(){return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx("section",{className:"bg-gradient-to-br from-orange-500 via-purple-600 to-pink-500 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:["Descubra Experiências",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-300",children:"Culturais Autênticas"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:"Conecte-se com a cultura suíça através de experiências únicas, sempre em dupla. Cada momento é uma oportunidade de criar memórias inesquecíveis."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(R,{to:"/login",className:"bg-white text-purple-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all duration-200 hover:scale-105 shadow-lg",children:"Faça Login para Ver Ofertas"}),e.jsx(R,{to:"/signup",className:"border-2 border-white text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-white hover:text-purple-600 transition-all duration-200",children:"Criar Conta Grátis"})]})]})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-[#333333] mb-4",children:"Experiências em Destaque"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Uma prévia das experiências culturais que aguardam por você"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:hy.map(t=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"bg-white/90 text-purple-600 px-3 py-1 rounded-full text-sm font-semibold",children:t.category})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("div",{className:"bg-white/90 text-gray-800 px-2 py-1 rounded-full text-sm font-semibold flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.rating]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-[#333333] mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center text-gray-500 mb-4",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:t.location})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white p-4 rounded-lg text-center",children:[e.jsx("p",{className:"font-semibold mb-2",children:"🔒 Faça login para ver preços e resgatar"}),e.jsxs(R,{to:"/login",className:"inline-flex items-center text-yellow-300 hover:text-yellow-200 font-medium",children:["Acessar agora",e.jsx(ee,{className:"w-4 h-4 ml-1"})]})]})]})]},t.id))})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-[#333333] mb-4",children:"Como Funciona o DUO PASS"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Simples, cultural e sempre em dupla"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:py.map((t,s)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-orange-500 to-purple-600 rounded-full flex items-center justify-center text-4xl mb-6 mx-auto",children:t.icon}),e.jsx("div",{className:"bg-white text-purple-600 w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold mx-auto mb-4 border-2 border-purple-600",children:t.step}),e.jsx("h3",{className:"text-xl font-bold text-[#333333] mb-3",children:t.title}),e.jsx("p",{className:"text-gray-600",children:t.description})]},s))})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-purple-600 to-pink-500 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Pronto para Viver Experiências Únicas?"}),e.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Junte-se ao DUO PASS e descubra a cultura suíça de uma forma completamente nova. Sempre em dupla, sempre autêntico."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(R,{to:"/signup",className:"bg-white text-purple-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all duration-200 hover:scale-105 shadow-lg",children:"Começar Gratuitamente"}),e.jsx(R,{to:"/memberships",className:"border-2 border-white text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-white hover:text-purple-600 transition-all duration-200",children:"Ver Planos"})]})]})})]})}function gy(){const{user:t}=$();return t?e.jsx(ms,{to:"/ofertas",replace:!0}):e.jsx(fy,{})}function by({offer:t,onActivate:s,showActivateButton:a=!0}){const r=G(),{user:i}=$(),[n,o]=h.useState(!1),c=g=>new Date(g).toLocaleDateString(),l=async g=>{try{if(console.log("🎯 Resgatando oferta:",g),!i)return console.error("❌ Usuário não logado"),r("/login"),!1;if(i?.email==="demo@duopass.com")console.log("🎭 Demo user detectado - Bypass ativado!");else{const k=await Ir.checkMembershipStatus(i.id);if(!k.isActive)return console.log("💳 Usuário real sem membership - Mostrar paywall"),o(!0),!1;if(!k.canRedeem)return console.error("❌ Limite de resgates atingido"),alert("Limite de resgates mensais atingido!"),!1}return await d(g),!0}catch(_){return console.error("❌ Erro ao resgatar oferta:",_),!1}},d=async g=>{const _=`DUO-${Date.now().toString(36).toUpperCase()}-${Math.random().toString(36).substr(2,4).toUpperCase()}`,{data:k,error:S}=await T.from("vouchers").insert({offer_id:g,user_id:i.id,merchant_id:t.merchant_id,voucher_code:_,qr_code_data:_,status:"active",expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString()}).select().single();if(S)throw console.error("❌ Erro ao criar voucher:",S),S;console.log("✅ Voucher criado com sucesso:",k),k&&r(`/voucher/${k.id}?code=${_}`),s&&s(t)},m=()=>{const g=new Date,k=new Date(t.expires_at).getTime()-g.getTime();return Math.ceil(k/(1e3*60*60*24))},u=()=>{const g=[30,40,50,60,70];return g[Math.floor(Math.random()*g.length)]},x=()=>{const g=Math.floor(Math.random()*500)+100,_=(4.2+Math.random()*.6).toFixed(1),k=Math.floor(Math.random()*200)+50;return{usersCount:g,rating:_,reviewsCount:k}},f=m(),b=u(),j=x(),v=t.original_value*(1-b/100),y=f<=1?{text:"ÚLTIMAS HORAS",color:"bg-red-500",icon:je}:f<=3?{text:"RESTAM "+f+" DIAS",color:"bg-orange-500",icon:je}:t.id.includes("demo-1")||t.id.includes("demo-5")?{text:"HOT",color:"bg-red-500",icon:lt}:t.id.includes("demo-2")||t.id.includes("demo-4")?{text:"NOVA",color:"bg-green-500",icon:H}:null;return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Pe,{className:"w-6 h-6"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ne,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-[#333333] mb-2",children:"Torne-se Membro DUO PASS"}),e.jsx("p",{className:"text-gray-600",children:"Desbloqueie experiências culturais exclusivas em dupla"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Vouchers ilimitados 2 por 1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Acesso a experiências exclusivas"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(lt,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Curadoria cultural personalizada"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-yellow-50 rounded-xl p-4 mb-6 border border-green-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600 mb-1",children:"🎁 Trial Gratuito 7 Dias"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Experimente sem compromisso"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{o(!1),r("/memberships")},className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-3 px-4 rounded-full font-semibold hover:shadow-lg transition-all transform hover:-translate-y-1",children:"🚀 Ver Planos de Membership"}),e.jsx("button",{onClick:()=>o(!1),className:"w-full text-gray-500 py-2 text-sm hover:text-gray-700 transition-colors",children:"Talvez mais tarde"})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF] overflow-hidden hover:border-[#F6C100] hover:shadow-xl transition-all transform hover:-translate-y-1 group",children:[t.image_url&&e.jsxs("div",{className:"h-48 bg-gray-200 overflow-hidden relative",children:[e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),y&&e.jsxs("div",{className:`absolute top-3 left-3 ${y.color} text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 animate-pulse`,children:[e.jsx(y.icon,{className:"w-3 h-3"}),y.text]}),e.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:["-",b,"%"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] flex-1 group-hover:text-[#C91F1F] transition-colors",children:t.title}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white",children:t.category})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"font-medium",children:j.rating}),e.jsxs("span",{children:["(",j.reviewsCount,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-4 h-4 text-[#C91F1F]"}),e.jsxs("span",{children:[j.usersCount,"+ aproveitaram"]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(K,{className:"w-4 h-4 mr-2 text-[#C91F1F]"}),e.jsx("span",{children:t.city?t.city:t.location})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 text-[#C91F1F]"}),e.jsxs("span",{children:["Válido até: ",c(t.expires_at)]})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-green-50 to-yellow-50 rounded-xl border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["CHF ",v.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["CHF ",t.original_value.toFixed(2)]})]}),e.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["Economize CHF ",(t.original_value-v).toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Desconto"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["-",b,"%"]})]})]})}),t.merchant&&e.jsx("div",{className:"text-sm text-[#333333] mb-4 font-medium",children:e.jsx("strong",{children:t.merchant.business_name})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(yy,{offerId:t.id}),a&&e.jsx("button",{onClick:async()=>{const g=document.activeElement;g&&(g.innerHTML="⏳ RESGATANDO...",g.disabled=!0,g.className="w-full bg-gray-500 text-white py-3 px-4 rounded-full font-semibold transition-all",await l(t.id)?(g.innerHTML="✅ VOUCHER RESGATADO!",g.className="w-full bg-green-500 text-white py-3 px-4 rounded-full font-semibold transition-all",setTimeout(()=>{g.innerHTML="🎯 RESGATAR VOUCHER",g.className="w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-3 px-4 rounded-full font-semibold hover:shadow-lg transition-all transform hover:-translate-y-1 hover:scale-105 active:scale-95",g.disabled=!1},3e3)):(g.innerHTML="❌ ERRO - TENTE NOVAMENTE",g.className="w-full bg-red-500 text-white py-3 px-4 rounded-full font-semibold transition-all",setTimeout(()=>{g.innerHTML="🎯 RESGATAR VOUCHER",g.className="w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-3 px-4 rounded-full font-semibold hover:shadow-lg transition-all transform hover:-translate-y-1 hover:scale-105 active:scale-95",g.disabled=!1},2e3)))},className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-3 px-4 rounded-full font-semibold hover:shadow-lg transition-all transform hover:-translate-y-1 hover:scale-105 active:scale-95",children:"🎯 RESGATAR VOUCHER"})]})]})]})]})}function yy({offerId:t}){const s=G(),a=()=>{s(`/offer/${t}`)};return e.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-[#F6C100] text-[#C91F1F] rounded-full font-semibold hover:bg-[#F6C100] hover:text-white transition-all transform hover:-translate-y-1",children:[e.jsx(ye,{className:"w-4 h-4"}),"Ver Detalhes"]})}const or=[{id:"demo-1",merchant_id:"demo-merchant-1",title:"🍕 Jantar Romântico para Dois - Pizza Gourmet",description:"Experiência gastronômica única com pizza artesanal para duas pessoas, entrada, sobremesa e vinho da casa inclusos.",original_value:89.9,category:"gastronomy",location:"Centro, Zürich",city:"Zürich",expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=300&fit=crop",terms_conditions:"Válido de segunda a quinta-feira. Reserva obrigatória.",created_at:new Date().toISOString(),merchant:{business_name:"Ristorante Bella Vista",contact_info:"+41 44 123 4567"}},{id:"demo-2",merchant_id:"demo-merchant-2",title:"🎭 Concerto de Música Clássica - Ingressos Duplos",description:"Noite inesquecível de música clássica na Opera House. Dois ingressos para a melhor experiência cultural de Zurique.",original_value:120,category:"culture",location:"Opera House, Zürich",city:"Zürich",expires_at:new Date(Date.now()+5*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop",terms_conditions:"Sujeito à disponibilidade. Não reembolsável.",created_at:new Date().toISOString(),merchant:{business_name:"Zurich Opera House",contact_info:"+41 44 268 6666"}},{id:"demo-3",merchant_id:"demo-merchant-3",title:"🎨 Workshop de Arte Contemporânea para Casais",description:"Aprenda técnicas de arte moderna em uma experiência criativa para duas pessoas. Materiais inclusos.",original_value:75,category:"culture",location:"Galeria Central, Genève",city:"Genève",expires_at:new Date(Date.now()+10*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=300&fit=crop",terms_conditions:"Agendamento obrigatório. Materiais inclusos.",created_at:new Date().toISOString(),merchant:{business_name:"Atelier Moderne",contact_info:"+41 22 987 6543"}},{id:"demo-4",merchant_id:"demo-merchant-4",title:"🍷 Degustação de Vinhos Suíços - Experiência Premium",description:"Descubra os melhores vinhos locais em uma degustação guiada para duas pessoas com sommelier especializado.",original_value:95,category:"gastronomy",location:"Wine Bar Premium, Basel",city:"Basel",expires_at:new Date(Date.now()+3*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop",terms_conditions:"Apenas maiores de 18 anos. Reserva antecipada.",created_at:new Date().toISOString(),merchant:{business_name:"Swiss Wine Experience",contact_info:"+41 61 456 7890"}},{id:"demo-5",merchant_id:"demo-merchant-5",title:"🎪 Espetáculo de Teatro Contemporâneo",description:"Performance teatral inovadora e envolvente. Dois ingressos para uma noite cultural única no coração de Bern.",original_value:68,category:"culture",location:"Teatro Municipal, Bern",city:"Bern",expires_at:new Date(Date.now()+2*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1507924538820-ede94a04019d?w=400&h=300&fit=crop",terms_conditions:"Sujeito à lotação. Chegada 30min antes.",created_at:new Date().toISOString(),merchant:{business_name:"Teatro Municipal de Bern",contact_info:"+41 31 234 5678"}},{id:"demo-6",merchant_id:"demo-merchant-6",title:"🚶‍♂️ Tour Cultural pela Cidade Antiga",description:"Caminhada guiada pela história suíça para duas pessoas. Descubra segredos e lendas do centro histórico.",original_value:45,category:"culture",location:"Centro Histórico, Lausanne",city:"Lausanne",expires_at:new Date(Date.now()+14*24*60*60*1e3).toISOString(),is_active:!0,image_url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",terms_conditions:"Cancelamento até 24h antes. Guia em português.",created_at:new Date().toISOString(),merchant:{business_name:"Swiss Heritage Tours",contact_info:"+41 21 345 6789"}}];function jy(){const{user:t,userProfile:s}=$(),a=G(),[r,i]=h.useState([]),[n,o]=h.useState(!0),[c,l]=h.useState(""),[d,m]=h.useState(""),[u,x]=h.useState(""),f=h.useCallback(async()=>{o(!0);try{const{data:y,error:g}=await T.from("offers").select("*").eq("is_active",!0);g?(console.error("❌ Erro ao carregar ofertas:",g),i(or)):y&&y.length>0?i(y):i(or)}catch(y){console.error("❌ Erro inesperado:",y),i(or)}finally{o(!1)}},[]);h.useEffect(()=>{f()},[f]);const b=r.filter(y=>{const g=y.title.toLowerCase().includes(c.toLowerCase())||y.description.toLowerCase().includes(c.toLowerCase()),_=!d||y.category===d,k=!u||y.city===u;return g&&_&&k}),j=Array.from(new Set(r.map(y=>y.category))),v=Array.from(new Set(r.map(y=>y.city))),p=()=>{if(!s)return null;const y={explorer:"bg-green-100 text-green-800",enthusiast:"bg-blue-100 text-blue-800",ambassador:"bg-purple-100 text-purple-800"},g={explorer:"Explorer",enthusiast:"Enthusiast",ambassador:"Ambassador"};return e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${y[s.membership_tier]||"bg-gray-100 text-gray-800"}`,children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),g[s.membership_tier]||s.membership_tier]})};return n?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando experiências..."})]})}):e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx("section",{className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Olá, ",s?.full_name||t?.email?.split("@")[0],"! 👋"]}),e.jsx("p",{className:"text-xl opacity-90 mb-4",children:"Descubra experiências culturais exclusivas para você"}),p()]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-semibold",children:[b.length," experiências disponíveis"]}),e.jsx("p",{className:"text-sm opacity-75",children:"Sempre em dupla • Sempre autênticas"})]})]})})}),e.jsx("section",{className:"bg-white shadow-sm border-b border-gray-200 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar experiências...",value:c,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("select",{value:d,onChange:y=>m(y.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as categorias"}),j.map(y=>e.jsx("option",{value:y,children:y==="gastronomy"?"Gastronomia":y==="culture"?"Cultura":y==="leisure"?"Lazer":y==="fitness"?"Fitness":y==="beauty"?"Beleza":y==="shopping"?"Shopping":y==="services"?"Serviços":y},y))]}),e.jsxs("select",{value:u,onChange:y=>x(y.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as cidades"}),v.map(y=>e.jsx("option",{value:y,children:y},y))]})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Nenhuma experiência encontrada"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tente ajustar seus filtros ou buscar por outros termos"}),e.jsx("button",{onClick:()=>{l(""),m(""),x("")},className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Limpar Filtros"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:b.map(y=>e.jsx(by,{offer:y},y.id))})})}),e.jsx("section",{className:"bg-white py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Quer mais experiências exclusivas?"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Upgrade seu plano e tenha acesso a experiências premium e comunidades VIP"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white px-8 py-4 rounded-full font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105",children:"Ver Planos Premium"}),e.jsx("button",{onClick:()=>a("/dashboard?tab=connect"),className:"border-2 border-purple-600 text-purple-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-purple-600 hover:text-white transition-all duration-200",children:"Explorar Comunidades"})]})]})})]})}function vy(){const t=G();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-purple-50 to-pink-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-purple-600 hover:text-purple-700 mb-4",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Termos de Uso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"DUO PASS Club - Experiências Culturais na Suíça"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]})]}),e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(U,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"1. Definições e Conceito DUO PASS"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-3",children:"🎭 O que é o DUO PASS Club?"}),e.jsx("p",{className:"text-gray-700 mb-3",children:"O DUO PASS Club é uma plataforma cultural suíça que conecta pessoas através de experiências autênticas, sempre em dupla (2 por 1). Não somos um app de cupons - somos uma comunidade cultural."}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:'"Experiência DUO":'})," Atividades culturais para 2 pessoas pelo preço de 1"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Parceiro Cultural":'})," Estabelecimentos curados que oferecem experiências autênticas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Membership":'})," Assinatura mensal/anual que dá acesso às experiências"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Curadoria Emocional":'})," Seleção baseada em histórias e propósito cultural"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ke,{className:"w-6 h-6 text-amber-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"2. Condições de Membership"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"2.1 Tipos de Planos"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Starter:"})," CHF 19/mês - 3 experiências por mês"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Explorer:"})," CHF 39/mês - 8 experiências por mês"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Ambassador:"})," CHF 69/mês - Experiências ilimitadas"]})]})]}),e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"2.2 Renovação Automática"}),e.jsx("p",{className:"text-gray-700 mt-2",children:"Sua assinatura renova automaticamente no mesmo período (mensal/anual) até o cancelamento. Você será notificado 7 dias antes de cada cobrança."})]}),e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"2.3 Teste Grátis"}),e.jsx("p",{className:"text-gray-700 mt-2",children:"Novos usuários têm direito a 7 dias de teste grátis. Você pode cancelar durante este período sem nenhuma cobrança."})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ee,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"3. Uso das Experiências"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Regras de Uso"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Experiências são sempre para 2 pessoas (conceito DUO)"}),e.jsx("li",{children:"Válidas apenas durante o período de membership ativo"}),e.jsx("li",{children:"Sujeitas à disponibilidade do parceiro cultural"}),e.jsx("li",{children:"Não podem ser transferidas ou vendidas"}),e.jsx("li",{children:"Reservas devem ser feitas através da plataforma"})]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"❌ Uso Indevido"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Revenda ou transferência de experiências"}),e.jsx("li",{children:"Uso comercial das experiências"}),e.jsx("li",{children:"Comportamento inadequado nos estabelecimentos"}),e.jsx("li",{children:"Falsificação de informações de reserva"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ne,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"4. Responsabilidades"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"DUO PASS Club"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsx("li",{children:"Manter a plataforma funcionando"}),e.jsx("li",{children:"Curadoria de parceiros culturais"}),e.jsx("li",{children:"Suporte ao cliente"}),e.jsx("li",{children:"Proteção de dados pessoais"}),e.jsx("li",{children:"Processamento de pagamentos"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Usuário"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsx("li",{children:"Uso respeitoso da plataforma"}),e.jsx("li",{children:"Informações verdadeiras"}),e.jsx("li",{children:"Pagamento em dia"}),e.jsx("li",{children:"Respeito aos parceiros culturais"}),e.jsx("li",{children:"Cumprimento destes termos"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"5. Cancelamento e Reembolso"}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-3",children:"🇨🇭 Direitos do Consumidor Suíço"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"14 dias de arrependimento:"})," Direito de cancelar sem justificativa"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cancelamento fácil:"})," Um clique no dashboard ou email para suporte"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reembolso proporcional:"})," Valor não utilizado será reembolsado"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Processamento:"})," Reembolsos processados em até 14 dias úteis"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"6. Legislação Aplicável"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-700",children:"Estes termos são regidos pela legislação suíça, especificamente:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 mt-2 space-y-1",children:[e.jsx("li",{children:"Código das Obrigações Suíço (CO)"}),e.jsx("li",{children:"Lei Federal de Proteção de Dados (FADP)"}),e.jsx("li",{children:"Regulamento Geral de Proteção de Dados (GDPR)"}),e.jsx("li",{children:"Diretiva EU 2011/83 sobre direitos do consumidor"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"7. Contato"}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsx("strong",{children:"DUO PASS Club"}),e.jsx("br",{}),"Email: legal@duopassclub.ch",e.jsx("br",{}),"Suporte: suporte@duopassclub.ch",e.jsx("br",{}),"Website: duopassclub.ch"]})})]})]})})]})})}function Ny(){const t=G();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Política de Privacidade"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Proteção de Dados - GDPR Compliance"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]})]}),e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 mb-8 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(ne,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-blue-800 m-0",children:"🇪🇺 Compliance GDPR"})]}),e.jsx("p",{className:"text-blue-700 mb-3",children:"Esta política está em total conformidade com o Regulamento Geral de Proteção de Dados (GDPR) e a Lei Federal Suíça de Proteção de Dados (FADP)."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("strong",{className:"text-blue-800",children:"Seus Direitos:"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700",children:[e.jsx("li",{children:"• Acesso aos dados"}),e.jsx("li",{children:"• Correção"}),e.jsx("li",{children:"• Exclusão"}),e.jsx("li",{children:"• Portabilidade"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("strong",{className:"text-blue-800",children:"Base Legal:"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700",children:[e.jsx("li",{children:"• Consentimento"}),e.jsx("li",{children:"• Execução contratual"}),e.jsx("li",{children:"• Interesse legítimo"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("strong",{className:"text-blue-800",children:"Proteção:"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700",children:[e.jsx("li",{children:"• Criptografia SSL"}),e.jsx("li",{children:"• Servidores seguros"}),e.jsx("li",{children:"• Acesso restrito"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(mm,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"1. Dados Que Coletamos"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"📝 Dados Fornecidos por Você"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cadastro:"})," Nome, email, telefone"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfil:"})," Preferências culturais, foto"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pagamento:"})," Dados do cartão (criptografados)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Comunicação:"})," Mensagens de suporte"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reservas:"})," Histórico de experiências"]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"🔍 Dados Coletados Automaticamente"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Navegação:"})," Páginas visitadas, tempo"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dispositivo:"})," IP, navegador, OS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Localização:"})," Cidade (com consentimento)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookies:"})," Preferências, sessão"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics:"})," Uso da plataforma"]})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ye,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"2. Como Usamos Seus Dados"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"🎯 Finalidades Principais"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-700",children:"Serviços Essenciais:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 text-sm space-y-1",children:[e.jsx("li",{children:"Processar membership e pagamentos"}),e.jsx("li",{children:"Gerenciar reservas de experiências"}),e.jsx("li",{children:"Comunicação sobre sua conta"}),e.jsx("li",{children:"Suporte técnico e atendimento"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-700",children:"Melhorias:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 text-sm space-y-1",children:[e.jsx("li",{children:"Personalizar recomendações"}),e.jsx("li",{children:"Melhorar a plataforma"}),e.jsx("li",{children:"Curadoria de novos parceiros"}),e.jsx("li",{children:"Analytics de uso (anonimizados)"})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"📧 Marketing (Apenas com Consentimento)"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsx("li",{children:"Newsletter com novas experiências culturais"}),e.jsx("li",{children:"Ofertas especiais personalizadas"}),e.jsx("li",{children:"Convites para eventos exclusivos"}),e.jsx("li",{children:"Pesquisas de satisfação"})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:'✅ Você pode cancelar a qualquer momento clicando em "descadastrar" nos emails.'})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"3. Base Legal para Processamento (GDPR Art. 6)"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Consentimento"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Marketing por email"}),e.jsx("li",{children:"• Cookies não essenciais"}),e.jsx("li",{children:"• Localização precisa"}),e.jsx("li",{children:"• Compartilhamento com parceiros"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📋 Execução Contratual"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Processamento de pagamentos"}),e.jsx("li",{children:"• Gestão de membership"}),e.jsx("li",{children:"• Reservas de experiências"}),e.jsx("li",{children:"• Suporte ao cliente"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"⚖️ Interesse Legítimo"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Segurança da plataforma"}),e.jsx("li",{children:"• Prevenção de fraudes"}),e.jsx("li",{children:"• Analytics anonimizados"}),e.jsx("li",{children:"• Melhorias do serviço"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"4. Compartilhamento de Dados"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"🚫 Nunca Vendemos Seus Dados"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Seus dados pessoais nunca são vendidos para terceiros. Compartilhamos apenas quando necessário para fornecer nossos serviços ou quando exigido por lei."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"🤝 Parceiros Necessários"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Stripe:"})," Processamento de pagamentos"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Supabase:"})," Hospedagem de dados"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"EmailJS:"})," Envio de emails"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Parceiros Culturais:"})," Dados de reserva"]})]})]}),e.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"⚖️ Obrigações Legais"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Autoridades fiscais suíças"}),e.jsx("li",{children:"• Órgãos de proteção de dados"}),e.jsx("li",{children:"• Tribunais (quando ordenado)"}),e.jsx("li",{children:"• Prevenção de crimes"})]})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(St,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"5. Seus Direitos (GDPR)"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ye,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"font-semibold text-indigo-800",children:"Direito de Acesso"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Solicite uma cópia de todos os dados que temos sobre você."}),e.jsx("button",{className:"mt-2 text-xs bg-indigo-100 text-indigo-700 px-3 py-1 rounded",children:"Solicitar Dados"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(bs,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:"Portabilidade"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Exporte seus dados em formato legível por máquina."}),e.jsx("button",{className:"mt-2 text-xs bg-green-100 text-green-700 px-3 py-1 rounded",children:"Exportar Dados"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ne,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h3",{className:"font-semibold text-yellow-800",children:"Correção"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Corrija dados incorretos ou desatualizados."}),e.jsx("button",{className:"mt-2 text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded",children:"Corrigir Dados"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ut,{className:"w-5 h-5 text-red-600"}),e.jsx("h3",{className:"font-semibold text-red-800",children:"Exclusão"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Solicite a exclusão completa de seus dados."}),e.jsx("button",{className:"mt-2 text-xs bg-red-100 text-red-700 px-3 py-1 rounded",children:"Excluir Conta"})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"📧 Como Exercer Seus Direitos"}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Para exercer qualquer destes direitos, entre em contato conosco:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Email:"})," privacidade@duopassclub.ch"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Formulário:"})," Configurações → Privacidade → Gerenciar Dados"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Prazo:"})," Responderemos em até 30 dias"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"6. Cookies e Tecnologias Similares"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Essenciais"}),e.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Necessários para funcionamento"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Sessão de login"}),e.jsx("li",{children:"• Carrinho de compras"}),e.jsx("li",{children:"• Preferências de idioma"}),e.jsx("li",{children:"• Segurança"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📊 Analytics"}),e.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Com seu consentimento"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Google Analytics"}),e.jsx("li",{children:"• Métricas de uso"}),e.jsx("li",{children:"• Performance"}),e.jsx("li",{children:"• Anonimizados"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"🎯 Marketing"}),e.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Opcional"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Personalização"}),e.jsx("li",{children:"• Remarketing"}),e.jsx("li",{children:"• Redes sociais"}),e.jsx("li",{children:"• Pode desativar"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"7. Segurança dos Dados"}),e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"🔒 Medidas Técnicas"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Criptografia SSL/TLS"}),e.jsx("li",{children:"• Servidores seguros na Europa"}),e.jsx("li",{children:"• Backup automático"}),e.jsx("li",{children:"• Monitoramento 24/7"}),e.jsx("li",{children:"• Firewall avançado"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"👥 Medidas Organizacionais"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Acesso restrito por função"}),e.jsx("li",{children:"• Treinamento da equipe"}),e.jsx("li",{children:"• Auditoria regular"}),e.jsx("li",{children:"• Políticas internas"}),e.jsx("li",{children:"• Contratos com fornecedores"})]})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"8. Retenção de Dados"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Dados de conta ativa"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Enquanto membership ativo"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Dados após cancelamento"}),e.jsx("span",{className:"text-sm text-gray-600",children:"30 dias (backup/suporte)"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Dados financeiros"}),e.jsx("span",{className:"text-sm text-gray-600",children:"7 anos (obrigação legal)"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Analytics anonimizados"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Indefinidamente"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"9. Contato - Encarregado de Proteção de Dados"}),e.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📧 Contato Direto"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," dpo@duopassclub.ch"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Privacidade:"})," privacidade@duopassclub.ch"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Suporte:"})," suporte@duopassclub.ch"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"🏛️ Autoridade Supervisora"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Se não estivermos resolvendo sua questão adequadamente, você pode contatar o Comissário Federal Suíço de Proteção de Dados (FDPIC)."})]})]})})]})]})})]})})}function wy(){const t=G(),[s,a]=h.useState(!1),[r,i]=h.useState("");return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-orange-600 hover:text-orange-700 mb-4",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Cancelamento e Reembolso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Direitos do Consumidor Suíço - Processo Transparente"})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(z,{className:"w-8 h-8 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🇨🇭 Seus Direitos como Consumidor Suíço"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-green-800 mb-4 flex items-center",children:[e.jsx(Ee,{className:"w-5 h-5 mr-2"}),"14 Dias de Arrependimento"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),e.jsx("span",{children:"Cancele sem justificativa em até 14 dias"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),e.jsx("span",{children:"Reembolso integral garantido"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),e.jsx("span",{children:"Baseado na legislação suíça (CO Art. 40a)"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-blue-800 mb-4 flex items-center",children:[e.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Reembolso Proporcional"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"✓"}),e.jsx("span",{children:"Valor não utilizado será devolvido"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"✓"}),e.jsx("span",{children:"Cálculo transparente por dia"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"✓"}),e.jsx("span",{children:"Processamento em até 14 dias úteis"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Como Cancelar Sua Assinatura"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"1"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acesse Configurações → Assinatura → Cancelar"}),e.jsx("button",{className:"mt-3 bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm hover:bg-purple-200 transition-colors",children:"Ir para Dashboard"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:"2"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Envie um email para cancelamento@duopassclub.ch"}),e.jsx("button",{className:"mt-3 bg-orange-100 text-orange-700 px-4 py-2 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"Enviar Email"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"3"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Formulário"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Preencha o formulário de cancelamento abaixo"}),e.jsx("button",{onClick:()=>a(!0),className:"mt-3 bg-green-100 text-green-700 px-4 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"Abrir Formulário"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(xm,{className:"w-6 h-6 text-amber-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculadora de Reembolso"})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-amber-800 mb-4",children:"Exemplo de Cálculo"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Plano:"}),e.jsx("span",{className:"font-medium",children:"Cultural Explorer (CHF 39/mês)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Data de cobrança:"}),e.jsx("span",{className:"font-medium",children:"1º de Janeiro"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Data de cancelamento:"}),e.jsx("span",{className:"font-medium",children:"15 de Janeiro"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Dias utilizados:"}),e.jsx("span",{className:"font-medium",children:"14 dias"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Valor pago:"}),e.jsx("span",{className:"font-medium",children:"CHF 39.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Valor por dia:"}),e.jsx("span",{className:"font-medium",children:"CHF 1.26"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Valor utilizado:"}),e.jsx("span",{className:"font-medium",children:"CHF 17.64"})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-green-700 font-bold",children:"Reembolso:"}),e.jsx("span",{className:"font-bold text-green-700",children:"CHF 21.36"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(je,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Timeline do Cancelamento"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-green-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Solicitação Recebida"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirmação imediata por email"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Imediato"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Processamento"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cálculo do reembolso e cancelamento da renovação"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"1-2 dias úteis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-purple-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Reembolso Iniciado"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valor devolvido para o cartão original"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"3-5 dias úteis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-amber-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Reembolso Concluído"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valor aparece na sua fatura do cartão"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"5-14 dias úteis"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Perguntas Frequentes"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ Posso cancelar durante o teste grátis?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Sim! Durante os 7 dias de teste grátis, você pode cancelar sem nenhuma cobrança. Basta acessar seu dashboard ou enviar um email."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ E se eu já usei algumas experiências?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Você ainda tem direito ao reembolso proporcional. Calculamos o valor baseado nos dias não utilizados do seu período de assinatura."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ Posso reativar minha conta depois?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Claro! Você pode reativar sua conta a qualquer momento. Seus dados e preferências ficam salvos por 30 dias após o cancelamento."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ O reembolso demora quanto tempo?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"O processamento leva de 5 a 14 dias úteis. O prazo pode variar dependendo do seu banco. Você receberá atualizações por email sobre o status."})]})]})]}),s&&e.jsxs(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Formulário de Cancelamento"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email da conta"}),e.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo do cancelamento (opcional)"}),e.jsxs("select",{value:r,onChange:n=>i(n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um motivo"}),e.jsx("option",{value:"preco",children:"Preço muito alto"}),e.jsx("option",{value:"uso",children:"Não uso o suficiente"}),e.jsx("option",{value:"experiencias",children:"Poucas experiências na minha região"}),e.jsx("option",{value:"qualidade",children:"Qualidade das experiências"}),e.jsx("option",{value:"tecnico",children:"Problemas técnicos"}),e.jsx("option",{value:"temporario",children:"Pausa temporária"}),e.jsx("option",{value:"outro",children:"Outro motivo"})]})]}),r==="outro"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o motivo"}),e.jsx("textarea",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Conte-nos o que podemos melhorar..."})]}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ze,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:"Confirmação de Cancelamento"}),e.jsx("p",{className:"text-sm text-red-700",children:"Ao confirmar, sua assinatura será cancelada e você receberá um reembolso proporcional conforme nossa política. Esta ação não pode ser desfeita."})]})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Voltar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Cancelamento"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Precisa de Ajuda?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-blue-600",children:"📧"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"cancelamento@duopassclub.ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-green-600",children:"💬"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Chat"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Suporte online 9h-18h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-purple-600",children:"📞"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Telefone"}),e.jsx("p",{className:"text-sm text-gray-600",children:"+41 XX XXX XX XX"})]})]})]})]})]})})}function Cy(){const t=G();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-green-600 hover:text-green-700 mb-4",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Termos de Experiências"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Responsabilidades dos Estabelecimentos Parceiros"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(H,{className:"w-8 h-8 text-amber-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🎭 Conceito DUO PASS Cultural"})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-bold text-amber-800 mb-3",children:"Diferencial Cultural"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"O DUO PASS não é um marketplace de cupons comum. Somos uma plataforma cultural que conecta pessoas através de experiências autênticas, sempre em dupla (2 por 1)."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-700 mb-2",children:"✨ O que Valorizamos:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Histórias e propósito dos estabelecimentos"}),e.jsx("li",{children:"• Experiências que conectam pessoas"}),e.jsx("li",{children:"• Curadoria emocional vs algoritmos frios"}),e.jsx("li",{children:"• Cultura local e autenticidade"}),e.jsx("li",{children:"• Relacionamentos duradouros"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-700 mb-2",children:"🚫 Não Somos:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• App de cupons genéricos"}),e.jsx("li",{children:"• Plataforma de desconto massivo"}),e.jsx("li",{children:"• Marketplace transacional"}),e.jsx("li",{children:"• Sistema de ofertas temporárias"}),e.jsx("li",{children:"• Concorrência por menor preço"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(ea,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Responsabilidades dos Parceiros Culturais"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-6",children:[e.jsx("h3",{className:"font-bold text-green-800 mb-3",children:"🎯 Qualidade da Experiência"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Obrigatório:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"✓ Manter padrão de qualidade consistente"}),e.jsx("li",{children:"✓ Honrar todas as reservas confirmadas"}),e.jsx("li",{children:"✓ Tratar clientes DUO PASS como VIPs"}),e.jsx("li",{children:"✓ Explicar o conceito cultural aos funcionários"}),e.jsx("li",{children:"✓ Disponibilidade conforme acordado"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Recomendado:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Personalizar experiência para casais/duplas"}),e.jsx("li",{children:"• Compartilhar história do estabelecimento"}),e.jsx("li",{children:"• Criar momentos memoráveis"}),e.jsx("li",{children:"• Feedback ativo sobre a experiência"}),e.jsx("li",{children:"• Flexibilidade para necessidades especiais"})]})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[e.jsx("h3",{className:"font-bold text-blue-800 mb-3",children:"📅 Gestão de Reservas"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"Confirmação:"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Resposta em até 24h"}),e.jsx("li",{children:"• Confirmação via plataforma"}),e.jsx("li",{children:"• Detalhes claros da experiência"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"Cancelamento:"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Aviso com 48h de antecedência"}),e.jsx("li",{children:"• Reagendamento quando possível"}),e.jsx("li",{children:"• Justificativa clara"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"No-show:"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Aguardar 15 minutos"}),e.jsx("li",{children:"• Reportar na plataforma"}),e.jsx("li",{children:"• Oferecer reagendamento"})]})]})]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Responsabilidades dos Usuários"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-purple-800 mb-4",children:"✅ Comportamento Esperado"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Comparecer no horário agendado"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Tratar funcionários com respeito"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Seguir regras do estabelecimento"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Cancelar com antecedência se necessário"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Deixar feedback construtivo"})]})]})]}),e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-red-800 mb-4",children:"❌ Comportamentos Inaceitáveis"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(At,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"No-show sem aviso prévio"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(At,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Comportamento desrespeitoso"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(At,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Tentar revender a experiência"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(At,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Usar mais pessoas que o permitido"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(At,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Feedback malicioso ou falso"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(ne,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Resolução de Conflitos"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-indigo-800 mb-4",children:"🤝 Processo de Mediação"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"1"})}),e.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Comunicação Direta"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Encorajamos parceiros e usuários a resolverem questões diretamente, com respeito e boa fé."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"2"})}),e.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Mediação DUO PASS"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Se necessário, nossa equipe atua como mediadora neutra para encontrar uma solução justa."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"3"})}),e.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Decisão Final"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Em casos extremos, o DUO PASS toma decisão final baseada em evidências e políticas."})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-green-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"🏆 Soluções Positivas"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Reagendamento de experiências"}),e.jsx("li",{children:"• Compensação por inconvenientes"}),e.jsx("li",{children:"• Experiência adicional como cortesia"}),e.jsx("li",{children:"• Treinamento adicional da equipe"}),e.jsx("li",{children:"• Melhoria de processos"})]})]}),e.jsxs("div",{className:"border border-red-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-3",children:"⚠️ Medidas Disciplinares"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Advertência formal"}),e.jsx("li",{children:"• Suspensão temporária"}),e.jsx("li",{children:"• Revisão de parceria"}),e.jsx("li",{children:"• Cancelamento de conta (usuário)"}),e.jsx("li",{children:"• Encerramento de parceria"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Padrões de Qualidade DUO PASS"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"🌟 Critérios de Avaliação"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Qualidade da experiência"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 30%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Atendimento ao cliente"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 25%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Pontualidade e confiabilidade"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 20%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Ambiente e atmosfera"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 15%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Valor cultural agregado"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 10%"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"📊 Sistema de Avaliação"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"⭐ 4.5+ Estrelas"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Parceiro Exemplar - Destaque na plataforma"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"⭐ 4.0-4.4 Estrelas"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Parceiro Aprovado - Padrão esperado"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⭐ 3.5-3.9 Estrelas"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Atenção - Plano de melhoria necessário"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"⭐ Abaixo de 3.5"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Revisão de parceria - Ação imediata"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Legislação e Compliance"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"🇨🇭 Legislação Suíça Aplicável"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Estabelecimentos:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Código das Obrigações (CO)"}),e.jsx("li",{children:"• Lei de Proteção ao Consumidor"}),e.jsx("li",{children:"• Regulamentações sanitárias"}),e.jsx("li",{children:"• Normas de segurança"}),e.jsx("li",{children:"• Licenças operacionais"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Plataforma:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• GDPR e FADP (proteção de dados)"}),e.jsx("li",{children:"• Lei de Comércio Eletrônico"}),e.jsx("li",{children:"• Regulamentações de pagamento"}),e.jsx("li",{children:"• Direitos do consumidor"}),e.jsx("li",{children:"• Responsabilidade civil"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Contato e Suporte"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"🤝"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Parceiros"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Suporte dedicado para estabelecimentos"}),e.jsx("p",{className:"text-sm text-blue-600",children:"parceiros@duopassclub.ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Usuários"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Atendimento para membros da comunidade"}),e.jsx("p",{className:"text-sm text-blue-600",children:"suporte@duopassclub.ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"⚖️"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Questões Legais"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Assuntos jurídicos e compliance"}),e.jsx("p",{className:"text-sm text-blue-600",children:"legal@duopassclub.ch"})]})]})]})]})]})})}function _y(){return h.useEffect(()=>{T.from("categories").select("*").then(t=>{t.error?console.error("❌ Erro ao conectar com Supabase:",t.error):console.log("✅ Conexão com Supabase OK! Categorias encontradas:",t.data)})},[]),e.jsx(il,{children:e.jsx(qm,{children:e.jsx(Vm,{children:e.jsx(_d,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Wm,{children:e.jsxs(Sd,{children:[e.jsx(q,{path:"/",element:e.jsx(If,{})}),e.jsx(q,{path:"/offers",element:e.jsx(ms,{to:"/ofertas",replace:!0})}),e.jsx(q,{path:"/offer/:id",element:e.jsx(pb,{})}),e.jsx(q,{path:"/experiencias",element:e.jsx(gy,{})}),e.jsx(q,{path:"/ofertas",element:e.jsx(jy,{})}),e.jsx(q,{path:"/termos-de-uso",element:e.jsx(vy,{})}),e.jsx(q,{path:"/privacidade",element:e.jsx(Ny,{})}),e.jsx(q,{path:"/cancelamento",element:e.jsx(wy,{})}),e.jsx(q,{path:"/experiencias-termos",element:e.jsx(Cy,{})}),e.jsx(q,{path:"/login",element:e.jsx(Bf,{})}),e.jsx(q,{path:"/signup",element:e.jsx(Uf,{})}),e.jsx(q,{path:"/email-verification",element:e.jsx($f,{})}),e.jsx(q,{path:"/confirm-email",element:e.jsx(Hf,{})}),e.jsx(q,{path:"/customer-dashboard",element:e.jsx(ht,{children:e.jsx(db,{})})}),e.jsx(q,{path:"/vouchers",element:e.jsx(ht,{children:e.jsx(Rf,{})})}),e.jsx(q,{path:"/meus-vouchers",element:e.jsx(ht,{children:e.jsx(fb,{})})}),e.jsx(q,{path:"/history",element:e.jsx(ht,{children:e.jsx(Vf,{})})}),e.jsx(q,{path:"/voucher/:id",element:e.jsx(ht,{children:e.jsx(gb,{})})}),e.jsx(q,{path:"/voucher/:id/active",element:e.jsx(ht,{children:e.jsx(bb,{})})}),e.jsx(q,{path:"/oferta/:offerId",element:e.jsx(Is,{})}),e.jsx(q,{path:"/oferta/desconto-pizza",element:e.jsx(Kb,{})}),e.jsx(q,{path:"/oferta/massagem-relaxante",element:e.jsx(Qb,{})}),e.jsx(q,{path:"/oferta/corte-barba",element:e.jsx(Jb,{})}),e.jsx(q,{path:"/oferta/aula-yoga",element:e.jsx(Xb,{})}),e.jsx(q,{path:"/experiencia/:id",element:e.jsx(Wo,{})}),e.jsx(q,{path:"/experience/:id",element:e.jsx(Wo,{})}),e.jsx(q,{path:"/memberships",element:e.jsx(ey,{})}),e.jsx(q,{path:"/pricing",element:e.jsx(my,{})}),e.jsx(q,{path:"/empresas",element:e.jsx(uy,{})}),e.jsx(q,{path:"/trial",element:e.jsx(xy,{})}),e.jsx(q,{path:"/checkout",element:e.jsx(sy,{})}),e.jsx(q,{path:"/dashboard",element:e.jsx(Mt,{children:e.jsx(ny,{})})}),e.jsx(q,{path:"/comunidade/:id",element:e.jsx(ht,{children:e.jsx(Zb,{})})}),e.jsx(q,{path:"/voucher/ativo/:id",element:e.jsx(yb,{})}),e.jsx(q,{path:"/parceiros-culturais",element:e.jsx(Ho,{})}),e.jsx(q,{path:"/cultural-partner-landing",element:e.jsx(Ho,{})}),e.jsx(q,{path:"/como-funciona-parceiros",element:e.jsx(Hb,{})}),e.jsx(q,{path:"/cadastro-parceiro",element:e.jsx(Lb,{})}),e.jsx(q,{path:"/parceiro-cadastrado",element:e.jsx(qb,{})}),e.jsx(q,{path:"/cultural-partner-portal",element:e.jsx(Mt,{children:e.jsx(jb,{})})}),e.jsx(q,{path:"/merchant/dashboard",element:e.jsx(Ym,{children:e.jsx(S0,{})})}),e.jsx(q,{path:"/dashboard-parceiro",element:e.jsx(Zm,{children:e.jsx(vb,{})})}),e.jsx(q,{path:"/profile",element:e.jsx(Mt,{children:e.jsx(Lf,{})})}),e.jsx(q,{path:"/settings",element:e.jsx(Mt,{children:e.jsx(qf,{})})}),e.jsx(q,{path:"/notifications",element:e.jsx(Mt,{children:e.jsx(hb,{})})}),e.jsx(q,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-[#333333] mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Página não encontrada"}),e.jsx("a",{href:"/",className:"text-[#C91F1F] hover:underline",children:"Voltar ao início"})]})})})]})})})})})})}const Sy=()=>{[{href:"/fonts/inter.woff2",as:"font",type:"font/woff2"},{href:"/images/logo.svg",as:"image"},{href:"/images/hero-bg.webp",as:"image"}].forEach(s=>{const a=document.createElement("link");a.rel="preload",a.href=s.href,a.as=s.as,s.type&&(a.type=s.type,a.crossOrigin="anonymous"),document.head.appendChild(a)})},lr={observeLCP:t=>{if("PerformanceObserver"in window){const s=new PerformanceObserver(a=>{const r=a.getEntries(),i=r[r.length-1];t(i.startTime)});return s.observe({entryTypes:["largest-contentful-paint"]}),s}},observeFID:t=>{if("PerformanceObserver"in window){const s=new PerformanceObserver(a=>{a.getEntries().forEach(i=>{t(i.processingStart-i.startTime)})});return s.observe({entryTypes:["first-input"]}),s}},observeCLS:t=>{if("PerformanceObserver"in window){let s=0;const a=new PerformanceObserver(r=>{r.getEntries().forEach(n=>{n.hadRecentInput||(s+=n.value,t(s))})});return a.observe({entryTypes:["layout-shift"]}),a}}},Py=()=>{["https://fonts.googleapis.com","https://fonts.gstatic.com","https://www.google-analytics.com","https://js.stripe.com"].forEach(a=>{const r=document.createElement("link");r.rel="dns-prefetch",r.href=a,document.head.appendChild(r)}),["https://fonts.googleapis.com","https://js.stripe.com"].forEach(a=>{const r=document.createElement("link");r.rel="preconnect",r.href=a,r.crossOrigin="anonymous",document.head.appendChild(r)})},ky=async()=>{if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");return t.addEventListener("updatefound",()=>{const s=t.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nova versão da aplicação disponível")})}),console.log("Service Worker registrado com sucesso"),t}catch(t){console.error("Erro ao registrar Service Worker:",t)}},Ey=()=>{typeof window>"u"||(Py(),Sy(),ky(),lr.observeLCP(t=>{console.log("LCP:",t)}),lr.observeFID(t=>{console.log("FID:",t)}),lr.observeCLS(t=>{console.log("CLS:",t)}))},fd={title:"DuoPass - Ofertas Exclusivas na Suíça",description:"Descubra ofertas exclusivas e experiências únicas na Suíça com DuoPass. Restaurantes, atividades, hospedagem e muito mais com descontos especiais.",keywords:["ofertas suíça","descontos suíça","restaurantes suíça","atividades suíça","turismo suíça","experiências suíça","cupons desconto","duopass"],image:"/images/og-image.jpg",url:"https://duopass.ch",type:"website",locale:"pt_BR",siteName:"DuoPass"},Dy=t=>{const s={...fd,...t};document.title=s.title,le("description",s.description),s.keywords&&le("keywords",s.keywords.join(", ")),le("og:title",s.title,"property"),le("og:description",s.description,"property"),le("og:type",s.type||"website","property"),le("og:url",s.url||window.location.href,"property"),le("og:site_name",s.siteName||"DuoPass","property"),le("og:locale",s.locale||"pt_BR","property"),s.image&&(le("og:image",s.image,"property"),le("og:image:alt",s.title,"property")),le("twitter:card","summary_large_image"),le("twitter:title",s.title),le("twitter:description",s.description),s.image&&le("twitter:image",s.image),s.type==="article"&&(s.author&&le("article:author",s.author,"property"),s.publishedTime&&le("article:published_time",s.publishedTime,"property"),s.modifiedTime&&le("article:modified_time",s.modifiedTime,"property")),Fy(s.url||window.location.href)},le=(t,s,a="name")=>{let r=document.querySelector(`meta[${a}="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute(a,t),document.head.appendChild(r)),r.content=s},Fy=t=>{let s=document.querySelector('link[rel="canonical"]');s||(s=document.createElement("link"),s.rel="canonical",document.head.appendChild(s)),s.href=t},Qo=(t,s)=>{const a={"@context":"https://schema.org","@type":t};let r;switch(t){case"Organization":r={...a,name:"DuoPass",url:"https://duopass.ch",logo:"https://duopass.ch/duopass_logo.svg",description:"Ofertas exclusivas e experiências únicas na Suíça",address:{"@type":"PostalAddress",addressCountry:"CH"},sameAs:["https://facebook.com/duopass","https://instagram.com/duopass","https://linkedin.com/company/duopass"],...s};break;case"WebSite":r={...a,name:"DuoPass",url:"https://duopass.ch",description:"Ofertas exclusivas e experiências únicas na Suíça",publisher:{"@type":"Organization",name:"DuoPass"},potentialAction:{"@type":"SearchAction",target:"https://duopass.ch/search?q={search_term_string}","query-input":"required name=search_term_string"},...s};break;case"Offer":r={...a,name:s.name,description:s.description,price:s.price,priceCurrency:"CHF",availability:"https://schema.org/InStock",validFrom:s.validFrom,validThrough:s.validThrough,seller:{"@type":"Organization",name:"DuoPass"},...s};break;default:r={...a,...s}}return r},Jo=t=>{const s=document.createElement("script");s.type="application/ld+json",s.textContent=JSON.stringify(t),document.head.appendChild(s)},Ty=()=>{const t=Qo("Organization",{});Jo(t);const s=Qo("WebSite",{});Jo(s),Dy(fd),console.log("[SEO] Configurações inicializadas")};class Ay{sessionId;userId;isProduction;logBuffer=[];maxBufferSize=100;flushInterval=3e4;constructor(){this.sessionId=this.generateSessionId(),this.isProduction=!0,this.isProduction&&setInterval(()=>this.flushLogs(),this.flushInterval),window.addEventListener("beforeunload",()=>this.flushLogs())}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}setUserId(s){this.userId=s}createLogEntry(s,a,r){return{timestamp:new Date().toISOString(),level:s,message:a,context:r,userId:this.userId,sessionId:this.sessionId,userAgent:navigator.userAgent,url:window.location.href}}addToBuffer(s){if(this.logBuffer.push(s),this.logBuffer.length>this.maxBufferSize&&(this.logBuffer=this.logBuffer.slice(-this.maxBufferSize)),!this.isProduction){const a=this.getConsoleStyle(s.level);console.log(`%c[${s.level.toUpperCase()}] ${s.message}`,a,s.context)}}getConsoleStyle(s){return{debug:"color: #888",info:"color: #2196F3",warn:"color: #FF9800",error:"color: #F44336; font-weight: bold"}[s]}debug(s,a){const r=this.createLogEntry("debug",s,a);this.addToBuffer(r)}info(s,a){const r=this.createLogEntry("info",s,a);this.addToBuffer(r)}warn(s,a){const r=this.createLogEntry("warn",s,a);this.addToBuffer(r)}error(s,a){const r=this.createLogEntry("error",s,a);this.addToBuffer(r),this.isProduction&&this.sendToRemoteLogging([r])}async flushLogs(){if(this.logBuffer.length===0)return;const s=[...this.logBuffer];this.logBuffer=[],this.isProduction&&await this.sendToRemoteLogging(s)}async sendToRemoteLogging(s){try{return}catch(a){console.error("Erro ao enviar logs:",a)}}}class My{metrics=[];observers=[];constructor(){this.initializeObservers()}initializeObservers(){if("PerformanceObserver"in window){const s=new PerformanceObserver(n=>{const o=n.getEntries(),c=o[o.length-1];this.recordMetric("LCP",c.startTime,"ms")});s.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(s);const a=new PerformanceObserver(n=>{n.getEntries().forEach(c=>{const l=c.processingStart-c.startTime;this.recordMetric("FID",l,"ms")})});a.observe({entryTypes:["first-input"]}),this.observers.push(a);let r=0;const i=new PerformanceObserver(n=>{n.getEntries().forEach(c=>{const l=c;l.hadRecentInput||(r+=l.value,this.recordMetric("CLS",r,"score"))})});i.observe({entryTypes:["layout-shift"]}),this.observers.push(i)}window.addEventListener("load",()=>{setTimeout(()=>{const s=performance.getEntriesByType("navigation")[0];this.recordMetric("TTFB",s.responseStart-s.fetchStart,"ms"),this.recordMetric("DOMContentLoaded",s.domContentLoadedEventEnd-s.fetchStart,"ms"),this.recordMetric("LoadComplete",s.loadEventEnd-s.fetchStart,"ms")},0)})}recordMetric(s,a,r,i){const n={name:s,value:a,unit:r,timestamp:new Date().toISOString(),context:i};this.metrics.push(n),we.info(`Performance: ${s} = ${a}${r}`,{metric:n}),window.gtag?.("event","performance_metric",{metric_name:s,metric_value:a,metric_unit:r})}getMetrics(){return[...this.metrics]}clearMetrics(){this.metrics=[]}disconnect(){this.observers.forEach(s=>s.disconnect()),this.observers=[]}}class Oy{actions=[];sessionId;userId;constructor(s){this.sessionId=s,this.initializeTracking()}setUserId(s){this.userId=s}initializeTracking(){document.addEventListener("click",i=>{const n=i.target,o=n.tagName.toLowerCase(),c=n.className,l=n.id;this.trackAction("click","interaction",{element:o,className:c,id:l,text:n.textContent?.slice(0,50)})});let s=window.location.pathname;new MutationObserver(()=>{window.location.pathname!==s&&(this.trackAction("page_change","navigation",{from:s,to:window.location.pathname}),s=window.location.pathname)}).observe(document.body,{childList:!0,subtree:!0});const r=Date.now();window.addEventListener("beforeunload",()=>{const i=Date.now()-r;this.trackAction("page_exit","engagement",{timeOnPage:i,path:window.location.pathname})})}trackAction(s,a,r){const i={action:s,category:a,timestamp:new Date().toISOString(),userId:this.userId,sessionId:this.sessionId,metadata:r};this.actions.push(i),we.debug(`User Action: ${a}/${s}`,{userAction:i}),window.gtag?.("event",s,{event_category:a,custom_parameters:r})}getActions(){return[...this.actions]}clearActions(){this.actions=[]}}const we=new Ay,Ws=new My,rt=new Oy(we.sessionId);window.addEventListener("error",t=>{we.error("JavaScript Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:t.error?.stack})});window.addEventListener("unhandledrejection",t=>{we.error("Unhandled Promise Rejection",{reason:t.reason,stack:t.reason?.stack})});window.addEventListener("online",()=>{we.info("Connection restored"),rt.trackAction("connection_restored","system")});window.addEventListener("offline",()=>{we.warn("Connection lost"),rt.trackAction("connection_lost","system")});document.addEventListener("visibilitychange",()=>{document.hidden?rt.trackAction("page_hidden","engagement"):rt.trackAction("page_visible","engagement")});const Iy={setUserId:t=>{we.setUserId(t),rt.setUserId(t)},trackEvent:(t,s,a)=>{rt.trackAction(t,s,a)},measureFunction:async(t,s)=>{const a=performance.now();try{const r=await s(),i=performance.now()-a;return Ws.recordMetric(`function_${t}`,i,"ms"),r}catch(r){const i=performance.now()-a;throw Ws.recordMetric(`function_${t}_error`,i,"ms"),we.error(`Function ${t} failed`,{error:r,duration:i}),r}},getReport:()=>({metrics:Ws.getMetrics(),actions:rt.getActions(),timestamp:new Date().toISOString()}),clearData:()=>{Ws.clearMetrics(),rt.clearActions()}};we.info("Monitoring system initialized",{sessionId:we.sessionId,userAgent:navigator.userAgent,url:window.location.href});Ty(),Ey(),we.info("DuoPass Production Systems Initialized",{version:"1.0.0",environment:"production",timestamp:new Date().toISOString()}),Iy.trackEvent("app_loaded","system",{loadTime:performance.now(),userAgent:navigator.userAgent});class Ry extends ge.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,a){we.error("React Error Boundary",{error:s.message,stack:s.stack,componentStack:a.componentStack})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Algo deu errado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado. Por favor, recarregue a página."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Recarregar Página"})]})}):this.props.children}}const gd=document.getElementById("root");if(!gd)throw new Error("Root element not found");const Vy=Fd.createRoot(gd);Vy.render(e.jsx(h.StrictMode,{children:e.jsx(Ry,{children:e.jsx(_y,{})})}));
