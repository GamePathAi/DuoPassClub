import{r as zd,b as Ud,a as la}from"./vendor-YmKVTMpv.js";import{r as h,R as fe,u as _t,a as W,L as R,b as Ss,N as Bd,c as ca,B as $d,d as Hd,e as L}from"./router-DhmkEjUx.js";import{c as Gd}from"./supabase-D-eN9Y6Z.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var ja={exports:{}},ts={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Un;function Wd(){if(Un)return ts;Un=1;var t=zd(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,l,d){var m,u={},x=null,p=null;d!==void 0&&(x=""+d),l.key!==void 0&&(x=""+l.key),l.ref!==void 0&&(p=l.ref);for(m in l)r.call(l,m)&&!i.hasOwnProperty(m)&&(u[m]=l[m]);if(c&&c.defaultProps)for(m in l=c.defaultProps,l)u[m]===void 0&&(u[m]=l[m]);return{$$typeof:s,type:c,key:x,ref:p,props:u,_owner:n.current}}return ts.Fragment=a,ts.jsx=o,ts.jsxs=o,ts}var Bn;function Kd(){return Bn||(Bn=1,ja.exports=Wd()),ja.exports}var e=Kd(),Rs={},$n;function Qd(){if($n)return Rs;$n=1;var t=Ud();return Rs.createRoot=t.createRoot,Rs.hydrateRoot=t.hydrateRoot,Rs}var Yd=Qd(),Na,Hn;function Xd(){if(Hn)return Na;Hn=1;var t=typeof Element<"u",s=typeof Map=="function",a=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var c,l,d;if(Array.isArray(i)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(!n(i[l],o[l]))return!1;return!0}var m;if(s&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(m=i.entries();!(l=m.next()).done;)if(!o.has(l.value[0]))return!1;for(m=i.entries();!(l=m.next()).done;)if(!n(l.value[1],o.get(l.value[0])))return!1;return!0}if(a&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(m=i.entries();!(l=m.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(i[l]!==o[l])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),c=d.length,c!==Object.keys(o).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[l]))return!1;if(t&&i instanceof Element)return!1;for(l=c;l--!==0;)if(!((d[l]==="_owner"||d[l]==="__v"||d[l]==="__o")&&i.$$typeof)&&!n(i[d[l]],o[d[l]]))return!1;return!0}return i!==i&&o!==o}return Na=function(o,c){try{return n(o,c)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},Na}var Zd=Xd();const Jd=la(Zd);var wa,Gn;function em(){if(Gn)return wa;Gn=1;var t=function(s,a,r,n,i,o,c,l){if(!s){var d;if(a===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,n,i,o,c,l],u=0;d=new Error(a.replace(/%s/g,function(){return m[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return wa=t,wa}var tm=em();const Wn=la(tm);var Ca,Kn;function sm(){return Kn||(Kn=1,Ca=function(s,a,r,n){var i=r?r.call(n,s,a):void 0;if(i!==void 0)return!!i;if(s===a)return!0;if(typeof s!="object"||!s||typeof a!="object"||!a)return!1;var o=Object.keys(s),c=Object.keys(a);if(o.length!==c.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(a),d=0;d<o.length;d++){var m=o[d];if(!l(m))return!1;var u=s[m],x=a[m];if(i=r?r.call(n,u,x,m):void 0,i===!1||i===void 0&&u!==x)return!1}return!0}),Ca}var am=sm();const rm=la(am);var cl=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(cl||{}),Sa={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Qn=Object.values(cl),Qr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},nm=Object.entries(Qr).reduce((t,[s,a])=>(t[a]=s,t),{}),Le="data-rh",Vt={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Lt=(t,s)=>{for(let a=t.length-1;a>=0;a-=1){const r=t[a];if(Object.prototype.hasOwnProperty.call(r,s))return r[s]}return null},im=t=>{let s=Lt(t,"title");const a=Lt(t,Vt.TITLE_TEMPLATE);if(Array.isArray(s)&&(s=s.join("")),a&&s)return a.replace(/%s/g,()=>s);const r=Lt(t,Vt.DEFAULT_TITLE);return s||r||void 0},om=t=>Lt(t,Vt.ON_CHANGE_CLIENT_STATE)||(()=>{}),_a=(t,s)=>s.filter(a=>typeof a[t]<"u").map(a=>a[t]).reduce((a,r)=>({...a,...r}),{}),lm=(t,s)=>s.filter(a=>typeof a.base<"u").map(a=>a.base).reverse().reduce((a,r)=>{if(!a.length){const n=Object.keys(r);for(let i=0;i<n.length;i+=1){const c=n[i].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return a.concat(r)}}return a},[]),cm=t=>console&&typeof console.warn=="function"&&console.warn(t),ss=(t,s,a)=>{const r={};return a.filter(n=>Array.isArray(n[t])?!0:(typeof n[t]<"u"&&cm(`Helmet: ${t} should be of type "Array". Instead found type "${typeof n[t]}"`),!1)).map(n=>n[t]).reverse().reduce((n,i)=>{const o={};i.filter(l=>{let d;const m=Object.keys(l);for(let x=0;x<m.length;x+=1){const p=m[x],v=p.toLowerCase();s.indexOf(v)!==-1&&!(d==="rel"&&l[d].toLowerCase()==="canonical")&&!(v==="rel"&&l[v].toLowerCase()==="stylesheet")&&(d=v),s.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(d=p)}if(!d||!l[d])return!1;const u=l[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][u]?!1:(o[d][u]=!0,!0)}).reverse().forEach(l=>n.push(l));const c=Object.keys(o);for(let l=0;l<c.length;l+=1){const d=c[l],m={...r[d],...o[d]};r[d]=m}return n},[]).reverse()},dm=(t,s)=>{if(Array.isArray(t)&&t.length){for(let a=0;a<t.length;a+=1)if(t[a][s])return!0}return!1},mm=t=>({baseTag:lm(["href"],t),bodyAttributes:_a("bodyAttributes",t),defer:Lt(t,Vt.DEFER),encode:Lt(t,Vt.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:_a("htmlAttributes",t),linkTags:ss("link",["rel","href"],t),metaTags:ss("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ss("noscript",["innerHTML"],t),onChangeClientState:om(t),scriptTags:ss("script",["src","innerHTML"],t),styleTags:ss("style",["cssText"],t),title:im(t),titleAttributes:_a("titleAttributes",t),prioritizeSeoTags:dm(t,Vt.PRIORITIZE_SEO_TAGS)}),dl=t=>Array.isArray(t)?t.join(""):t,um=(t,s)=>{const a=Object.keys(t);for(let r=0;r<a.length;r+=1)if(s[a[r]]&&s[a[r]].includes(t[a[r]]))return!0;return!1},Ea=(t,s)=>Array.isArray(t)?t.reduce((a,r)=>(um(r,s)?a.priority.push(r):a.default.push(r),a),{priority:[],default:[]}):{default:t,priority:[]},Yn=(t,s)=>({...t,[s]:void 0}),hm=["noscript","script","style"],yr=(t,s=!0)=>s===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ml=t=>Object.keys(t).reduce((s,a)=>{const r=typeof t[a]<"u"?`${a}="${t[a]}"`:`${a}`;return s?`${s} ${r}`:r},""),xm=(t,s,a,r)=>{const n=ml(a),i=dl(s);return n?`<${t} ${Le}="true" ${n}>${yr(i,r)}</${t}>`:`<${t} ${Le}="true">${yr(i,r)}</${t}>`},pm=(t,s,a=!0)=>s.reduce((r,n)=>{const i=n,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,m)=>{const u=typeof i[m]>"u"?m:`${m}="${yr(i[m],a)}"`;return d?`${d} ${u}`:u},""),c=i.innerHTML||i.cssText||"",l=hm.indexOf(t)===-1;return`${r}<${t} ${Le}="true" ${o}${l?"/>":`>${c}</${t}>`}`},""),ul=(t,s={})=>Object.keys(t).reduce((a,r)=>{const n=Qr[r];return a[n||r]=t[r],a},s),fm=(t,s,a)=>{const r={key:s,[Le]:!0},n=ul(a,r);return[fe.createElement("title",n,s)]},Ws=(t,s)=>s.map((a,r)=>{const n={key:r,[Le]:!0};return Object.keys(a).forEach(i=>{const c=Qr[i]||i;if(c==="innerHTML"||c==="cssText"){const l=a.innerHTML||a.cssText;n.dangerouslySetInnerHTML={__html:l}}else n[c]=a[i]}),fe.createElement(t,n)}),Te=(t,s,a=!0)=>{switch(t){case"title":return{toComponent:()=>fm(t,s.title,s.titleAttributes),toString:()=>xm(t,s.title,s.titleAttributes,a)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ul(s),toString:()=>ml(s)};default:return{toComponent:()=>Ws(t,s),toString:()=>pm(t,s,a)}}},gm=({metaTags:t,linkTags:s,scriptTags:a,encode:r})=>{const n=Ea(t,Sa.meta),i=Ea(s,Sa.link),o=Ea(a,Sa.script);return{priorityMethods:{toComponent:()=>[...Ws("meta",n.priority),...Ws("link",i.priority),...Ws("script",o.priority)],toString:()=>`${Te("meta",n.priority,r)} ${Te("link",i.priority,r)} ${Te("script",o.priority,r)}`},metaTags:n.default,linkTags:i.default,scriptTags:o.default}},bm=t=>{const{baseTag:s,bodyAttributes:a,encode:r=!0,htmlAttributes:n,noscriptTags:i,styleTags:o,title:c="",titleAttributes:l,prioritizeSeoTags:d}=t;let{linkTags:m,metaTags:u,scriptTags:x}=t,p={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:p,linkTags:m,metaTags:u,scriptTags:x}=gm(t)),{priority:p,base:Te("base",s,r),bodyAttributes:Te("bodyAttributes",a,r),htmlAttributes:Te("htmlAttributes",n,r),link:Te("link",m,r),meta:Te("meta",u,r),noscript:Te("noscript",i,r),script:Te("script",x,r),style:Te("style",o,r),title:Te("title",{title:c,titleAttributes:l},r)}},vr=bm,Is=[],hl=!!(typeof window<"u"&&window.document&&window.document.createElement),jr=class{instances=[];canUseDOM=hl;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Is:this.instances,add:t=>{(this.canUseDOM?Is:this.instances).push(t)},remove:t=>{const s=(this.canUseDOM?Is:this.instances).indexOf(t);(this.canUseDOM?Is:this.instances).splice(s,1)}}};constructor(t,s){this.context=t,this.canUseDOM=s||!1,s||(t.helmet=vr({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ym={},xl=fe.createContext(ym),pl=class fl extends h.Component{static canUseDOM=hl;helmetData;constructor(s){super(s),this.helmetData=new jr(this.props.context||{},fl.canUseDOM)}render(){return fe.createElement(xl.Provider,{value:this.helmetData.value},this.props.children)}},Pt=(t,s)=>{const a=document.head||document.querySelector("head"),r=a.querySelectorAll(`${t}[${Le}]`),n=[].slice.call(r),i=[];let o;return s&&s.length&&s.forEach(c=>{const l=document.createElement(t);for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d))if(d==="innerHTML")l.innerHTML=c.innerHTML;else if(d==="cssText")l.styleSheet?l.styleSheet.cssText=c.cssText:l.appendChild(document.createTextNode(c.cssText));else{const m=d,u=typeof c[m]>"u"?"":c[m];l.setAttribute(d,u)}l.setAttribute(Le,"true"),n.some((d,m)=>(o=m,l.isEqualNode(d)))?n.splice(o,1):i.push(l)}),n.forEach(c=>c.parentNode?.removeChild(c)),i.forEach(c=>a.appendChild(c)),{oldTags:n,newTags:i}},Nr=(t,s)=>{const a=document.getElementsByTagName(t)[0];if(!a)return;const r=a.getAttribute(Le),n=r?r.split(","):[],i=[...n],o=Object.keys(s);for(const c of o){const l=s[c]||"";a.getAttribute(c)!==l&&a.setAttribute(c,l),n.indexOf(c)===-1&&n.push(c);const d=i.indexOf(c);d!==-1&&i.splice(d,1)}for(let c=i.length-1;c>=0;c-=1)a.removeAttribute(i[c]);n.length===i.length?a.removeAttribute(Le):a.getAttribute(Le)!==o.join(",")&&a.setAttribute(Le,o.join(","))},vm=(t,s)=>{typeof t<"u"&&document.title!==t&&(document.title=dl(t)),Nr("title",s)},Xn=(t,s)=>{const{baseTag:a,bodyAttributes:r,htmlAttributes:n,linkTags:i,metaTags:o,noscriptTags:c,onChangeClientState:l,scriptTags:d,styleTags:m,title:u,titleAttributes:x}=t;Nr("body",r),Nr("html",n),vm(u,x);const p={baseTag:Pt("base",a),linkTags:Pt("link",i),metaTags:Pt("meta",o),noscriptTags:Pt("noscript",c),scriptTags:Pt("script",d),styleTags:Pt("style",m)},v={},w={};Object.keys(p).forEach(b=>{const{newTags:g,oldTags:y}=p[b];g.length&&(v[b]=g),y.length&&(w[b]=p[b].oldTags)}),s&&s(),l(t,v,w)},as=null,jm=t=>{as&&cancelAnimationFrame(as),t.defer?as=requestAnimationFrame(()=>{Xn(t,()=>{as=null})}):(Xn(t),as=null)},Nm=jm,Zn=class extends h.Component{rendered=!1;shouldComponentUpdate(t){return!rm(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:s}=this.props.context;let a=null;const r=mm(t.get().map(n=>{const i={...n.props};return delete i.context,i}));pl.canUseDOM?Nm(r):vr&&(a=vr(r)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},da=class extends h.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!Jd(Yn(this.props,"helmetData"),Yn(t,"helmetData"))}mapNestedChildrenToProps(t,s){if(!s)return null;switch(t.type){case"script":case"noscript":return{innerHTML:s};case"style":return{cssText:s};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,s,a,r){return{...s,[t.type]:[...s[t.type]||[],{...a,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,s,a,r){switch(t.type){case"title":return{...s,[t.type]:r,titleAttributes:{...a}};case"body":return{...s,bodyAttributes:{...a}};case"html":return{...s,htmlAttributes:{...a}};default:return{...s,[t.type]:{...a}}}}mapArrayTypeChildrenToProps(t,s){let a={...s};return Object.keys(t).forEach(r=>{a={...a,[r]:t[r]}}),a}warnOnInvalidChildren(t,s){return Wn(Qn.some(a=>t.type===a),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Qn.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Wn(!s||typeof s=="string"||Array.isArray(s)&&!s.some(a=>typeof a!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,s){let a={};return fe.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:n,...i}=r.props,o=Object.keys(i).reduce((l,d)=>(l[nm[d]||d]=i[d],l),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,n),c){case"Symbol(react.fragment)":s=this.mapChildrenToProps(n,s);break;case"link":case"meta":case"noscript":case"script":case"style":a=this.flattenArrayTypeChildren(r,a,o,n);break;default:s=this.mapObjectTypeChildren(r,s,o,n);break}}),this.mapArrayTypeChildrenToProps(a,s)}render(){const{children:t,...s}=this.props;let a={...s},{helmetData:r}=s;if(t&&(a=this.mapChildrenToProps(t,a)),r&&!(r instanceof jr)){const n=r;r=new jr(n.context,!0),delete a.helmetData}return r?fe.createElement(Zn,{...a,context:r.value}):fe.createElement(xl.Consumer,null,n=>fe.createElement(Zn,{...a,context:n}))}};const wm="https://rnzvbrlbcnknyhrgubqi.supabase.co",Cm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuenZicmxiY25rbnlocmd1YnFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwMTc0ODksImV4cCI6MjA2NjU5MzQ4OX0.fjMnzy1PCCqkGucrGp-1jkaJtwBuo9qNB1rk6OOw3zk",Sm={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"duopass-web"}},realtime:{params:{eventsPerSecond:10}}},F=Gd(wm,Cm,Sm),gl=h.createContext(void 0),rs=!1,_m=({children:t})=>{const[s,a]=h.useState(null),[r,n]=h.useState(null),[i,o]=h.useState(!0),[c,l]=h.useState("none"),[d,m]=h.useState(null),u=h.useRef(!1),x=h.useCallback(async S=>{if(!u.current){u.current=!0;try{const{data:N,error:D}=await F.from("users").select("*").eq("id",S).single();if(D)throw D;n(N)}catch(N){console.error("Error fetching user profile:",N),n(null)}finally{u.current=!1}}},[]),p=h.useCallback(async()=>{s&&await x(s.id)},[s,x]),v=h.useCallback(S=>{if(!S){l("none"),m(null);return}const N=new Date(S),D=new Date,_=10080*60*1e3,P=I=>{if(!I)return null;const H=new Date(I);return isNaN(H.getTime())?null:H.toISOString()},T=new Date(N.getTime()+_);D<T?(l("active"),m(P(T))):(l("expired"),m(P(T)))},[]);h.useEffect(()=>{if(s&&r){v(r.created_at);const S=window.location.pathname;if(S.includes("/admin")){window.location.href="/customer-dashboard";return}(S==="/"||S==="/login")&&(window.location.href="/customer-dashboard")}},[s,r,v]),h.useEffect(()=>{},[i]);const w=h.useCallback(async()=>{const S={id:"demo-user-id",email:"demo@duopass.com",email_confirmed_at:new Date().toISOString(),user_metadata:{full_name:"Usuário Demo",user_type:"customer"}};a(S),x("demo-user-id"),o(!1),localStorage.setItem("duopass_demo_session","active")},[x]);h.useEffect(()=>{let S=!0;const N=setTimeout(()=>{S&&o(!1)},3e3);return(async()=>{try{if(localStorage.getItem("duopass_demo_session")){w(),clearTimeout(N);return}const{data:{session:P}}=await F.auth.getSession();S&&(a(P?.user??null),o(!1),clearTimeout(N),P?.user&&(x(P.user.id),v(P.user.id)))}catch{S&&(o(!1),clearTimeout(N))}})(),()=>{S=!1,clearTimeout(N)}},[w,x]),h.useEffect(()=>{const{data:{subscription:S}}=F.auth.onAuthStateChange(async(N,D)=>{a(D?.user??null),D?.user?x(D.user.id):n(null),o(!1)});return()=>{S?.unsubscribe()}},[x]);const b=h.useCallback(async(S,N,D)=>{console.log("🔧 AUTH CONTEXT: Iniciando signUp para:",S),console.log("🔍 AUTH CONTEXT: Verificando se email já existe...");const{data:_,error:P}=await F.from("users").select("email").eq("email",S).single();if(console.log("📊 AUTH CONTEXT: Resultado da verificação:",{existingUser:_,checkError:P}),P&&P.code!=="PGRST116")throw console.error("❌ AUTH CONTEXT: Erro ao verificar email existente:",P),new Error("Erro ao verificar disponibilidade do email");if(_)throw console.log("⚠️ AUTH CONTEXT: Email já existe no banco!"),new Error("Este email já está cadastrado. Tente fazer login ou use outro email.");console.log("✅ AUTH CONTEXT: Email disponível, criando usuário no Supabase Auth...");const{data:T,error:I}=await F.auth.signUp({email:S,password:N,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(console.log("📊 AUTH CONTEXT: Resultado do signUp:",{data:T,error:I}),I)throw console.error("❌ AUTH CONTEXT: Erro no Supabase Auth signUp:",I),I;if(T.user){console.log("👤 AUTH CONTEXT: Usuário criado, inserindo perfil na tabela users...");const{error:H}=await F.from("users").upsert({id:T.user.id,email:T.user.email,full_name:D.full_name,user_type:D.user_type,email_verified:!1,email_verification_sent_at:new Date().toISOString(),subscription_status:D.user_type==="customer"?"trial":null},{onConflict:"email"});if(console.log("📊 AUTH CONTEXT: Resultado do upsert do perfil:",{profileError:H}),H)throw console.error("❌ AUTH CONTEXT: Erro ao criar perfil do usuário:",H),new Error("Erro ao criar perfil do usuário. Tente novamente.")}return console.log("✅ AUTH CONTEXT: SignUp concluído com sucesso!"),T},[]),g=h.useCallback(async(S,N)=>{if(console.log("🔐 AuthContext: Iniciando signIn com email:",S),S==="demo@duopass.com"&&N==="123456"||S==="admin@duopass.com"&&N==="admin123"){console.log("✅ AuthContext: Login de demonstração bem-sucedido!");const D=S==="admin@duopass.com",_={id:D?"admin-user-id":"demo-user-id",email:S,email_confirmed_at:new Date().toISOString(),user_metadata:{full_name:D?"Administrador DuoPass":"Usuário Demo",user_type:D?"admin":"customer"}};return a(_),await x(D?"admin-user-id":"demo-user-id"),o(!1),{user:_,session:{access_token:"demo-token",refresh_token:"demo-refresh",expires_in:3600,token_type:"bearer",user:_}}}try{const D=new Promise((I,H)=>{setTimeout(()=>H(new Error("Timeout: Login demorou mais de 10 segundos")),1e4)}),_=F.auth.signInWithPassword({email:S,password:N});console.log("⏳ AuthContext: Aguardando resposta do Supabase...");const{data:P,error:T}=await Promise.race([_,D]);if(console.log("📊 AuthContext: Resposta do Supabase:",{data:P,error:T}),T)throw console.error("❌ AuthContext: Erro na autenticação:",T),T;if(P.user&&!P.user.email_confirmed_at)throw console.log("📧 AuthContext: Email não verificado, fazendo logout"),await F.auth.signOut(),new Error("Email não verificado. Verifique sua caixa de entrada e clique no link de confirmação.");return console.log("✅ AuthContext: Login bem-sucedido, retornando dados"),P}catch(D){throw console.error("💥 AuthContext: Erro capturado:",D),D}},[]),y=async S=>{try{const{data:N,error:D}=await F.from("users").select("email_verification_sent_at").eq("email",S).single();if(D||!N?.email_verification_sent_at)return!0;const _=new Date(N.email_verification_sent_at);return(new Date().getTime()-_.getTime())/1e3>=60}catch(N){return console.error("Error checking resend cooldown:",N),!0}},f=async S=>{try{const{data:N,error:D}=await F.from("users").select("email_verification_sent_at").eq("email",S).single();if(D||!N?.email_verification_sent_at)return 0;const _=new Date(N.email_verification_sent_at),T=(new Date().getTime()-_.getTime())/1e3,I=Math.max(0,60-T);return Math.ceil(I)}catch(N){return console.error("Error getting resend cooldown:",N),0}},C=async S=>{if(!await y(S)){const _=await f(S);throw new Error(`Aguarde ${_} segundos antes de reenviar o email.`)}console.log("resend_email_attempted",{email:S,timestamp:new Date().toISOString()});const{error:D}=await F.auth.resend({type:"signup",email:S,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(D)throw console.log("resend_email_failed",{email:S,error:D.message,timestamp:new Date().toISOString()}),D;await F.from("users").update({email_verification_sent_at:new Date().toISOString()}).eq("email",S)},E=h.useCallback(async()=>{try{o(!0);const{error:S}=await F.auth.signOut();a(null),n(null),localStorage.removeItem("duopass_user"),localStorage.removeItem("sb-token"),localStorage.removeItem("duopass_demo_session"),o(!1),setTimeout(()=>{window.location.reload()},100)}catch{a(null),n(null),o(!1)}},[]),j=h.useCallback(async()=>{try{console.log("🔐 Iniciando autenticação com Google...");const{error:S}=await F.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(S)throw console.error("❌ Erro na autenticação Google:",S),S;console.log("✅ Redirecionamento para Google iniciado")}catch(S){throw console.error("💥 Erro no Google Auth:",S),S}},[]),A=h.useCallback(async S=>{try{if(console.log("🔄 Sincronizando usuário Google com banco de dados..."),!S.email)throw new Error("Email do usuário Google não encontrado");if(s&&s.id===S.id&&r){console.log("⚠️ Usuário Google já está sincronizado e perfil carregado, pulando...");return}const N={id:S.id,email:S.email,full_name:S.user_metadata?.full_name||S.user_metadata?.name||"Usuário Google",avatar_url:S.user_metadata?.avatar_url||S.user_metadata?.picture,provider:"google",provider_id:S.user_metadata?.sub,user_type:"customer",email_verified:!0,subscription_status:"trial"},{data:D,error:_}=await F.from("users").select("*").eq("email",N.email).single();if(_&&_.code!=="PGRST116")throw console.error("❌ Erro ao verificar usuário existente:",_),_;if(D){console.log("👤 Atualizando usuário existente com dados do Google...");const P={subscription_status:"active",email_verified:!0,updated_at:new Date().toISOString()};console.log("📊 Dados para atualização:",P);const{error:T}=await F.from("users").update(P).eq("id",D.id);if(T)throw console.error("❌ Erro ao atualizar usuário:",{message:T.message,details:T.details,hint:T.hint,code:T.code,updateData:P,userId:D.id}),T;console.log("✅ Usuário atualizado com sucesso!")}else{console.log("👤 Criando novo usuário Google...");const P={id:N.id,email:N.email,full_name:N.full_name,user_type:"customer",subscription_status:"active",email_verified:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("📊 Dados para criação:",P);const{error:T}=await F.from("users").insert(P);if(T)throw console.error("❌ Erro ao criar usuário Google:",{message:T.message,details:T.details,hint:T.hint,code:T.code,newUserData:P}),T;console.log("✅ Novo usuário Google criado com sucesso!")}console.log("✅ Usuário Google sincronizado com sucesso!"),(!r||r.id!==S.id)&&await x(S.id)}catch(N){throw console.error("💥 Erro na sincronização do usuário Google:",{message:N?.message||"Erro desconhecido",details:N?.details||"Sem detalhes",hint:N?.hint||"Sem dicas",code:N?.code||"Sem código",stack:N?.stack||"Sem stack trace",fullError:N}),N}},[s,r,x]),k=h.useMemo(()=>({user:s,userProfile:r,loading:i,trialStatus:c,trialExpiresAt:d,onboarding_completed:r?.onboarding_completed??null,signUp:b,signIn:g,signOut:E,resendConfirmation:C,canResendEmail:y,getResendCooldown:f,loginDemo:w,signInWithGoogle:j,syncGoogleUser:A,refreshUserProfile:p}),[s,r,i,c,d,b,g,E,C,y,f,w,j,A,p]);return e.jsx(gl.Provider,{value:k,children:t})};function U(){const t=h.useContext(gl);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Em=h.createContext(void 0),km=({children:t})=>{const[s,a]=h.useState(!1),[r,n]=h.useState(null);h.useEffect(()=>{const c=localStorage.getItem("admin_token");if(c)try{const l=atob(c),[d]=l.split(":");["admin@duopass.com","igor@duopass.com","silvia@duopass.com"].includes(d)?(a(!0),n(d)):localStorage.removeItem("admin_token")}catch{localStorage.removeItem("admin_token")}},[]);const i=async(c,l)=>{const d=["admin@duopass.com","igor@duopass.com","silvia@duopass.com"],m={"admin@duopass.com":"admin123","igor@duopass.com":"igor123","silvia@duopass.com":"silvia123"};if(d.includes(c)&&m[c]===l){const u=btoa(`${c}:${Date.now()}`);return localStorage.setItem("admin_token",u),a(!0),n(c),!0}return!1},o=()=>{localStorage.removeItem("admin_token"),a(!1),n(null),window.location.href="/admin/login"};return e.jsx(Em.Provider,{value:{isAdminAuthenticated:s,adminEmail:r,adminLogin:i,adminLogout:o},children:t})},Pm={pt:{"nav.home":"Início","nav.offers":"Ofertas","nav.history":"Histórico","nav.profile":"Perfil","nav.dashboard":"Dashboard","nav.login":"Entrar","nav.signup":"Cadastrar","nav.logout":"Sair","nav.analytics":"Analytics BI","terms.welcome":"Bem-vindo ao Duo Pass Club","terms.accept_terms":"Aceito os Termos de Uso","terms.accept_privacy":"Aceito a Política de Privacidade","terms.accept_comms":"Aceito receber comunicações (opcional)","terms.accept_proceed":"Aceitar e Prosseguir","terms.reject_exit":"Rejeitar e Sair","terms.title":"TERMOS DE USO - DUO PASS","terms.last_update":"Última atualização: [DATA]","terms.effective":"Vigência: A partir da aceitação","terms.section1":`1. DEFINIÇÕES
Duo Pass: Plataforma digital que oferece vouchers e experiências culturais, gastronômicas e de lazer na Suíça.
Usuário: Pessoa física que utiliza os serviços da plataforma.
Golden Week: Período promocional de 7 dias com acesso a vouchers premium.
Plano Freemium: Acesso gratuito limitado a 1 voucher por mês.
Parceiros: Estabelecimentos e prestadores de serviços credenciados.`,"terms.section2":`2. ACEITAÇÃO DOS TERMOS
Ao criar uma conta ou utilizar nossos serviços, você aceita integralmente estes termos. Se discordar de qualquer cláusula, não utilize a plataforma.`,"terms.section3":`3. DESCRIÇÃO DOS SERVIÇOS
3.1 Golden Week (Período de Teste Premium)
Duração: 7 dias corridos
Acesso: 3-4 vouchers premium
Experiências: Restaurantes top-tier e atividades exclusivas
Ativação automática no primeiro acesso
3.2 Plano Freemium
Vouchers: 1 por mês calendário
Categoria: Experiências mid-tier
Validade: Conforme especificado em cada voucher
Sem cobrança recorrente
3.3 Planos Pagos
Valores: CHF 9, 12 ou 18 mensais
Benefícios: Vouchers adicionais + experiências premium
Cobrança: Automática via cartão de crédito
Cancelamento: A qualquer momento`,"terms.section4":`4. CADASTRO E CONTA DE USUÁRIO
4.1 Elegibilidade
Maior de 18 anos
Residente na Suíça ou pessoa com endereço válido no país
Informações verdadeiras e atualizadas
4.2 Responsabilidades do Usuário
Manter dados atualizados
Não compartilhar credenciais de acesso
Usar vouchers pessoalmente (salvo vouchers 2-por-1)
Notificar imediatamente sobre uso não autorizado`,"terms.section5":`5. VOUCHERS E EXPERIÊNCIAS
5.1 Utilização
Vouchers têm data de validade específica
Necessário agendamento prévio com o parceiro
Sujeito à disponibilidade do estabelecimento
Não cumulativo com outras promoções (salvo indicação contrária)
5.2 Limitações
1 voucher por pessoa por estabelecimento por mês (salvo especificação)
Não transferível entre usuários
Não conversível em dinheiro
Válido apenas no estabelecimento indicado
5.3 Cancelamentos pelo Parceiro
Parceiros podem cancelar vouchers por motivos operacionais
Usuário será notificado com 24h de antecedência (quando possível)
Voucher será reemitido ou valor creditado`,"terms.section6":`6. PAGAMENTOS E CANCELAMENTOS
6.1 Cobrança
Planos pagos: cobrança mensal automática
Cartões aceitos: Visa, Mastercard, PostFinance
Moeda: Franco Suíço (CHF)
Falha no pagamento: suspensão do serviço após 7 dias
6.2 Cancelamento
Possível a qualquer momento via app/website
Efetivo ao final do período já pago
Vouchers não utilizados expiram com o cancelamento
Sem multa de cancelamento
6.3 Reembolsos
Golden Week: sem reembolso (período promocional)
Planos pagos: reembolso proporcional em caso de cancelamento pela empresa
Vouchers defeituosos: reemissão ou crédito`,"terms.section7":`7. RESPONSABILIDADES E LIMITAÇÕES
7.1 Duo Pass
Intermediação entre usuário e parceiros
Manutenção da plataforma tecnológica
Atendimento ao cliente
Não responsável por qualidade dos serviços dos parceiros
7.2 Limitação de Responsabilidade
Responsabilidade limitada ao valor pago pelo usuário
Não responsável por danos indiretos ou lucros cessantes
Parceiros respondem pela qualidade de seus serviços
Força maior exime responsabilidade
7.3 Disponibilidade
Serviço sujeito a manutenções programadas
Indisponibilidade temporária não gera direito a compensação
Esforços para manter 99% de uptime`,"terms.section8":`8. PROPRIEDADE INTELECTUAL
Todos os direitos sobre marcas, logotipos, design e conteúdo da plataforma pertencem ao Duo Pass. Uso não autorizado é proibido.`,"terms.section9":`9. PRIVACIDADE E DADOS
9.1 Coleta de Dados
Dados pessoais: nome, email, telefone, endereço
Dados de uso: vouchers utilizados, preferências
Dados de pagamento: processados por terceiros certificados
9.2 Uso dos Dados
Prestação do serviço
Comunicação sobre ofertas
Análises estatísticas (dados anonimizados)
Compartilhamento com parceiros para prestação do serviço
9.3 Direitos do Usuário
Acesso aos dados pessoais
Correção de informações incorretas
Exclusão de dados (direito ao esquecimento)
Portabilidade de dados`,"terms.section10":`10. MODIFICAÇÕES
10.1 Alterações nos Termos
Duo Pass pode alterar estes termos a qualquer momento
Usuários serão notificados com 30 dias de antecedência
Continuidade do uso implica aceitação das alterações
Discordância: direito de cancelamento sem ônus
10.2 Alterações no Serviço
Funcionalidades podem ser modificadas ou descontinuadas
Novos serviços podem ser adicionados
Parceiros podem ser incluídos ou removidos`,"terms.section11":`11. RESCISÃO
11.1 Pelo Usuário
Cancelamento a qualquer momento
Encerramento da conta via solicitação
11.2 Pelo Duo Pass
Violação destes termos
Uso fraudulento ou abusivo
Informações falsas no cadastro
Notificação prévia de 15 dias (quando possível)`,"terms.section12":`12. DISPOSIÇÕES GERAIS
12.1 Lei Aplicável
Legislação suíça
Foro: Tribunal competente na Suíça
12.2 Independência das Cláusulas
Invalidade de uma cláusula não afeta as demais
Interpretação de boa-fé
12.3 Comunicações
Email: [email de contato]
Endereço: [endereço da empresa]
Telefone: [telefone de contato]`,"terms.section13":`13. CONTATO E SUPORTE
Atendimento ao Cliente:
Email: suporte@duopassclub.ch
Horário: Segunda a sexta, 9h às 18h
Idiomas: Alemão, Francês, Italiano
Emergências com Vouchers:
WhatsApp: [número]
Disponível 7 dias por semana
Ao utilizar o Duo Pass, você confirma ter lido, compreendido e aceito todos os termos acima.`,"home.title":"Pague 1, Leve 2","home.subtitle":"Descubra ofertas incríveis na sua cidade","home.cta":"Explorar Ofertas","home.categories":"Categorias","category.gastronomy":"Gastronomia","category.beauty":"Beleza","category.leisure":"Lazer","category.fitness":"Fitness","category.shopping":"Compras","category.services":"Serviços","offers.title":"Ofertas Disponíveis","offers.activate":"Ativar Cupom","offers.expires":"Expira em","offers.location":"Localização","offers.original_value":"Valor Original","auth.email":"Email","auth.password":"Senha","auth.fullname":"Nome Completo","auth.signin":"Entrar","auth.signup":"Cadastrar","auth.customer":"Cliente","auth.merchant":"Comerciante","auth.usertype":"Tipo de Usuário","subscription.required":"Assinatura Necessária","subscription.message":"Para ativar cupons, você precisa de uma assinatura ativa.","subscription.subscribe":"Assinar Agora"},en:{"nav.home":"Home","nav.offers":"Offers","nav.history":"History","nav.profile":"Profile","nav.dashboard":"Dashboard","nav.login":"Login","nav.signup":"Sign Up","nav.logout":"Logout","nav.analytics":"Analytics BI","terms.title":"TERMS OF USE - DUO PASS","terms.last_update":"Last update: [DATE]","terms.effective":"Effective: From acceptance","terms.section1":`1. DEFINITIONS
Duo Pass: Digital platform offering vouchers and cultural, gastronomic and leisure experiences in Switzerland.
User: Individual who uses the platform services.
Golden Week: 7-day promotional period with access to premium vouchers.
Freemium Plan: Free limited access to 1 voucher per month.
Partners: Accredited establishments and service providers.`,"terms.section2":`2. ACCEPTANCE OF TERMS
By creating an account or using our services, you fully accept these terms. If you disagree with any clause, do not use the platform.`,"terms.section3":`3. DESCRIPTION OF SERVICES
3.1 Golden Week (Premium Trial Period)
Duration: 7 consecutive days
Access: 3-4 premium vouchers
Experiences: Top-tier restaurants and exclusive activities
Automatic activation on first access
3.2 Freemium Plan
Vouchers: 1 per calendar month
Category: Mid-tier experiences
Validity: As specified in each voucher
No recurring charge
3.3 Paid Plans
Values: CHF 9, 12 or 18 monthly
Benefits: Additional vouchers + premium experiences
Billing: Automatic via credit card
Cancellation: At any time`,"terms.section4":`4. REGISTRATION AND USER ACCOUNT
4.1 Eligibility
Over 18 years old
Resident in Switzerland or person with valid address in the country
True and updated information
4.2 User Responsibilities
Keep data updated
Do not share access credentials
Use vouchers personally (except 2-for-1 vouchers)
Notify immediately about unauthorized use`,"terms.section5":`5. VOUCHERS AND EXPERIENCES
5.1 Use
Vouchers have specific expiration date
Prior scheduling with the partner required
Subject to establishment availability
Not cumulative with other promotions (unless otherwise indicated)
5.2 Limitations
1 voucher per person per establishment per month (unless specified)
Not transferable between users
Not convertible to cash
Valid only at the indicated establishment
5.3 Cancellations by Partner
Partners may cancel vouchers for operational reasons
User will be notified 24 hours in advance (when possible)
Voucher will be reissued or value credited`,"terms.section6":`6. PAYMENTS AND CANCELLATIONS
6.1 Billing
Paid plans: automatic monthly billing
Accepted cards: Visa, Mastercard, PostFinance
Currency: Swiss Franc (CHF)
Payment failure: service suspension after 7 days
6.2 Cancellation
Possible at any time via app/website
Effective at the end of the paid period
Unused vouchers expire with cancellation
No cancellation fee
6.3 Refunds
Golden Week: no refund (promotional period)
Paid plans: proportional refund in case of cancellation by the company
Defective vouchers: reissue or credit`,"terms.section7":`7. RESPONSIBILITIES AND LIMITATIONS
7.1 Duo Pass
Intermediation between user and partners
Maintenance of the technological platform
Customer service
Not responsible for the quality of partners' services
7.2 Limitation of Liability
Liability limited to the amount paid by the user
Not responsible for indirect damages or lost profits
Partners are responsible for the quality of their services
Force majeure exempts liability
7.3 Availability
Service subject to scheduled maintenance
Temporary unavailability does not generate right to compensation
Efforts to maintain 99% uptime`,"terms.section8":`8. INTELLECTUAL PROPERTY
All rights over brands, logos, design and platform content belong to Duo Pass. Unauthorized use is prohibited.`,"terms.section9":`9. PRIVACY AND DATA
9.1 Data Collection
Personal data: name, email, phone, address
Usage data: vouchers used, preferences
Payment data: processed by certified third parties
9.2 Use of Data
Service provision
Communication about offers
Statistical analyses (anonymized data)
Sharing with partners for service provision
9.3 User Rights
Access to personal data
Correction of incorrect information
Data deletion (right to be forgotten)
Data portability`,"terms.section10":`10. MODIFICATIONS
10.1 Changes to Terms
Duo Pass may change these terms at any time
Users will be notified 30 days in advance
Continued use implies acceptance of changes
Disagreement: right to cancellation without charge
10.2 Changes to Service
Features may be modified or discontinued
New services may be added
Partners may be included or removed`,"terms.section11":`11. TERMINATION
11.1 By User
Cancellation at any time
Account closure via request
11.2 By Duo Pass
Violation of these terms
Fraudulent or abusive use
False information in registration
Prior notification of 15 days (when possible)`,"terms.section12":`12. GENERAL PROVISIONS
12.1 Applicable Law
Swiss legislation
Forum: Competent court in Switzerland
12.2 Independence of Clauses
Invalidity of one clause does not affect the others
Good faith interpretation
12.3 Communications
Email: [contact email]
Address: [company address]
Phone: [contact phone]`,"terms.section13":`13. CONTACT AND SUPPORT
Customer Service:
Email: support@duopassclub.ch
Hours: Monday to Friday, 9am to 6pm
Languages: German, French, Italian
Voucher Emergencies:
WhatsApp: [number]
Available 7 days a week
By using Duo Pass, you confirm that you have read, understood and accepted all the terms above.`,"home.subtitle":"Discover amazing offers in your city","home.cta":"Explore Offers","home.categories":"Categories","category.gastronomy":"Gastronomy","category.beauty":"Beauty","category.leisure":"Leisure","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Services","offers.title":"Available Offers","offers.activate":"Activate Coupon","offers.expires":"Expires","offers.location":"Location","offers.original_value":"Original Value","auth.email":"Email","auth.password":"Password","auth.fullname":"Full Name","auth.signin":"Sign In","auth.signup":"Sign Up","auth.customer":"Customer","auth.merchant":"Merchant","auth.usertype":"User Type","subscription.required":"Subscription Required","subscription.message":"To activate coupons, you need an active subscription.","subscription.subscribe":"Subscribe Now"},fr:{"nav.home":"Accueil","nav.offers":"Offres","nav.history":"Historique","nav.profile":"Profil","nav.dashboard":"Tableau de bord","nav.login":"Connexion","nav.signup":"S'inscrire","nav.logout":"Déconnexion","nav.analytics":"Analytics BI","terms.title":"CONDITIONS D'UTILISATION - DUO PASS","terms.last_update":"Dernière mise à jour : [DATE]","terms.effective":"Entrée en vigueur : À partir de l'acceptation","terms.section1":`1. DÉFINITIONS
Duo Pass : Plateforme numérique offrant des vouchers et des expériences culturelles, gastronomiques et de loisirs en Suisse.
Utilisateur : Personne physique utilisant les services de la plateforme.
Golden Week : Période promotionnelle de 7 jours avec accès à des vouchers premium.
Plan Freemium : Accès gratuit limité à 1 voucher par mois.
Partenaires : Établissements et prestataires de services accrédités.`,"terms.section2":`2. ACCEPTATION DES CONDITIONS
En créant un compte ou en utilisant nos services, vous acceptez intégralement ces conditions. Si vous êtes en désaccord avec une clause, n'utilisez pas la plateforme.`,"terms.section3":`3. DESCRIPTION DES SERVICES
3.1 Golden Week (Période d'Essai Premium)
Durée : 7 jours consécutifs
Accès : 3-4 vouchers premium
Expériences : Restaurants haut de gamme et activités exclusives
Activation automatique lors du premier accès
3.2 Plan Freemium
Vouchers : 1 par mois calendaire
Catégorie : Expériences de niveau moyen
Validité : Comme spécifié dans chaque voucher
Sans facturation récurrente
3.3 Plans Payants
Valeurs : CHF 9, 12 ou 18 mensuels
Avantages : Vouchers supplémentaires + expériences premium
Facturation : Automatique via carte de crédit
Annulation : À tout moment`,"terms.section4":`4. INSCRIPTION ET COMPTE UTILISATEUR
4.1 Éligibilité
Âgé de plus de 18 ans
Résident en Suisse ou personne avec adresse valide dans le pays
Informations vraies et mises à jour
4.2 Responsabilités de l'Utilisateur
Maintenir les données à jour
Ne pas partager les identifiants d'accès
Utiliser les vouchers personnellement (sauf vouchers 2-pour-1)
Notifier immédiatement en cas d'utilisation non autorisée`,"terms.section5":`5. VOUCHERS ET EXPÉRIENCES
5.1 Utilisation
Les vouchers ont une date d'expiration spécifique
Réservation préalable avec le partenaire requise
Sous réserve de la disponibilité de l'établissement
Non cumulable avec d'autres promotions (sauf indication contraire)
5.2 Limitations
1 voucher par personne par établissement par mois (sauf spécification)
Non transférable entre utilisateurs
Non convertible en argent
Valable uniquement dans l'établissement indiqué
5.3 Annulations par le Partenaire
Les partenaires peuvent annuler des vouchers pour des raisons opérationnelles
L'utilisateur sera notifié 24h à l'avance (lorsque possible)
Le voucher sera réémis ou la valeur créditée`,"terms.section6":`6. PAIEMENTS ET ANNULATIONS
6.1 Facturation
Plans payants : facturation mensuelle automatique
Cartes acceptées : Visa, Mastercard, PostFinance
Devise : Franc Suisse (CHF)
Échec de paiement : suspension du service après 7 jours
6.2 Annulation
Possible à tout moment via app/site web
Effectif à la fin de la période déjà payée
Vouchers non utilisés expirent avec l'annulation
Sans pénalité d'annulation
6.3 Remboursements
Golden Week : pas de remboursement (période promotionnelle)
Plans payants : remboursement proportionnel en cas d'annulation par l'entreprise
Vouchers défectueux : réémission ou crédit`,"terms.section7":`7. RESPONSABILITÉS ET LIMITATIONS
7.1 Duo Pass
Intermédiation entre utilisateur et partenaires
Maintenance de la plateforme technologique
Service client
Non responsable de la qualité des services des partenaires
7.2 Limitation de Responsabilité
Responsabilité limitée au montant payé par l'utilisateur
Non responsable des dommages indirects ou pertes de profits
Les partenaires sont responsables de la qualité de leurs services
Force majeure exempte de responsabilité
7.3 Disponibilité
Service sujet à des maintenances programmées
Indisponibilité temporaire ne génère pas de droit à compensation
Efforts pour maintenir 99% de disponibilité`,"terms.section8":`8. PROPRIÉTÉ INTELLECTUELLE
Tous les droits sur les marques, logos, design et contenu de la plateforme appartiennent à Duo Pass. Utilisation non autorisée interdite.`,"terms.section9":`9. CONFIDENTIALITÉ ET DONNÉES
9.1 Collecte de Données
Données personnelles : nom, email, téléphone, adresse
Données d'utilisation : vouchers utilisés, préférences
Données de paiement : traitées par des tiers certifiés
9.2 Utilisation des Données
Fourniture du service
Communication sur les offres
Analyses statistiques (données anonymisées)
Partage avec partenaires pour fourniture du service
9.3 Droits de l'Utilisateur
Accès aux données personnelles
Correction d'informations incorrectes
Suppression de données (droit à l'oubli)
Portabilité des données`,"terms.section10":`10. MODIFICATIONS
10.1 Changements aux Conditions
Duo Pass peut modifier ces conditions à tout moment
Les utilisateurs seront notifiés 30 jours à l'avance
Utilisation continue implique acceptation des changements
Désaccord : droit d'annulation sans frais
10.2 Changements au Service
Fonctionnalités peuvent être modifiées ou discontinuées
Nouveaux services peuvent être ajoutés
Partenaires peuvent être inclus ou supprimés`,"terms.section11":`11. RÉSILIATION
11.1 Par l'Utilisateur
Annulation à tout moment
Fermeture du compte via demande
11.2 Par Duo Pass
Violation de ces conditions
Utilisation frauduleuse ou abusive
Informations fausses lors de l'inscription
Notification préalable de 15 jours (lorsque possible)`,"terms.section12":`12. DISPOSITIONS GÉNÉRALES
12.1 Loi Applicable
Législation suisse
For : Tribunal compétent en Suisse
12.2 Indépendance des Clauses
Invalidité d'une clause n'affecte pas les autres
Interprétation de bonne foi
12.3 Communications
Email : [email de contact]
Adresse : [adresse de l'entreprise]
Téléphone : [téléphone de contact]`,"terms.section13":`13. CONTACT ET SUPPORT
Service Client :
Email : support@duopassclub.ch
Horaires : Lundi à vendredi, 9h à 18h
Langues : Allemand, Français, Italien
Urgences avec Vouchers :
WhatsApp : [numéro]
Disponible 7 jours par semaine
En utilisant Duo Pass, vous confirmez avoir lu, compris et accepté toutes les conditions ci-dessus.`,"home.subtitle":"Découvrez des offres incroyables dans votre ville","home.cta":"Explorer les Offres","home.categories":"Catégories","category.gastronomy":"Gastronomie","category.beauty":"Beauté","category.leisure":"Loisirs","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Services","offers.title":"Offres Disponibles","offers.activate":"Activer le Coupon","offers.expires":"Expire le","offers.location":"Localisation","offers.original_value":"Valeur Originale","auth.email":"Email","auth.password":"Mot de passe","auth.fullname":"Nom Complet","auth.signin":"Se connecter","auth.signup":"S'inscrire","auth.customer":"Client","auth.merchant":"Commerçant","auth.usertype":"Type d'Utilisateur","subscription.required":"Abonnement Requis","subscription.message":"Pour activer les coupons, vous avez besoin d'un abonnement actif.","subscription.subscribe":"S'abonner Maintenant"},de:{"nav.home":"Startseite","nav.offers":"Angebote","nav.history":"Verlauf","nav.profile":"Profil","nav.dashboard":"Dashboard","nav.login":"Anmelden","nav.signup":"Registrieren","nav.logout":"Abmelden","nav.analytics":"Analytics BI","terms.title":"NUTZUNGSBEDINGUNGEN - DUO PASS","terms.last_update":"Letzte Aktualisierung: [DATUM]","terms.effective":"Gültig: Ab Annahme","terms.section1":`1. DEFINITIONEN
Duo Pass: Digitale Plattform, die Gutscheine und kulturelle, gastronomische und Freizeiterlebnisse in der Schweiz anbietet.
Benutzer: Natürliche Person, die die Dienste der Plattform nutzt.
Golden Week: Werbezeitraum von 7 Tagen mit Zugang zu Premium-Gutscheinen.
Freemium-Plan: Kostenloser begrenzter Zugang zu 1 Gutschein pro Monat.
Partner: Akkreditierte Einrichtungen und Dienstleister.`,"terms.section2":`2. ANNAHME DER BEDINGUNGEN
Durch Erstellung eines Kontos oder Nutzung unserer Dienste akzeptieren Sie diese Bedingungen vollständig. Wenn Sie mit einer Klausel nicht einverstanden sind, nutzen Sie die Plattform nicht.`,"terms.section3":`3. BESCHREIBUNG DER DIENSTE
3.1 Golden Week (Premium-Testzeitraum)
Dauer: 7 aufeinanderfolgende Tage
Zugang: 3-4 Premium-Gutscheine
Erlebnisse: Top-Restaurants und exklusive Aktivitäten
Automatische Aktivierung beim ersten Zugriff
3.2 Freemium-Plan
Gutscheine: 1 pro Kalendermonat
Kategorie: Mittelklasse-Erlebnisse
Gültigkeit: Wie in jedem Gutschein angegeben
Keine wiederkehrende Gebühr
3.3 Bezahlte Pläne
Werte: CHF 9, 12 oder 18 monatlich
Vorteile: Zusätzliche Gutscheine + Premium-Erlebnisse
Abrechnung: Automatisch per Kreditkarte
Kündigung: Jederzeit`,"terms.section4":`4. REGISTRIERUNG UND BENUTZERKONTO
4.1 Berechtigung
Über 18 Jahre alt
Wohnhaft in der Schweiz oder Person mit gültiger Adresse im Land
Wahre und aktualisierte Informationen
4.2 Verantwortlichkeiten des Benutzers
Daten auf dem neuesten Stand halten
Zugangsdaten nicht teilen
Gutscheine persönlich nutzen (außer 2-für-1-Gutscheine)
Unbefugte Nutzung sofort melden`,"terms.section5":`5. GUTSCHEINE UND ERLEBNISSE
5.1 Nutzung
Gutscheine haben ein spezifisches Ablaufdatum
Vorherige Terminvereinbarung mit dem Partner erforderlich
Abhängig von der Verfügbarkeit der Einrichtung
Nicht kumulierbar mit anderen Aktionen (sofern nicht anders angegeben)
5.2 Einschränkungen
1 Gutschein pro Person pro Einrichtung pro Monat (sofern nicht angegeben)
Nicht übertragbar zwischen Benutzern
Nicht in Bargeld umwandelbar
Nur in der angegebenen Einrichtung gültig
5.3 Stornierungen durch den Partner
Partner können Gutscheine aus betrieblichen Gründen stornieren
Benutzer wird 24 Stunden im Voraus benachrichtigt (wenn möglich)
Gutschein wird neu ausgestellt oder Wert gutgeschrieben`,"terms.section6":`6. ZAHLUNGEN UND KÜNDIGUNGEN
6.1 Abrechnung
Bezahlte Pläne: automatische monatliche Abrechnung
Akzeptierte Karten: Visa, Mastercard, PostFinance
Währung: Schweizer Franken (CHF)
Zahlungsausfall: Dienstunterbrechung nach 7 Tagen
6.2 Kündigung
Jederzeit möglich über App/Website
Wirksam am Ende der bezahlten Periode
Nicht genutzte Gutscheine verfallen mit der Kündigung
Keine Kündigungsgebühr
6.3 Rückerstattungen
Golden Week: keine Rückerstattung (Werbezeitraum)
Bezahlte Pläne: proportionale Rückerstattung bei Kündigung durch das Unternehmen
Defekte Gutscheine: Neuauflage oder Gutschrift`,"terms.section7":`7. VERANTWORTLICHKEITEN UND EINSCHRÄNKUNGEN
7.1 Duo Pass
Vermittlung zwischen Benutzer und Partnern
Wartung der technologischen Plattform
Kundenservice
Nicht verantwortlich für die Qualität der Dienste der Partner
7.2 Haftungsbeschränkung
Haftung begrenzt auf den vom Benutzer gezahlten Betrag
Nicht verantwortlich für indirekte Schäden oder entgangene Gewinne
Partner sind für die Qualität ihrer Dienste verantwortlich
Höhere Gewalt entbindet von der Haftung
7.3 Verfügbarkeit
Dienst unterliegt geplanten Wartungen
Vorübergehende Nichtverfügbarkeit erzeugt kein Recht auf Entschädigung
Bemühungen, 99% Verfügbarkeit zu halten`,"terms.section8":`8. GEISTIGES EIGENTUM
Alle Rechte an Marken, Logos, Design und Inhalten der Plattform gehören Duo Pass. Unbefugte Nutzung verboten.`,"terms.section9":`9. DATENSCHUTZ UND DATEN
9.1 Datenerhebung
Persönliche Daten: Name, E-Mail, Telefon, Adresse
Nutzungsdaten: genutzte Gutscheine, Vorlieben
Zahlungsdaten: von zertifizierten Dritten verarbeitet
9.2 Nutzung der Daten
Erbringung des Dienstes
Kommunikation über Angebote
Statistische Analysen (anonymisierte Daten)
Teilen mit Partnern zur Erbringung des Dienstes
9.3 Rechte des Benutzers
Zugang zu persönlichen Daten
Korrektur falscher Informationen
Löschung von Daten (Recht auf Vergessenwerden)
Datenportabilität`,"terms.section10":`10. ÄNDERUNGEN
10.1 Änderungen der Bedingungen
Duo Pass kann diese Bedingungen jederzeit ändern
Benutzer werden 30 Tage im Voraus benachrichtigt
Fortgesetzte Nutzung impliziert Annahme der Änderungen
Uneinigkeit: Recht auf Kündigung ohne Gebühr
10.2 Änderungen am Dienst
Funktionen können geändert oder eingestellt werden
Neue Dienste können hinzugefügt werden
Partner können hinzugefügt oder entfernt werden`,"terms.section11":`11. KÜNDIGUNG
11.1 Durch den Benutzer
Kündigung jederzeit
Kontoschließung per Anfrage
11.2 Durch Duo Pass
Verletzung dieser Bedingungen
Betrügerische oder missbräuchliche Nutzung
Falsche Informationen bei der Registrierung
Vorherige Benachrichtigung von 15 Tagen (wenn möglich)`,"terms.section12":`12. ALLGEMEINE BESTIMMUNGEN
12.1 Anwendbares Recht
Schweizer Recht
Gerichtsstand: Zuständiges Gericht in der Schweiz
12.2 Unabhängigkeit der Klauseln
Ungültigkeit einer Klausel beeinflusst nicht die anderen
Auslegung in gutem Glauben
12.3 Kommunikationen
E-Mail: [Kontakt-E-Mail]
Adresse: [Firmenadresse]
Telefon: [Kontakttelefon]`,"terms.section13":`13. KONTAKT UND SUPPORT
Kundenservice:
E-Mail: support@duopassclub.ch
Öffnungszeiten: Montag bis Freitag, 9 bis 18 Uhr
Sprachen: Deutsch, Französisch, Italienisch
Notfälle mit Gutscheinen:
WhatsApp: [Nummer]
Verfügbar 7 Tage die Woche
Durch die Nutzung von Duo Pass bestätigen Sie, dass Sie alle obigen Bedingungen gelesen, verstanden und akzeptiert haben.`,"home.subtitle":"Entdecke erstaunliche Angebote in deiner Stadt","home.cta":"Angebote Erkunden","home.categories":"Kategorien","category.gastronomy":"Gastronomie","category.beauty":"Schönheit","category.leisure":"Freizeit","category.fitness":"Fitness","category.shopping":"Einkaufen","category.services":"Dienstleistungen","offers.title":"Verfügbare Angebote","offers.activate":"Gutschein Aktivieren","offers.expires":"Läuft ab","offers.location":"Standort","offers.original_value":"Originalwert","auth.email":"E-Mail","auth.password":"Passwort","auth.fullname":"Vollständiger Name","auth.signin":"Anmelden","auth.signup":"Registrieren","auth.customer":"Kunde","auth.merchant":"Händler","auth.usertype":"Benutzertyp","subscription.required":"Abonnement Erforderlich","subscription.message":"Um Gutscheine zu aktivieren, benötigen Sie ein aktives Abonnement.","subscription.subscribe":"Jetzt Abonnieren"},it:{"nav.home":"Home","nav.offers":"Offerte","nav.history":"Cronologia","nav.profile":"Profilo","nav.dashboard":"Dashboard","nav.login":"Accedi","nav.signup":"Registrati","nav.logout":"Esci","nav.analytics":"Analytics BI","terms.title":"TERMINI DI UTILIZZO - DUO PASS","terms.last_update":"Ultimo aggiornamento: [DATA]","terms.effective":"Efficace: Dalla accettazione","terms.section1":`1. DEFINIZIONI
Duo Pass: Piattaforma digitale che offre voucher ed esperienze culturali, gastronomiche e di svago in Svizzera.
Utente: Persona fisica che utilizza i servizi della piattaforma.
Golden Week: Periodo promozionale di 7 giorni con accesso a voucher premium.
Piano Freemium: Accesso gratuito limitato a 1 voucher al mese.
Partner: Strutture e fornitori di servizi accreditati.`,"terms.section2":`2. ACCETTAZIONE DEI TERMINI
Creando un account o utilizzando i nostri servizi, accetti integralmente questi termini. Se non sei d'accordo con qualsiasi clausola, non utilizzare la piattaforma.`,"terms.section3":`3. DESCRIZIONE DEI SERVIZI
3.1 Golden Week (Periodo di Prova Premium)
Durata: 7 giorni consecutivi
Accesso: 3-4 voucher premium
Esperienze: Ristoranti top-tier e attività esclusive
Attivazione automatica al primo accesso
3.2 Piano Freemium
Voucher: 1 al mese solare
Categoria: Esperienze mid-tier
Validità: Come specificato in ciascun voucher
Senza addebito ricorrente
3.3 Piani Pagati
Valori: CHF 9, 12 o 18 mensili
Benefici: Voucher aggiuntivi + esperienze premium
Addebito: Automatico tramite carta di credito
Cancellazione: In qualsiasi momento`,"terms.section4":`4. REGISTRAZIONE E ACCOUNT UTENTE
4.1 Idoneità
Maggiore di 18 anni
Residente in Svizzera o persona con indirizzo valido nel paese
Informazioni vere e aggiornate
4.2 Responsabilità dell'Utente
Mantenere i dati aggiornati
Non condividere le credenziali di accesso
Utilizzare i voucher personalmente (salvo voucher 2-per-1)
Notificare immediatamente l'uso non autorizzato`,"terms.section5":`5. VOUCHER ED ESPERIENZE
5.1 Utilizzo
I voucher hanno una data di scadenza specifica
Necessaria prenotazione anticipata con il partner
Soggetto alla disponibilità della struttura
Non cumulabile con altre promozioni (salvo indicazione contraria)
5.2 Limitazioni
1 voucher per persona per struttura al mese (salvo specifica)
Non trasferibile tra utenti
Non convertibile in denaro
Valido solo nella struttura indicata
5.3 Cancellazioni dal Partner
I partner possono cancellare voucher per motivi operativi
L'utente sarà notificato con 24 ore di anticipo (quando possibile)
Il voucher sarà riemesso o il valore accreditato`,"terms.section6":`6. PAGAMENTI E CANCELLAZIONI
6.1 Addebito
Piani pagati: addebito mensile automatico
Carte accettate: Visa, Mastercard, PostFinance
Valuta: Franco Svizzero (CHF)
Fallimento del pagamento: sospensione del servizio dopo 7 giorni
6.2 Cancellazione
Possibile in qualsiasi momento via app/sito web
Effettiva alla fine del periodo già pagato
Voucher non utilizzati scadono con la cancellazione
Senza penale di cancellazione
6.3 Rimborsi
Golden Week: nessun rimborso (periodo promozionale)
Piani pagati: rimborso proporzionale in caso di cancellazione dall'azienda
Voucher difettosi: riemissione o credito`,"terms.section7":`7. RESPONSABILITÀ E LIMITAZIONI
7.1 Duo Pass
Intermediazione tra utente e partner
Manutenzione della piattaforma tecnologica
Assistenza clienti
Non responsabile della qualità dei servizi dei partner
7.2 Limitazione di Responsabilità
Responsabilità limitata all'importo pagato dall'utente
Non responsabile di danni indiretti o profitti cessanti
I partner rispondono della qualità dei loro servizi
Forza maggiore esonera dalla responsabilità
7.3 Disponibilità
Servizio soggetto a manutenzioni programmate
Indisponibilità temporanea non genera diritto a compensazione
Sforzi per mantenere il 99% di uptime`,"terms.section8":`8. PROPRIETÀ INTELLETTUALE
Tutti i diritti su marchi, loghi, design e contenuti della piattaforma appartengono a Duo Pass. Uso non autorizzato proibito.`,"terms.section9":`9. PRIVACY E DATI
9.1 Raccolta Dati
Dati personali: nome, email, telefono, indirizzo
Dati di utilizzo: voucher utilizzati, preferenze
Dati di pagamento: elaborati da terzi certificati
9.2 Uso dei Dati
Fornitura del servizio
Comunicazione su offerte
Analisi statistiche (dati anonimizzati)
Condivisione con partner per fornitura del servizio
9.3 Diritti dell'Utente
Accesso ai dati personali
Correzione di informazioni errate
Cancellazione dei dati (diritto all'oblio)
Portabilità dei dati`,"terms.section10":`10. MODIFICHE
10.1 Modifiche ai Termini
Duo Pass può modificare questi termini in qualsiasi momento
Gli utenti saranno notificati con 30 giorni di anticipo
Continuazione dell'uso implica accettazione delle modifiche
Disaccordo: diritto di cancellazione senza oneri
10.2 Modifiche al Servizio
Funzionalità possono essere modificate o discontinue
Nuovi servizi possono essere aggiunti
Partner possono essere inclusi o rimossi`,"terms.section11":`11. RISOLUZIONE
11.1 Dall'Utente
Cancellazione in qualsiasi momento
Chiusura dell'account via richiesta
11.2 Da Duo Pass
Violazione di questi termini
Uso fraudolento o abusivo
Informazioni false nella registrazione
Notifica preliminare di 15 giorni (quando possibile)`,"terms.section12":`12. DISPOSIZIONI GENERALI
12.1 Legge Applicabile
Legislazione svizzera
Foro: Tribunale competente in Svizzera
12.2 Indipendenza delle Clausole
Invalidità di una clausola non influisce sulle altre
Interpretazione in buona fede
12.3 Comunicazioni
Email: [email di contatto]
Indirizzo: [indirizzo dell'azienda]
Telefono: [telefono di contatto]`,"terms.section13":`13. CONTATTO E SUPPORTO
Assistenza Clienti:
Email: support@duopassclub.ch
Orari: Lunedì a venerdì, 9h alle 18h
Lingue: Tedesco, Francese, Italiano
Emergenze con Voucher:
WhatsApp: [numero]
Disponibile 7 giorni su 7
Utilizzando Duo Pass, confermi di aver letto, compreso e accettato tutti i termini sopra.`,"home.subtitle":"Scopri offerte incredibili nella tua città","home.cta":"Esplora Offerte","home.categories":"Categorie","category.gastronomy":"Gastronomia","category.beauty":"Bellezza","category.leisure":"Tempo Libero","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Servizi","offers.title":"Offerte Disponibili","offers.activate":"Attiva Coupon","offers.expires":"Scade","offers.location":"Posizione","offers.original_value":"Valore Originale","auth.email":"Email","auth.password":"Password","auth.fullname":"Nome Completo","auth.signin":"Accedi","auth.signup":"Registrati","auth.customer":"Cliente","auth.merchant":"Commerciante","auth.usertype":"Tipo di Utente","subscription.required":"Abbonamento Richiesto","subscription.message":"Per attivare i coupon, hai bisogno di un abbonamento attivo.","subscription.subscribe":"Abbonati Ora"},es:{"nav.home":"Inicio","nav.offers":"Ofertas","nav.history":"Historial","nav.profile":"Perfil","nav.dashboard":"Panel","nav.login":"Iniciar Sesión","nav.signup":"Registrarse","nav.logout":"Cerrar Sesión","nav.analytics":"Analytics BI","terms.title":"TÉRMINOS DE USO - DUO PASS","terms.last_update":"Última actualización: [FECHA]","terms.effective":"Vigencia: A partir de la aceptación","terms.section1":`1. DEFINICIONES
Duo Pass: Plataforma digital que ofrece vouchers y experiencias culturales, gastronómicas y de ocio en Suiza.
Usuario: Persona física que utiliza los servicios de la plataforma.
Golden Week: Período promocional de 7 días con acceso a vouchers premium.
Plan Freemium: Acceso gratuito limitado a 1 voucher por mes.
Socios: Establecimientos y prestadores de servicios acreditados.`,"terms.section2":`2. ACEPTACIÓN DE LOS TÉRMINOS
Al crear una cuenta o utilizar nuestros servicios, aceptas integralmente estos términos. Si no estás de acuerdo con cualquier cláusula, no utilices la plataforma.`,"terms.section3":`3. DESCRIPCIÓN DE LOS SERVICIOS
3.1 Golden Week (Período de Prueba Premium)
Duración: 7 días consecutivos
Acceso: 3-4 vouchers premium
Experiencias: Restaurantes top-tier y actividades exclusivas
Activación automática en el primer acceso
3.2 Plan Freemium
Vouchers: 1 por mes calendario
Categoría: Experiencias mid-tier
Validez: Según especificado en cada voucher
Sin cobro recurrente
3.3 Planes Pagados
Valores: CHF 9, 12 o 18 mensuales
Beneficios: Vouchers adicionales + experiencias premium
Cobro: Automático vía tarjeta de crédito
Cancelación: En cualquier momento`,"terms.section4":`4. REGISTRO Y CUENTA DE USUARIO
4.1 Elegibilidad
Mayor de 18 años
Residente en Suiza o persona con dirección válida en el país
Informaciones verdaderas y actualizadas
4.2 Responsabilidades del Usuario
Mantener datos actualizados
No compartir credenciales de acceso
Usar vouchers personalmente (salvo vouchers 2-por-1)
Notificar inmediatamente sobre uso no autorizado`,"terms.section5":`5. VOUCHERS Y EXPERIENCIAS
5.1 Utilización
Los vouchers tienen fecha de validez específica
Necesario agendamiento previo con el socio
Sujeto a disponibilidad del establecimiento
No acumulable con otras promociones (salvo indicación contraria)
5.2 Limitaciones
1 voucher por persona por establecimiento por mes (salvo especificación)
No transferible entre usuarios
No convertible en dinero
Válido solo en el establecimiento indicado
5.3 Cancelaciones por el Socio
Los socios pueden cancelar vouchers por motivos operacionales
El usuario será notificado con 24h de antelación (cuando posible)
El voucher será reemitido o valor acreditado`,"terms.section6":`6. PAGOS Y CANCELACIONES
6.1 Cobro
Planes pagados: cobro mensual automático
Tarjetas aceptadas: Visa, Mastercard, PostFinance
Moneda: Franco Suizo (CHF)
Falla en el pago: suspensión del servicio después de 7 días
6.2 Cancelación
Posible en cualquier momento vía app/sitio web
Efectiva al final del período ya pagado
Vouchers no utilizados expiran con la cancelación
Sin multa de cancelación
6.3 Reembolsos
Golden Week: sin reembolso (período promocional)
Planes pagados: reembolso proporcional en caso de cancelación por la empresa
Vouchers defectuosos: reemisión o crédito`,"terms.section7":`7. RESPONSABILIDADES Y LIMITACIONES
7.1 Duo Pass
Intermediación entre usuario y socios
Mantenimiento de la plataforma tecnológica
Atención al cliente
No responsable por la calidad de los servicios de los socios
7.2 Limitación de Responsabilidad
Responsabilidad limitada al valor pagado por el usuario
No responsable por daños indirectos o lucros cesantes
Los socios responden por la calidad de sus servicios
Fuerza mayor exime responsabilidad
7.3 Disponibilidad
Servicio sujeto a mantenimientos programados
Indisponibilidad temporal no genera derecho a compensación
Esfuerzos para mantener 99% de uptime`,"terms.section8":`8. PROPIEDAD INTELECTUAL
Todos los derechos sobre marcas, logotipos, diseño y contenido de la plataforma pertenecen a Duo Pass. Uso no autorizado prohibido.`,"terms.section9":`9. PRIVACIDAD Y DATOS
9.1 Recolección de Datos
Datos personales: nombre, email, teléfono, dirección
Datos de uso: vouchers utilizados, preferencias
Datos de pago: procesados por terceros certificados
9.2 Uso de los Datos
Prestación del servicio
Comunicación sobre ofertas
Análisis estadísticos (datos anonimizados)
Compartición con socios para prestación del servicio
9.3 Derechos del Usuario
Acceso a datos personales
Corrección de informaciones incorrectas
Eliminación de datos (derecho al olvido)
Portabilidad de datos`,"terms.section10":`10. MODIFICACIONES
10.1 Alteraciones en los Términos
Duo Pass puede alterar estos términos en cualquier momento
Los usuarios serán notificados con 30 días de antelación
Continuidad del uso implica aceptación de las alteraciones
Desacuerdo: derecho de cancelación sin costos
10.2 Alteraciones en el Servicio
Funcionalidades pueden ser modificadas o descontinuadas
Nuevos servicios pueden ser agregados
Socios pueden ser incluidos o removidos`,"terms.section11":`11. RESCISIÓN
11.1 Por el Usuario
Cancelación en cualquier momento
Cierre de la cuenta vía solicitud
11.2 Por Duo Pass
Violación de estos términos
Uso fraudulento o abusivo
Informaciones falsas en el registro
Notificación previa de 15 días (cuando posible)`,"terms.section12":`12. DISPOSICIONES GENERALES
12.1 Ley Aplicable
Legislación suiza
Foro: Tribunal competente en Suiza
12.2 Independencia de las Cláusulas
Invalididad de una cláusula no afecta las demás
Interpretación de buena fe
12.3 Comunicaciones
Email: [email de contacto]
Dirección: [dirección de la empresa]
Teléfono: [teléfono de contacto]`,"terms.section13":`13. CONTACTO Y SOPORTE
Atención al Cliente:
Email: soporte@duopassclub.ch
Horario: Lunes a viernes, 9h a 18h
Idiomas: Alemán, Francés, Italiano
Emergencias con Vouchers:
WhatsApp: [número]
Disponible 7 días por semana
Al utilizar Duo Pass, confirmas haber leído, comprendido y aceptado todos los términos arriba.`,"home.subtitle":"Descubre ofertas increíbles en tu ciudad","home.cta":"Explorar Ofertas","home.categories":"Categorías","category.gastronomy":"Gastronomía","category.beauty":"Belleza","category.leisure":"Ocio","category.fitness":"Fitness","category.shopping":"Compras","category.services":"Servicios","offers.title":"Ofertas Disponibles","offers.activate":"Activar Cupón","offers.expires":"Expira","offers.location":"Ubicación","offers.original_value":"Valor Original","auth.email":"Email","auth.password":"Contraseña","auth.fullname":"Nombre Completo","auth.signin":"Iniciar Sesión","auth.signup":"Registrarse","auth.customer":"Cliente","auth.merchant":"Comerciante","auth.usertype":"Tipo de Usuario","subscription.required":"Suscripción Requerida","subscription.message":"Para activar cupones, necesitas una suscripción activa.","subscription.subscribe":"Suscribirse Ahora"}},Yr=h.createContext(void 0);function Am({children:t}){const[s,a]=h.useState("pt"),r=n=>Pm[s][n]||n;return e.jsx(Yr.Provider,{value:{language:s,setLanguage:a,t:r},children:t})}function Wt(){const t=h.useContext(Yr);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function Dm(){const{pathname:t}=_t();return h.useEffect(()=>{window.scrollTo(0,0)},[t]),null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(t,s)=>{const a=h.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...d},m)=>h.createElement("svg",{ref:m,...Tm,width:n,height:n,stroke:r,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Fm(t)}`,c].join(" "),...d},[...s.map(([u,x])=>h.createElement(u,x)),...Array.isArray(l)?l:[l]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=M("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=M("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=M("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=M("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=M("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=M("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=M("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=M("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=M("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=M("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=M("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=M("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=M("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=M("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=M("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=M("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=M("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=M("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=M("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=M("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=M("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=M("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=M("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=M("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=M("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=M("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=M("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=M("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=M("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=M("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=M("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=M("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=M("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=M("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=M("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=M("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=M("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=M("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=M("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=M("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=M("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=M("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=M("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=M("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=M("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=M("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=M("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=M("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=M("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=M("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=M("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=M("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=M("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=M("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function mu(){const{user:t,userProfile:s,signOut:a}=U(),{t:r}=Wt(),n=W(),[i,o]=h.useState(!1),[c,l]=h.useState(!1),d=h.useRef(null),m=async()=>{l(!0);try{console.log("👤 Usuário clicou em Sair"),await a(),n("/login")}catch(v){console.error("❌ Erro no logout:",v)}finally{l(!1),o(!1)}};if(h.useEffect(()=>{function v(w){d.current&&!d.current.contains(w.target)&&o(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),!t||!s)return null;const u=s.user_type==="merchant",x=s.user_type==="admin",p=u?"/merchant/dashboard":"/customer-dashboard";return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(ve,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-medium text-[#333333] truncate max-w-32",children:s.full_name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s.user_type==="merchant"?"Comerciante":"Cliente"})]}),e.jsx(Im,{className:`w-4 h-4 text-gray-500 transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"font-medium text-[#333333]",children:s.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:s.subscription_status==="active"?"Ativo":"Inativo"})]})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(R,{to:p,onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[u?e.jsx(fs,{className:"w-4 h-4 mr-3"}):e.jsx(tt,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),u?e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/merchant/offers",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ze,{className:"w-4 h-4 mr-3"}),"Minhas Ofertas"]}),e.jsxs(R,{to:"/merchant/analytics",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(tt,{className:"w-4 h-4 mr-3"}),"Analytics"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/recommendations",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Fe,{className:"w-4 h-4 mr-3 text-orange-500"}),"Recomendações IA"]}),e.jsxs(R,{to:"/meus-vouchers",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ze,{className:"w-4 h-4 mr-3"}),"Meus Vouchers"]}),e.jsxs(R,{to:"/history",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ma,{className:"w-4 h-4 mr-3"}),"Histórico"]}),e.jsxs(R,{to:"/connect",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx($,{className:"w-4 h-4 mr-3"}),"🤝 Connect"]})]}),x&&e.jsxs(R,{to:"/analytics",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(gs,{className:"w-4 h-4 mr-3 text-purple-500"}),"Analytics BI"]}),e.jsxs(R,{to:"/profile",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-3"}),"Perfil"]}),e.jsxs(R,{to:"/settings",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Configurações"]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2",children:e.jsxs("button",{onClick:m,disabled:c,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:[c?e.jsx("div",{className:"w-4 h-4 mr-3 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(ua,{className:"w-4 h-4 mr-3"}),e.jsx("span",{children:c?"Saindo...":r("nav.logout")})]})})]})]})}function uu({isOpen:t,onClose:s}){const{user:a,userProfile:r,signOut:n}=U(),{t:i}=Wt(),o=W(),c=async()=>{try{console.log("👤 Usuário clicou em Sair (Mobile)"),await n(),o("/login")}catch(u){console.error("❌ Erro no logout:",u)}finally{s()}},l=()=>{s()};if(h.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const d=r?.user_type==="merchant",m=d?"/merchant/dashboard":"/dashboard";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:s}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-xl z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-[#333333]",children:"Menu"}),e.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(pe,{className:"w-5 h-5 text-gray-600"})})]}),a&&r&&e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#333333]",children:r.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.subscription_status==="active"?"Ativo":"Inativo"})]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs(R,{to:"/experiencias",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ei,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Experiências"})]}),e.jsxs(R,{to:"/memberships",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ze,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Memberships"})]}),e.jsxs(R,{to:"/empresas",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(fs,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Para Empresas"})]}),!a&&e.jsxs(R,{to:"/login",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Login"})]}),!a&&e.jsx(R,{to:"/trial",onClick:l,className:"mx-3 my-2 bg-gradient-to-r from-orange-500 to-purple-600 text-white px-4 py-3 rounded-lg font-semibold text-center block",children:"Comece Grátis"}),a&&r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 my-4 pt-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:d?"Área do Comerciante":"Minha Conta"}),e.jsxs(R,{to:m,onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[d?e.jsx(fs,{className:"w-5 h-5 text-gray-600"}):e.jsx(tt,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Dashboard"})]}),d?e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/merchant/offers",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ei,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Minhas Ofertas"})]}),e.jsxs(R,{to:"/merchant/analytics",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(tt,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Analytics"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/recommendations",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Fe,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Recomendações IA"})]}),e.jsxs(R,{to:"/meus-vouchers",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ze,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Meus Vouchers"})]}),e.jsxs(R,{to:"/history",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ma,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Histórico"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 my-4 pt-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Configurações"}),e.jsxs(R,{to:"/profile",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Perfil"})]}),e.jsxs(R,{to:"/settings",onClick:l,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(pa,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Configurações"})]})]})]})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:a?e.jsxs("button",{onClick:c,className:"flex items-center space-x-3 w-full p-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[e.jsx(ua,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:i("nav.logout")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{to:"/login",onClick:l,className:"block w-full p-3 text-center border border-[#C91F1F] text-[#C91F1F] rounded-lg font-medium hover:bg-[#C91F1F] hover:text-white transition-colors",children:i("nav.login")}),e.jsx(R,{to:"/signup",onClick:l,className:"block w-full p-3 text-center bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-lg font-medium hover:shadow-lg transition-all",children:i("nav.signup")})]})})]})]})}const hu=[{id:"notif-1",type:"community",title:"Arte & Design",message:"Ana Silva: Pessoal, alguém foi na exposição do MASP hoje?",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-3e5).toISOString(),communityId:"arte-design",senderId:"user-1",isRead:!1},{id:"notif-2",type:"direct",title:"Carlos Mendes",message:"Oi! Vi que você também está interessado na exposição...",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-6e5).toISOString(),senderId:"user-2",isRead:!1},{id:"notif-3",type:"community",title:"Gastronomia Premium",message:"Maria Santos: Que tal formarmos um grupo para jantar no D.O.M.?",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-18e5).toISOString(),communityId:"gastronomia",senderId:"user-3",isRead:!0}];function xu({onNotificationClick:t}){const{user:s}=U(),[a,r]=h.useState([]),[n,i]=h.useState(!1);h.useEffect(()=>{s?.id==="demo-user-id"&&r(hu)},[s]),h.useEffect(()=>{if(s?.id!=="demo-user-id")return;const u=setInterval(()=>{if(Math.random()>.8){const x={id:`notif-${Date.now()}`,type:Math.random()>.5?"community":"direct",title:Math.random()>.5?"Arte & Design":"Pedro Santos",message:"Nova mensagem recebida...",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",timestamp:new Date().toISOString(),isRead:!1};r(p=>[x,...p.slice(0,9)])}},3e4);return()=>clearInterval(u)},[s]);const o=a.filter(u=>!u.isRead).length,c=u=>{r(x=>x.map(p=>p.id===u.id?{...p,isRead:!0}:p)),t?.(u),i(!1)},l=()=>{r(u=>u.map(x=>({...x,isRead:!0})))},d=(u,x)=>{x.stopPropagation(),r(p=>p.filter(v=>v.id!==u))},m=u=>{const x=new Date(u),v=(new Date().getTime()-x.getTime())/(1e3*60);return v<1?"Agora":v<60?`${Math.floor(v)}m`:v<1440?`${Math.floor(v/60)}h`:`${Math.floor(v/1440)}d`};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(xe,{className:"w-6 h-6"}),o>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:o>9?"9+":o})]}),n&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Mensagens"}),o>0&&e.jsx("button",{onClick:l,className:"text-sm text-[#C91F1F] hover:text-red-700 font-medium",children:"Marcar todas como lidas"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(xe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem nova"})]}):a.map(u=>e.jsx("div",{onClick:()=>c(u),className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${u.isRead?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[u.type==="community"?e.jsx("div",{className:"w-10 h-10 bg-[#C91F1F] rounded-lg flex items-center justify-center",children:e.jsx($,{className:"w-5 h-5 text-white"})}):e.jsx("img",{src:u.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(u.title)}&background=C91F1F&color=fff`,alt:u.title,className:"w-10 h-10 rounded-full"}),!u.isRead&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:`text-sm font-medium truncate ${u.isRead?"text-gray-700":"text-gray-900"}`,children:u.title}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:m(u.timestamp)}),e.jsx("button",{onClick:x=>d(u.id,x),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(pe,{className:"w-3 h-3"})})]})]}),e.jsx("p",{className:`text-sm truncate mt-1 ${u.isRead?"text-gray-500":"text-gray-700"}`,children:u.message}),e.jsx("div",{className:"flex items-center mt-1",children:u.type==="community"?e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-[#C91F1F]",children:[e.jsx($,{className:"w-3 h-3"}),e.jsx("span",{children:"Chat da Comunidade"})]}):e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-blue-600",children:[e.jsx(ve,{className:"w-3 h-3"}),e.jsx("span",{children:"Mensagem Direta"})]})})]})]})},u.id))}),a.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:e.jsx("button",{className:"text-sm text-[#C91F1F] hover:text-red-700 font-medium",children:"Ver todas as mensagens"})})]}),n&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})}function pu(){const{user:t,userProfile:s,loading:a}=U(),[r,n]=h.useState(!1);return console.log("🎭 Header render:",{hasUser:!!t,hasUserProfile:!!s,loading:a,userEmail:t?.email}),e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(R,{to:"/",className:"flex items-center space-x-3",children:e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"🎭 DUO PASS"})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx(R,{to:"/customer-dashboard?tab=experiences",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Experiências"}),e.jsx(R,{to:"/memberships",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Memberships"}),e.jsx(R,{to:"/empresas",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Para Empresas"}),!t&&e.jsx(R,{to:"/login",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Login"}),!t&&e.jsx(R,{to:"/trial",className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white px-6 py-2 rounded-full font-semibold hover:shadow-lg transition-all duration-200 hover:scale-105",children:"Comece Grátis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Carregando..."})]}),!a&&t&&e.jsx(xu,{}),!a&&t&&s&&e.jsx(mu,{}),e.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 text-gray-600 hover:text-purple-600 transition-colors",children:e.jsx(wl,{className:"w-6 h-6"})})]})]})}),e.jsx(uu,{isOpen:r,onClose:()=>n(!1)})]})}function fu(){return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-2 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold",children:"DUO PASS"})]}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Conectando pessoas através de experiências culturais autênticas na Suíça. Sempre em dupla, sempre especial."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Zurich, Switzerland"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"contact@duopassclub.ch"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Links Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(R,{to:"/experiencias",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Experiências"})}),e.jsx("li",{children:e.jsx(R,{to:"/ofertas",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Ofertas"})}),e.jsx("li",{children:e.jsx(R,{to:"/memberships",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Memberships"})}),e.jsx("li",{children:e.jsx(R,{to:"/parceiros-culturais",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Parceiros Culturais"})}),e.jsx("li",{children:e.jsx(R,{to:"/empresas",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Para Empresas"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informações Legais"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(R,{to:"/termos-de-uso",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx(R,{to:"/privacidade",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Política de Privacidade"})}),e.jsx("li",{children:e.jsx(R,{to:"/cancelamento",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Cancelamento e Reembolso"})}),e.jsx("li",{children:e.jsx(R,{to:"/experiencias-termos",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Termos de Experiências"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",new Date().getFullYear()," DUO PASS Club. Todos os direitos reservados."]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[e.jsx("span",{children:"🇨🇭 Empresa Suíça"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"GDPR Compliant"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"SSL Seguro"})]})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:e.jsx("p",{children:"DUO PASS Club é uma plataforma cultural registrada na Suíça. Todas as experiências estão sujeitas aos termos e condições dos estabelecimentos parceiros."})})]})]})})}const tn=h.createContext({});function sn(t){const s=h.useRef(null);return s.current===null&&(s.current=t()),s.current}const an=typeof window<"u",Dl=an?h.useLayoutEffect:h.useEffect,fa=h.createContext(null);function rn(t,s){t.indexOf(s)===-1&&t.push(s)}function nn(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const st=(t,s,a)=>a>s?s:a<t?t:a;let on=()=>{};const at={},Tl=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Fl(t){return typeof t=="object"&&t!==null}const Ml=t=>/^0[^.\s]+$/u.test(t);function ln(t){let s;return()=>(s===void 0&&(s=t()),s)}const Oe=t=>t,gu=(t,s)=>a=>s(t(a)),Ps=(...t)=>t.reduce(gu),bs=(t,s,a)=>{const r=s-t;return r===0?1:(a-t)/r};class cn{constructor(){this.subscriptions=[]}add(s){return rn(this.subscriptions,s),()=>nn(this.subscriptions,s)}notify(s,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,a,r);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(s,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ge=t=>t*1e3,We=t=>t/1e3;function Ol(t,s){return s?t*(1e3/s):0}const Rl=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,bu=1e-7,yu=12;function vu(t,s,a,r,n){let i,o,c=0;do o=s+(a-s)/2,i=Rl(o,r,n)-t,i>0?a=o:s=o;while(Math.abs(i)>bu&&++c<yu);return o}function As(t,s,a,r){if(t===s&&a===r)return Oe;const n=i=>vu(i,0,1,t,a);return i=>i===0||i===1?i:Rl(n(i),s,r)}const Il=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,Vl=t=>s=>1-t(1-s),Ll=As(.33,1.53,.69,.99),dn=Vl(Ll),ql=Il(dn),zl=t=>(t*=2)<1?.5*dn(t):.5*(2-Math.pow(2,-10*(t-1))),mn=t=>1-Math.sin(Math.acos(t)),Ul=Vl(mn),Bl=Il(mn),ju=As(.42,0,1,1),Nu=As(0,0,.58,1),$l=As(.42,0,.58,1),wu=t=>Array.isArray(t)&&typeof t[0]!="number",Hl=t=>Array.isArray(t)&&typeof t[0]=="number",Cu={linear:Oe,easeIn:ju,easeInOut:$l,easeOut:Nu,circIn:mn,circInOut:Bl,circOut:Ul,backIn:dn,backInOut:ql,backOut:Ll,anticipate:zl},Su=t=>typeof t=="string",si=t=>{if(Hl(t)){on(t.length===4);const[s,a,r,n]=t;return As(s,a,r,n)}else if(Su(t))return Cu[t];return t},Ls=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _u(t,s){let a=new Set,r=new Set,n=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function l(m){o.has(m)&&(d.schedule(m),t()),m(c)}const d={schedule:(m,u=!1,x=!1)=>{const v=x&&n?a:r;return u&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,n){i=!0;return}n=!0,[a,r]=[r,a],a.forEach(l),a.clear(),n=!1,i&&(i=!1,d.process(m))}};return d}const Eu=40;function Gl(t,s){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,o=Ls.reduce((f,C)=>(f[C]=_u(i),f),{}),{setup:c,read:l,resolveKeyframes:d,preUpdate:m,update:u,preRender:x,render:p,postRender:v}=o,w=()=>{const f=at.useManualTiming?n.timestamp:performance.now();a=!1,at.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(f-n.timestamp,Eu),1)),n.timestamp=f,n.isProcessing=!0,c.process(n),l.process(n),d.process(n),m.process(n),u.process(n),x.process(n),p.process(n),v.process(n),n.isProcessing=!1,a&&s&&(r=!1,t(w))},b=()=>{a=!0,r=!0,n.isProcessing||t(w)};return{schedule:Ls.reduce((f,C)=>{const E=o[C];return f[C]=(j,A=!1,k=!1)=>(a||b(),E.schedule(j,A,k)),f},{}),cancel:f=>{for(let C=0;C<Ls.length;C++)o[Ls[C]].cancel(f)},state:n,steps:o}}const{schedule:J,cancel:mt,state:de,steps:ka}=Gl(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oe,!0);let Ks;function ku(){Ks=void 0}const ye={now:()=>(Ks===void 0&&ye.set(de.isProcessing||at.useManualTiming?de.timestamp:performance.now()),Ks),set:t=>{Ks=t,queueMicrotask(ku)}},Wl=t=>s=>typeof s=="string"&&s.startsWith(t),un=Wl("--"),Pu=Wl("var(--"),hn=t=>Pu(t)?Au.test(t.split("/*")[0].trim()):!1,Au=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ys={...Yt,transform:t=>st(0,1,t)},qs={...Yt,default:1},ms=t=>Math.round(t*1e5)/1e5,xn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Du(t){return t==null}const Tu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pn=(t,s)=>a=>!!(typeof a=="string"&&Tu.test(a)&&a.startsWith(t)||s&&!Du(a)&&Object.prototype.hasOwnProperty.call(a,s)),Kl=(t,s,a)=>r=>{if(typeof r!="string")return r;const[n,i,o,c]=r.match(xn);return{[t]:parseFloat(n),[s]:parseFloat(i),[a]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Fu=t=>st(0,255,t),Pa={...Yt,transform:t=>Math.round(Fu(t))},vt={test:pn("rgb","red"),parse:Kl("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:r=1})=>"rgba("+Pa.transform(t)+", "+Pa.transform(s)+", "+Pa.transform(a)+", "+ms(ys.transform(r))+")"};function Mu(t){let s="",a="",r="",n="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),s+=s,a+=a,r+=r,n+=n),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const Cr={test:pn("#"),parse:Mu,transform:vt.transform},Ds=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),it=Ds("deg"),Ke=Ds("%"),q=Ds("px"),Ou=Ds("vh"),Ru=Ds("vw"),ai={...Ke,parse:t=>Ke.parse(t)/100,transform:t=>Ke.transform(t*100)},Ft={test:pn("hsl","hue"),parse:Kl("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ke.transform(ms(s))+", "+Ke.transform(ms(a))+", "+ms(ys.transform(r))+")"},re={test:t=>vt.test(t)||Cr.test(t)||Ft.test(t),parse:t=>vt.test(t)?vt.parse(t):Ft.test(t)?Ft.parse(t):Cr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vt.transform(t):Ft.transform(t),getAnimatableNone:t=>{const s=re.parse(t);return s.alpha=0,re.transform(s)}},Iu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vu(t){return isNaN(t)&&typeof t=="string"&&(t.match(xn)?.length||0)+(t.match(Iu)?.length||0)>0}const Ql="number",Yl="color",Lu="var",qu="var(",ri="${}",zu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vs(t){const s=t.toString(),a=[],r={color:[],number:[],var:[]},n=[];let i=0;const c=s.replace(zu,l=>(re.test(l)?(r.color.push(i),n.push(Yl),a.push(re.parse(l))):l.startsWith(qu)?(r.var.push(i),n.push(Lu),a.push(l)):(r.number.push(i),n.push(Ql),a.push(parseFloat(l))),++i,ri)).split(ri);return{values:a,split:c,indexes:r,types:n}}function Xl(t){return vs(t).values}function Zl(t){const{split:s,types:a}=vs(t),r=s.length;return n=>{let i="";for(let o=0;o<r;o++)if(i+=s[o],n[o]!==void 0){const c=a[o];c===Ql?i+=ms(n[o]):c===Yl?i+=re.transform(n[o]):i+=n[o]}return i}}const Uu=t=>typeof t=="number"?0:re.test(t)?re.getAnimatableNone(t):t;function Bu(t){const s=Xl(t);return Zl(t)(s.map(Uu))}const ut={test:Vu,parse:Xl,createTransformer:Zl,getAnimatableNone:Bu};function Aa(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function $u({hue:t,saturation:s,lightness:a,alpha:r}){t/=360,s/=100,a/=100;let n=0,i=0,o=0;if(!s)n=i=o=a;else{const c=a<.5?a*(1+s):a+s-a*s,l=2*a-c;n=Aa(l,c,t+1/3),i=Aa(l,c,t),o=Aa(l,c,t-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ea(t,s){return a=>a>0?s:t}const ee=(t,s,a)=>t+(s-t)*a,Da=(t,s,a)=>{const r=t*t,n=a*(s*s-r)+r;return n<0?0:Math.sqrt(n)},Hu=[Cr,vt,Ft],Gu=t=>Hu.find(s=>s.test(t));function ni(t){const s=Gu(t);if(!s)return!1;let a=s.parse(t);return s===Ft&&(a=$u(a)),a}const ii=(t,s)=>{const a=ni(t),r=ni(s);if(!a||!r)return ea(t,s);const n={...a};return i=>(n.red=Da(a.red,r.red,i),n.green=Da(a.green,r.green,i),n.blue=Da(a.blue,r.blue,i),n.alpha=ee(a.alpha,r.alpha,i),vt.transform(n))},Sr=new Set(["none","hidden"]);function Wu(t,s){return Sr.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function Ku(t,s){return a=>ee(t,s,a)}function fn(t){return typeof t=="number"?Ku:typeof t=="string"?hn(t)?ea:re.test(t)?ii:Xu:Array.isArray(t)?Jl:typeof t=="object"?re.test(t)?ii:Qu:ea}function Jl(t,s){const a=[...t],r=a.length,n=t.map((i,o)=>fn(i)(i,s[o]));return i=>{for(let o=0;o<r;o++)a[o]=n[o](i);return a}}function Qu(t,s){const a={...t,...s},r={};for(const n in a)t[n]!==void 0&&s[n]!==void 0&&(r[n]=fn(t[n])(t[n],s[n]));return n=>{for(const i in r)a[i]=r[i](n);return a}}function Yu(t,s){const a=[],r={color:0,var:0,number:0};for(let n=0;n<s.values.length;n++){const i=s.types[n],o=t.indexes[i][r[i]],c=t.values[o]??0;a[n]=c,r[i]++}return a}const Xu=(t,s)=>{const a=ut.createTransformer(s),r=vs(t),n=vs(s);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?Sr.has(t)&&!n.values.length||Sr.has(s)&&!r.values.length?Wu(t,s):Ps(Jl(Yu(r,n),n.values),a):ea(t,s)};function ec(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?ee(t,s,a):fn(t)(t,s)}const Zu=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>J.update(s,a),stop:()=>mt(s),now:()=>de.isProcessing?de.timestamp:ye.now()}},tc=(t,s,a=10)=>{let r="";const n=Math.max(Math.round(s/a),2);for(let i=0;i<n;i++)r+=Math.round(t(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ta=2e4;function gn(t){let s=0;const a=50;let r=t.next(s);for(;!r.done&&s<ta;)s+=a,r=t.next(s);return s>=ta?1/0:s}function Ju(t,s=100,a){const r=a({...t,keyframes:[0,s]}),n=Math.min(gn(r),ta);return{type:"keyframes",ease:i=>r.next(n*i).value/s,duration:We(n)}}const eh=5;function sc(t,s,a){const r=Math.max(s-eh,0);return Ol(a-t(r),s-r)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ta=.001;function th({duration:t=te.duration,bounce:s=te.bounce,velocity:a=te.velocity,mass:r=te.mass}){let n,i,o=1-s;o=st(te.minDamping,te.maxDamping,o),t=st(te.minDuration,te.maxDuration,We(t)),o<1?(n=d=>{const m=d*o,u=m*t,x=m-a,p=_r(d,o),v=Math.exp(-u);return Ta-x/p*v},i=d=>{const u=d*o*t,x=u*a+a,p=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-u),w=_r(Math.pow(d,2),o);return(-n(d)+Ta>0?-1:1)*((x-p)*v)/w}):(n=d=>{const m=Math.exp(-d*t),u=(d-a)*t+1;return-Ta+m*u},i=d=>{const m=Math.exp(-d*t),u=(a-d)*(t*t);return m*u});const c=5/t,l=ah(n,i,c);if(t=Ge(t),isNaN(l))return{stiffness:te.stiffness,damping:te.damping,duration:t};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const sh=12;function ah(t,s,a){let r=a;for(let n=1;n<sh;n++)r=r-t(r)/s(r);return r}function _r(t,s){return t*Math.sqrt(1-s*s)}const rh=["duration","bounce"],nh=["stiffness","damping","mass"];function oi(t,s){return s.some(a=>t[a]!==void 0)}function ih(t){let s={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...t};if(!oi(t,nh)&&oi(t,rh))if(t.visualDuration){const a=t.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,i=2*st(.05,1,1-(t.bounce||0))*Math.sqrt(n);s={...s,mass:te.mass,stiffness:n,damping:i}}else{const a=th(t);s={...s,...a,mass:te.mass},s.isResolvedFromDuration=!0}return s}function sa(t=te.visualDuration,s=te.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:n}=a;const i=a.keyframes[0],o=a.keyframes[a.keyframes.length-1],c={done:!1,value:i},{stiffness:l,damping:d,mass:m,duration:u,velocity:x,isResolvedFromDuration:p}=ih({...a,velocity:-We(a.velocity||0)}),v=x||0,w=d/(2*Math.sqrt(l*m)),b=o-i,g=We(Math.sqrt(l/m)),y=Math.abs(b)<5;r||(r=y?te.restSpeed.granular:te.restSpeed.default),n||(n=y?te.restDelta.granular:te.restDelta.default);let f;if(w<1){const E=_r(g,w);f=j=>{const A=Math.exp(-w*g*j);return o-A*((v+w*g*b)/E*Math.sin(E*j)+b*Math.cos(E*j))}}else if(w===1)f=E=>o-Math.exp(-g*E)*(b+(v+g*b)*E);else{const E=g*Math.sqrt(w*w-1);f=j=>{const A=Math.exp(-w*g*j),k=Math.min(E*j,300);return o-A*((v+w*g*b)*Math.sinh(k)+E*b*Math.cosh(k))/E}}const C={calculatedDuration:p&&u||null,next:E=>{const j=f(E);if(p)c.done=E>=u;else{let A=E===0?v:0;w<1&&(A=E===0?Ge(v):sc(f,E,j));const k=Math.abs(A)<=r,S=Math.abs(o-j)<=n;c.done=k&&S}return c.value=c.done?o:j,c},toString:()=>{const E=Math.min(gn(C),ta),j=tc(A=>C.next(E*A).value,E,30);return E+"ms "+j},toTransition:()=>{}};return C}sa.applyToOptions=t=>{const s=Ju(t,100,sa);return t.ease=s.ease,t.duration=Ge(s.duration),t.type="keyframes",t};function Er({keyframes:t,velocity:s=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:l,restDelta:d=.5,restSpeed:m}){const u=t[0],x={done:!1,value:u},p=k=>c!==void 0&&k<c||l!==void 0&&k>l,v=k=>c===void 0?l:l===void 0||Math.abs(c-k)<Math.abs(l-k)?c:l;let w=a*s;const b=u+w,g=o===void 0?b:o(b);g!==b&&(w=g-u);const y=k=>-w*Math.exp(-k/r),f=k=>g+y(k),C=k=>{const S=y(k),N=f(k);x.done=Math.abs(S)<=d,x.value=x.done?g:N};let E,j;const A=k=>{p(x.value)&&(E=k,j=sa({keyframes:[x.value,v(x.value)],velocity:sc(f,k,x.value),damping:n,stiffness:i,restDelta:d,restSpeed:m}))};return A(0),{calculatedDuration:null,next:k=>{let S=!1;return!j&&E===void 0&&(S=!0,C(k),A(k)),E!==void 0&&k>=E?j.next(k-E):(!S&&C(k),x)}}}function oh(t,s,a){const r=[],n=a||at.mix||ec,i=t.length-1;for(let o=0;o<i;o++){let c=n(t[o],t[o+1]);if(s){const l=Array.isArray(s)?s[o]||Oe:s;c=Ps(l,c)}r.push(c)}return r}function lh(t,s,{clamp:a=!0,ease:r,mixer:n}={}){const i=t.length;if(on(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const c=oh(s,r,n),l=c.length,d=m=>{if(o&&m<t[0])return s[0];let u=0;if(l>1)for(;u<t.length-2&&!(m<t[u+1]);u++);const x=bs(t[u],t[u+1],m);return c[u](x)};return a?m=>d(st(t[0],t[i-1],m)):d}function ch(t,s){const a=t[t.length-1];for(let r=1;r<=s;r++){const n=bs(0,s,r);t.push(ee(a,1,n))}}function dh(t){const s=[0];return ch(s,t.length-1),s}function mh(t,s){return t.map(a=>a*s)}function uh(t,s){return t.map(()=>s||$l).splice(0,t.length-1)}function us({duration:t=300,keyframes:s,times:a,ease:r="easeInOut"}){const n=wu(r)?r.map(si):si(r),i={done:!1,value:s[0]},o=mh(a&&a.length===s.length?a:dh(s),t),c=lh(o,s,{ease:Array.isArray(n)?n:uh(s,n)});return{calculatedDuration:t,next:l=>(i.value=c(l),i.done=l>=t,i)}}const hh=t=>t!==null;function bn(t,{repeat:s,repeatType:a="loop"},r,n=1){const i=t.filter(hh),c=n<0||s&&a!=="loop"&&s%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const xh={decay:Er,inertia:Er,tween:us,keyframes:us,spring:sa};function ac(t){typeof t.type=="string"&&(t.type=xh[t.type])}class yn{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const ph=t=>t/100;class vn extends yn{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==ye.now()&&this.tick(ye.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;ac(s);const{type:a=us,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=s;let{keyframes:c}=s;const l=a||us;l!==us&&typeof c[0]!="number"&&(this.mixKeyframes=Ps(ph,ec(c[0],c[1])),c=[0,100]);const d=l({...s,keyframes:c});i==="mirror"&&(this.mirroredGenerator=l({...s,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=gn(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=d}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:u,repeatType:x,repeatDelay:p,type:v,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-n/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const g=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let f=this.currentTime,C=r;if(u){const k=Math.min(this.currentTime,n)/c;let S=Math.floor(k),N=k%1;!N&&k>=1&&(N=1),N===1&&S--,S=Math.min(S,u+1),!!(S%2)&&(x==="reverse"?(N=1-N,p&&(N-=p/c)):x==="mirror"&&(C=o)),f=st(0,1,N)*c}const E=y?{done:!1,value:m[0]}:C.next(f);i&&(E.value=i(E.value));let{done:j}=E;!y&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&v!==Er&&(E.value=bn(m,this.options,b,this.speed)),w&&w(E.value),A&&this.finish(),E}then(s,a){return this.finished.then(s,a)}get duration(){return We(this.calculatedDuration)}get time(){return We(this.currentTime)}set time(s){s=Ge(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(ye.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=We(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=Zu,startTime:a}=this.options;this.driver||(this.driver=s(n=>this.tick(n))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ye.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function fh(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const jt=t=>t*180/Math.PI,kr=t=>{const s=jt(Math.atan2(t[1],t[0]));return Pr(s)},gh={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kr,rotateZ:kr,skewX:t=>jt(Math.atan(t[1])),skewY:t=>jt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Pr=t=>(t=t%360,t<0&&(t+=360),t),li=kr,ci=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),di=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bh={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ci,scaleY:di,scale:t=>(ci(t)+di(t))/2,rotateX:t=>Pr(jt(Math.atan2(t[6],t[5]))),rotateY:t=>Pr(jt(Math.atan2(-t[2],t[0]))),rotateZ:li,rotate:li,skewX:t=>jt(Math.atan(t[4])),skewY:t=>jt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ar(t){return t.includes("scale")?1:0}function Dr(t,s){if(!t||t==="none")return Ar(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=bh,n=a;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gh,n=c}if(!n)return Ar(s);const i=r[s],o=n[1].split(",").map(vh);return typeof i=="function"?i(o):o[i]}const yh=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return Dr(a,s)};function vh(t){return parseFloat(t.trim())}const Xt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zt=new Set(Xt),mi=t=>t===Yt||t===q,jh=new Set(["x","y","z"]),Nh=Xt.filter(t=>!jh.has(t));function wh(t){const s=[];return Nh.forEach(a=>{const r=t.getValue(a);r!==void 0&&(s.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),s}const Nt={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Dr(s,"x"),y:(t,{transform:s})=>Dr(s,"y")};Nt.translateX=Nt.x;Nt.translateY=Nt.y;const wt=new Set;let Tr=!1,Fr=!1,Mr=!1;function rc(){if(Fr){const t=Array.from(wt).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),a=new Map;s.forEach(r=>{const n=wh(r);n.length&&(a.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fr=!1,Tr=!1,wt.forEach(t=>t.complete(Mr)),wt.clear()}function nc(){wt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fr=!0)})}function Ch(){Mr=!0,nc(),rc(),Mr=!1}class jn{constructor(s,a,r,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=r,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(wt.add(this),Tr||(Tr=!0,J.read(nc),J.resolveKeyframes(rc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:r,motionValue:n}=this;if(s[0]===null){const i=n?.get(),o=s[s.length-1];if(i!==void 0)s[0]=i;else if(r&&a){const c=r.readValue(a,o);c!=null&&(s[0]=c)}s[0]===void 0&&(s[0]=o),n&&i===void 0&&n.set(s[0])}fh(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),wt.delete(this)}cancel(){this.state==="scheduled"&&(wt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Sh=t=>t.startsWith("--");function _h(t,s,a){Sh(s)?t.style.setProperty(s,a):t.style[s]=a}const Eh=ln(()=>window.ScrollTimeline!==void 0),kh={};function Ph(t,s){const a=ln(t);return()=>kh[s]??a()}const ic=Ph(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ls=([t,s,a,r])=>`cubic-bezier(${t}, ${s}, ${a}, ${r})`,ui={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ls([0,.65,.55,1]),circOut:ls([.55,0,1,.45]),backIn:ls([.31,.01,.66,-.59]),backOut:ls([.33,1.53,.69,.99])};function oc(t,s){if(t)return typeof t=="function"?ic()?tc(t,s):"ease-out":Hl(t)?ls(t):Array.isArray(t)?t.map(a=>oc(a,s)||ui.easeOut):ui[t]}function Ah(t,s,a,{delay:r=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:l}={},d=void 0){const m={[s]:a};l&&(m.offset=l);const u=oc(c,n);Array.isArray(u)&&(m.easing=u);const x={delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),t.animate(m,x)}function lc(t){return typeof t=="function"&&"applyToOptions"in t}function Dh({type:t,...s}){return lc(t)&&ic()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class Th extends yn{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:r,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:l}=s;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=s,on(typeof s.type!="string");const d=Dh(s);this.animation=Ah(a,r,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=bn(n,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):_h(a,r,m),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return We(Number(s))}get time(){return We(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Ge(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&Eh()?(this.animation.timeline=s,Oe):a(this)}}const cc={anticipate:zl,backInOut:ql,circInOut:Bl};function Fh(t){return t in cc}function Mh(t){typeof t.ease=="string"&&Fh(t.ease)&&(t.ease=cc[t.ease])}const hi=10;class Oh extends Th{constructor(s){Mh(s),ac(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:r,onComplete:n,element:i,...o}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const c=new vn({...o,autoplay:!1}),l=Ge(this.finishedTime??this.time);a.setWithVelocity(c.sample(l-hi).value,c.sample(l).value,hi),c.stop()}}const xi=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ut.test(t)||t==="0")&&!t.startsWith("url("));function Rh(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function Ih(t,s,a,r){const n=t[0];if(n===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],o=xi(n,s),c=xi(i,s);return!o||!c?!1:Rh(t)||(a==="spring"||lc(a))&&r}const Vh=new Set(["opacity","clipPath","filter","transform"]),Lh=ln(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qh(t){const{motionValue:s,name:a,repeatDelay:r,repeatType:n,damping:i,type:o}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=s.owner.getProps();return Lh()&&a&&Vh.has(a)&&(a!=="transform"||!d)&&!l&&!r&&n!=="mirror"&&i!==0&&o!=="inertia"}const zh=40;class Uh extends yn{constructor({autoplay:s=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:l,motionValue:d,element:m,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ye.now();const x={autoplay:s,delay:a,type:r,repeat:n,repeatDelay:i,repeatType:o,name:l,motionValue:d,element:m,...u},p=m?.KeyframeResolver||jn;this.keyframeResolver=new p(c,(v,w,b)=>this.onKeyframesResolved(v,w,x,!b),l,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,a,r,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:l,isHandoff:d,onUpdate:m}=r;this.resolvedAt=ye.now(),Ih(s,i,o,c)||((at.instantAnimations||!l)&&m?.(bn(s,r,a)),s[0]=s[s.length-1],r.duration=0,r.repeat=0);const x={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>zh?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:s},p=!d&&qh(x)?new Oh({...x,element:x.motionValue.owner.current}):new vn(x);p.finished.then(()=>this.notifyFinished()).catch(Oe),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ch()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Bh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $h(t){const s=Bh.exec(t);if(!s)return[,];const[,a,r,n]=s;return[`--${a??r}`,n]}function dc(t,s,a=1){const[r,n]=$h(t);if(!r)return;const i=window.getComputedStyle(s).getPropertyValue(r);if(i){const o=i.trim();return Tl(o)?parseFloat(o):o}return hn(n)?dc(n,s,a+1):n}function Nn(t,s){return t?.[s]??t?.default??t}const mc=new Set(["width","height","top","left","right","bottom",...Xt]),Hh={test:t=>t==="auto",parse:t=>t},uc=t=>s=>s.test(t),hc=[Yt,q,Ke,it,Ru,Ou,Hh],pi=t=>hc.find(uc(t));function Gh(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ml(t):!0}const Wh=new Set(["brightness","contrast","saturate","opacity"]);function Kh(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=a.match(xn)||[];if(!r)return t;const n=a.replace(r,"");let i=Wh.has(s)?1:0;return r!==a&&(i*=100),s+"("+i+n+")"}const Qh=/\b([a-z-]*)\(.*?\)/gu,Or={...ut,getAnimatableNone:t=>{const s=t.match(Qh);return s?s.map(Kh).join(" "):t}},fi={...Yt,transform:Math.round},Yh={rotate:it,rotateX:it,rotateY:it,rotateZ:it,scale:qs,scaleX:qs,scaleY:qs,scaleZ:qs,skew:it,skewX:it,skewY:it,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:ys,originX:ai,originY:ai,originZ:q},wn={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...Yh,zIndex:fi,fillOpacity:ys,strokeOpacity:ys,numOctaves:fi},Xh={...wn,color:re,backgroundColor:re,outlineColor:re,fill:re,stroke:re,borderColor:re,borderTopColor:re,borderRightColor:re,borderBottomColor:re,borderLeftColor:re,filter:Or,WebkitFilter:Or},xc=t=>Xh[t];function pc(t,s){let a=xc(t);return a!==Or&&(a=ut),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const Zh=new Set(["auto","none","0"]);function Jh(t,s,a){let r=0,n;for(;r<t.length&&!n;){const i=t[r];typeof i=="string"&&!Zh.has(i)&&vs(i).values.length&&(n=t[r]),r++}if(n&&a)for(const i of s)t[i]=pc(a,n)}class ex extends jn{constructor(s,a,r,n,i){super(s,a,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let l=0;l<s.length;l++){let d=s[l];if(typeof d=="string"&&(d=d.trim(),hn(d))){const m=dc(d,a.current);m!==void 0&&(s[l]=m),l===s.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!mc.has(r)||s.length!==2)return;const[n,i]=s,o=pi(n),c=pi(i);if(o!==c)if(mi(o)&&mi(c))for(let l=0;l<s.length;l++){const d=s[l];typeof d=="string"&&(s[l]=parseFloat(d))}else Nt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,r=[];for(let n=0;n<s.length;n++)(s[n]===null||Gh(s[n]))&&r.push(n);r.length&&Jh(s,r,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&s.getValue(r,n).jump(n,!1)}measureEndState(){const{element:s,name:a,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const n=s.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Nt[a](s.measureViewportBox(),window.getComputedStyle(s.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,l])=>{s.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function tx(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const n=a?.[t]??r.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const fc=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function gc(t){return Fl(t)&&"offsetHeight"in t}const gi=30,sx=t=>!isNaN(parseFloat(t));class ax{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const i=ye.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();n&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=ye.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=sx(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new cn);const r=this.events[s].add(a);return s==="change"?()=>{r(),J.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=ye.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>gi)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,gi);return Ol(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $t(t,s){return new ax(t,s)}const{schedule:Cn}=Gl(queueMicrotask,!1),Ve={x:!1,y:!1};function bc(){return Ve.x||Ve.y}function rx(t){return t==="x"||t==="y"?Ve[t]?null:(Ve[t]=!0,()=>{Ve[t]=!1}):Ve.x||Ve.y?null:(Ve.x=Ve.y=!0,()=>{Ve.x=Ve.y=!1})}function yc(t,s){const a=tx(t),r=new AbortController,n={passive:!0,...s,signal:r.signal};return[a,n,()=>r.abort()]}function bi(t){return!(t.pointerType==="touch"||bc())}function nx(t,s,a={}){const[r,n,i]=yc(t,a),o=c=>{if(!bi(c))return;const{target:l}=c,d=s(l,c);if(typeof d!="function"||!l)return;const m=u=>{bi(u)&&(d(u),l.removeEventListener("pointerleave",m))};l.addEventListener("pointerleave",m,n)};return r.forEach(c=>{c.addEventListener("pointerenter",o,n)}),i}const vc=(t,s)=>s?t===s?!0:vc(t,s.parentElement):!1,Sn=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ix=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ox(t){return ix.has(t.tagName)||t.tabIndex!==-1}const Qs=new WeakSet;function yi(t){return s=>{s.key==="Enter"&&t(s)}}function Fa(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const lx=(t,s)=>{const a=t.currentTarget;if(!a)return;const r=yi(()=>{if(Qs.has(a))return;Fa(a,"down");const n=yi(()=>{Fa(a,"up")}),i=()=>Fa(a,"cancel");a.addEventListener("keyup",n,s),a.addEventListener("blur",i,s)});a.addEventListener("keydown",r,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),s)};function vi(t){return Sn(t)&&!bc()}function cx(t,s,a={}){const[r,n,i]=yc(t,a),o=c=>{const l=c.currentTarget;if(!vi(c))return;Qs.add(l);const d=s(l,c),m=(p,v)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",x),Qs.has(l)&&Qs.delete(l),vi(p)&&typeof d=="function"&&d(p,{success:v})},u=p=>{m(p,l===window||l===document||a.useGlobalTarget||vc(l,p.target))},x=p=>{m(p,!1)};window.addEventListener("pointerup",u,n),window.addEventListener("pointercancel",x,n)};return r.forEach(c=>{(a.useGlobalTarget?window:c).addEventListener("pointerdown",o,n),gc(c)&&(c.addEventListener("focus",d=>lx(d,n)),!ox(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function jc(t){return Fl(t)&&"ownerSVGElement"in t}function dx(t){return jc(t)&&t.tagName==="svg"}const he=t=>!!(t&&t.getVelocity),mx=[...hc,re,ut],ux=t=>mx.find(uc(t)),_n=h.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class hx extends h.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=gc(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xx({children:t,isPresent:s,anchorX:a,root:r}){const n=h.useId(),i=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=h.useContext(_n);return h.useInsertionEffect(()=>{const{width:l,height:d,top:m,left:u,right:x}=o.current;if(s||!i.current||!l||!d)return;const p=a==="left"?`left: ${u}`:`right: ${x}`;i.current.dataset.motionPopId=n;const v=document.createElement("style");c&&(v.nonce=c);const w=r??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.removeChild(v),w.contains(v)&&w.removeChild(v)}},[s]),e.jsx(hx,{isPresent:s,childRef:i,sizeRef:o,children:h.cloneElement(t,{ref:i})})}const px=({children:t,initial:s,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:o,anchorX:c,root:l})=>{const d=sn(fx),m=h.useId();let u=!0,x=h.useMemo(()=>(u=!1,{id:m,initial:s,isPresent:a,custom:n,onExitComplete:p=>{d.set(p,!0);for(const v of d.values())if(!v)return;r&&r()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[a,d,r]);return i&&u&&(x={...x}),h.useMemo(()=>{d.forEach((p,v)=>d.set(v,!1))},[a]),h.useEffect(()=>{!a&&!d.size&&r&&r()},[a]),o==="popLayout"&&(t=e.jsx(xx,{isPresent:a,anchorX:c,root:l,children:t})),e.jsx(fa.Provider,{value:x,children:t})};function fx(){return new Map}function Nc(t=!0){const s=h.useContext(fa);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=s,i=h.useId();h.useEffect(()=>{if(t)return n(i)},[t]);const o=h.useCallback(()=>t&&r&&r(i),[i,r,t]);return!a&&r?[!1,o]:[!0]}const zs=t=>t.key||"";function ji(t){const s=[];return h.Children.forEach(t,a=>{h.isValidElement(a)&&s.push(a)}),s}const Rr=({children:t,custom:s,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:l})=>{const[d,m]=Nc(o),u=h.useMemo(()=>ji(t),[t]),x=o&&!d?[]:u.map(zs),p=h.useRef(!0),v=h.useRef(u),w=sn(()=>new Map),[b,g]=h.useState(u),[y,f]=h.useState(u);Dl(()=>{p.current=!1,v.current=u;for(let j=0;j<y.length;j++){const A=zs(y[j]);x.includes(A)?w.delete(A):w.get(A)!==!0&&w.set(A,!1)}},[y,x.length,x.join("-")]);const C=[];if(u!==b){let j=[...u];for(let A=0;A<y.length;A++){const k=y[A],S=zs(k);x.includes(S)||(j.splice(A,0,k),C.push(k))}return i==="wait"&&C.length&&(j=C),f(ji(j)),g(u),null}const{forceRender:E}=h.useContext(tn);return e.jsx(e.Fragment,{children:y.map(j=>{const A=zs(j),k=o&&!d?!1:u===y||x.includes(A),S=()=>{if(w.has(A))w.set(A,!0);else return;let N=!0;w.forEach(D=>{D||(N=!1)}),N&&(E?.(),f(v.current),o&&m?.(),r&&r())};return e.jsx(px,{isPresent:k,initial:!p.current||a?void 0:!1,custom:s,presenceAffectsLayout:n,mode:i,root:l,onExitComplete:k?void 0:S,anchorX:c,children:j},A)})})},wc=h.createContext({strict:!1}),Ni={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ht={};for(const t in Ni)Ht[t]={isEnabled:s=>Ni[t].some(a=>!!s[a])};function gx(t){for(const s in t)Ht[s]={...Ht[s],...t[s]}}const bx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function aa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bx.has(t)}let Cc=t=>!aa(t);function yx(t){typeof t=="function"&&(Cc=s=>s.startsWith("on")?!aa(s):t(s))}try{yx(require("@emotion/is-prop-valid").default)}catch{}function vx(t,s,a){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(Cc(n)||a===!0&&aa(n)||!s&&!aa(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}const ga=h.createContext({});function ba(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function js(t){return typeof t=="string"||Array.isArray(t)}const En=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kn=["initial",...En];function ya(t){return ba(t.animate)||kn.some(s=>js(t[s]))}function Sc(t){return!!(ya(t)||t.variants)}function jx(t,s){if(ya(t)){const{initial:a,animate:r}=t;return{initial:a===!1||js(a)?a:void 0,animate:js(r)?r:void 0}}return t.inherit!==!1?s:{}}function Nx(t){const{initial:s,animate:a}=jx(t,h.useContext(ga));return h.useMemo(()=>({initial:s,animate:a}),[wi(s),wi(a)])}function wi(t){return Array.isArray(t)?t.join(" "):t}const Ns={};function wx(t){for(const s in t)Ns[s]=t[s],un(s)&&(Ns[s].isCSSVariable=!0)}function _c(t,{layout:s,layoutId:a}){return Zt.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!Ns[t]||t==="opacity")}const Cx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sx=Xt.length;function _x(t,s,a){let r="",n=!0;for(let i=0;i<Sx;i++){const o=Xt[i],c=t[o];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(o.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||a){const d=fc(c,wn[o]);if(!l){n=!1;const m=Cx[o]||o;r+=`${m}(${d}) `}a&&(s[o]=d)}}return r=r.trim(),a?r=a(s,n?"":r):n&&(r="none"),r}function Pn(t,s,a){const{style:r,vars:n,transformOrigin:i}=t;let o=!1,c=!1;for(const l in s){const d=s[l];if(Zt.has(l)){o=!0;continue}else if(un(l)){n[l]=d;continue}else{const m=fc(d,wn[l]);l.startsWith("origin")?(c=!0,i[l]=m):r[l]=m}}if(s.transform||(o||a?r.transform=_x(s,t.transform,a):r.transform&&(r.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:m=0}=i;r.transformOrigin=`${l} ${d} ${m}`}}const An=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ec(t,s,a){for(const r in s)!he(s[r])&&!_c(r,a)&&(t[r]=s[r])}function Ex({transformTemplate:t},s){return h.useMemo(()=>{const a=An();return Pn(a,s,t),Object.assign({},a.vars,a.style)},[s])}function kx(t,s){const a=t.style||{},r={};return Ec(r,a,t),Object.assign(r,Ex(t,s)),r}function Px(t,s){const a={},r=kx(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=r,a}const Ax={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dx={offset:"strokeDashoffset",array:"strokeDasharray"};function Tx(t,s,a=1,r=0,n=!0){t.pathLength=1;const i=n?Ax:Dx;t[i.offset]=q.transform(-r);const o=q.transform(s),c=q.transform(a);t[i.array]=`${o} ${c}`}function kc(t,{attrX:s,attrY:a,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...c},l,d,m){if(Pn(t,c,d),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:u,style:x}=t;u.transform&&(x.transform=u.transform,delete u.transform),(x.transform||u.transformOrigin)&&(x.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete u.transformBox),s!==void 0&&(u.x=s),a!==void 0&&(u.y=a),r!==void 0&&(u.scale=r),n!==void 0&&Tx(u,n,i,o,!1)}const Pc=()=>({...An(),attrs:{}}),Ac=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Fx(t,s,a,r){const n=h.useMemo(()=>{const i=Pc();return kc(i,s,Ac(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};Ec(i,t.style,t),n.style={...i,...n.style}}return n}const Mx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dn(t){return typeof t!="string"||t.includes("-")?!1:!!(Mx.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ox(t,s,a,{latestValues:r},n,i=!1){const c=(Dn(t)?Fx:Px)(s,r,n,t),l=vx(s,typeof t=="string",i),d=t!==h.Fragment?{...l,...c,ref:a}:{},{children:m}=s,u=h.useMemo(()=>he(m)?m.get():m,[m]);return h.createElement(t,{...d,children:u})}function Ci(t){const s=[{},{}];return t?.values.forEach((a,r)=>{s[0][r]=a.get(),s[1][r]=a.getVelocity()}),s}function Tn(t,s,a,r){if(typeof s=="function"){const[n,i]=Ci(r);s=s(a!==void 0?a:t.custom,n,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[n,i]=Ci(r);s=s(a!==void 0?a:t.custom,n,i)}return s}function Ys(t){return he(t)?t.get():t}function Rx({scrapeMotionValuesFromProps:t,createRenderState:s},a,r,n){return{latestValues:Ix(a,r,n,t),renderState:s()}}function Ix(t,s,a,r){const n={},i=r(t,{});for(const x in i)n[x]=Ys(i[x]);let{initial:o,animate:c}=t;const l=ya(t),d=Sc(t);s&&d&&!l&&t.inherit!==!1&&(o===void 0&&(o=s.initial),c===void 0&&(c=s.animate));let m=a?a.initial===!1:!1;m=m||o===!1;const u=m?c:o;if(u&&typeof u!="boolean"&&!ba(u)){const x=Array.isArray(u)?u:[u];for(let p=0;p<x.length;p++){const v=Tn(t,x[p]);if(v){const{transitionEnd:w,transition:b,...g}=v;for(const y in g){let f=g[y];if(Array.isArray(f)){const C=m?f.length-1:0;f=f[C]}f!==null&&(n[y]=f)}for(const y in w)n[y]=w[y]}}}return n}const Dc=t=>(s,a)=>{const r=h.useContext(ga),n=h.useContext(fa),i=()=>Rx(t,s,r,n);return a?i():sn(i)};function Fn(t,s,a){const{style:r}=t,n={};for(const i in r)(he(r[i])||s.style&&he(s.style[i])||_c(i,t)||a?.getValue(i)?.liveStyle!==void 0)&&(n[i]=r[i]);return n}const Vx=Dc({scrapeMotionValuesFromProps:Fn,createRenderState:An});function Tc(t,s,a){const r=Fn(t,s,a);for(const n in t)if(he(t[n])||he(s[n])){const i=Xt.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}const Lx=Dc({scrapeMotionValuesFromProps:Tc,createRenderState:Pc}),qx=Symbol.for("motionComponentSymbol");function Mt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zx(t,s,a){return h.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),a&&(typeof a=="function"?a(r):Mt(a)&&(a.current=r))},[s])}const Mn=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ux="framerAppearId",Fc="data-"+Mn(Ux),Mc=h.createContext({});function Bx(t,s,a,r,n){const{visualElement:i}=h.useContext(ga),o=h.useContext(wc),c=h.useContext(fa),l=h.useContext(_n).reducedMotion,d=h.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:s,parent:i,props:a,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l}));const m=d.current,u=h.useContext(Mc);m&&!m.projection&&n&&(m.type==="html"||m.type==="svg")&&$x(d.current,a,n,u);const x=h.useRef(!1);h.useInsertionEffect(()=>{m&&x.current&&m.update(a,c)});const p=a[Fc],v=h.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Dl(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),h.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),v.current=!1))}),m}function $x(t,s,a,r){const{layoutId:n,layout:i,drag:o,dragConstraints:c,layoutScroll:l,layoutRoot:d,layoutCrossfade:m}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:Oc(t.parent)),t.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||c&&Mt(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:l,layoutRoot:d})}function Oc(t){if(t)return t.options.allowProjection!==!1?t.projection:Oc(t.parent)}function Ma(t,{forwardMotionProps:s=!1}={},a,r){a&&gx(a);const n=Dn(t)?Lx:Vx;function i(c,l){let d;const m={...h.useContext(_n),...c,layoutId:Hx(c)},{isStatic:u}=m,x=Nx(c),p=n(c,u);if(!u&&an){Gx();const v=Wx(m);d=v.MeasureLayout,x.visualElement=Bx(t,p,m,r,v.ProjectionNode)}return e.jsxs(ga.Provider,{value:x,children:[d&&x.visualElement?e.jsx(d,{visualElement:x.visualElement,...m}):null,Ox(t,c,zx(p,x.visualElement,l),p,u,s)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=h.forwardRef(i);return o[qx]=t,o}function Hx({layoutId:t}){const s=h.useContext(tn).id;return s&&t!==void 0?s+"-"+t:t}function Gx(t,s){h.useContext(wc).strict}function Wx(t){const{drag:s,layout:a}=Ht;if(!s&&!a)return{};const r={...s,...a};return{MeasureLayout:s?.isEnabled(t)||a?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Kx(t,s){if(typeof Proxy>"u")return Ma;const a=new Map,r=(i,o)=>Ma(i,o,t,s),n=(i,o)=>r(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?r:(a.has(o)||a.set(o,Ma(o,void 0,t,s)),a.get(o))})}function Rc({top:t,left:s,right:a,bottom:r}){return{x:{min:s,max:a},y:{min:t,max:r}}}function Qx({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function Yx(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Oa(t){return t===void 0||t===1}function Ir({scale:t,scaleX:s,scaleY:a}){return!Oa(t)||!Oa(s)||!Oa(a)}function gt(t){return Ir(t)||Ic(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ic(t){return Si(t.x)||Si(t.y)}function Si(t){return t&&t!=="0%"}function ra(t,s,a){const r=t-a,n=s*r;return a+n}function _i(t,s,a,r,n){return n!==void 0&&(t=ra(t,n,r)),ra(t,a,r)+s}function Vr(t,s=0,a=1,r,n){t.min=_i(t.min,s,a,r,n),t.max=_i(t.max,s,a,r,n)}function Vc(t,{x:s,y:a}){Vr(t.x,s.translate,s.scale,s.originPoint),Vr(t.y,a.translate,a.scale,a.originPoint)}const Ei=.999999999999,ki=1.0000000000001;function Xx(t,s,a,r=!1){const n=a.length;if(!n)return;s.x=s.y=1;let i,o;for(let c=0;c<n;c++){i=a[c],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Rt(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(s.x*=o.x.scale,s.y*=o.y.scale,Vc(t,o)),r&&gt(i.latestValues)&&Rt(t,i.latestValues))}s.x<ki&&s.x>Ei&&(s.x=1),s.y<ki&&s.y>Ei&&(s.y=1)}function Ot(t,s){t.min=t.min+s,t.max=t.max+s}function Pi(t,s,a,r,n=.5){const i=ee(t.min,t.max,n);Vr(t,s,a,i,r)}function Rt(t,s){Pi(t.x,s.x,s.scaleX,s.scale,s.originX),Pi(t.y,s.y,s.scaleY,s.scale,s.originY)}function Lc(t,s){return Rc(Yx(t.getBoundingClientRect(),s))}function Zx(t,s,a){const r=Lc(t,a),{scroll:n}=s;return n&&(Ot(r.x,n.offset.x),Ot(r.y,n.offset.y)),r}const Ai=()=>({translate:0,scale:1,origin:0,originPoint:0}),It=()=>({x:Ai(),y:Ai()}),Di=()=>({min:0,max:0}),se=()=>({x:Di(),y:Di()}),Lr={current:null},qc={current:!1};function Jx(){if(qc.current=!0,!!an)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Lr.current=t.matches;t.addEventListener("change",s),s()}else Lr.current=!1}const ep=new WeakMap;function tp(t,s,a){for(const r in s){const n=s[r],i=a[r];if(he(n))t.addValue(r,n);else if(he(i))t.addValue(r,$t(n,{owner:t}));else if(i!==n)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(r);t.addValue(r,$t(o!==void 0?o:n,{owner:t}))}}for(const r in a)s[r]===void 0&&t.removeValue(r);return s}const Ti=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sp{scrapeMotionValuesFromProps(s,a,r){return{}}constructor({parent:s,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ye.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,J.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=a.initial?{...l}:{},this.renderState=d,this.parent=s,this.props=a,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=ya(a),this.isVariantNode=Sc(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:m,...u}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in u){const p=u[x];l[x]!==void 0&&he(p)&&p.set(l[x],!1)}}mount(s){this.current=s,ep.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),qc.current||Jx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),mt(this.notifyUpdate),mt(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=Zt.has(s);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",c=>{this.latestValues[s]=c,this.props.onUpdate&&J.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=a.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{n(),i(),o&&o(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Ht){const a=Ht[s];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[s]&&n&&r(this.props)&&(this.features[s]=new n(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):se()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<Ti.length;r++){const n=Ti[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=s[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=tp(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const r=this.values.get(s);a!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&a!==void 0&&(r=$t(a===null?void 0:a,{owner:this}),this.addValue(s,r)),r}readValue(s,a){let r=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return r!=null&&(typeof r=="string"&&(Tl(r)||Ml(r))?r=parseFloat(r):!ux(r)&&ut.test(a)&&(r=pc(s,a)),this.setBaseTarget(s,he(r)?r.get():r)),he(r)?r.get():r}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const i=Tn(this.props,a,this.presenceContext?.custom);i&&(r=i[s])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,s);return n!==void 0&&!he(n)?n:this.initialValues[s]!==void 0&&r===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new cn),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){Cn.render(this.render)}}class zc extends sp{constructor(){super(...arguments),this.KeyframeResolver=ex}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:r}){delete a[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;he(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Uc(t,{style:s,vars:a},r,n){const i=t.style;let o;for(o in s)i[o]=s[o];n?.applyProjectionStyles(i,r);for(o in a)i.setProperty(o,a[o])}function ap(t){return window.getComputedStyle(t)}class rp extends zc{constructor(){super(...arguments),this.type="html",this.renderInstance=Uc}readValueFromInstance(s,a){if(Zt.has(a))return this.projection?.isProjecting?Ar(a):yh(s,a);{const r=ap(s),n=(un(a)?r.getPropertyValue(a):r[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(s,{transformPagePoint:a}){return Lc(s,a)}build(s,a,r){Pn(s,a,r.transformTemplate)}scrapeMotionValuesFromProps(s,a,r){return Fn(s,a,r)}}const Bc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function np(t,s,a,r){Uc(t,s,void 0,r);for(const n in s.attrs)t.setAttribute(Bc.has(n)?n:Mn(n),s.attrs[n])}class ip extends zc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=se}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(Zt.has(a)){const r=xc(a);return r&&r.default||0}return a=Bc.has(a)?a:Mn(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,r){return Tc(s,a,r)}build(s,a,r){kc(s,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(s,a,r,n){np(s,a,r,n)}mount(s){this.isSVGTag=Ac(s.tagName),super.mount(s)}}const op=(t,s)=>Dn(t)?new ip(s):new rp(s,{allowProjection:t!==h.Fragment});function ws(t,s,a){const r=t.getProps();return Tn(r,s,a!==void 0?a:r.custom,t)}const qr=t=>Array.isArray(t);function lp(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,$t(a))}function cp(t){return qr(t)?t[t.length-1]||0:t}function dp(t,s){const a=ws(t,s);let{transitionEnd:r={},transition:n={},...i}=a||{};i={...i,...r};for(const o in i){const c=cp(i[o]);lp(t,o,c)}}function mp(t){return!!(he(t)&&t.add)}function zr(t,s){const a=t.getValue("willChange");if(mp(a))return a.add(s);if(!a&&at.WillChange){const r=new at.WillChange("auto");t.addValue("willChange",r),r.add(s)}}function $c(t){return t.props[Fc]}const up=t=>t!==null;function hp(t,{repeat:s,repeatType:a="loop"},r){const n=t.filter(up),i=s&&a!=="loop"&&s%2===1?0:n.length-1;return n[i]}const xp={type:"spring",stiffness:500,damping:25,restSpeed:10},pp=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fp={type:"keyframes",duration:.8},gp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bp=(t,{keyframes:s})=>s.length>2?fp:Zt.has(t)?t.startsWith("scale")?pp(s[1]):xp:gp;function yp({when:t,delay:s,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:c,from:l,elapsed:d,...m}){return!!Object.keys(m).length}const On=(t,s,a,r={},n,i)=>o=>{const c=Nn(r,t)||{},l=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ge(l);const m={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...c,delay:-d,onUpdate:x=>{s.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:s,element:i?void 0:n};yp(c)||Object.assign(m,bp(t,m)),m.duration&&(m.duration=Ge(m.duration)),m.repeatDelay&&(m.repeatDelay=Ge(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let u=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(u=!0)),(at.instantAnimations||at.skipAnimations)&&(u=!0,m.duration=0,m.delay=0),m.allowFlatten=!c.type&&!c.ease,u&&!i&&s.get()!==void 0){const x=hp(m.keyframes,c);if(x!==void 0){J.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new vn(m):new Uh(m)};function vp({protectedKeys:t,needsAnimating:s},a){const r=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,r}function Hc(t,s,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=s;r&&(i=r);const l=[],d=n&&t.animationState&&t.animationState.getState()[n];for(const m in c){const u=t.getValue(m,t.latestValues[m]??null),x=c[m];if(x===void 0||d&&vp(d,m))continue;const p={delay:a,...Nn(i||{},m)},v=u.get();if(v!==void 0&&!u.isAnimating&&!Array.isArray(x)&&x===v&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const g=$c(t);if(g){const y=window.MotionHandoffAnimation(g,m,J);y!==null&&(p.startTime=y,w=!0)}}zr(t,m),u.start(On(m,u,x,t.shouldReduceMotion&&mc.has(m)?{type:!1}:p,t,w));const b=u.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{J.update(()=>{o&&dp(t,o)})}),l}function Ur(t,s,a={}){const r=ws(t,s,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const i=r?()=>Promise.all(Hc(t,r,a)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:u}=n;return jp(t,s,l,d,m,u,a)}:()=>Promise.resolve(),{when:c}=n;if(c){const[l,d]=c==="beforeChildren"?[i,o]:[o,i];return l().then(()=>d())}else return Promise.all([i(),o(a.delay)])}function jp(t,s,a=0,r=0,n=0,i=1,o){const c=[],l=t.variantChildren.size,d=(l-1)*n,m=typeof r=="function",u=m?x=>r(x,l):i===1?(x=0)=>x*n:(x=0)=>d-x*n;return Array.from(t.variantChildren).sort(Np).forEach((x,p)=>{x.notify("AnimationStart",s),c.push(Ur(x,s,{...o,delay:a+(m?0:r)+u(p)}).then(()=>x.notify("AnimationComplete",s)))}),Promise.all(c)}function Np(t,s){return t.sortNodePosition(s)}function wp(t,s,a={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const n=s.map(i=>Ur(t,i,a));r=Promise.all(n)}else if(typeof s=="string")r=Ur(t,s,a);else{const n=typeof s=="function"?ws(t,s,a.custom):s;r=Promise.all(Hc(t,n,a))}return r.then(()=>{t.notify("AnimationComplete",s)})}function Gc(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(s[r]!==t[r])return!1;return!0}const Cp=kn.length;function Wc(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?Wc(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<Cp;a++){const r=kn[a],n=t.props[r];(js(n)||n===!1)&&(s[r]=n)}return s}const Sp=[...En].reverse(),_p=En.length;function Ep(t){return s=>Promise.all(s.map(({animation:a,options:r})=>wp(t,a,r)))}function kp(t){let s=Ep(t),a=Fi(),r=!0;const n=l=>(d,m)=>{const u=ws(t,m,l==="exit"?t.presenceContext?.custom:void 0);if(u){const{transition:x,transitionEnd:p,...v}=u;d={...d,...v,...p}}return d};function i(l){s=l(t)}function o(l){const{props:d}=t,m=Wc(t.parent)||{},u=[],x=new Set;let p={},v=1/0;for(let b=0;b<_p;b++){const g=Sp[b],y=a[g],f=d[g]!==void 0?d[g]:m[g],C=js(f),E=g===l?y.isActive:null;E===!1&&(v=b);let j=f===m[g]&&f!==d[g]&&C;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...p},!y.isActive&&E===null||!f&&!y.prevProp||ba(f)||typeof f=="boolean")continue;const A=Pp(y.prevProp,f);let k=A||g===l&&y.isActive&&!j&&C||b>v&&C,S=!1;const N=Array.isArray(f)?f:[f];let D=N.reduce(n(g),{});E===!1&&(D={});const{prevResolvedValues:_={}}=y,P={..._,...D},T=X=>{k=!0,x.has(X)&&(S=!0,x.delete(X)),y.needsAnimating[X]=!0;const ae=t.getValue(X);ae&&(ae.liveStyle=!1)};for(const X in P){const ae=D[X],Ue=_[X];if(p.hasOwnProperty(X))continue;let oe=!1;qr(ae)&&qr(Ue)?oe=!Gc(ae,Ue):oe=ae!==Ue,oe?ae!=null?T(X):x.add(X):ae!==void 0&&x.has(X)?T(X):y.protectedKeys[X]=!0}y.prevProp=f,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(j&&A)||S)&&u.push(...N.map(X=>({animation:X,options:{type:g}})))}if(x.size){const b={};if(typeof d.initial!="boolean"){const g=ws(t,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(b.transition=g.transition)}x.forEach(g=>{const y=t.getBaseTarget(g),f=t.getValue(g);f&&(f.liveStyle=!0),b[g]=y??null}),u.push({animation:b})}let w=!!u.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?s(u):Promise.resolve()}function c(l,d){if(a[l].isActive===d)return Promise.resolve();t.variantChildren?.forEach(u=>u.animationState?.setActive(l,d)),a[l].isActive=d;const m=o(l);for(const u in a)a[u].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>a,reset:()=>{a=Fi(),r=!0}}}function Pp(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Gc(s,t):!1}function ft(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fi(){return{animate:ft(!0),whileInView:ft(),whileHover:ft(),whileTap:ft(),whileDrag:ft(),whileFocus:ft(),exit:ft()}}class xt{constructor(s){this.isMounted=!1,this.node=s}update(){}}class Ap extends xt{constructor(s){super(s),s.animationState||(s.animationState=kp(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();ba(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Dp=0;class Tp extends xt{constructor(){super(...arguments),this.id=Dp++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const n=this.node.animationState.setActive("exit",!s);a&&!s&&n.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const Fp={animation:{Feature:Ap},exit:{Feature:Tp}};function Cs(t,s,a,r={passive:!0}){return t.addEventListener(s,a,r),()=>t.removeEventListener(s,a)}function Ts(t){return{point:{x:t.pageX,y:t.pageY}}}const Mp=t=>s=>Sn(s)&&t(s,Ts(s));function hs(t,s,a,r){return Cs(t,s,Mp(a),r)}const Kc=1e-4,Op=1-Kc,Rp=1+Kc,Qc=.01,Ip=0-Qc,Vp=0+Qc;function ge(t){return t.max-t.min}function Lp(t,s,a){return Math.abs(t-s)<=a}function Mi(t,s,a,r=.5){t.origin=r,t.originPoint=ee(s.min,s.max,t.origin),t.scale=ge(a)/ge(s),t.translate=ee(a.min,a.max,t.origin)-t.originPoint,(t.scale>=Op&&t.scale<=Rp||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ip&&t.translate<=Vp||isNaN(t.translate))&&(t.translate=0)}function xs(t,s,a,r){Mi(t.x,s.x,a.x,r?r.originX:void 0),Mi(t.y,s.y,a.y,r?r.originY:void 0)}function Oi(t,s,a){t.min=a.min+s.min,t.max=t.min+ge(s)}function qp(t,s,a){Oi(t.x,s.x,a.x),Oi(t.y,s.y,a.y)}function Ri(t,s,a){t.min=s.min-a.min,t.max=t.min+ge(s)}function ps(t,s,a){Ri(t.x,s.x,a.x),Ri(t.y,s.y,a.y)}function De(t){return[t("x"),t("y")]}const Yc=({current:t})=>t?t.ownerDocument.defaultView:null,Ii=(t,s)=>Math.abs(t-s);function zp(t,s){const a=Ii(t.x,s.x),r=Ii(t.y,s.y);return Math.sqrt(a**2+r**2)}class Xc{constructor(s,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ia(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=zp(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:w}=x,{timestamp:b}=de;this.history.push({...w,timestamp:b});const{onStart:g,onMove:y}=this.handlers;p||(g&&g(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,x)},this.handlePointerMove=(x,p)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ra(p,this.transformPagePoint),J.update(this.updatePoint,!0)},this.handlePointerUp=(x,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ia(x.type==="pointercancel"?this.lastMoveEventInfo:Ra(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,g),w&&w(x,g)},!Sn(s))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=n||window;const c=Ts(s),l=Ra(c,this.transformPagePoint),{point:d}=l,{timestamp:m}=de;this.history=[{...d,timestamp:m}];const{onSessionStart:u}=a;u&&u(s,Ia(l,this.history)),this.removeListeners=Ps(hs(this.contextWindow,"pointermove",this.handlePointerMove),hs(this.contextWindow,"pointerup",this.handlePointerUp),hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),mt(this.updatePoint)}}function Ra(t,s){return s?{point:s(t.point)}:t}function Vi(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Ia({point:t},s){return{point:t,delta:Vi(t,Zc(s)),offset:Vi(t,Up(s)),velocity:Bp(s,.1)}}function Up(t){return t[0]}function Zc(t){return t[t.length-1]}function Bp(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const n=Zc(t);for(;a>=0&&(r=t[a],!(n.timestamp-r.timestamp>Ge(s)));)a--;if(!r)return{x:0,y:0};const i=We(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $p(t,{min:s,max:a},r){return s!==void 0&&t<s?t=r?ee(s,t,r.min):Math.max(t,s):a!==void 0&&t>a&&(t=r?ee(a,t,r.max):Math.min(t,a)),t}function Li(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function Hp(t,{top:s,left:a,bottom:r,right:n}){return{x:Li(t.x,a,n),y:Li(t.y,s,r)}}function qi(t,s){let a=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function Gp(t,s){return{x:qi(t.x,s.x),y:qi(t.y,s.y)}}function Wp(t,s){let a=.5;const r=ge(t),n=ge(s);return n>r?a=bs(s.min,s.max-r,t.min):r>n&&(a=bs(t.min,t.max-n,s.min)),st(0,1,a)}function Kp(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const Br=.35;function Qp(t=Br){return t===!1?t=0:t===!0&&(t=Br),{x:zi(t,"left","right"),y:zi(t,"top","bottom")}}function zi(t,s,a){return{min:Ui(t,s),max:Ui(t,a)}}function Ui(t,s){return typeof t=="number"?t:t[s]||0}const Yp=new WeakMap;class Xp{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=se(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Ts(u).point)},o=(u,x)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rx(p),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),De(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Ke.test(y)){const{projection:f}=this.visualElement;if(f&&f.layout){const C=f.layout.layoutBox[g];C&&(y=ge(C)*(parseFloat(y)/100))}}this.originPoint[g]=y}),w&&J.postRender(()=>w(u,x)),zr(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(u,x)=>{this.latestPointerEvent=u,this.latestPanInfo=x;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=x;if(v&&this.currentDirection===null){this.currentDirection=Zp(g),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,g),this.updateAxis("y",x.point,g),this.visualElement.render(),b&&b(u,x)},l=(u,x)=>{this.latestPointerEvent=u,this.latestPanInfo=x,this.stop(u,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>De(u=>this.getAnimationState(u)==="paused"&&this.getAxisMotionValue(u).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Xc(s,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Yc(this.visualElement)})}stop(s,a){const r=s||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&J.postRender(()=>c(r,n))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,r){const{drag:n}=this.getProps();if(!r||!Us(s,n,this.currentDirection))return;const i=this.getAxisMotionValue(s);let o=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(o=$p(o,this.constraints[s],this.elastic[s])),i.set(o)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;s&&Mt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=Hp(r.layoutBox,s):this.constraints=!1,this.elastic=Qp(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&De(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Kp(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!Mt(s))return!1;const r=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Zx(r,n.root,this.visualElement.getTransformPagePoint());let o=Gp(n.layout.layoutBox,i);if(a){const c=a(Qx(o));this.hasMutatedConstraints=!!c,c&&(o=Rc(c))}return o}startAnimation(s){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=De(m=>{if(!Us(m,a,this.currentDirection))return;let u=l&&l[m]||{};o&&(u={min:0,max:0});const x=n?200:1e6,p=n?40:1e7,v={type:"inertia",velocity:r?s[m]:0,bounceStiffness:x,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(m,v)});return Promise.all(d).then(c)}startAxisValueAnimation(s,a){const r=this.getAxisMotionValue(s);return zr(this.visualElement,s),r.start(On(s,r,0,a,this.visualElement,!1))}stopAnimation(){De(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){De(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){De(a=>{const{drag:r}=this.getProps();if(!Us(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:o,max:c}=n.layout.layoutBox[a];i.set(s[a]-ee(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Mt(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};De(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const l=c.get();n[o]=Wp({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),De(o=>{if(!Us(o,s,null))return;const c=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];c.set(ee(l,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;Yp.set(this.visualElement,this);const s=this.visualElement.current,a=hs(s,"pointerdown",l=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Mt(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),J.read(r);const o=Cs(window,"resize",()=>this.scalePositionWithinConstraints()),c=n.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(De(m=>{const u=this.getAxisMotionValue(m);u&&(this.originPoint[m]+=l[m].translate,u.set(u.get()+l[m].translate))}),this.visualElement.render())});return()=>{o(),a(),i(),c&&c()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=Br,dragMomentum:c=!0}=s;return{...s,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Us(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function Zp(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class Jp extends xt{constructor(s){super(s),this.removeGroupControls=Oe,this.removeListeners=Oe,this.controls=new Xp(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bi=t=>(s,a)=>{t&&J.postRender(()=>t(s,a))};class ef extends xt{constructor(){super(...arguments),this.removePointerDownListener=Oe}onPointerDown(s){this.session=new Xc(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yc(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Bi(s),onStart:Bi(a),onMove:r,onEnd:(i,o)=>{delete this.session,n&&J.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=hs(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $i(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const ns={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(q.test(t))t=parseFloat(t);else return t;const a=$i(t,s.target.x),r=$i(t,s.target.y);return`${a}% ${r}%`}},tf={correct:(t,{treeScale:s,projectionDelta:a})=>{const r=t,n=ut.parse(t);if(n.length>5)return r;const i=ut.createTransformer(t),o=typeof n[0]!="number"?1:0,c=a.x.scale*s.x,l=a.y.scale*s.y;n[0+o]/=c,n[1+o]/=l;const d=ee(c,l,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),i(n)}};let Hi=!1;class sf extends h.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=s;wx(af),i&&(a.group&&a.group.add(i),r&&r.register&&n&&r.register(i),Hi&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xs.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:r,drag:n,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Hi=!0,n||s.layoutDependency!==a||a===void 0||s.isPresent!==i?o.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?o.promote():o.relegate()||J.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),Cn.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function Jc(t){const[s,a]=Nc(),r=h.useContext(tn);return e.jsx(sf,{...t,layoutGroup:r,switchLayoutGroup:h.useContext(Mc),isPresent:s,safeToRemove:a})}const af={borderRadius:{...ns,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ns,borderTopRightRadius:ns,borderBottomLeftRadius:ns,borderBottomRightRadius:ns,boxShadow:tf};function rf(t,s,a){const r=he(t)?t:$t(t);return r.start(On("",r,s,a)),r.animation}const nf=(t,s)=>t.depth-s.depth;class of{constructor(){this.children=[],this.isDirty=!1}add(s){rn(this.children,s),this.isDirty=!0}remove(s){nn(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(nf),this.isDirty=!1,this.children.forEach(s)}}function lf(t,s){const a=ye.now(),r=({timestamp:n})=>{const i=n-a;i>=s&&(mt(r),t(i-s))};return J.setup(r,!0),()=>mt(r)}const ed=["TopLeft","TopRight","BottomLeft","BottomRight"],cf=ed.length,Gi=t=>typeof t=="string"?parseFloat(t):t,Wi=t=>typeof t=="number"||q.test(t);function df(t,s,a,r,n,i){n?(t.opacity=ee(0,a.opacity??1,mf(r)),t.opacityExit=ee(s.opacity??1,0,uf(r))):i&&(t.opacity=ee(s.opacity??1,a.opacity??1,r));for(let o=0;o<cf;o++){const c=`border${ed[o]}Radius`;let l=Ki(s,c),d=Ki(a,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Wi(l)===Wi(d)?(t[c]=Math.max(ee(Gi(l),Gi(d),r),0),(Ke.test(d)||Ke.test(l))&&(t[c]+="%")):t[c]=d}(s.rotate||a.rotate)&&(t.rotate=ee(s.rotate||0,a.rotate||0,r))}function Ki(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const mf=td(0,.5,Ul),uf=td(.5,.95,Oe);function td(t,s,a){return r=>r<t?0:r>s?1:a(bs(t,s,r))}function Qi(t,s){t.min=s.min,t.max=s.max}function Ae(t,s){Qi(t.x,s.x),Qi(t.y,s.y)}function Yi(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function Xi(t,s,a,r,n){return t-=s,t=ra(t,1/a,r),n!==void 0&&(t=ra(t,1/n,r)),t}function hf(t,s=0,a=1,r=.5,n,i=t,o=t){if(Ke.test(s)&&(s=parseFloat(s),s=ee(o.min,o.max,s/100)-o.min),typeof s!="number")return;let c=ee(i.min,i.max,r);t===i&&(c-=s),t.min=Xi(t.min,s,a,c,n),t.max=Xi(t.max,s,a,c,n)}function Zi(t,s,[a,r,n],i,o){hf(t,s[a],s[r],s[n],s.scale,i,o)}const xf=["x","scaleX","originX"],pf=["y","scaleY","originY"];function Ji(t,s,a,r){Zi(t.x,s,xf,a?a.x:void 0,r?r.x:void 0),Zi(t.y,s,pf,a?a.y:void 0,r?r.y:void 0)}function eo(t){return t.translate===0&&t.scale===1}function sd(t){return eo(t.x)&&eo(t.y)}function to(t,s){return t.min===s.min&&t.max===s.max}function ff(t,s){return to(t.x,s.x)&&to(t.y,s.y)}function so(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function ad(t,s){return so(t.x,s.x)&&so(t.y,s.y)}function ao(t){return ge(t.x)/ge(t.y)}function ro(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class gf{constructor(){this.members=[]}add(s){rn(this.members,s),s.scheduleRender()}remove(s){if(nn(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(n=>s===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(s,a){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,a&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:r}=s;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bf(t,s,a){let r="";const n=t.x.translate/s.x,i=t.y.translate/s.y,o=a?.z||0;if((n||i||o)&&(r=`translate3d(${n}px, ${i}px, ${o}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:d,rotate:m,rotateX:u,rotateY:x,skewX:p,skewY:v}=a;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),u&&(r+=`rotateX(${u}deg) `),x&&(r+=`rotateY(${x}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const c=t.x.scale*s.x,l=t.y.scale*s.y;return(c!==1||l!==1)&&(r+=`scale(${c}, ${l})`),r||"none"}const Va=["","X","Y","Z"],yf=1e3;let vf=0;function La(t,s,a,r){const{latestValues:n}=s;n[t]&&(a[t]=n[t],s.setStaticValue(t,0),r&&(r[t]=0))}function rd(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=$c(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",J,!(n||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rd(r)}function nd({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},c=s?.()){this.id=vf++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wf),this.nodes.forEach(Ef),this.nodes.forEach(kf),this.nodes.forEach(Cf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new of)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cn),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=jc(o)&&!dx(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||c)&&(this.isLayoutDirty=!0),t){let m,u=0;const x=()=>this.root.updateBlockedByResize=!1;J.read(()=>{u=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==u&&(u=p,this.root.updateBlockedByResize=!0,m&&m(),m=lf(x,250),Xs.hasAnimatedSinceResize&&(Xs.hasAnimatedSinceResize=!1,this.nodes.forEach(oo)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:u,hasRelativeLayoutChanged:x,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Ff,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=d.getProps(),g=!this.targetLayout||!ad(this.targetLayout,p),y=!u&&x;if(this.options.layoutRoot||this.resumeFrom||y||u&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const f={...Nn(v,"layout"),onPlay:w,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(f.delay=0,f.type=!1),this.startAnimation(f),this.setAnimationOrigin(m,y)}else u||oo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pf),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const u=this.path[m];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(no);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(io);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_f),this.nodes.forEach(jf),this.nodes.forEach(Nf)):this.nodes.forEach(io),this.clearAllSnapshots();const c=ye.now();de.delta=st(0,1e3/60,c-de.timestamp),de.timestamp=c,de.isProcessing=!0,ka.update.process(de),ka.preRender.process(de),ka.render.process(de),de.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sf),this.sharedNodes.forEach(Af)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,J.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){J.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ge(this.snapshot.measuredBox.x)&&!ge(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!sd(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||gt(this.latestValues)||m)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),Mf(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return se();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Of))){const{scroll:d}=this.root;d&&(Ot(c.x,d.offset.x),Ot(c.y,d.offset.y))}return c}removeElementScroll(o){const c=se();if(Ae(c,o),this.scroll?.wasRoot)return c;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:m,options:u}=d;d!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&Ae(c,o),Ot(c.x,m.offset.x),Ot(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const l=se();Ae(l,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Rt(l,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),gt(m.latestValues)&&Rt(l,m.latestValues)}return gt(this.latestValues)&&Rt(l,this.latestValues),l}removeTransform(o){const c=se();Ae(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!gt(d.latestValues))continue;Ir(d.latestValues)&&d.updateSnapshot();const m=se(),u=d.measurePageBox();Ae(m,u),Ji(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return gt(this.latestValues)&&Ji(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==de.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:u}=this.options;if(!(!this.layout||!(m||u))){if(this.resolvedRelativeTargetAt=de.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),ps(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ae(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=se(),this.targetWithTransforms=se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ae(this.target,this.layout.layoutBox),Vc(this.target,this.targetDelta)):Ae(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),ps(this.relativeTargetOrigin,this.target,x.target),Ae(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ir(this.parent.latestValues)||Ic(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===de.timestamp&&(l=!1),l)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Ae(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,x=this.treeScale.y;Xx(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=se());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yi(this.prevProjectionDelta.x,this.projectionDelta.x),Yi(this.prevProjectionDelta.y,this.projectionDelta.y)),xs(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==x||!ro(this.projectionDelta.x,this.prevProjectionDelta.x)||!ro(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=It(),this.projectionDelta=It(),this.projectionDeltaWithTransform=It()}setAnimationOrigin(o,c=!1){const l=this.snapshot,d=l?l.latestValues:{},m={...this.latestValues},u=It();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=se(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,b=this.getStack(),g=!b||b.members.length<=1,y=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(Tf));this.animationProgress=0;let f;this.mixTargetDelta=C=>{const E=C/1e3;lo(u.x,o.x,E),lo(u.y,o.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ps(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Df(this.relativeTarget,this.relativeTargetOrigin,x,E),f&&ff(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=se()),Ae(f,this.relativeTarget)),w&&(this.animationValues=m,df(m,d,this.latestValues,E,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(mt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=J.update(()=>{Xs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$t(0)),this.currentAnimation=rf(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:m}=o;if(!(!c||!l||!d)){if(this!==o&&this.layout&&d&&id(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||se();const u=ge(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+u;const x=ge(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+x}Ae(c,l),Rt(c,m),xs(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gf),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&La("z",o,d,this.animationValues);for(let m=0;m<Va.length;m++)La(`rotate${Va[m]}`,o,d,this.animationValues),La(`skew${Va[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ys(c?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ys(c?.pointerEvents)||""),this.hasProjected&&!gt(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let u=bf(this.projectionDeltaWithTransform,this.treeScale,m);l&&(u=l(m,u)),o.transform=u;const{x,y:p}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Ns){if(m[v]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:g}=Ns[v],y=u==="none"?m[v]:w(m[v],d);if(b){const f=b.length;for(let C=0;C<f;C++)o[b[C]]=y}else g?this.options.visualElement.renderState.vars[v]=y:o[v]=y}this.options.layoutId&&(o.pointerEvents=d===this?Ys(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(no),this.root.sharedNodes.clear()}}}function jf(t){t.updateLayout()}function Nf(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=t.layout,{animationType:n}=t.options,i=s.source!==t.layout.source;n==="size"?De(m=>{const u=i?s.measuredBox[m]:s.layoutBox[m],x=ge(u);u.min=a[m].min,u.max=u.min+x}):id(n,s.layoutBox,a)&&De(m=>{const u=i?s.measuredBox[m]:s.layoutBox[m],x=ge(a[m]);u.max=u.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const o=It();xs(o,a,s.layoutBox);const c=It();i?xs(c,t.applyTransform(r,!0),s.measuredBox):xs(c,a,s.layoutBox);const l=!sd(o);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:x}=m;if(u&&x){const p=se();ps(p,s.layoutBox,u.layoutBox);const v=se();ps(v,a,x.layoutBox),ad(p,v)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function wf(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cf(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Sf(t){t.clearSnapshot()}function no(t){t.clearMeasurements()}function io(t){t.isLayoutDirty=!1}function _f(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function oo(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ef(t){t.resolveTargetDelta()}function kf(t){t.calcProjection()}function Pf(t){t.resetSkewAndRotation()}function Af(t){t.removeLeadSnapshot()}function lo(t,s,a){t.translate=ee(s.translate,0,a),t.scale=ee(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function co(t,s,a,r){t.min=ee(s.min,a.min,r),t.max=ee(s.max,a.max,r)}function Df(t,s,a,r){co(t.x,s.x,a.x,r),co(t.y,s.y,a.y,r)}function Tf(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ff={duration:.45,ease:[.4,0,.1,1]},mo=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uo=mo("applewebkit/")&&!mo("chrome/")?Math.round:Oe;function ho(t){t.min=uo(t.min),t.max=uo(t.max)}function Mf(t){ho(t.x),ho(t.y)}function id(t,s,a){return t==="position"||t==="preserve-aspect"&&!Lp(ao(s),ao(a),.2)}function Of(t){return t!==t.root&&t.scroll?.wasRoot}const Rf=nd({attachResizeListener:(t,s)=>Cs(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qa={current:void 0},od=nd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qa.current){const t=new Rf({});t.mount(window),t.setOptions({layoutScroll:!0}),qa.current=t}return qa.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),If={pan:{Feature:ef},drag:{Feature:Jp,ProjectionNode:od,MeasureLayout:Jc}};function xo(t,s,a){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=r[n];i&&J.postRender(()=>i(s,Ts(s)))}class Vf extends xt{mount(){const{current:s}=this.node;s&&(this.unmount=nx(s,(a,r)=>(xo(this.node,r,"Start"),n=>xo(this.node,n,"End"))))}unmount(){}}class Lf extends xt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ps(Cs(this.node.current,"focus",()=>this.onFocus()),Cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function po(t,s,a){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=r[n];i&&J.postRender(()=>i(s,Ts(s)))}class qf extends xt{mount(){const{current:s}=this.node;s&&(this.unmount=cx(s,(a,r)=>(po(this.node,r,"Start"),(n,{success:i})=>po(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $r=new WeakMap,za=new WeakMap,zf=t=>{const s=$r.get(t.target);s&&s(t)},Uf=t=>{t.forEach(zf)};function Bf({root:t,...s}){const a=t||document;za.has(a)||za.set(a,{});const r=za.get(a),n=JSON.stringify(s);return r[n]||(r[n]=new IntersectionObserver(Uf,{root:t,...s})),r[n]}function $f(t,s,a){const r=Bf(s);return $r.set(t,a),r.observe(t),()=>{$r.delete(t),r.unobserve(t)}}const Hf={some:0,all:1};class Gf extends xt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:i}=s,o={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:Hf[n]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:u}=this.node.getProps(),x=d?m:u;x&&x(l)};return $f(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(Wf(s,a))&&this.startObserver()}unmount(){}}function Wf({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const Kf={inView:{Feature:Gf},tap:{Feature:qf},focus:{Feature:Lf},hover:{Feature:Vf}},Qf={layout:{ProjectionNode:od,MeasureLayout:Jc}},Yf={...Fp,...Kf,...If,...Qf},O=Kx(Yf,op),Hr=async t=>{const s="AIzaSyDoLjcl4lc8aaY9dVaJd6bUM8uOsS597Yc",a=new Promise((r,n)=>setTimeout(()=>n(new Error("Timeout: Chamada Gemini demorou mais que 10 segundos")),1e4));try{const r=fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":s},body:JSON.stringify({contents:[{parts:[{text:t}]}]})}),n=await Promise.race([r,a]);if(!n.ok){const i=await n.json();throw new Error(`Gemini API Error: ${n.status} - ${i.error?.message||"Unknown error"}`)}return await n.json()}catch(r){throw console.error("Erro na chamada Gemini:",r),r}},Xf=(t,s,a,r)=>{const n=s.length>0?s.map(o=>`${o.offers.title} (${o.offers.category})`).join(", "):"Nenhum histórico anterior",i=a.map(o=>`ID:${o.id} ${o.title} ${o.category} CHF${o.price} ${o.merchant_name} ${o.location}`).join(" | ");return`
Você é Sofia, especialista em experiências para casais do DUO PASS Club na Suíça.

USUÁRIO: ${t.full_name}
HISTÓRICO: ${n}
CONTEXTO: ${r.location||"Suíça"}, ${r.weather||"tempo agradável"}, ${r.occasion||"momento especial"}, CHF ${r.budget||"100"}
OFERTAS DISPONÍVEIS: ${i}

Com base no histórico e contexto do usuário, recomende 3 experiências perfeitas para este casal.

Responda APENAS em formato JSON válido:
{
  "recommendations": [
    {
      "offer_id": "id_da_oferta",
      "title": "título_da_experiência",
      "reason": "por que é perfeita baseado no histórico e preferências",
      "perfect_timing": "melhor horário para aproveitar",
      "special_tip": "dica especial personalizada",
      "confidence": 85
    }
  ]
}

Critérios importantes:
- Baseie-se no histórico de experiências anteriores
- Considere o contexto atual (localização, clima, ocasião, orçamento)
- Confidence score de 1-100 baseado na relevância
- Dicas especiais que agreguem valor
- Timing otimizado para a experiência
`},Zf=t=>{try{let s=t.trim();s=s.replace(/```json\s*/g,""),s=s.replace(/```\s*/g,""),s=s.trim();const a=s.match(/\{[\s\S]*\}/);return a&&(s=a[0]),JSON.parse(s).recommendations||[]}catch(s){throw console.error("Erro ao parsear resposta da Gemini:",s),console.error("Resposta original:",t),new Error("Resposta da IA inválida")}},Ua=t=>[{offer_id:"demo-1",title:"Experiência Romântica Demo",reason:`Perfeita para ${t.occasion||"momento especial"} em ${t.location||"Zurich"} com orçamento de CHF ${t.budget||"150"}`,perfect_timing:"Final da tarde",special_tip:"Reserve com antecedência para garantir a melhor mesa",confidence:75},{offer_id:"demo-2",title:"Aventura Cultural Demo",reason:"Baseado no seu perfil, esta experiência combina cultura e diversão",perfect_timing:"Manhã ou início da tarde",special_tip:`Aproveite o clima ${t.weather||"agradável"} para uma experiência única`,confidence:80},{offer_id:"demo-3",title:"Relaxamento Premium Demo",reason:"Ideal para casais que buscam momentos de tranquilidade e conexão",perfect_timing:"Qualquer horário",special_tip:"Combine com um jantar especial para completar o dia",confidence:70}];function Jf(){const{user:t}=U(),[s,a]=h.useState([]),[r,n]=h.useState(!1),[i,o]=h.useState(null),c="550e8400-e29b-41d4-a716-446655440000",l="550e8400-e29b-41d4-a716-446655440001",d=h.useCallback(async()=>{if(!t)return null;try{if(t.id==="demo-user-id"||t.id==="admin-user-id")return{userData:{id:t.id==="admin-user-id"?l:c,full_name:t.id==="admin-user-id"?"Administrador DuoPass":"Usuário Demo",email:t.email||(t.id==="admin-user-id"?"admin@duopass.com":"demo@duopass.com"),subscription_status:"active",user_type:t.id==="admin-user-id"?"admin":"customer"},activeVouchers:[]};const{data:b,error:g}=await F.from("users").select("id, full_name, email, subscription_status, user_type").eq("id",t.id).single();if(g)throw g;const{data:y,error:f}=await F.from("vouchers").select(`
          id,
          code,
          status,
          qr_code_data,
          offers (
            title,
            merchant_name,
            valid_until
          )
        `).eq("user_id",t.id).eq("status","active");if(f)throw f;return{userData:b,activeVouchers:y||[]}}catch(b){return console.error("Erro ao buscar contexto do usuário:",b),null}},[t]),m=async b=>{try{const g=`
Classifique esta mensagem de atendimento ao cliente em uma das categorias:
- question: pergunta geral
- complaint: reclamação ou problema
- booking: reserva ou agendamento
- cancellation: cancelamento
- technical: problema técnico

Mensagem: "${b}"

Responda apenas com o tipo (question, complaint, booking, cancellation ou technical):
`,y=await Hr(g);if(!y.candidates||y.candidates.length===0)return"question";const f=y.candidates[0].content.parts[0].text.trim().toLowerCase();return["question","complaint","booking","cancellation","technical"].includes(f)?f:"question"}catch(g){return console.error("Erro na classificação:",g),"question"}},u=async(b,g,y)=>{try{const f=`
Você é Sofia, assistente virtual do DUO PASS Club. Seja prestativa, empática e profissional.

INFORMAÇÕES DO USUÁRIO:
- Nome: ${y.userData.full_name}
- Email: ${y.userData.email}
- Status: ${y.userData.subscription_status}
- Tipo: ${y.userData.user_type}

VOUCHERS ATIVOS:
${y.activeVouchers.length>0?y.activeVouchers.map(E=>`- ${E.offers.title} (Código: ${E.code}) - Válido até: ${E.offers.valid_until}`).join(`
`):"- Nenhum voucher ativo no momento"}

TIPO DA SOLICITAÇÃO: ${g}
MENSAGEM DO USUÁRIO: "${b}"

INSTRUÇÕES:
1. Use o nome do usuário na resposta
2. Seja específica baseada nos vouchers dele
3. Ofereça soluções práticas
4. Se for cancelamento e houver voucher para hoje, mencione que pode cancelar automaticamente
5. Se for problema técnico com QR code, mencione que pode regenerar
6. Mantenha tom amigável e profissional
7. Responda em português
8. Seja concisa mas completa

Resposta:
`,C=await Hr(f);if(!C.candidates||C.candidates.length===0)throw new Error("Resposta inválida da IA");return C.candidates[0].content.parts[0].text}catch(f){return console.error("Erro na geração de resposta:",f),`Olá ${y.userData.full_name}! Desculpe, estou com dificuldades técnicas no momento. Por favor, tente novamente em alguns instantes ou entre em contato conosco pelo email contact@dupassclub.ch`}},x=async(b,g,y)=>{try{if(y.userData.id===c||y.userData.id===l)return g==="cancellation"&&b.toLowerCase().includes("cancelar")?"✅ [DEMO] Cancelamento simulado! Esta é uma demonstração do sistema.":g==="technical"&&(b.toLowerCase().includes("qr")||b.toLowerCase().includes("código"))?"✅ [DEMO] QR Code regenerado! Esta é uma demonstração do sistema.":null;if(g==="cancellation"&&b.toLowerCase().includes("cancelar")){const f=new Date().toISOString().split("T")[0],C=y.activeVouchers.filter(E=>E.offers.valid_until.startsWith(f));if(C.length===1){const{error:E}=await F.from("vouchers").update({status:"cancelled",cancelled_at:new Date().toISOString()}).eq("id",C[0].id);if(!E)return`✅ Cancelamento realizado! Seu voucher "${C[0].offers.title}" foi cancelado automaticamente.`}}if(g==="technical"&&(b.toLowerCase().includes("qr")||b.toLowerCase().includes("código"))){const f=y.activeVouchers.filter(C=>!C.qr_code_data);if(f.length>0){for(const C of f)await F.from("vouchers").update({qr_code_data:`DUO-${C.code}-${y.userData.id}`}).eq("id",C.id);return`✅ QR Codes regenerados! ${f.length} voucher(s) foram corrigidos.`}}return null}catch(f){return console.error("Erro nas ações automáticas:",f),null}},p=async(b,g,y)=>{if(t){if(t.id==="demo-user-id"||t.id==="admin-user-id"){console.log("Interação demo não salva no banco:",{userMessage:b,aiResponse:g,interactionType:y});return}try{const f=t.id==="demo-user-id"?c:t.id==="admin-user-id"?l:t.id;await F.from("customer_interactions").insert({user_id:f,user_message:b,ai_response:g,interaction_type:y,channel:"app"})}catch(f){console.error("Erro ao salvar interação:",f)}}};return{messages:s,loading:r,error:i,sendMessage:async b=>{if(!b.trim()||!t)return;const g={id:Date.now().toString(),text:b.trim(),sender:"user",timestamp:new Date};a(y=>[...y,g]),n(!0),o(null);try{const y=await d();if(!y)throw new Error("Não foi possível obter informações do usuário");const f=await m(b),C=await x(b,f,y);let E=await u(b,f,y);C&&(E=`${C}

${E}`),await p(b,E,f);const j={id:(Date.now()+1).toString(),text:E,sender:"agent",timestamp:new Date,type:f};a(A=>[...A,j])}catch(y){console.error("Erro ao processar mensagem:",y),o("Desculpe, ocorreu um erro. Tente novamente.");const f={id:(Date.now()+1).toString(),text:"Desculpe, estou com dificuldades técnicas no momento. Por favor, tente novamente ou entre em contato conosco pelo email contact@dupassclub.ch",sender:"agent",timestamp:new Date};a(C=>[...C,f])}finally{n(!1)}},clearMessages:()=>{a([]),o(null)},getUserContext:d}}function eg(){const{user:t}=U(),[s,a]=h.useState(!1),[r,n]=h.useState(""),i=h.useRef(null),o=h.useRef(null),{messages:c,loading:l,error:d,sendMessage:m,clearMessages:u}=Jf();if(h.useEffect(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[c]),h.useEffect(()=>{s&&o.current&&o.current.focus()},[s]),!t)return null;const x=async()=>{if(!r.trim()||l)return;const b=r.trim();n(""),await m(b)},p=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x())},v=b=>b.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),w=b=>{switch(b){case"complaint":return"text-red-600";case"cancellation":return"text-orange-600";case"technical":return"text-blue-600";case"booking":return"text-green-600";default:return"text-gray-600"}};return e.jsxs(e.Fragment,{children:[e.jsxs(O.button,{onClick:()=>a(!0),className:"fixed bottom-6 right-6 z-40 w-14 h-14 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full shadow-lg flex items-center justify-center text-white hover:shadow-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:[e.jsx(xe,{className:"w-6 h-6"}),c.length===0&&e.jsx(O.div,{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:1},children:e.jsx("span",{className:"text-xs text-white font-bold",children:"!"})})]}),e.jsx(Rr,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(O.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1)}),e.jsxs(O.div,{className:"fixed bottom-6 right-6 w-80 h-96 bg-white rounded-lg shadow-2xl z-50 flex flex-col overflow-hidden",initial:{scale:0,opacity:0,y:100},animate:{scale:1,opacity:1,y:0},exit:{scale:0,opacity:0,y:100},transition:{type:"spring",stiffness:300,damping:30},children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] p-4 flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(Vs,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Sofia - Assistente DUO PASS"}),e.jsx("p",{className:"text-xs opacity-90",children:"Online agora"})]})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[c.length===0&&e.jsxs(O.div,{className:"flex items-start space-x-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Vs,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm max-w-xs",children:[e.jsx("p",{className:"text-sm text-gray-800",children:"Olá! Sou a Sofia, sua assistente virtual do DUO PASS Club. Como posso ajudar você hoje? 😊"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:v(new Date)})]})]}),c.map((b,g)=>e.jsxs(O.div,{className:`flex items-start space-x-2 ${b.sender==="user"?"flex-row-reverse space-x-reverse":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${b.sender==="user"?"bg-blue-500":"bg-gradient-to-r from-[#F6C100] to-[#C91F1F]"}`,children:b.sender==="user"?e.jsx(ve,{className:"w-4 h-4 text-white"}):e.jsx(Vs,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:`rounded-lg p-3 shadow-sm max-w-xs ${b.sender==="user"?"bg-blue-500 text-white":"bg-white text-gray-800"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.text}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:`text-xs ${b.sender==="user"?"text-blue-100":"text-gray-500"}`,children:v(b.timestamp)}),b.type&&b.sender==="agent"&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-gray-100 ${w(b.type)}`,children:b.type})]})]})]},b.id)),l&&e.jsxs(O.div,{className:"flex items-start space-x-2",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Vs,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ct,{className:"w-4 h-4 animate-spin text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Sofia está digitando..."})]})})]}),d&&e.jsx(O.div,{className:"bg-red-50 border border-red-200 rounded-lg p-3",initial:{opacity:0},animate:{opacity:1},children:e.jsx("p",{className:"text-sm text-red-600",children:d})}),e.jsx("div",{ref:i})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{ref:o,type:"text",value:r,onChange:b=>n(b.target.value),onKeyPress:p,placeholder:"Digite sua mensagem...",disabled:l,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm disabled:opacity-50"}),e.jsx("button",{onClick:x,disabled:!r.trim()||l,className:"p-2 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-lg hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Es,{className:"w-4 h-4"})})]}),c.length>0&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx("button",{onClick:u,className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Limpar conversa"})})]})]})]})})]})}function tg({children:t}){return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF] flex flex-col",children:[e.jsx(pu,{}),e.jsx("main",{className:"flex-grow",children:t}),e.jsx(fu,{}),e.jsx(eg,{})]})}function sg({isOpen:t,onClose:s}){const{user:a,userProfile:r,signOut:n}=U(),i=_t();if(!a||!r)return null;const o=r.user_type==="merchant";r.user_type;const c=o?"/merchant/dashboard":"/customer-dashboard",l=async()=>{try{console.log("👤 Usuário clicou em Sair (Sidebar)"),await n(),window.location.href="/login"}catch(u){console.error("❌ Erro no logout:",u)}},d=u=>{if(u.includes("?")){const[x,p]=u.split("?");if(i.pathname!==x)return!1;const v=new URLSearchParams(p),w=new URLSearchParams(i.search);for(const[b,g]of v)if(w.get(b)!==g)return!1;return!0}return i.pathname===u},m=[{label:"Dashboard",path:c,icon:o?fs:tt,show:!0},{label:"Recomendações IA",path:"/recomendacoes-ia",icon:Fe,show:!o,iconColor:"text-orange-500"},{label:"Vouchers",path:"/meus-vouchers",icon:ze,show:!o},{label:"Histórico",path:"/historico",icon:ma,show:!o},{label:"Connect",path:"/connect",icon:$,show:!o},{label:"Insights Pessoais",path:"/customer-dashboard?tab=insights",icon:gs,show:!o,iconColor:"text-purple-500"},{label:"Minhas Ofertas",path:"/merchant/offers",icon:ze,show:o},{label:"Analytics Merchant",path:"/merchant/analytics",icon:tt,show:o},{label:"Perfil",path:"/profile",icon:ve,show:!0},{label:"Configurações",path:"/settings",icon:pa,show:!0}];return e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:s}),e.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx(R,{to:"/",className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"🎭 DUO PASS"})}),e.jsx("button",{onClick:s,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:"✕"})]}),e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(ve,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#333333] text-sm",children:r.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.subscription_status==="active"?"Ativo":"Inativo"})]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"space-y-1",children:m.filter(u=>u.show).map(u=>{const x=u.icon,p=d(u.path);return u.disabled?e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-400 cursor-not-allowed",children:[e.jsx(x,{className:`w-5 h-5 ${u.iconColor||"text-gray-600"}`}),e.jsx("span",{className:"font-medium",children:u.label}),e.jsx("span",{className:"ml-auto text-xs bg-gray-100 px-2 py-1 rounded",children:"Em breve"})]},u.path):e.jsxs(R,{to:u.path,onClick:s,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors
                    ${p?"bg-gradient-to-r from-orange-500 to-purple-600 text-white":"text-gray-700 hover:bg-gray-100"}
                  `,children:[e.jsx(x,{className:`w-5 h-5 ${p?"text-white":u.iconColor||"text-gray-600"}`}),e.jsx("span",{className:"font-medium",children:u.label})]},u.path)})})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("button",{onClick:l,className:"flex items-center space-x-3 w-full px-3 py-2 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[e.jsx(ua,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Sair"})]})})]})]})}function ue({children:t,title:s}){const[a,r]=h.useState(!1),{user:n,userProfile:i}=U();return!n||!i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(sg,{isOpen:a,onClose:()=>r(!1)}),e.jsxs("div",{className:"flex-1 lg:ml-0",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(wl,{className:"w-6 h-6 text-gray-600"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:s||"Dashboard"}),e.jsx("div",{className:"w-10"})," "]})}),e.jsxs("main",{className:"flex-1 p-4 lg:p-6",children:[s&&e.jsx("div",{className:"hidden lg:block mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s})}),t]})]})]})}const ag=[{id:"gastronomy",icon:en,color:"from-[#F6C100] to-[#C91F1F]"},{id:"beauty",icon:tu,color:"from-[#C91F1F] to-[#F6C100]"},{id:"leisure",icon:Gm,color:"from-[#333333] to-[#C91F1F]"},{id:"fitness",icon:zm,color:"from-[#F6C100] to-[#333333]"},{id:"shopping",icon:su,color:"from-[#C91F1F] to-[#333333]"},{id:"services",icon:du,color:"from-[#333333] to-[#F6C100]"}];function rg({onCategorySelect:t}){const{t:s}=Wt();return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:ag.map(a=>{const r=a.icon;return e.jsxs("button",{onClick:()=>t?.(a.id),className:"flex flex-col items-center p-8 bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF] hover:border-[#F6C100] hover:shadow-xl transition-all group",children:[e.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${a.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:e.jsx(r,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-[#333333] text-center",children:s(`category.${a.id}`)})]},a.id)})})}function ng(){const[t,s]=h.useState([]),[a,r]=h.useState(!0),[n,i]=h.useState(null);return h.useEffect(()=>{async function o(){try{r(!0),i(null);const{data:c,error:l}=await F.from("cultural_experiences").select(`
            *,
            cultural_partners (
              business_name,
              cultural_category,
              address,
              ambiance_description
            )
          `).eq("active",!0).order("featured",{ascending:!1}).order("created_at",{ascending:!1});if(l)console.error("Erro ao buscar experiências culturais:",l),s(Ba);else{const d=c&&c.length>0?c:Ba;s(d)}}catch(c){console.error("❌ Erro ao buscar experiências culturais:",c),i(null),s(Ba)}finally{r(!1)}}o()},[]),{experiences:t,loading:a,error:n}}const Ba=[{id:"sarau-literario",experience_name:"Sarau Literário com Café Especial",story_behind:"Uma noite especial onde poesia e café se encontram, criando um ambiente mágico para conexões autênticas.",cultural_value:"Valoriza a literatura brasileira contemporânea e a tradição dos cafés culturais, promovendo encontros genuínos através da arte.",duo_benefit:"Duas pessoas participam do sarau e degustam cafés especiais pelo preço de uma.",original_price:60,duo_price:30,ambiance_notes:"Luzes suaves, música acústica ao vivo, estantes repletas de livros e o aroma de café especial no ar.",best_for:["primeiro_encontro","amigos_arte"],cultural_tags:["literatura","cafe_especial","musica_acustica"],emotion_tags:["reflexao","descoberta"],active:!0,cultural_partners:{business_name:"Café das Letras",cultural_category:"literatura_cafe",ambiance_description:"A cozy literary café with soft lighting, live acoustic music, and shelves filled with books, creating the perfect atmosphere for meaningful connections.",contact_name:"Ana Beatriz",email:"contato@cafedasletras.com",address:{street:"Rua da Poesia, 123",city:"Vila Madalena",state:"São Paulo",zipcode:"05014-020"}}},{id:"jantar-velas",experience_name:"Jantar à Luz de Velas com Música ao Vivo",story_behind:"Uma experiência gastronômica que celebra receitas familiares em um ambiente romântico e acolhedor.",cultural_value:"Preserva tradições culinárias familiares e valoriza a música brasileira autoral em ambiente intimista.",duo_benefit:"Jantar completo para duas pessoas com música ao vivo incluída.",original_price:120,duo_price:60,ambiance_notes:"Ambiente íntimo com velas, música acústica brasileira e decoração que conta histórias de família.",best_for:["momento_romantico","celebracao_especial"],cultural_tags:["gastronomia_familiar","musica_brasileira","ambiente_romantico"],emotion_tags:["romance","celebracao"],active:!0,cultural_partners:{id:"restaurante-nonna",business_name:"Restaurante da Nonna",business_type:"restaurante_familiar",cultural_category:"gastronomia_tradicional",ambiance_description:"Restaurante familiar com receitas tradicionais e música ao vivo.",contact_name:"Giuseppe Romano",email:"contato@restaurantenonna.com",address:{street:"Rua do Amor, 456",city:"Jardins",state:"São Paulo",zipcode:"01310-100"}}},{id:"oficina-ceramica",experience_name:"Oficina de Cerâmica e Chá da Tarde",story_behind:"Conecte-se com a arte milenar da cerâmica enquanto saboreiam chás especiais em um ambiente de tranquilidade.",cultural_value:"Preserva técnicas artesanais da cerâmica e promove mindfulness através da criação manual.",duo_benefit:"Duas pessoas criam suas peças únicas e levam para casa, com chá da tarde incluído.",original_price:80,duo_price:40,ambiance_notes:"Ateliê com luz natural abundante, plantas, som ambiente suave e o toque terapêutico da argila.",best_for:["reflexao_pessoal","amigos_arte","descoberta_cultural"],cultural_tags:["ceramica","artesanato","mindfulness","cha_especial"],emotion_tags:["tranquilidade","descoberta","reflexao"],active:!0,cultural_partners:{id:"atelier-terra-alma",business_name:"Ateliê Terra & Alma",business_type:"atelier_arte",cultural_category:"artesanato_local",ambiance_description:"Espaço criativo dedicado à cerâmica, bem-estar e conexão com a natureza.",contact_name:"Mariana Costa",email:"contato@terraealma.com",address:{street:"Rua da Criatividade, 789",city:"Vila Olímpia",state:"São Paulo",zipcode:"04547-130"}}},{id:"aula-danca",experience_name:"Aula de Dança de Salão para Iniciantes",story_behind:"Descubra a magia da dança de salão em um ambiente descontraído e acolhedor.",cultural_value:"Preserva a tradição da dança de salão e promove conexão através do movimento.",duo_benefit:"Aula completa para duas pessoas com instrutor dedicado.",original_price:90,duo_price:45,ambiance_notes:"Estúdio com espelhos, música clássica de dança e ambiente acolhedor para iniciantes.",best_for:["primeiro_encontro","momento_romantico","descoberta_cultural"],cultural_tags:["danca","musica","movimento","tradicao"],emotion_tags:["romance","descoberta","celebracao"],active:!0,cultural_partners:{id:"estudio-danca",business_name:"Estúdio Dança & Alma",business_type:"estudio_danca",cultural_category:"danca_tradicional",ambiance_description:"Estúdio acolhedor especializado em dança de salão para todos os níveis.",contact_name:"Carlos e Maria",email:"contato@dancaealma.com",address:{street:"Rua do Ritmo, 321",city:"Copacabana",state:"Rio de Janeiro",zipcode:"22070-010"}}},{id:"degustacao-vinhos",experience_name:"Degustação de Vinhos com Harmonização",story_behind:"Uma jornada sensorial através de vinhos selecionados com harmonizações especiais.",cultural_value:"Valoriza a cultura vinícola e a arte da harmonização gastronômica.",duo_benefit:"Degustação completa para duas pessoas com sommelier dedicado.",original_price:150,duo_price:75,ambiance_notes:"Adega intimista com iluminação suave, música ambiente e vista para as vinhas.",best_for:["celebracao_especial","momento_romantico","descoberta_cultural"],cultural_tags:["vinho","gastronomia","harmonizacao","cultura_vinicola"],emotion_tags:["celebracao","descoberta","romance"],active:!0,cultural_partners:{id:"adega-boutique",business_name:"Adega Boutique",business_type:"adega_especializada",cultural_category:"cultura_vinicola",ambiance_description:"Adega boutique com seleção especial de vinhos e experiências únicas.",contact_name:"Roberto Silva",email:"contato@adegaboutique.com",address:{street:"Rua das Vinhas, 567",city:"Bento Gonçalves",state:"Rio Grande do Sul",zipcode:"95700-000"}}},{id:"workshop-fotografia",experience_name:"Workshop de Fotografia Urbana",story_behind:"Explore a cidade através das lentes e descubra a beleza escondida nos detalhes urbanos.",cultural_value:"Desenvolve o olhar artístico e valoriza a fotografia como forma de expressão cultural.",duo_benefit:"Workshop completo para duas pessoas com equipamento incluído.",original_price:100,duo_price:50,ambiance_notes:"Caminhada fotográfica pelos pontos mais interessantes da cidade com orientação profissional.",best_for:["amigos_arte","descoberta_cultural","reflexao_pessoal"],cultural_tags:["fotografia","arte_urbana","criatividade","exploracao"],emotion_tags:["descoberta","inspiracao","reflexao"],active:!0,cultural_partners:{id:"coletivo-foto",business_name:"Coletivo Fotográfico",business_type:"coletivo_artistico",cultural_category:"arte_visual",ambiance_description:"Coletivo de fotógrafos dedicado ao ensino e valorização da fotografia urbana.",contact_name:"Ana Paula",email:"contato@coletivofoto.com",address:{street:"Rua da Arte, 890",city:"Santa Teresa",state:"Rio de Janeiro",zipcode:"20241-180"}}}],ig=({limit:t=6,showHeader:s=!0,isLandingPage:a=!1})=>{const{experiences:r,loading:n}=ng(),[i,o]=h.useState(null),c=h.useMemo(()=>[{id:"romance",label:"Romance",icon:"💕",description:"Para momentos íntimos"},{id:"amizade",label:"Amizade",icon:"🤝",description:"Para fortalecer laços"},{id:"descoberta",label:"Descoberta",icon:"🔍",description:"Para explorar o novo"},{id:"reflexao",label:"Reflexão",icon:"🧘",description:"Para momentos contemplativos"},{id:"celebracao",label:"Celebração",icon:"🎉",description:"Para ocasiões especiais"},{id:"inspiracao",label:"Inspiração",icon:"✨",description:"Para despertar criatividade"}],[]),l=h.useMemo(()=>{let u=r;return i&&(u=r.filter(x=>x.emotion_tags?.includes(i))),t?u.slice(0,t):u},[r,i,t]),d=h.useCallback(u=>c.find(p=>p.id===u)?.icon||"✨",[c]),m=h.useCallback(u=>({primeiro_encontro:"Primeiro Encontro",amigos_arte:"Amigos & Arte",reflexao_pessoal:"Reflexão Pessoal",celebracao_especial:"Celebração Especial",momento_romantico:"Momento Romântico",descoberta_cultural:"Descoberta Cultural"})[u]||u,[]);return n?e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((u,x)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},x))})}):e.jsxs("div",{className:"py-12",children:[s&&e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent mb-4",children:"Descubra Experiências com Alma"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Não vendemos produtos, criamos memórias. Cada experiência é uma oportunidade de conexão genuína."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[e.jsx("button",{onClick:()=>o(null),className:`px-4 py-2 rounded-full font-medium transition-all ${i===null?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas as Experiências"}),c.map(u=>e.jsxs("button",{onClick:()=>o(u.id),className:`px-4 py-2 rounded-full font-medium transition-all flex items-center space-x-2 ${i===u.id?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:u.icon}),e.jsx("span",{children:u.label})]},u.id))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.length===0?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhuma experiência encontrada"})}):l.map(u=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group flex flex-col",children:[e.jsxs("div",{className:"p-6 pb-4 flex-grow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 group-hover:text-amber-600 transition-colors",children:u.experience_name||u.title||"Experiência Cultural"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:u.cultural_partners?.business_name||u.merchant?.business_name||"Parceiro Cultural"})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:u.emotion_tags?.slice(0,2).map(x=>e.jsx("span",{className:"text-lg",children:d(x)},x))})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:u.story_behind||u.description||"Uma experiência cultural única"}),u.best_for&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:u.best_for.slice(0,2).map(x=>e.jsx("span",{className:"px-2 py-1 bg-amber-50 text-amber-700 text-xs rounded-full",children:m(x)},x))})]}),e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-rose-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Valor Original"}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["CHF ",(u.original_price||u.original_value||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-amber-700",children:"DUO PASS"}),e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["CHF ",(u.duo_price||(u.original_price||u.price||u.original_value||0)/2).toFixed(2)]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:u.duo_benefit||"Experiência para duas pessoas"})]})}),e.jsxs("div",{className:"px-6 pb-6",children:[u.ambiance_notes&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(Fe,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"line-clamp-1",children:u.ambiance_notes})]}),e.jsxs(R,{to:a?"/login":`/ofertas/${u.id}`,className:"w-full bg-gradient-to-r from-amber-500 to-rose-500 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all flex items-center justify-center space-x-2 group",children:[e.jsx("span",{children:"Viver Esta Experiência"}),e.jsx(ie,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},u.id))}),s&&l.length>=t&&e.jsx("div",{className:"text-center mt-12",children:e.jsxs(R,{to:"/experiencias",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:[e.jsx("span",{children:"Descobrir Mais Experiências"}),e.jsx(ie,{className:"w-4 h-4"})]})})]})},og=fe.memo(ig);function lg(){const t=W(),{user:s}=U(),a=()=>{s?t("/customer-dashboard?tab=experiences"):t("/login",{state:{from:"/customer-dashboard?tab=experiences"}})};return e.jsxs("div",{className:"bg-[#F5F3EF]",children:[e.jsxs(da,{children:[e.jsx("title",{children:"Duo Pass Club – Experiências Autênticas"}),e.jsx("meta",{name:"description",content:"Uma plataforma cultural que conecta pessoas através de experiências genuínas. Não vendemos produtos, criamos memórias e fortalecemos comunidades."}),e.jsx("meta",{property:"og:title",content:"Duo Pass Club"}),e.jsx("meta",{property:"og:description",content:"Transforme momentos em memórias com experiências culturais únicas."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Duo Pass Club"}),e.jsx("meta",{name:"twitter:description",content:"Transforme momentos em memórias com experiências culturais únicas."})]}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] text-white py-24",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(O.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsx(_e,{className:"w-24 h-24 md:w-32 md:h-32 text-yellow-400 drop-shadow-lg",strokeWidth:1.5,fill:"currentColor"})}),e.jsx(O.h1,{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Duo Pass Club"}),e.jsx(O.p,{className:"text-2xl md:text-3xl mb-6 font-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Onde experiências autênticas ganham vida."}),e.jsx(O.p,{className:"text-xl md:text-2xl mb-12 text-yellow-100 max-w-4xl mx-auto font-light leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Uma plataforma cultural que conecta pessoas através de experiências genuínas. Não vendemos produtos, criamos memórias e fortalecemos comunidades."}),e.jsxs(O.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[e.jsxs("button",{onClick:a,className:"inline-flex items-center bg-white text-[#C91F1F] px-10 py-5 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Descobrir Experiências",e.jsx(ie,{className:"ml-3 w-6 h-6"})]}),e.jsxs(R,{to:"/como-funciona-parceiros",onClick:()=>console.log("🔗 Clicou em Ser Parceiro Cultural - Navegando para /como-funciona-parceiros"),className:"inline-flex items-center bg-transparent border-2 border-white text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-white hover:text-[#C91F1F] transition-all",children:["Ser Parceiro Cultural",e.jsx(Y,{className:"ml-3 w-6 h-6"})]})]})]})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs(O.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full mb-8",children:e.jsx(Zr,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"O que é o Duo Pass Club?"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-4xl mx-auto leading-relaxed",children:"Uma plataforma cultural que conecta pessoas através de experiências autênticas. Apoiamos negócios com alma, promovemos conexões genuínas e fortalecemos a economia criativa local — transformando consumo em cultura viva."})]})}),e.jsx("section",{className:"bg-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(O.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#C91F1F] to-[#F6C100] rounded-full mb-8",children:e.jsx(Y,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Para quem é?"}),e.jsx("p",{className:"text-xl text-gray-700 mb-12 max-w-3xl mx-auto",children:"Para quem quer fazer parte de algo maior:"})]}),e.jsxs(O.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ct,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Parceiros Culturais"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Cafés culturais, ateliês, restaurantes familiares e espaços que respiram autenticidade e propósito"})]}),e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#C91F1F] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#C91F1F] to-[#F6C100] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Z,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Artistas & Criativos"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Artistas, criativos, coletivos que valorizam cultura e expressão autêntica"})]}),e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#333333] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#333333] to-[#F6C100] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx($,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Comunidade Consciente"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Pessoas que buscam experiências com alma, valorizam conexões genuínas e apoiam a cultura local"})]})]})]})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs(O.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#C91F1F] to-[#333333] rounded-full mb-8",children:e.jsx(Js,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Por que entrar?"})]}),e.jsxs(O.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#F6C100] rounded-lg flex items-center justify-center mb-6",children:e.jsx(Z,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Destaque como Parceiro Fundador"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Divulgue seu negócio com destaque especial na plataforma"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#C91F1F] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#C91F1F] rounded-lg flex items-center justify-center mb-6",children:e.jsx($,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Ações Promocionais Conjuntas"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Faça parte de campanhas colaborativas com outros parceiros"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#333333] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-lg flex items-center justify-center mb-6",children:e.jsx(Ct,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Novos Clientes"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Receba clientes sem comissão, sem complicação"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-lg flex items-center justify-center mb-6",children:e.jsx(Js,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Ativação Imediata"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Ative sua oferta e comece imediatamente"})]})]})]}),e.jsx("section",{className:"bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:e.jsx(og,{limit:6,showHeader:!0})})})}),e.jsx("section",{className:"bg-white py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(O.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Explore por Categoria"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"Descubra experiências organizadas por tipo e conecte-se com a comunidade cultural"})]}),e.jsx(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:e.jsx(rg,{onCategorySelect:r=>{t(`/ofertas?category=${r}`)}})})]})}),e.jsx("section",{className:"bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(O.h2,{className:"text-4xl md:text-5xl font-bold text-white mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Pronto para começar?"}),e.jsx(O.p,{className:"text-xl text-yellow-100 mb-12 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Junte-se à nossa comunidade cultural e descubra experiências autênticas que transformam momentos em memórias."}),e.jsxs(O.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:[e.jsxs(R,{to:"/ofertas",className:"inline-flex items-center bg-white text-[#C91F1F] px-10 py-5 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Explorar Ofertas",e.jsx(ie,{className:"ml-3 w-6 h-6"})]}),e.jsxs(R,{to:"/signup",className:"inline-flex items-center bg-transparent border-2 border-white text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-white hover:text-[#C91F1F] transition-all",children:["Criar Conta",e.jsx($,{className:"ml-3 w-6 h-6"})]})]})]})}),e.jsx("section",{className:"bg-gradient-to-r from-[#F6C100] via-[#C91F1F] to-[#333333] text-white py-24",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx(O.h2,{className:"text-4xl md:text-6xl font-bold mb-8 leading-tight",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Sua história, em movimento."}),e.jsx(O.h3,{className:"text-3xl md:text-4xl font-light mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Sua comunidade, conectada."}),e.jsx(O.p,{className:"text-xl md:text-2xl mb-12 text-yellow-100 font-light leading-relaxed",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:"✨ Faça parte deste movimento cultural. Onde autenticidade encontra propósito."}),e.jsxs(O.div,{className:"flex flex-col sm:flex-row gap-6 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},children:[e.jsxs(R,{to:"/parceiros-culturais",className:"inline-flex items-center bg-white text-[#C91F1F] px-12 py-6 rounded-full font-bold text-xl hover:bg-gray-100 transition-all shadow-2xl hover:shadow-3xl transform hover:-translate-y-2",children:["Ser Parceiro Cultural",e.jsx(Y,{className:"ml-3 w-7 h-7"})]}),e.jsxs(R,{to:"/ofertas",className:"inline-flex items-center bg-transparent border-3 border-white text-white px-12 py-6 rounded-full font-bold text-xl hover:bg-white hover:text-[#C91F1F] transition-all",children:["Descobrir Experiências",e.jsx(ie,{className:"ml-3 w-7 h-7"})]})]})]})})]})}const ld=({category:t,type:s})=>{const a=()=>s==="experience"?"bg-purple-100 text-purple-800 border-purple-200":"bg-blue-100 text-blue-800 border-blue-200",r=()=>({Gastronomia:"🍽️",Entretenimento:"🎭",Cultura:"🎨",Arte:"🖼️",Música:"🎵",Teatro:"🎭",Limpeza:"🧹",Beleza:"💄",Retail:"🛍️",Serviços:"🔧",Saúde:"⚕️",Tecnologia:"💻"})[t]||"📦";return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${a()}`,children:[e.jsx("span",{className:"mr-1",children:r()}),t]})},cd=()=>{const{user:t}=U(),[s,a]=h.useState(null),[r,n]=h.useState(!0),[i,o]=h.useState(null);return h.useEffect(()=>{(async()=>{if(!t){a(null),n(!1);return}try{n(!0),o(null);const{data:d}=await F.from("user_memberships").select("tier, max_offers, redeemed_count").eq("user_id",t.id).single();a(d?{tier:d.tier||"free",maxOffers:d.max_offers||5,redeemedThisMonth:d.redeemed_count||0,canRedeem:(d.redeemed_count||0)<(d.max_offers||5)}:{tier:"free",maxOffers:5,redeemedThisMonth:0,canRedeem:!0})}catch(d){o("Erro ao carregar membership"),console.error(d)}finally{n(!1)}})()},[t]),{membership:s,loading:r,error:i,retry:()=>{fetchMembership()}}},dd=({offer:t,isOpen:s,onClose:a,type:r})=>{if(!s||!t)return null;const n=r==="offer"?"blue":"purple";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:a,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full m-4 p-6 relative",onClick:i=>i.stopPropagation(),children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(pe,{size:24})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:t.title}),t.image_url?e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-48 object-cover rounded-md mb-4"}):e.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center rounded-md mb-4",children:e.jsx("p",{className:"text-gray-500",children:"Imagem não disponível"})}),e.jsx("p",{className:"text-gray-700 mb-4",children:t.description}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"text-sm text-gray-500",children:t.category}),e.jsxs("span",{className:`font-bold text-${n}-600 text-xl`,children:["CHF ",t.price_original]})]}),e.jsx("button",{className:`w-full py-3 rounded-lg text-white bg-${n}-500 hover:bg-${n}-600`,children:"Resgatar Voucher"})]})})},md=()=>{const t=_t(),s=W(),a=t.pathname==="/experiencias";return e.jsx("div",{className:"sticky top-0 bg-white shadow-md z-10",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>s("/experiencias"),className:`flex-1 py-4 text-center font-semibold ${a?"text-purple-600 border-b-2 border-purple-600":"text-gray-600"}`,children:"🎭 Experiências"}),e.jsx("button",{onClick:()=>s("/ofertas"),className:`flex-1 py-4 text-center font-semibold ${a?"text-gray-600":"text-blue-600 border-b-2 border-blue-600"}`,children:"🛍️ Ofertas"})]})})})},cg=()=>{const[t,s]=h.useState([]),[a,r]=h.useState(null),{membership:n,loading:i,error:o}=cd(),[c,l]=h.useState(null),[d,m]=h.useState(""),[u,x]=h.useState(!0);h.useEffect(()=>{v()},[]);const p=()=>{r(null),v()},v=async()=>{x(!0);try{r(null);const b=["Gastronomia","Entretenimento","Cultura","Arte","Música","Teatro","Cinema","Eventos"],{data:g,error:y}=await F.from("offers").select("*").eq("is_active",!0).in("category",b).order("created_at",{ascending:!1});if(y)throw y;s(g||[]),console.log("✅ Experiências culturais carregadas:",g?.length)}catch(b){r("Erro ao carregar experiências. Tente novamente."),console.error(b)}finally{x(!1)}},w=t.filter(b=>b.title.toLowerCase().includes(d.toLowerCase())||b.description.toLowerCase().includes(d.toLowerCase()));return u||i?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):a||o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:a||o}),e.jsxs("button",{onClick:p,className:"flex items-center mx-auto px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",children:[e.jsx(Sl,{className:"mr-2 h-4 w-4"})," Tentar novamente"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(md,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Experiências Culturais"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Eventos e experiências imersivas para membros DuoPass"}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar experiências por título ou descrição...",value:d,onChange:b=>m(b.target.value),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),d&&e.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-3 text-gray-500 hover:text-gray-700",children:e.jsx(pe,{size:20})})]}),w.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Nenhuma experiência encontrada."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>l(b),children:[b.image_url&&e.jsx("img",{src:b.image_url,alt:b.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:b.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:b.description}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(ld,{category:b.category,type:"experience"}),e.jsxs("span",{className:"font-bold text-green-600",children:["CHF ",b.price_original]})]}),n?.canRedeem?e.jsxs("button",{className:"w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 flex items-center justify-center",children:["Resgatar Experiência ",e.jsx(ie,{className:"ml-2 h-4 w-4"})]}):e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Atualize seu plano para resgatar"})]})]},b.id))})]}),c&&e.jsx(dd,{offer:c,isOpen:!!c,onClose:()=>l(null),type:"experience"})]})};function Fs({width:t=500,height:s=500,className:a=""}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 500 500",className:a,role:"img","aria-label":"DuoPass Club Logo",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"duopass-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:"#4F46E5",stopOpacity:1}}),e.jsx("stop",{offset:"100%",style:{stopColor:"#7C3AED",stopOpacity:1}})]})}),e.jsx("circle",{cx:"250",cy:"250",r:"240",fill:"url(#duopass-grad1)",stroke:"#ffffff",strokeWidth:"4"}),e.jsx("text",{x:"250",y:"200",fontFamily:"Arial, sans-serif",fontSize:"60",fontWeight:"bold",textAnchor:"middle",fill:"#ffffff",children:"DUO"}),e.jsx("text",{x:"250",y:"280",fontFamily:"Arial, sans-serif",fontSize:"40",fontWeight:"normal",textAnchor:"middle",fill:"#ffffff",children:"PASS"}),e.jsx("text",{x:"250",y:"320",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"normal",textAnchor:"middle",fill:"#ffffff",opacity:"0.8",children:"Club"}),e.jsx("circle",{cx:"150",cy:"150",r:"8",fill:"#ffffff",opacity:"0.6"}),e.jsx("circle",{cx:"350",cy:"150",r:"6",fill:"#ffffff",opacity:"0.4"}),e.jsx("circle",{cx:"120",cy:"300",r:"4",fill:"#ffffff",opacity:"0.5"}),e.jsx("circle",{cx:"380",cy:"320",r:"5",fill:"#ffffff",opacity:"0.3"})]})}const dg=()=>{const[t,s]=h.useState(!1),[a,r]=h.useState(null),{user:n}=U(),i=h.useCallback(async()=>{try{s(!0),r(null),console.log("🔐 Iniciando autenticação com Google...");const{data:d,error:m}=await F.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(m)throw console.error("❌ Erro na autenticação Google:",m),m;return console.log("✅ Redirecionamento para Google iniciado"),d}catch(d){const m=d instanceof Error?d.message:"Erro desconhecido";throw console.error("💥 Erro no Google Auth:",m),r(m),d}finally{s(!1)}},[]),o=h.useCallback(()=>n?.app_metadata?.provider==="google",[n]),c=h.useCallback(()=>o()?{name:n?.user_metadata?.full_name||n?.user_metadata?.name,email:n?.email,picture:n?.user_metadata?.avatar_url||n?.user_metadata?.picture,provider:"google",providerId:n?.user_metadata?.sub}:null,[n,o]),l=h.useCallback(()=>{r(null)},[]);return{signInWithGoogle:i,isGoogleUser:o,getGoogleUserInfo:c,loading:t,error:a,clearError:l}};function ud({text:t="Continuar com Google",variant:s="outline",size:a="md",onSuccess:r,onError:n,className:i="",fullWidth:o=!0}){const{signInWithGoogle:c,loading:l,error:d,clearError:m}=dg(),u=async()=>{try{m(),await c(),r?.()}catch(g){const y=g instanceof Error?g.message:"Erro na autenticação";n?.(y)}},x="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",p={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},v={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300",outline:"bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500 border border-gray-300 shadow-sm"},w=o?"w-full":"",b=`${x} ${p[a]} ${v[s]} ${w} ${i}`;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{type:"button",onClick:u,disabled:l,className:b,"aria-label":t,children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Conectando..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t]})}),d&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d]})})]})}function mg(){const{signIn:t}=U(),{t:s}=Wt(),a=W(),r=_t(),[n,i]=h.useState(!1),[o,c]=h.useState(!1),[l,d]=h.useState({email:"",password:""}),m=async u=>{u.preventDefault(),c(!0);try{console.log("📧 Tentando fazer login com:",l.email);const x=await t(l.email,l.password);console.log("✅ Login bem-sucedido:",x);const p=r.state?.from||"/";console.log("🚀 Redirecionando para:",p),a(p,{replace:!0})}catch(x){console.error("❌ Erro no login:",x),x instanceof Error?x.message.includes("Email não verificado")?(console.log("📨 Redirecionando para verificação de email"),a(`/email-verification?email=${encodeURIComponent(l.email)}`)):x.message.includes("Timeout")?alert("A conexão demorou muito para responder. Verifique sua internet e tente novamente."):x.message.includes("invalid_credentials")?alert("Email ou senha incorretos. Verifique suas credenciais e tente novamente."):alert(x.message):alert("Erro ao fazer login. Tente novamente.")}finally{c(!1),console.log("🏁 Processo de login finalizado")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Fs,{height:80,className:"w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333]",children:"Bem-vindo de volta"}),e.jsx("p",{className:"text-gray-600 mt-3 text-lg",children:"Entre na sua conta para continuar"})]}),e.jsx("div",{className:"space-y-3",children:e.jsx(ud,{})}),e.jsx("div",{className:"mt-6 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou"})})]})}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:u=>d({...l,email:u.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"seu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(Kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:n?"text":"password",required:!0,value:l.password,onChange:u=>d({...l,password:u.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#C91F1F] transition-colors",children:n?e.jsx(ds,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:o?"Entrando...":s("auth.signin")})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Não tem uma conta?"," ",e.jsx(R,{to:"/signup",className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Cadastre-se"})]})})]})})})}function ug(){const{signUp:t}=U(),{t:s}=Wt(),a=W(),[r,n]=h.useState(!1),[i,o]=h.useState(!1),[c,l]=h.useState({email:"",password:"",fullName:"",userType:"customer"}),d=async m=>{m.preventDefault(),o(!0);try{console.log("🚀 CADASTRO: Iniciando cadastro com:",{email:c.email,userType:c.userType,fullName:c.fullName}),await t(c.email,c.password,{full_name:c.fullName,user_type:c.userType}),console.log("✅ CADASTRO: Sucesso! Redirecionando para o onboarding"),a("/onboarding")}catch(u){console.error("❌ ERRO NO CADASTRO:",u);let x="Erro ao criar conta. Tente novamente.";u instanceof Error&&(console.log("🔍 ERRO DETALHADO:",{message:u.message,name:u.name,stack:u.stack}),u.message.includes("já está cadastrado")||u.message.includes("already registered")?x="Este email já está cadastrado. Tente fazer login ou use outro email.":u.message.includes("Invalid login credentials")?x="Este email já existe no sistema. Tente fazer login ao invés de cadastrar.":u.message.includes("Invalid email")?x="Email inválido. Verifique o formato do email.":u.message.includes("Password")||u.message.includes("password")?x="Senha deve ter pelo menos 6 caracteres.":u.message.includes("duplicate key")||u.message.includes("unique constraint")?x="Este email já está em uso. Tente fazer login.":u.message.includes("User already registered")?x="Este email já está cadastrado. Faça login ou use outro email.":x=u.message),alert(x)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Fs,{height:80,className:"w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333]",children:"Criar Conta"}),e.jsx("p",{className:"text-gray-600 mt-3 text-lg",children:"Cadastre-se para começar a economizar"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.fullname")}),e.jsxs("div",{className:"relative",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"text",required:!0,value:c.fullName,onChange:m=>l({...c,fullName:m.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Seu nome completo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"email",required:!0,value:c.email,onChange:m=>l({...c,email:m.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"seu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(Kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:r?"text":"password",required:!0,value:c.password,onChange:m=>l({...c,password:m.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#C91F1F] transition-colors",children:r?e.jsx(ds,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:s("auth.usertype")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>l({...c,userType:"customer"}),className:`p-4 border-2 rounded-xl text-center transition-all ${c.userType==="customer"?"border-[#F6C100] bg-gradient-to-br from-[#F6C100] to-[#C91F1F] text-white":"border-gray-300 text-[#333333] hover:border-[#F6C100]"}`,children:[e.jsx("div",{className:"font-semibold",children:s("auth.customer")}),e.jsx("div",{className:"text-sm opacity-80",children:"Usar cupons"})]}),e.jsxs("button",{type:"button",onClick:()=>l({...c,userType:"merchant"}),className:`p-4 border-2 rounded-xl text-center transition-all ${c.userType==="merchant"?"border-[#C91F1F] bg-gradient-to-br from-[#C91F1F] to-[#333333] text-white":"border-gray-300 text-[#333333] hover:border-[#C91F1F]"}`,children:[e.jsx("div",{className:"font-semibold",children:s("auth.merchant")}),e.jsx("div",{className:"text-sm opacity-80",children:"Criar ofertas"})]})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:i?"Criando conta...":s("auth.signup")})]}),e.jsx("div",{className:"mt-6 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou cadastre-se com"})})]})}),e.jsx("div",{className:"space-y-3",children:e.jsx(ud,{})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",e.jsx(R,{to:"/login",className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Entre aqui"})]})})]})})})}function hg(){const{syncGoogleUser:t}=U(),s=W();return h.useEffect(()=>{(async()=>{const{data:r,error:n}=await F.auth.getSession();if(n){console.error("Error getting session after Google login:",n),s("/login?error=auth_failed");return}if(r.session?.user)try{await t(r.session.user);const{data:i,error:o}=await F.from("users").select("terms_accepted").eq("id",r.session.user.id).single();if(o)throw o;i&&"terms_accepted"in i?s("/customer-dashboard"):s("/customer-dashboard?onboarding=true")}catch(i){console.error("Error syncing Google user:",i),s("/login?error=sync_failed")}else s("/login?error=no_session")})()},[t,s]),e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#333333]",children:"Autenticando..."}),e.jsx("p",{className:"text-gray-600",children:"Aguarde um momento, estamos preparando tudo para você."})]})})}function xg(){const[t,s]=h.useState("loading"),[a,r]=h.useState(null),[n]=Ss(),i=W(),{user:o}=U();h.useEffect(()=>{const d=async()=>{try{const u=n.get("access_token"),x=n.get("refresh_token"),p=n.get("type"),v=n.get("token_hash");if(console.log("URL params:",{accessToken:u,refreshToken:x,type:p,tokenHash:v}),!u||!x){console.error("Missing tokens in URL"),s("error");return}if(o?.email_confirmed_at){console.log("User already verified, redirecting..."),s("success"),setTimeout(()=>{i("/customer-dashboard")},3e3);return}const{data:w,error:b}=await F.auth.setSession({access_token:u,refresh_token:x});if(b){console.error("Session error:",b),s("error"),setError("Link inválido ou expirado");return}console.log("Session set successfully:",w);const{data:g,error:y}=await F.auth.verifyOtp({token_hash:v||"",type:"email"});if(y){console.error("Verify error:",y),s("error"),setError("Link inválido ou expirado");return}if(console.log("Email verified successfully:",g),g.user){const{error:f}=await F.from("users").update({email_verified:!0,email_verification_sent_at:null}).eq("id",g.user.id);if(f){console.error("Error updating user profile:",f),s("error"),setError("Link inválido ou expirado");return}const{data:C,error:E}=await F.from("users").select("user_type").eq("id",g.user.id).single();E?console.error("Error fetching user data:",E):r(C.user_type)}s("success"),setTimeout(()=>{i(a==="merchant"?"/merchant/dashboard":"/dashboard")},3e3)}catch(u){console.error("Unexpected error:",u),s("error"),setError("Link inválido ou expirado")}},m=setTimeout(()=>{d()},1e3);return()=>clearTimeout(m)},[n,i,o,a]);const c=()=>{i("/login")},l=()=>e.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:"D"})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 px-4",children:[e.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(l,{})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Duo Pass Club"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:e.jsxs("div",{className:"text-center",children:[t==="loading"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(ct,{className:"h-12 w-12 text-orange-500 animate-spin"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Confirmando seu email..."}),e.jsx("p",{className:"text-gray-600",children:"Por favor, aguarde enquanto verificamos seu email."})]})]}),t==="success"&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(B,{className:"h-12 w-12 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Email Confirmado!"}),e.jsx("p",{className:"text-gray-600",children:"Redirecionando para dashboard..."})]})]}),t==="error"&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(ks,{className:"h-12 w-12 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Erro na confirmação"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Link inválido ou expirado"}),e.jsx("button",{onClick:c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:"Voltar ao Login"})]})]})]})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
      `})]})}function pg({message:t,type:s,isVisible:a,onClose:r,duration:n=4e3}){const[i,o]=h.useState(!1);return h.useEffect(()=>{if(a){o(!0);const c=setTimeout(()=>{o(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)}},[a,n,r]),!a&&!i?null:e.jsx("div",{className:`fixed top-4 right-4 z-50 transition-all duration-300 transform ${a?"translate-x-0 opacity-100 animate-slide-up":"translate-x-full opacity-0"}`,children:e.jsxs("div",{className:`px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 min-w-[300px] hover-lift ${s==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[s==="success"?e.jsx(B,{className:"w-5 h-5 flex-shrink-0 animate-scale-in"}):e.jsx(et,{className:"w-5 h-5 flex-shrink-0 animate-shake"}),e.jsx("span",{className:"font-medium animate-fade-in",children:t}),e.jsx("button",{onClick:r,className:"ml-auto text-white hover:text-gray-200 transition-all duration-200 hover:scale-110 active:scale-95",children:e.jsx(pe,{className:"w-4 h-4"})})]})})}function fg(){const[t]=Ss(),[s,a]=h.useState(""),{resendConfirmation:r,getResendCooldown:n}=U(),[i,o]=h.useState(!1),[c,l]=h.useState(0),[d,m]=h.useState({message:"",type:"info",isVisible:!1});h.useEffect(()=>{const w=t.get("email");w&&(a(w),u(w))},[t,u]),h.useEffect(()=>{let w;return c>0&&(w=setTimeout(()=>{l(c-1)},1e3)),()=>clearTimeout(w)},[c]);const u=h.useCallback(async w=>{try{const b=await n(w);l(b)}catch(b){console.error("Error checking cooldown:",b)}},[n]),x=(w,b)=>{m({message:w,type:b,isVisible:!0})},p=()=>{m(w=>({...w,isVisible:!1}))},v=async()=>{if(!(!s||c>0)){o(!0);try{await r(s),x("Email reenviado com sucesso!","success"),l(60)}catch(w){const b=w instanceof Error?w.message:"Unknown error";b.includes("Aguarde")?(x(b,"error"),await u(s)):x("Erro ao reenviar. Tente novamente.","error")}finally{o(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center animate-scale-in hover-lift",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Fs,{height:80,className:"w-auto"})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mb-6 animate-glow",children:e.jsx(Qe,{className:"w-10 h-10 text-white animate-bounce"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333] mb-4 animate-fade-in",children:"Verifique seu email"}),e.jsx("p",{className:"text-gray-600 text-lg mb-2 animate-fade-in",children:"Enviamos um link de confirmação para:"}),e.jsx("p",{className:"text-[#F6C100] font-semibold text-lg mb-6 break-all animate-fade-in",children:s}),e.jsx("div",{className:"bg-gradient-to-r from-[#F6C100]/10 to-[#C91F1F]/10 border border-[#F6C100]/30 rounded-xl p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Importante:"})," Verifique também sua caixa de spam ou lixo eletrônico. O email pode levar alguns minutos para chegar."]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:v,disabled:i||c>0,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-200 transform min-h-[44px] ${i||c>0?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50":"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white hover:shadow-lg hover:-translate-y-0.5 hover:scale-105 active:scale-95"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-4 h-4 animate-spin inline mr-2"}),"Enviando..."]}):c>0?`Reenviar em ${c}s`:"Reenviar email de confirmação"}),e.jsx(R,{to:"/login",className:"block w-full bg-gray-100 text-[#333333] py-3 px-4 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-300 text-center transform hover:-translate-y-1 active:scale-95 min-h-[48px] flex items-center justify-center",children:"Voltar ao login"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Não recebeu o email? Verifique se o endereço está correto ou"," ",e.jsx(R,{to:"/signup",className:"text-[#C91F1F] hover:text-[#F6C100] font-medium",children:"tente cadastrar novamente"})]})})]})}),e.jsx(pg,{message:d.message,type:d.type,isVisible:d.isVisible,onClose:p})]})}function fo(){const t=W(),[s]=Ss(),{user:a,syncGoogleUser:r}=U(),[n,i]=h.useState("loading"),[o,c]=h.useState("Processando autenticação..."),l=h.useRef(!1),d=h.useRef(!1);return h.useEffect(()=>{const m=async()=>{if(l.current){console.log("🔄 Callback já processado, ignorando...");return}l.current=!0;try{console.log("🔄 Processando callback do Google OAuth...");const u=s.get("error"),x=s.get("error_description");if(u){console.error("❌ Erro no callback OAuth:",u,x),i("error"),c(x||"Erro na autenticação com Google"),window.history.replaceState({},"","/login"),setTimeout(()=>{t("/login",{replace:!0})},3e3);return}const{data:{session:p},error:v}=await F.auth.getSession();if(v)throw console.error("❌ Erro ao obter sessão:",v),v;if(!p||!p.user){console.log("⚠️ Nenhuma sessão encontrada, tentando processar hash...");const{data:y,error:f}=await F.auth.getSessionFromUrl();if(f)throw console.error("❌ Erro ao processar hash:",f),f;if(!y.session)throw new Error("Falha na autenticação com Google")}console.log("✅ Sessão Google obtida:",{userId:p.user.id,email:p.user.email,provider:p.user.app_metadata?.provider}),p.user.app_metadata?.provider!=="google"&&console.warn("⚠️ Provider não é Google:",p.user.app_metadata?.provider),await r(p.user);const g=await(async y=>{const{data:f}=await F.from("user_profiles").select("onboarding_completed").eq("id",y).single();return!f?.onboarding_completed})(p.user.id)?"/customer-dashboard?onboarding=true":"/customer-dashboard";i("success"),c("Login realizado com sucesso!"),window.history.replaceState({},"",g),setTimeout(()=>{t(g,{replace:!0})},2e3)}catch(u){console.error("💥 Erro no callback OAuth:",u),i("error"),c(u instanceof Error?u.message:"Erro inesperado na autenticação"),window.history.replaceState({},"","/login"),setTimeout(()=>{t("/login",{replace:!0})},3e3)}};n==="loading"&&!l.current&&m()},[t,s,n,r]),h.useEffect(()=>{a&&n==="loading"&&!d.current&&(console.log("👤 Usuário já autenticado, redirecionando..."),d.current=!0,i("success"),c("Usuário já autenticado!"),window.history.replaceState({},"","/customer-dashboard"),setTimeout(()=>{t("/customer-dashboard",{replace:!0})},1e3))},[a,n,t]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:"/duopass_logo.svg",alt:"DuoPass",className:"h-12 w-auto mx-auto"})}),n==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("svg",{className:"animate-spin h-12 w-12 text-blue-600 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processando Login"}),e.jsx("p",{className:"text-gray-600",children:o})]}),n==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"h-12 w-12 text-green-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-2",children:"Login Realizado!"}),e.jsx("p",{className:"text-green-700",children:o})]}),n==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"h-12 w-12 text-red-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-2",children:"Erro na Autenticação"}),e.jsx("p",{className:"text-red-700 mb-4",children:o}),e.jsx("button",{onClick:()=>t("/login",{replace:!0}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Voltar ao Login"})]}),e.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Aguarde enquanto processamos sua autenticação..."})]})})}const hd=6048e5,gg=864e5,go=Symbol.for("constructDateFrom");function ht(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&go in t?t[go](s):t instanceof Date?new t.constructor(s):new Date(s)}function Ne(t,s){return ht(s||t,t)}let bg={};function Ms(){return bg}function Gt(t,s){const a=Ms(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=Ne(t,s?.in),i=n.getDay(),o=(i<r?7:0)+i-r;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function na(t,s){return Gt(t,{...s,weekStartsOn:1})}function xd(t,s){const a=Ne(t,s?.in),r=a.getFullYear(),n=ht(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=na(n),o=ht(a,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=na(o);return a.getTime()>=i.getTime()?r+1:a.getTime()>=c.getTime()?r:r-1}function bo(t){const s=Ne(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function yg(t,...s){const a=ht.bind(null,s.find(r=>typeof r=="object"));return s.map(a)}function yo(t,s){const a=Ne(t,s?.in);return a.setHours(0,0,0,0),a}function vg(t,s,a){const[r,n]=yg(a?.in,t,s),i=yo(r),o=yo(n),c=+i-bo(i),l=+o-bo(o);return Math.round((c-l)/gg)}function jg(t,s){const a=xd(t,s),r=ht(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),na(r)}function Ng(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wg(t){return!(!Ng(t)&&typeof t!="number"||isNaN(+Ne(t)))}function Cg(t,s){const a=Ne(t,s?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function Sg(t,s){const a=Ne(t,s?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function _g(t,s){const a=Ne(t,s?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Eg(t,s){const a=Ms(),r=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=Ne(t,s?.in),i=n.getDay(),o=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}const kg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pg=(t,s,a)=>{let r;const n=kg[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function qt(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Ag={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tg={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fg={date:qt({formats:Ag,defaultWidth:"full"}),time:qt({formats:Dg,defaultWidth:"full"}),dateTime:qt({formats:Tg,defaultWidth:"full"})},Mg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Og=(t,s,a,r)=>Mg[t];function $e(t){return(s,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=a?.width?String(a.width):o;n=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=a?.width?String(a.width):t.defaultWidth;n=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(s):s;return n[i]}}const Rg={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ig={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vg={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lg={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ug=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Bg={ordinalNumber:Ug,era:$e({values:Rg,defaultWidth:"wide"}),quarter:$e({values:Ig,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$e({values:Vg,defaultWidth:"wide"}),day:$e({values:Lg,defaultWidth:"wide"}),dayPeriod:$e({values:qg,defaultWidth:"wide",formattingValues:zg,defaultFormattingWidth:"wide"})};function He(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=s.match(n);if(!i)return null;const o=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(c)?Hg(c,u=>u.test(o)):$g(c,u=>u.test(o));let d;d=t.valueCallback?t.valueCallback(l):l,d=a.valueCallback?a.valueCallback(d):d;const m=s.slice(o.length);return{value:d,rest:m}}}function $g(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function Hg(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function pd(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],i=s.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=a.valueCallback?a.valueCallback(o):o;const c=s.slice(n.length);return{value:o,rest:c}}}const Gg=/^(\d+)(th|st|nd|rd)?/i,Wg=/\d+/i,Kg={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qg={any:[/^b/i,/^(a|c)/i]},Yg={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xg={any:[/1/i,/2/i,/3/i,/4/i]},Zg={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e0={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t0={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},s0={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a0={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r0={ordinalNumber:pd({matchPattern:Gg,parsePattern:Wg,valueCallback:t=>parseInt(t,10)}),era:He({matchPatterns:Kg,defaultMatchWidth:"wide",parsePatterns:Qg,defaultParseWidth:"any"}),quarter:He({matchPatterns:Yg,defaultMatchWidth:"wide",parsePatterns:Xg,defaultParseWidth:"any",valueCallback:t=>t+1}),month:He({matchPatterns:Zg,defaultMatchWidth:"wide",parsePatterns:Jg,defaultParseWidth:"any"}),day:He({matchPatterns:e0,defaultMatchWidth:"wide",parsePatterns:t0,defaultParseWidth:"any"}),dayPeriod:He({matchPatterns:s0,defaultMatchWidth:"any",parsePatterns:a0,defaultParseWidth:"any"})},n0={code:"en-US",formatDistance:Pg,formatLong:Fg,formatRelative:Og,localize:Bg,match:r0,options:{weekStartsOn:0,firstWeekContainsDate:1}};function i0(t,s){const a=Ne(t,s?.in);return vg(a,_g(a))+1}function o0(t,s){const a=Ne(t,s?.in),r=+na(a)-+jg(a);return Math.round(r/hd)+1}function fd(t,s){const a=Ne(t,s?.in),r=a.getFullYear(),n=Ms(),i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=ht(s?.in||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const c=Gt(o,s),l=ht(s?.in||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const d=Gt(l,s);return+a>=+c?r+1:+a>=+d?r:r-1}function l0(t,s){const a=Ms(),r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=fd(t,s),i=ht(s?.in||t,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),Gt(i,s)}function c0(t,s){const a=Ne(t,s?.in),r=+Gt(a,s)-+l0(a,s);return Math.round(r/hd)+1}function Q(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const rt={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Q(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Q(a+1,2)},d(t,s){return Q(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Q(t.getHours()%12||12,s.length)},H(t,s){return Q(t.getHours(),s.length)},m(t,s){return Q(t.getMinutes(),s.length)},s(t,s){return Q(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return Q(n,s.length)}},At={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vo={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return rt.y(t,s)},Y:function(t,s,a,r){const n=fd(t,r),i=n>0?n:1-n;if(s==="YY"){const o=i%100;return Q(o,2)}return s==="Yo"?a.ordinalNumber(i,{unit:"year"}):Q(i,s.length)},R:function(t,s){const a=xd(t);return Q(a,s.length)},u:function(t,s){const a=t.getFullYear();return Q(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Q(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Q(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return rt.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Q(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=c0(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):Q(n,s.length)},I:function(t,s,a){const r=o0(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Q(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):rt.d(t,s)},D:function(t,s,a){const r=i0(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Q(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Q(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Q(i,s.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return Q(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=At.noon:r===0?n=At.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=At.evening:r>=12?n=At.afternoon:r>=4?n=At.morning:n=At.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return rt.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):rt.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Q(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Q(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):rt.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):rt.s(t,s)},S:function(t,s){return rt.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return No(r);case"XXXX":case"XX":return bt(r);case"XXXXX":case"XXX":default:return bt(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return No(r);case"xxxx":case"xx":return bt(r);case"xxxxx":case"xxx":default:return bt(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+jo(r,":");case"OOOO":default:return"GMT"+bt(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+jo(r,":");case"zzzz":default:return"GMT"+bt(r,":")}},t:function(t,s,a){const r=Math.trunc(+t/1e3);return Q(r,s.length)},T:function(t,s,a){return Q(+t,s.length)}};function jo(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),i=r%60;return i===0?a+String(n):a+String(n)+s+Q(i,2)}function No(t,s){return t%60===0?(t>0?"-":"+")+Q(Math.abs(t)/60,2):bt(t,s)}function bt(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Q(Math.trunc(r/60),2),i=Q(r%60,2);return a+n+s+i}const wo=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},gd=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},d0=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return wo(t,s);let i;switch(r){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",wo(r,s)).replace("{{time}}",gd(n,s))},m0={p:gd,P:d0},u0=/^D+$/,h0=/^Y+$/,x0=["D","DD","YY","YYYY"];function p0(t){return u0.test(t)}function f0(t){return h0.test(t)}function g0(t,s,a){const r=b0(t,s,a);if(console.warn(r),x0.includes(t))throw new RangeError(r)}function b0(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j0=/^'([^]*?)'?$/,N0=/''/g,w0=/[a-zA-Z]/;function ia(t,s,a){const r=Ms(),n=a?.locale??r.locale??n0,i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=Ne(t,a?.in);if(!wg(c))throw new RangeError("Invalid time value");let l=s.match(v0).map(m=>{const u=m[0];if(u==="p"||u==="P"){const x=m0[u];return x(m,n.formatLong)}return m}).join("").match(y0).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const u=m[0];if(u==="'")return{isToken:!1,value:C0(m)};if(vo[u])return{isToken:!0,value:m};if(u.match(w0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:m}});n.localize.preprocessor&&(l=n.localize.preprocessor(c,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return l.map(m=>{if(!m.isToken)return m.value;const u=m.value;(!a?.useAdditionalWeekYearTokens&&f0(u)||!a?.useAdditionalDayOfYearTokens&&p0(u))&&g0(u,s,String(t));const x=vo[u[0]];return x(c,u,n.localize,d)}).join("")}function C0(t){const s=t.match(j0);return s?s[1].replace(N0,"'"):t}const S0={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_0=(t,s,a)=>{let r;const n=S0[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",String(s)),a?.addSuffix?a.comparison&&a.comparison>0?"em "+r:"há "+r:r},E0={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},k0={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},P0={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A0={date:qt({formats:E0,defaultWidth:"full"}),time:qt({formats:k0,defaultWidth:"full"}),dateTime:qt({formats:P0,defaultWidth:"full"})},D0={lastWeek:t=>{const s=t.getDay();return"'"+(s===0||s===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},T0=(t,s,a,r)=>{const n=D0[t];return typeof n=="function"?n(s):n},F0={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},M0={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},O0={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},R0={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},I0={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},V0={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},L0=(t,s)=>{const a=Number(t);return s?.unit==="week"?a+"ª":a+"º"},q0={ordinalNumber:L0,era:$e({values:F0,defaultWidth:"wide"}),quarter:$e({values:M0,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$e({values:O0,defaultWidth:"wide"}),day:$e({values:R0,defaultWidth:"wide"}),dayPeriod:$e({values:I0,defaultWidth:"wide",formattingValues:V0,defaultFormattingWidth:"wide"})},z0=/^(\d+)[ºªo]?/i,U0=/\d+/i,B0={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},$0={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},H0={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},G0={any:[/1/i,/2/i,/3/i,/4/i]},W0={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},K0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Q0={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Y0={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},X0={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Z0={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},J0={ordinalNumber:pd({matchPattern:z0,parsePattern:U0,valueCallback:t=>parseInt(t,10)}),era:He({matchPatterns:B0,defaultMatchWidth:"wide",parsePatterns:$0,defaultParseWidth:"any"}),quarter:He({matchPatterns:H0,defaultMatchWidth:"wide",parsePatterns:G0,defaultParseWidth:"any",valueCallback:t=>t+1}),month:He({matchPatterns:W0,defaultMatchWidth:"wide",parsePatterns:K0,defaultParseWidth:"any"}),day:He({matchPatterns:Q0,defaultMatchWidth:"wide",parsePatterns:Y0,defaultParseWidth:"any"}),dayPeriod:He({matchPatterns:X0,defaultMatchWidth:"any",parsePatterns:Z0,defaultParseWidth:"any"})},Co={code:"pt-BR",formatDistance:_0,formatLong:A0,formatRelative:T0,localize:q0,match:J0,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eb({voucher:t,className:s=""}){const a=t.status==="used",r=t.status==="expired"||new Date(t.expires_at)<new Date;return e.jsxs("div",{className:`relative max-w-sm mx-auto ${s}`,children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-2xl p-6 shadow-2xl border-4 border-red-600",style:{backgroundColor:"#F6C100",borderColor:"#C91F1F"},children:[(a||r)&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-2xl flex items-center justify-center z-10",children:e.jsx("div",{className:"bg-white px-4 py-2 rounded-lg transform -rotate-12",children:e.jsx("span",{className:"text-red-600 font-bold text-lg",children:a?"UTILIZADO":"EXPIRADO"})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-white font-bold text-xl mb-1 drop-shadow-lg",children:t.merchant?.business_name||"Parceiro DuoPass"}),e.jsx("div",{className:"h-0.5 bg-red-600 mx-8"})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("p",{className:"text-red-800 font-semibold text-lg",children:t.user?.full_name||"Cliente"})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-3 rounded-xl shadow-lg",children:e.jsx("img",{src:t.qr_code_data,alt:"QR Code",className:"w-32 h-32"})})}),e.jsx("div",{className:"text-center mb-4",children:e.jsxs("p",{className:"text-red-800 font-medium",children:["Válido até: ",ia(new Date(t.expires_at),"dd/MM/yyyy",{locale:Co})]})}),t.used_at&&e.jsxs("div",{className:"text-center mb-4 text-sm",children:[e.jsxs("p",{className:"text-red-700",children:["Usado em: ",ia(new Date(t.used_at),"dd/MM/yyyy HH:mm",{locale:Co})]}),t.used_location&&e.jsxs("p",{className:"text-red-700",children:["Local: ",t.used_location]})]}),e.jsx("div",{className:"border-t-2 border-red-600 pt-3 mt-4",children:e.jsx("p",{className:"text-center text-red-800 font-mono text-sm font-bold",children:t.voucher_code})}),e.jsx("div",{className:"absolute top-2 left-2 w-4 h-4 bg-red-600 rounded-full opacity-50"}),e.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-red-600 rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-2 left-2 w-4 h-4 bg-red-600 rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-2 right-2 w-4 h-4 bg-red-600 rounded-full opacity-50"})]}),e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full border-2 border-gray-300"})}),e.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full border-2 border-gray-300"})})]})}const Bs=[{id:"preferred_time",title:"Quando você prefere suas experiências culturais?",subtitle:"Escolha o período que mais combina com você",icon:Se,type:"single",options:[{value:"morning",label:"Manhã",description:"Até 12h"},{value:"afternoon",label:"Tarde",description:"12h às 18h"},{value:"evening",label:"Noite",description:"Após 18h"},{value:"flexible",label:"Flexível",description:"Qualquer horário"}]},{id:"cultural_frequency",title:"Com que frequência você busca experiências culturais?",subtitle:"Nos ajude a entender seu ritmo",icon:dt,type:"single",options:[{value:"daily",label:"Diariamente",description:"Sempre em busca de algo novo"},{value:"weekly",label:"Semanalmente",description:"Fins de semana culturais"},{value:"monthly",label:"Mensalmente",description:"Experiências especiais"},{value:"occasionally",label:"Ocasionalmente",description:"Quando surge oportunidade"}]},{id:"budget_range",title:"Qual seu orçamento típico para experiências culturais?",subtitle:"Por pessoa, por experiência",icon:Xr,type:"single",options:[{value:"low",label:"Até CHF 9.-",description:"Experiências acessíveis"},{value:"medium",label:"CHF 9.- - CHF 27.-",description:"Investimento moderado"},{value:"high",label:"CHF 27.- - CHF 54.-",description:"Experiências premium"},{value:"luxury",label:"Acima de CHF 54.-",description:"Sem limites para cultura"}]},{id:"group_size_preference",title:"Como você prefere vivenciar a cultura?",subtitle:"Tamanho ideal do grupo",icon:$,type:"single",options:[{value:"solo",label:"Sozinho(a)",description:"Momentos de introspecção"},{value:"couple",label:"Em dupla",description:"Experiências íntimas"},{value:"small_group",label:"Grupo pequeno",description:"3-6 pessoas"},{value:"large_group",label:"Grupo grande",description:"7+ pessoas"}]},{id:"discovery_style",title:"Como você gosta de descobrir novas experiências?",subtitle:"Seu estilo de exploração",icon:Lm,type:"single",options:[{value:"planned",label:"Planejado",description:"Pesquiso e organizo com antecedência"},{value:"spontaneous",label:"Espontâneo",description:"Decido na hora"},{value:"recommended",label:"Por indicação",description:"Confio em recomendações"},{value:"mixed",label:"Misto",description:"Depende da ocasião"}]},{id:"primary_interests",title:"Quais são seus principais interesses culturais?",subtitle:"Escolha até 3 opções",icon:Y,type:"multiple",options:[{value:"arte",label:"Arte & Design",description:"Museus, galerias, exposições"},{value:"gastronomia",label:"Gastronomia",description:"Restaurantes, degustações, culinária"},{value:"musica",label:"Música",description:"Shows, concertos, festivais"},{value:"bem-estar",label:"Bem-estar",description:"Spas, retiros, mindfulness"},{value:"cultura",label:"Cultura Local",description:"História, tradições, patrimônio"}]},{id:"preferred_location",title:"Onde você prefere suas experiências culturais?",subtitle:"Selecione sua cidade principal na Suíça",icon:Re,type:"single",options:[{value:"Zurich",label:"Zurich",description:"Centro financeiro e cultural"},{value:"Geneva",label:"Geneva",description:"Cidade internacional"},{value:"Bern",label:"Bern",description:"Capital federal"},{value:"Basel",label:"Basel",description:"Centro artístico"},{value:"Lausanne",label:"Lausanne",description:"Cidade universitária"},{value:"Lucerne",label:"Lucerne",description:"Beleza alpina"}]},{id:"available_days",title:"Quais dias você tem mais disponibilidade?",subtitle:"Selecione todos que se aplicam",icon:dt,type:"days",options:[{value:"monday",label:"Segunda"},{value:"tuesday",label:"Terça"},{value:"wednesday",label:"Quarta"},{value:"thursday",label:"Quinta"},{value:"friday",label:"Sexta"},{value:"saturday",label:"Sábado"},{value:"sunday",label:"Domingo"}]},{id:"social_style",title:"Como você se descreveria socialmente?",subtitle:"Seu perfil social",icon:$,type:"single",options:[{value:"introvert",label:"Introvertido(a)",description:"Prefiro grupos menores e conversas profundas"},{value:"extrovert",label:"Extrovertido(a)",description:"Adoro conhecer pessoas e grandes grupos"},{value:"ambivert",label:"Ambivertido(a)",description:"Depende do momento e contexto"}]},{id:"experience_level",title:"Como você se considera em relação à cultura?",subtitle:"Seu nível de experiência",icon:Z,type:"single",options:[{value:"beginner",label:"Iniciante",description:"Começando a explorar"},{value:"intermediate",label:"Intermediário",description:"Tenho alguma experiência"},{value:"advanced",label:"Avançado",description:"Sou bem experiente"},{value:"expert",label:"Especialista",description:"Conheço muito sobre cultura"}]}];function tb({onComplete:t,existingPreferences:s,onCancel:a}){const{user:r}=U(),[n,i]=h.useState(0),[o,c]=h.useState(()=>s?{experience_level:s.culture_level,primary_interests:s.interests,preferred_location:s.location,preferred_time:s.preferred_time,cultural_frequency:s.cultural_frequency,budget_range:s.budget_range,group_size_preference:s.group_size_preference,discovery_style:s.discovery_style,available_days:s.available_days,social_style:s.social_style}:{}),[l,d]=h.useState(!1),m=Bs[n],u=n===Bs.length-1,x=o[m.id]!==void 0,p=f=>{if(m.type==="multiple"){const C=o[m.id]||[];C.includes(f)?c(E=>({...E,[m.id]:C.filter(j=>j!==f)})):C.length<3&&c(E=>({...E,[m.id]:[...C,f]}))}else if(m.type==="days"){const C=o[m.id]||[];C.includes(f)?c(E=>({...E,[m.id]:C.filter(j=>j!==f)})):c(E=>({...E,[m.id]:[...C,f]}))}else c(C=>({...C,[m.id]:f}))},v=()=>{u?b():i(f=>f+1)},w=()=>{i(f=>f-1)},b=async()=>{if(r){d(!0);try{const f={user_id:r.id,culture_level:o.experience_level,interests:o.primary_interests,location:o.preferred_location,updated_at:new Date().toISOString()};let C;if(s?C=await F.from("preferences").update(f).eq("user_id",r.id).select().single():C=await F.from("preferences").insert(f).select().single(),C.error)throw C.error;t(C.data)}catch(f){console.error("Erro ao salvar preferências:",f),alert("Erro ao salvar suas preferências. Tente novamente.")}finally{d(!1)}}},g=(n+1)/Bs.length*100,y=m.icon;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] rounded-lg flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:s?"Atualizar Perfil Cultural":"Perfil Cultural"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Questão ",n+1," de ",Bs.length]})]})]}),a&&e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(je,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"pb-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.title}),e.jsx("p",{className:"text-gray-600",children:m.subtitle}),m.type==="multiple"&&e.jsx("p",{className:"text-sm text-[#C91F1F] mt-2",children:"Selecione até 3 opções"})]}),e.jsx("div",{className:"space-y-3",children:m.options.map(f=>{const C=m.type==="multiple"||m.type==="days"?(o[m.id]||[]).includes(f.value):o[m.id]===f.value,E=m.type==="multiple"&&!C&&(o[m.id]||[]).length>=3;return e.jsx("button",{onClick:()=>!E&&p(f.value),disabled:E,className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${C?"border-[#C91F1F] bg-red-50 text-[#C91F1F]":E?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-[#C91F1F] hover:bg-red-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:f.label}),f.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:f.description})]}),C&&e.jsx(B,{className:"w-6 h-6 text-[#C91F1F] flex-shrink-0 ml-3"})]})},f.value)})}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t",children:[e.jsxs("button",{onClick:w,disabled:n===0,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${n===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Anterior"})]}),e.jsx("button",{onClick:v,disabled:!x||l,className:`flex items-center space-x-2 px-8 py-3 rounded-lg font-medium transition-colors ${x&&!l?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:l?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:u?"Finalizar":"Próxima"}),e.jsx(ie,{className:"w-5 h-5"})]})})]})]})})]})}const So={arte:ha,gastronomia:en,musica:Jr,"bem-estar":Y,cultura:yl},$s={arte:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"},gastronomia:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200"},musica:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},"bem-estar":{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"},cultura:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200"}};function _o({userPreferences:t}){const{user:s}=U(),a=W(),[r,n]=h.useState([]),[i,o]=h.useState([]),[c,l]=h.useState(!0),[d,m]=h.useState(""),[u,x]=h.useState("all"),[p,v]=h.useState(!1),[w,b]=h.useState(null),g=async()=>{try{if(s?.id==="demo-user-id"){const P=[{id:"arte-design",name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",member_count:1247,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"gastronomia-gourmet",name:"Gastronomia Gourmet",description:"Descubra novos sabores, restaurantes exclusivos e experiências culinárias únicas com outros food lovers.",category:"gastronomia",member_count:892,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"musica-concertos",name:"Música & Concertos",description:"Compartilhe shows, concertos e festivais musicais com melômanos que adoram descobrir novos artistas.",category:"musica",member_count:1534,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"bem-estar-mindful",name:"Bem-estar & Mindfulness",description:"Conecte-se com pessoas que valorizam o autocuidado, spas, retiros e práticas de bem-estar.",category:"bem-estar",member_count:678,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"cultura-patrimonio",name:"Cultura & Patrimônio",description:"Explore a história local, tradições culturais e patrimônio histórico com outros entusiastas da cultura.",category:"cultura",member_count:945,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];n(P),l(!1);return}const _=[{id:"arte-design",name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",member_count:1247,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"gastronomia-gourmet",name:"Gastronomia Gourmet",description:"Descubra novos sabores, restaurantes exclusivos e experiências culinárias únicas com outros food lovers.",category:"gastronomia",member_count:892,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"musica-concertos",name:"Música & Concertos",description:"Compartilhe shows, concertos e festivais musicais com melômanos que adoram descobrir novos artistas.",category:"musica",member_count:1534,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"bem-estar-mindful",name:"Bem-estar & Mindfulness",description:"Conecte-se com pessoas que valorizam o autocuidado, spas, retiros e práticas de bem-estar.",category:"bem-estar",member_count:678,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"cultura-patrimonio",name:"Cultura & Patrimônio",description:"Explore a história local, tradições culturais e patrimônio histórico com outros entusiastas da cultura.",category:"cultura",member_count:945,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];n(_)}catch(_){console.error("Erro ao carregar comunidades:",_)}finally{l(!1)}},y=async()=>{if(s)try{if(s.id==="demo-user-id"){o(["arte-design","gastronomia-gourmet"]);return}const{data:_,error:P}=await F.from("community_members").select("community_id").eq("user_id",s.id);if(P)throw P;o(_?.map(T=>T.community_id)||[])}catch(_){console.error("Erro ao carregar memberships:",_)}},f=fe.useCallback(g,[s]),C=fe.useCallback(y,[s]);h.useEffect(()=>{f(),s&&C()},[s,f,C]);const E=async _=>{if(!(!s||w)){b(_);try{if(s.id==="demo-user-id"){o(T=>[...T,_]),n(T=>T.map(I=>I.id===_?{...I,member_count:I.member_count+1}:I)),b(null),a(`/comunidade/${_}`);return}const{error:P}=await F.from("community_members").insert({community_id:_,user_id:s.id});if(P)throw P;o(T=>[...T,_]),await g(),a(`/comunidade/${_}`)}catch(P){console.error("Erro ao entrar na comunidade:",P),alert("Erro ao entrar na comunidade. Tente novamente.")}finally{b(null)}}},j=async _=>{if(!(!s||w)){b(_);try{if(s.id==="demo-user-id"){o(T=>T.filter(I=>I!==_)),n(T=>T.map(I=>I.id===_?{...I,member_count:Math.max(0,I.member_count-1)}:I)),b(null);return}const{error:P}=await F.from("community_members").delete().eq("community_id",_).eq("user_id",s.id);if(P)throw P;o(T=>T.filter(I=>I!==_)),await g()}catch(P){console.error("Erro ao sair da comunidade:",P),alert("Erro ao sair da comunidade. Tente novamente.")}finally{b(null)}}},A=_=>{a(`/comunidade/${_}`)},k=r.filter(_=>{const P=_.name.toLowerCase().includes(d.toLowerCase())||_.description.toLowerCase().includes(d.toLowerCase()),T=u==="all"||_.category===u,I=!p||i.includes(_.id);return P&&T&&I}),S=()=>t?.interests?k.filter(_=>t.interests.includes(_.category)):[],N=[{value:"all",label:"Todas",icon:$},{value:"arte",label:"Arte",icon:ha},{value:"gastronomia",label:"Gastronomia",icon:en},{value:"musica",label:"Música",icon:Jr},{value:"bem-estar",label:"Bem-estar",icon:Y},{value:"cultura",label:"Cultura",icon:yl}],D=S();return c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando comunidades..."})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar comunidades...",value:d,onChange:_=>m(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>v(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${p?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-[#C91F1F] text-white"}`,children:"Todas"}),e.jsxs("button",{onClick:()=>v(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${p?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Participando (",i.length,")"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:N.map(_=>{const P=_.icon,T=u===_.value;return e.jsxs("button",{onClick:()=>x(_.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${T?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:_.label})]},_.value)})})]})}),D.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Z,{className:"w-5 h-5 text-[#F6C100]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recomendadas para Você"}),e.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(_=>{const P=So[_.category]||$,T=$s[_.category]||$s.cultura,I=i.includes(_.id),H=w===_.id;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-[#F6C100] p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${T.bg} rounded-xl flex items-center justify-center`,children:e.jsx(P,{className:`w-6 h-6 ${T.text}`})}),e.jsxs("div",{className:"flex items-center space-x-1 text-[#F6C100]",children:[e.jsx(_e,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Recomendada"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-[#C91F1F] transition-colors",onClick:()=>A(_.id),children:_.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:_.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:_.member_count.toLocaleString()})]})}),e.jsx("button",{onClick:()=>I?j(_.id):E(_.id),disabled:H,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${I?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg"} ${H?"opacity-50 cursor-not-allowed":""}`,children:H?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):I?e.jsxs(e.Fragment,{children:[e.jsx(wr,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ti,{className:"w-4 h-4"}),e.jsx("span",{children:"Participar"})]})})]})]},_.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u==="all"?"Todas as Comunidades":`Comunidades de ${N.find(_=>_.value===u)?.label}`}),e.jsxs("span",{className:"text-sm text-gray-500",children:[k.length," ",k.length===1?"comunidade":"comunidades"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(_=>{const P=So[_.category]||$,T=$s[_.category]||$s.cultura,I=i.includes(_.id),H=w===_.id,X=D.some(ae=>ae.id===_.id);return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow ${X?"border-2 border-[#F6C100]":"border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${T.bg} rounded-xl flex items-center justify-center`,children:e.jsx(P,{className:`w-6 h-6 ${T.text}`})}),I&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Membro"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-[#C91F1F] transition-colors",onClick:()=>A(_.id),children:_.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:_.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:_.member_count.toLocaleString()})]})}),e.jsx("button",{onClick:()=>I?j(_.id):E(_.id),disabled:H,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${I?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg"} ${H?"opacity-50 cursor-not-allowed":""}`,children:H?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):I?e.jsxs(e.Fragment,{children:[e.jsx(wr,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ti,{className:"w-4 h-4"}),e.jsx("span",{children:"Participar"})]})})]})]},_.id)})}),k.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma comunidade encontrada"}),e.jsx("p",{className:"text-gray-500",children:d?"Tente ajustar sua busca":"Não há comunidades nesta categoria"})]})]})]})}function sb(){const{user:t}=U(),[s,a]=h.useState([]),[r,n]=h.useState(null),[i,o]=h.useState([]),[c,l]=h.useState(""),[d,m]=h.useState(!0),[u,x]=h.useState(!1),[p,v]=h.useState(""),[w,b]=h.useState(!1),g=h.useRef(null),y=h.useRef(null),f=()=>{g.current?.scrollIntoView({behavior:"smooth"})},C=async _=>{if(t)try{if(t.id==="demo-user-id"){const I={"conn-1":[{id:"msg-1-1",connection_id:"conn-1",sender_id:"user-2",content:"Oi! Vi que você também adora arte moderna. Que coincidência!",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()},{id:"msg-1-2",connection_id:"conn-1",sender_id:"demo-user-id",content:"Oi Ana! Sim, é uma paixão mesmo. Você foi na exposição do MASP recentemente?",message_type:"text",read_at:new Date(Date.now()-828e5).toISOString(),created_at:new Date(Date.now()-828e5).toISOString()},{id:"msg-1-3",connection_id:"conn-1",sender_id:"user-2",content:"Fui sim! Adorei a curadoria. Você tem alguma galeria favorita na cidade?",message_type:"text",created_at:new Date(Date.now()-792e5).toISOString()},{id:"msg-1-4",connection_id:"conn-1",sender_id:"demo-user-id",content:"Tenho várias! A Galeria Vermelho e a Nara Roesler são incríveis. Que tal irmos juntos na próxima exposição?",message_type:"text",read_at:new Date(Date.now()-756e5).toISOString(),created_at:new Date(Date.now()-756e5).toISOString()},{id:"msg-1-5",connection_id:"conn-1",sender_id:"user-2",content:"Adorei a exposição de arte moderna! Quando podemos ir juntos na próxima?",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()}],"conn-2":[{id:"msg-2-1",connection_id:"conn-2",sender_id:"user-3",content:"E aí! Vi que você curte gastronomia também. Conhece algum lugar bom para um jantar especial?",message_type:"text",created_at:new Date(Date.now()-1728e5).toISOString()},{id:"msg-2-2",connection_id:"conn-2",sender_id:"demo-user-id",content:"Oi Carlos! Conheço sim. O D.O.M. e o Maní são fantásticos. Que tipo de culinária você prefere?",message_type:"text",read_at:new Date(Date.now()-1692e5).toISOString(),created_at:new Date(Date.now()-1692e5).toISOString()},{id:"msg-2-3",connection_id:"conn-2",sender_id:"user-3",content:"Gosto muito de culinária contemporânea brasileira. O D.O.M. está na minha lista há tempos!",message_type:"text",created_at:new Date(Date.now()-1656e5).toISOString()},{id:"msg-2-4",connection_id:"conn-2",sender_id:"demo-user-id",content:"Perfeito! Vamos marcar para sábado então.",message_type:"text",read_at:new Date(Date.now()-18e5).toISOString(),created_at:new Date(Date.now()-72e5).toISOString()}],"conn-3":[{id:"msg-3-1",connection_id:"conn-3",sender_id:"user-4",content:"Oi! Que bom encontrar alguém que também valoriza o bem-estar. Você tem algum spa favorito?",message_type:"text",created_at:new Date(Date.now()-2592e5).toISOString()},{id:"msg-3-2",connection_id:"conn-3",sender_id:"demo-user-id",content:"Oi Marina! Sim, adoro cuidar do bem-estar. O Spa L'Occitane e o Kurotel são incríveis.",message_type:"text",read_at:new Date(Date.now()-2556e5).toISOString(),created_at:new Date(Date.now()-2556e5).toISOString()},{id:"msg-3-3",connection_id:"conn-3",sender_id:"user-4",content:"Que experiência incrível no spa! Obrigada pela companhia 🧘‍♀️",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()}]};o(I[_]||[]);return}const{data:P,error:T}=await F.from("member_messages").select("*").eq("connection_id",_).order("created_at",{ascending:!0});if(T)throw T;o(P||[])}catch(P){console.error("Erro ao carregar mensagens:",P)}},E=fe.useCallback(C,[t]);h.useEffect(()=>{console.log("🤝 Carregando conversas...");const _=[{connection:{id:"conn-1",user1_id:"demo-user-id",user2_id:"user-2",status:"accepted",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-36e5).toISOString()},otherUser:{id:"user-2",name:"Ana Silva",avatar:"🎭",isOnline:!0,lastSeen:new Date(Date.now()-18e5).toISOString()},lastMessage:{id:"msg-1-5",connection_id:"conn-1",sender_id:"user-2",content:"Adorei a exposição de arte moderna! Quando podemos ir juntos na próxima?",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()},unreadCount:2},{connection:{id:"conn-2",user1_id:"demo-user-id",user2_id:"user-3",status:"accepted",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-72e5).toISOString()},otherUser:{id:"user-3",name:"Pedro Santos",avatar:"🎵",isOnline:!1,lastSeen:new Date(Date.now()-18e6).toISOString()},lastMessage:{id:"msg-2-4",connection_id:"conn-2",sender_id:"demo-user-id",content:"Perfeito! Vamos marcar para sábado então.",message_type:"text",read_at:new Date(Date.now()-18e5).toISOString(),created_at:new Date(Date.now()-72e5).toISOString()},unreadCount:0},{connection:{id:"conn-3",user1_id:"demo-user-id",user2_id:"user-4",status:"accepted",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString()},otherUser:{id:"user-4",name:"Clara Oliveira",avatar:"🍷",isOnline:!1,lastSeen:new Date(Date.now()-864e5).toISOString()},lastMessage:{id:"msg-3-3",connection_id:"conn-3",sender_id:"user-4",content:"Que experiência incrível no spa! Obrigada pela companhia 🧘‍♀️",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()},unreadCount:1}];a(_),m(!1),console.log("✅ Conversas carregadas:",_.length)},[]),h.useEffect(()=>{r&&(console.log("📨 Carregando mensagens para:",r.connection.id),E(r.connection.id))},[r,E]),h.useEffect(()=>{f()},[i]),h.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const j=async()=>{if(!(!c.trim()||!r||!t||u)){x(!0);try{const _=c.trim();if(l(""),t.id==="demo-user-id"){const T={id:`msg-${Date.now()}`,connection_id:r.connection.id,sender_id:t.id,content:_,message_type:"text",created_at:new Date().toISOString()};o(I=>[...I,T]),a(I=>I.map(H=>H.connection.id===r.connection.id?{...H,lastMessage:T,unreadCount:0}:H)),console.log("✅ Mensagem enviada:",_),x(!1);return}const{error:P}=await F.from("member_messages").insert({connection_id:r.connection.id,sender_id:t.id,content:_,message_type:"text"});if(P)throw P;await C(r.connection.id)}catch(_){console.error("Erro ao enviar mensagem:",_),alert("Erro ao enviar mensagem. Tente novamente.")}finally{x(!1)}}},A=()=>{w||(b(!0),console.log("👤 Usuário começou a digitar...")),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{b(!1),console.log("👤 Usuário parou de digitar")},2e3)},k=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),b(!1),y.current&&clearTimeout(y.current),j())},S=_=>{l(_.target.value),A()},N=_=>{const P=new Date(_);return(new Date().getTime()-P.getTime())/(1e3*60*60)<24?P.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):P.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},D=s.filter(_=>_.otherUser.name.toLowerCase().includes(p.toLowerCase()));return d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando conversas..."})]})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-[600px] flex",children:[e.jsxs("div",{className:`${r?"hidden lg:flex":"flex"} flex-col w-full lg:w-80 border-r border-gray-200`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Conversas"}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(xa,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:p,onChange:_=>v(_.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent text-sm"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:D.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[e.jsx(xe,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma conversa ainda"}),e.jsx("p",{className:"text-gray-500 text-sm",children:p?"Nenhuma conversa encontrada":"Conecte-se com outros membros para começar a conversar"})]}):D.map(_=>e.jsx("button",{onClick:()=>n(_),className:`w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 transition-colors ${r?.connection.id===_.connection.id?"bg-blue-50 border-blue-200":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.otherUser.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(_.otherUser.name)}&background=C91F1F&color=fff`,alt:_.otherUser.name,className:"w-12 h-12 rounded-full object-cover"}),_.otherUser.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:_.otherUser.name}),_.lastMessage&&e.jsx("span",{className:"text-xs text-gray-500",children:N(_.lastMessage.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate",children:_.lastMessage?.content||"Nenhuma mensagem ainda"}),_.unreadCount>0&&e.jsx("span",{className:"bg-[#C91F1F] text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:_.unreadCount})]})]})]})},_.connection.id))})]}),r?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>n(null),className:"lg:hidden p-1 text-gray-400 hover:text-gray-600",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.otherUser.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.otherUser.name)}&background=C91F1F&color=fff`,alt:r.otherUser.name,className:"w-10 h-10 rounded-full object-cover"}),r.otherUser.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:r.otherUser.name}),e.jsx("p",{className:"text-sm text-gray-500",children:r.otherUser.isOnline?"Online agora":r.otherUser.lastSeen?`Visto por último ${N(r.otherUser.lastSeen)}`:"Offline"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(St,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Al,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Cl,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(_=>{const P=_.sender_id===t?.id;return e.jsx("div",{className:`flex ${P?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${P?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:_.content}),e.jsxs("div",{className:`flex items-center justify-end mt-1 space-x-1 ${P?"text-white text-opacity-70":"text-gray-500"}`,children:[e.jsx("span",{className:"text-xs",children:N(_.created_at)}),P&&(_.read_at?e.jsx(vl,{className:"w-3 h-3"}):e.jsx(qe,{className:"w-3 h-3"}))]})]})},_.id)}),w&&e.jsx("div",{className:"flex justify-start mb-4",children:e.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-2xl max-w-xs",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Digitando"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),e.jsx("div",{ref:g})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:c,onChange:S,onKeyPress:k,placeholder:"Digite sua mensagem...",rows:1,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}})}),e.jsx("button",{onClick:j,disabled:!c.trim()||u,className:`p-2 rounded-lg transition-colors ${c.trim()&&!u?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):e.jsx(Es,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione uma conversa"}),e.jsx("p",{className:"text-gray-500",children:"Escolha uma conversa da lista para começar a trocar mensagens"})]})})]})}const $a=[{id:"monthly",name:"Mensal",price:29.9,period:"mês",description:"Perfeito para começar",features:["Acesso completo ao DUO PASS Connect","Participação em todas as 5 comunidades","Chat ilimitado com outros membros","Questionário de afinidades culturais","Recomendações personalizadas","Suporte prioritário"]},{id:"quarterly",name:"Trimestral",price:24.9,period:"mês",description:"Mais popular",features:["Tudo do plano mensal","Desconto de 17% no valor total","Acesso antecipado a novas funcionalidades","Badge exclusivo de membro trimestral","Convites para eventos especiais","Consultoria cultural personalizada"],popular:!0,savings:"Economize CHF 2.50 por trimestre"},{id:"annual",name:"Anual",price:19.9,period:"mês",description:"Melhor valor",features:["Tudo dos planos anteriores","Desconto de 33% no valor total","Acesso vitalício a funcionalidades básicas","Badge exclusivo de membro anual","Mentoria cultural mensal","Acesso a comunidades premium futuras"],savings:"Economize CHF 22.- por ano"}],ab=[{icon:$,title:"Comunidades Exclusivas",description:"Participe de 5 comunidades culturais cuidadosamente curadas: Arte & Design, Gastronomia Gourmet, Música & Concertos, Bem-estar & Mindfulness, e Cultura & Patrimônio.",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:xe,title:"Chat Direto",description:"Converse diretamente com outros membros que compartilham suas paixões culturais. Organize experiências, troque dicas e faça conexões reais.",color:"text-green-600",bgColor:"bg-green-50"},{icon:Y,title:"Matching Inteligente",description:"Nosso questionário de afinidades culturais conecta você com pessoas que realmente combinam com seus interesses e estilo de vida.",color:"text-red-600",bgColor:"bg-red-50"},{icon:Z,title:"Experiências Premium",description:"Acesso a experiências culturais exclusivas, eventos especiais e oportunidades únicas disponíveis apenas para membros.",color:"text-yellow-600",bgColor:"bg-yellow-50"}];function rb(){const[t,s]=h.useState("quarterly"),[a,r]=h.useState(!1),n=async o=>{r(!0),setTimeout(()=>{alert(`Redirecionando para pagamento do plano ${$a.find(c=>c.id===o)?.name}...`),r(!1)},2e3)},i=$a.find(o=>o.id===t);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mr-4",children:e.jsx(_e,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-4xl font-bold flex items-center",children:["DUO PASS Connect",e.jsx(Fe,{className:"w-8 h-8 ml-3"})]}),e.jsx("p",{className:"text-xl text-white text-opacity-90 mt-2",children:"Conecte-se com pessoas que compartilham suas paixões culturais"})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("p",{className:"text-lg text-white text-opacity-90 mb-8",children:"Descubra uma nova forma de vivenciar a cultura. Conecte-se com pessoas que realmente entendem suas paixões, participe de comunidades exclusivas e transforme cada experiência cultural em uma memória compartilhada."}),e.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),e.jsx("span",{children:"Membros verificados"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Js,{className:"w-5 h-5"}),e.jsx("span",{children:"Matching inteligente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:"Experiências exclusivas"})]})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que o DUO PASS Connect é especial?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Não é apenas mais uma rede social. É uma comunidade exclusiva para pessoas que valorizam experiências culturais autênticas e conexões significativas."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:ab.map((o,c)=>{const l=o.icon;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[e.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-xl flex items-center justify-center mb-4`,children:e.jsx(l,{className:`w-6 h-6 ${o.color}`})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:o.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]},c)})})]}),e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Escolha seu plano de acesso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Torne-se membro e desbloqueie todas as funcionalidades do DUO PASS Connect"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-gray-100 rounded-lg p-1 flex space-x-1",children:$a.map(o=>e.jsxs("button",{onClick:()=>s(o.id),className:`px-6 py-2 rounded-md font-medium transition-colors ${t===o.id?"bg-white text-[#C91F1F] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.name,o.popular&&e.jsx("span",{className:"ml-2 bg-[#C91F1F] text-white text-xs px-2 py-1 rounded-full",children:"Popular"})]},o.id))})}),i&&e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg border-2 p-8 text-center ${i.popular?"border-[#F6C100]":"border-gray-200"}`,children:[i.popular&&e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white text-sm font-medium px-4 py-1 rounded-full inline-block mb-4",children:"Mais Popular"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.name}),e.jsx("p",{className:"text-gray-600 mb-6",children:i.description}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["CHF ",i.price.toFixed(2)]}),e.jsxs("span",{className:"text-gray-600 ml-2",children:["/",i.period]})]}),i.savings&&e.jsx("p",{className:"text-green-600 text-sm font-medium mt-2",children:i.savings})]}),e.jsx("button",{onClick:()=>n(i.id),disabled:a,className:`w-full bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white font-bold py-4 px-6 rounded-xl hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"w-5 h-5"}),e.jsx("span",{children:"Tornar-se Membro"}),e.jsx(ie,{className:"w-5 h-5"})]})}),e.jsx("div",{className:"mt-6 space-y-3",children:i.features.map((o,c)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:o})]},c))})]})})]})}),e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pronto para transformar suas experiências culturais?"}),e.jsx("p",{className:"text-lg text-white text-opacity-90 mb-6",children:"Junte-se a centenas de pessoas que já descobriram uma nova forma de vivenciar a cultura."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs(R,{to:"/",className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 rotate-180"}),e.jsx("span",{children:"Voltar ao Início"})]}),e.jsxs("button",{onClick:()=>n(t),disabled:a,className:"bg-white text-[#C91F1F] font-bold px-8 py-3 rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[e.jsx(_e,{className:"w-5 h-5"}),e.jsx("span",{children:"Começar Agora"})]})]})]})})}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 text-center pointer-events-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Kt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Conteúdo Exclusivo para Membros"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"O DUO PASS Connect é uma funcionalidade premium. Torne-se membro para acessar."}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white font-bold py-3 px-6 rounded-lg hover:shadow-lg transition-all duration-200",children:"Ver Planos"})]})})]})}function nb(){const{user:t}=U(),[s,a]=h.useState("directory"),[r,n]=h.useState(!1),[i,o]=h.useState(null),[c,l]=h.useState(!0),[d,m]=h.useState(!1),[u,x]=h.useState(!1),p=async()=>{if(t)try{if(l(!0),t.id==="demo-user-id"){m(!0);const C={id:"demo-affinity",user_id:"demo-user-id",culture_level:"intermediate",interests:["arte","gastronomia","musica"],location:"São Paulo - SP",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(C),n(!0),l(!1);return}m(!0);const{data:y,error:f}=await F.from("preferences").select("*").eq("user_id",t.id).single();f&&f.code!=="PGRST116"&&console.error("Erro ao verificar preferências:",f),y&&(o(y),n(!0))}catch(y){console.error("Erro ao verificar subscription e afinidades:",y)}finally{l(!1)}},v=fe.useCallback(p,[t]);h.useEffect(()=>{t&&v()},[t,v]);const w=y=>{o(y),n(!0),x(!1),a("directory")};if(c)return e.jsx("div",{className:"py-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando DUO PASS Connect..."})]})});if(!d)return e.jsx(rb,{});if(!r||u)return e.jsx(tb,{onComplete:w,existingPreferences:i,onCancel:()=>x(!1)});const b=[{id:"directory",name:"Comunidades",icon:$,description:"Explore e participe",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"chat",name:"Conexões",icon:xe,description:"Suas conversas",color:"text-green-600",bgColor:"bg-green-50"}],g=()=>{switch(s){case"directory":return e.jsx(_o,{userPreferences:i});case"chat":return e.jsx(sb,{});default:return e.jsx(_o,{userPreferences:i})}};return e.jsxs("div",{className:"bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white rounded-lg mb-6",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx(_e,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:["DUO PASS Connect",e.jsx(Fe,{className:"w-5 h-5 ml-2"})]}),e.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"Conecte-se com pessoas que compartilham suas paixões culturais"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg px-3 py-1.5 flex items-center space-x-2",children:[e.jsx(_e,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Premium"})]}),e.jsx("button",{onClick:()=>x(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg px-3 py-1.5 transition-colors text-sm",children:"Atualizar Perfil"})]})]}),i&&e.jsx("div",{className:"mt-4 bg-white bg-opacity-10 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsxs("span",{children:["Interesses: ",(i.interests||[]).join(", ")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("span",{children:["Nível Cultural: ",i.culture_level]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsxs("span",{children:["Localização: ",i.location]})]})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:b.map(y=>{const f=y.icon,C=s===y.id;return e.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${C?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg ${C?y.bgColor:"bg-gray-100"}`,children:e.jsx(f,{className:`w-4 h-4 ${C?y.color:"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:y.name}),e.jsx("div",{className:"text-xs text-gray-400",children:y.description})]})]},y.id)})})})}),e.jsx("div",{children:g()})]})}function ib(){const{user:t}=U(),[s,a]=h.useState({user:null,session:null,profile:null,vouchers:[],offers:[],errors:[]}),[r,n]=h.useState(!1),i=async()=>{const o=[],c={errors:o};try{const l=await F.auth.getUser();c.user=l.data.user;const d=await F.auth.getSession();if(c.session=d.data.session,c.user){const{data:v,error:w}=await F.from("profiles").select("*").eq("user_id",c.user.id);c.profile=v?.[0]||null,w&&o.push(`Profile Error: ${w.message}`)}const{data:m,error:u}=await F.from("vouchers").select("*");c.vouchers=m||[],u&&o.push(`Vouchers Error: ${u.message}`);const{data:x,error:p}=await F.from("offers").select("*");c.offers=x||[],p&&o.push(`Offers Error: ${p.message}`)}catch(l){const d=l instanceof Error?l.message:"Unknown error";o.push(`Critical Error: ${d}`)}a(c)};return h.useEffect(()=>{t&&i()},[t]),r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[80vh] overflow-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"🐛 Debug Panel - Botões Inativos"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:i,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"🔄 Refresh"}),e.jsx("button",{onClick:()=>n(!1),className:"bg-gray-500 text-white px-3 py-1 rounded",children:"✕ Fechar"})]})]}),e.jsxs("div",{className:"space-y-4",children:[s.errors.length>0&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[e.jsx("h3",{className:"font-bold",children:"❌ Erros Encontrados:"}),e.jsx("ul",{className:"list-disc list-inside",children:s.errors.map((o,c)=>e.jsx("li",{children:o},c))})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"👤 Usuário:"}),e.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:s.user?.id,email:s.user?.email,hasSession:!!s.session},null,2)})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"👤 Profile:"}),e.jsx("pre",{className:"text-sm overflow-auto",children:s.profile?JSON.stringify(s.profile,null,2):"NULL - Profile não encontrado!"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded",children:[e.jsxs("h3",{className:"font-bold mb-2",children:["🎫 Vouchers (",s.vouchers.length,"):"]}),e.jsx("pre",{className:"text-sm overflow-auto max-h-32",children:s.vouchers.length>0?JSON.stringify(s.vouchers,null,2):"VAZIO - Nenhum voucher encontrado!"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsxs("h3",{className:"font-bold mb-2",children:["🎯 Ofertas (",s.offers.length,"):"]}),e.jsx("pre",{className:"text-sm overflow-auto max-h-32",children:s.offers.length>0?JSON.stringify(s.offers,null,2):"VAZIO - Nenhuma oferta encontrada!"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"🔍 Diagnóstico:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[e.jsx("li",{className:s.user?"text-green-600":"text-red-600",children:s.user?"✅ Usuário autenticado":"❌ Usuário não autenticado"}),e.jsx("li",{className:s.profile?"text-green-600":"text-red-600",children:s.profile?"✅ Profile encontrado":"❌ Profile não encontrado - POSSÍVEL CAUSA!"}),e.jsx("li",{className:s.vouchers.length>0?"text-green-600":"text-yellow-600",children:s.vouchers.length>0?"✅ Vouchers disponíveis":"⚠️ Nenhum voucher - Dados vazios"}),e.jsx("li",{className:s.offers.length>0?"text-green-600":"text-yellow-600",children:s.offers.length>0?"✅ Ofertas disponíveis":"⚠️ Nenhuma oferta - Dados vazios"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"🔧 Soluções Sugeridas:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[!s.profile&&e.jsx("li",{className:"text-red-600",children:"🚨 CRIAR PROFILE: Usuário sem profile - botões podem estar desabilitados"}),s.vouchers.length===0&&e.jsx("li",{className:"text-yellow-600",children:"📝 ADICIONAR VOUCHERS DE TESTE"}),s.offers.length===0&&e.jsx("li",{className:"text-yellow-600",children:"📝 ADICIONAR OFERTAS DE TESTE"}),s.errors.length>0&&e.jsx("li",{className:"text-red-600",children:"🔒 VERIFICAR RLS POLICIES NO SUPABASE"})]})]})]})]})}):e.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:"🐛 Debug"})}function ob({voucher:t,onClose:s}){const[a,r]=h.useState(""),[n,i]=h.useState(!0),o=x=>{let b='<svg width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">';b+='<rect width="200" height="200" fill="white"/>';const g=x.split("").reduce((C,E)=>(C=(C<<5)-C+E.charCodeAt(0),C&C),0);for(let C=0;C<25;C++)for(let E=0;E<25;E++)if((g+C*E)%3===0){const A=C*8,k=E*8;b+=`<rect x="${A}" y="${k}" width="8" height="8" fill="black"/>`}const y=56;return[{x:0,y:0},{x:200-y,y:0},{x:0,y:200-y}].forEach(C=>{b+=`<rect x="${C.x}" y="${C.y}" width="${y}" height="${y}" fill="black"/>`,b+=`<rect x="${C.x+8}" y="${C.y+8}" width="${y-16}" height="${y-16}" fill="white"/>`,b+=`<rect x="${C.x+16}" y="${C.y+16}" width="${y-32}" height="${y-32}" fill="black"/>`}),b+="</svg>",b};h.useEffect(()=>{(async()=>{i(!0);try{const p=t.qr_code_data||`DUOPASS:${t.voucher_code}:${t.id}`,v=o(p);r(v)}catch(p){console.error("Erro ao gerar QR Code:",p)}finally{i(!1)}})()},[t]);const c=()=>{if(!a)return;const x=new Blob([a],{type:"image/svg+xml"}),p=URL.createObjectURL(x),v=document.createElement("a");v.href=p,v.download=`voucher-${t.voucher_code}.svg`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(p)},l=async()=>{if(navigator.share)try{await navigator.share({title:"Voucher DuoPass",text:`Meu voucher: ${t.voucher_code}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else{const x=`Voucher DuoPass: ${t.voucher_code}`;navigator.clipboard.writeText(x).then(()=>{alert("Código copiado para a área de transferência!")})}},d=x=>new Date(x).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),m=x=>{switch(x){case"active":return"text-green-600 bg-green-100";case"used":return"text-gray-600 bg-gray-100";case"expired":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},u=x=>{switch(x){case"active":return"Ativo";case"used":return"Usado";case"expired":return"Expirado";default:return"Desconhecido"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ye,{className:"h-6 w-6 text-indigo-600 mr-2"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"QR Code do Voucher"})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(pe,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.voucher_code}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(t.status)}`,children:u(t.status)}),e.jsxs("span",{children:["Expira em: ",d(t.expires_at)]})]})]}),e.jsx("div",{className:"flex justify-center",children:n?e.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):e.jsx("div",{className:"w-48 h-48 border-2 border-gray-200 rounded-lg p-2 bg-white",dangerouslySetInnerHTML:{__html:a}})}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Como usar:"}),e.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"1. Apresente este QR Code no estabelecimento"}),e.jsx("li",{children:"2. O comerciante irá escanear o código"}),e.jsx("li",{children:"3. Aguarde a confirmação da validação"}),e.jsx("li",{children:"4. Aproveite sua experiência!"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:c,disabled:n||t.status!=="active",className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Baixar"]}),e.jsxs("button",{onClick:l,disabled:n||t.status!=="active",className:"flex-1 flex items-center justify-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Compartilhar"]})]}),t.status!=="active"&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Este voucher não está ativo e não pode ser usado."})})]})]})})}function lb({onAccept:t}){const s=h.useContext(Yr),{t:a}=s||{t:p=>p},[r,n]=h.useState(!1),[i,o]=h.useState(!1),[c,l]=h.useState(!1),d=r&&i,{signOut:m}=U(),u=W(),x=async()=>{await m(),u("/")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md m-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:a("terms.title")}),e.jsxs("div",{className:"space-y-4 text-sm text-gray-600 max-h-[80vh] overflow-y-auto pr-2",children:["  // Aumentei max-h para 96 para acomodar mais conteúdo",e.jsx("p",{className:"whitespace-pre-line",children:a("terms.last_update")}),e.jsx("p",{className:"whitespace-pre-line",children:a("terms.effective")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section1")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section2")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section3")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section4")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section5")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section6")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section7")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section8")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section9")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section10")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section11")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section12")}),e.jsx("div",{className:"whitespace-pre-line mb-4",children:a("terms.section13")})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:p=>n(p.target.checked),className:"mr-2"}),a("terms.accept_terms")]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:p=>o(p.target.checked),className:"mr-2"}),a("terms.accept_privacy")]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:p=>l(p.target.checked),className:"mr-2"}),a("terms.accept_comms")]})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:a("terms.reject_exit")}),e.jsx("button",{onClick:t,disabled:!d,className:`px-4 py-2 rounded text-white ${d?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:a("terms.accept_proceed")})]})]})})}const Ha=[{title:"Explore Experiências Únicas",content:"Navegue por nossa seleção de ofertas e resgate vouchers para restaurantes, spas, e muito mais."},{title:"Use seus Vouchers Facilmente",content:"Apresente o QR Code do seu voucher no estabelecimento para aproveitar sua experiência."},{title:"Conecte-se com a Comunidade",content:"Participe de nosso chat exclusivo para membros e descubra dicas e novas conexões."},{title:"Tudo Pronto!",content:"Você está pronto para começar a usar o Duo Pass Club. Aproveite ao máximo!"}];function cb({onFinish:t}){const[s,a]=h.useState(0),r=s===Ha.length-1,n=()=>{r?t():a(s+1)},i=()=>{t()},o=Ha[s];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-sm m-4 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-800",children:o.title}),e.jsx("p",{className:"text-gray-600 mb-8",children:o.content}),e.jsx("div",{className:"flex justify-center mb-8",children:Ha.map((c,l)=>e.jsx("div",{className:`h-2 w-2 rounded-full mx-1 ${s===l?"bg-indigo-600":"bg-gray-300"}`},l))}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:n,className:"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r?"Começar a Usar":"Próximo"}),!r&&e.jsx("button",{onClick:i,className:"w-full py-2 px-4 text-sm font-medium text-gray-600 hover:text-gray-800",children:"Pular Tutorial"})]})]})})}const db=["Gastronomia","Museus","Música ao Vivo","Teatro","Cinema","Arte de Rua","História","Natureza e Trilhas","Festivais","Workshops","Dança","Literatura"],bd=({onComplete:t})=>{const[s,a]=h.useState([]),r=i=>{a(o=>o.includes(i)?o.filter(c=>c!==i):[...o,i])},n=()=>{s.length>=3?t(s):alert("Por favor, selecione pelo menos 3 interesses para personalizarmos sua experiência.")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full text-gray-800",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-center text-yellow-500",children:"Bem-vindo à sua Golden Week!"}),e.jsx("p",{className:"text-center mb-6",children:"Para começar, nos diga o que mais te inspira. Selecione seus interesses culturais para receber recomendações personalizadas durante seus 7 dias de acesso premium."}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-8",children:db.map(i=>e.jsx("button",{onClick:()=>r(i),className:`px-4 py-2 rounded-full font-semibold transition-all duration-200 border-2 ${s.includes(i)?"bg-yellow-400 border-yellow-400 text-black":"bg-transparent border-gray-300 hover:bg-gray-100"}`,children:i},i))}),e.jsxs("button",{onClick:n,disabled:s.length<3,className:"w-full bg-green-500 text-white py-3 rounded-lg font-bold text-lg hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200",children:["Iniciar minha experiência (",s.length,"/3+)"]})]})})};function Gr(){const{language:t,setLanguage:s}=Wt(),[a,r]=h.useState("notifications"),[n,i]=h.useState(!1),[o,c]=h.useState(!0),[l,d]=h.useState({email_offers:!0,email_vouchers:!0,email_marketing:!1,push_offers:!0,push_vouchers:!0,push_reminders:!0,sms_important:!1}),[m,u]=h.useState({profile_visibility:"private",data_sharing:!1,analytics_tracking:!0,location_sharing:!1}),x=(g,y)=>{d(f=>({...f,[g]:y}))},p=(g,y)=>{u(f=>({...f,[g]:y}))},v=()=>{alert("Funcionalidade de exportação será implementada em breve.")},w=()=>{confirm("Tem certeza que deseja excluir sua conta? Esta ação não pode ser desfeita.")&&alert("Funcionalidade de exclusão será implementada em breve.")},b=[{id:"notifications",label:"Notificações",icon:bl},{id:"privacy",label:"Privacidade",icon:Ee},{id:"account",label:"Conta",icon:ze},{id:"preferences",label:"Preferências",icon:Zr}];return e.jsx(ue,{title:"Configurações",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx("p",{className:"text-gray-600",children:"Personalize sua experiência no DuoPass"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:b.map(g=>e.jsx("button",{onClick:()=>r(g.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===g.id?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:g.label},g.id))})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a==="notifications"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Notificação"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2"}),"Notificações por Email"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Novas Ofertas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receba emails sobre ofertas especiais"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email_offers,onChange:g=>x("email_offers",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Vouchers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Confirmações e lembretes de vouchers"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email_vouchers,onChange:g=>x("email_vouchers",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Marketing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Novidades e promoções especiais"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email_marketing,onChange:g=>x("email_marketing",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(au,{className:"w-5 h-5 mr-2"}),"Notificações Push"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Ofertas Próximas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Quando estiver perto de ofertas relevantes"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.push_offers,onChange:g=>x("push_offers",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lembretes de Vouchers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Antes dos vouchers expirarem"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.push_reminders,onChange:g=>x("push_reminders",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]})]})]}),a==="privacy"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Privacidade"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Visibilidade do Perfil"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Controle quem pode ver seu perfil"})]}),e.jsxs("select",{value:m.profile_visibility,onChange:g=>p("profile_visibility",g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"public",children:"Público"}),e.jsx("option",{value:"private",children:"Privado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Compartilhamento de Dados"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Permitir compartilhamento com parceiros"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.data_sharing,onChange:g=>p("data_sharing",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Rastreamento de Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ajuda a melhorar nossos serviços"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.analytics_tracking,onChange:g=>p("analytics_tracking",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]}),a==="account"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações da Conta"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Exportar Dados"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Baixe uma cópia de todos os seus dados"}),e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 bg-[#C91F1F] text-white rounded-lg hover:bg-[#A91A1A] transition-colors",children:[e.jsx(_s,{className:"w-4 h-4"}),e.jsx("span",{children:"Exportar Dados"})]})]}),e.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[e.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Zona de Perigo"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Excluir sua conta removerá permanentemente todos os seus dados"}),e.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsx("span",{children:"Excluir Conta"})]})]})]})]}),a==="preferences"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Preferências"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Idioma"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Escolha seu idioma preferido"})]}),e.jsxs("select",{value:t,onChange:g=>s(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"it",children:"Italiano"}),e.jsx("option",{value:"es",children:"Español"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Modo Escuro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ativar tema escuro"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:g=>i(g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Sons"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ativar sons de notificação"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:g=>c(g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]})]})]})]})})}let mb=class extends h.Component{state={hasError:!1};static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,a){console.error("ErrorBoundary caught an error:",s,a)}render(){return this.state.hasError?this.props.fallback||e.jsx("h1",{children:"Algo deu errado."}):this.props.children}};const Jt={async getMonthlySpending(t){return{total:245,avgTicket:85,topCategory:"Gastronomia",trend:15}},async getSavingsOpportunities(t){return[{description:"Comprando 3+ vouchers você economiza",amount:67},{description:"Experiências aos finais de semana custam 20% menos",amount:0},{description:"Assinatura Golden economizaria R$120/mês",amount:120}]},async getSpendingPatterns(t){return{peakTime:"Sábados às 14h",avgTicket:85,frequency:2.3,bestTime:"Final do mês"}},async getFriendActivity(t){return[{friendName:"João",activity:"foi ao mesmo restaurante semana passada"},{friendName:"Maria",activity:"curtiu esta experiência"}]},async getOptimalTiming(t){return{bestTime:"Terça 19h",busyDays:"Sexta-Domingo",availability:85}},async getExperienceOptimization(t){return[{tip:"Reserve com 2 dias de antecedência para melhor mesa"},{tip:"Usuários avaliam melhor quando vão em dupla"},{tip:"Dica: Peça mesa perto da janela (avaliação +0.8⭐)"},{tip:"Combine com outras experiências próximas"}]}};function ub({userId:t}){const[s,a]=h.useState(null),[r,n]=h.useState(!0);return h.useEffect(()=>{Jt.getMonthlySpending(t).then(a).finally(()=>n(!1))},[t]),r?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Carregando..."}):s?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Zs,{className:"mr-2"})," Gastos Mensais"]}),e.jsxs("p",{children:["Você gastou R$",s.total," em experiências este mês"]}),e.jsxs("p",{children:["Comparado ao mês passado: ",s.trend>0?"+":"",s.trend,"% 📈"]}),e.jsxs("p",{children:["Categoria que mais gasta: ",s.topCategory," (40%)"]}),e.jsxs("p",{children:["Seu ticket médio: R$",s.avgTicket]}),e.jsx("div",{className:"mt-4 h-32 bg-gray-100 rounded flex items-end justify-around",children:[100,150,120,200,180,245].map((i,o)=>e.jsx("div",{className:"bg-blue-500 w-8",style:{height:`${i/300*100}%`}},o))})]}):e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Nenhum dado disponível"})}function hb({userId:t}){const[s,a]=h.useState([]),[r,n]=h.useState(!0);return h.useEffect(()=>{Jt.getSavingsOpportunities(t).then(a).finally(()=>n(!1))},[t]),r?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Carregando..."}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Xr,{className:"mr-2"})," Sugestões de Economia"]}),e.jsx("ul",{className:"space-y-2",children:s.map((i,o)=>e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsx("span",{children:i.description}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm",children:["R$",i.amount]})]},o))})]})}function xb({userId:t}){const[s,a]=h.useState(null),[r,n]=h.useState(!0);return h.useEffect(()=>{Jt.getSpendingPatterns(t).then(a).finally(()=>n(!1))},[t]),r?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Carregando..."}):s?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(gs,{className:"mr-2"})," Padrões de Gastos"]}),e.jsxs("p",{children:["Você gasta mais em experiências: ",s.peakTime]}),e.jsxs("p",{children:["Seu ticket médio: R$",s.avgTicket," (15% acima da média)"]}),e.jsxs("p",{children:["Frequência de compra: ",s.frequency,"x por semana"]}),e.jsxs("p",{children:["Melhor época para suas compras: ",s.bestTime]})]}):e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Nenhum dado disponível"})}function pb({userId:t}){const[s,a]=h.useState([]),[r,n]=h.useState(!0);return h.useEffect(()=>{Jt.getFriendActivity(t).then(a).finally(()=>n(!1))},[t]),r?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Carregando..."}):!s||s.length===0?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Nenhum insight social disponível"}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx($,{className:"mr-2"})," Insights Sociais"]}),e.jsx("ul",{className:"space-y-2",children:s.map((i,o)=>e.jsxs("li",{children:[i.friendName," ",i.activity]},o))})]})}function fb({offerId:t}){const[s,a]=h.useState(null),[r,n]=h.useState(!0);return h.useEffect(()=>{Jt.getOptimalTiming(t).then(a).finally(()=>n(!1))},[t]),r?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Carregando..."}):s?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{className:"mr-2"})," Melhor Horário"]}),e.jsxs("p",{children:["Melhor horário para usar voucher: ",s.bestTime," (menos fila)"]}),e.jsxs("p",{children:["Disponibilidade atual: ",s.availability,"% (boa chance de conseguir mesa)"]}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{children:["Dias mais movimentados: ",s.busyDays]})})]}):e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Nenhum dado disponível"})}function gb({offerId:t}){const[s,a]=h.useState([]),[r,n]=h.useState(!0);return h.useEffect(()=>{Jt.getExperienceOptimization(t).then(a).finally(()=>n(!1))},[t]),r?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Carregando..."}):!s||s.length===0?e.jsx("div",{className:"p-4 bg-white rounded-lg shadow",children:"Nenhum dado disponível"}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Z,{className:"mr-2"})," Otimização de Experiências"]}),e.jsx("ul",{className:"space-y-2",children:s.map((i,o)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(Z,{className:"h-4 w-4 mr-2 text-yellow-500"})," ",i.tip]},o))})]})}function bb({userId:t,offerId:s="example-offer-id"}){return e.jsx(mb,{fallback:e.jsx("div",{className:"p-8 text-center text-red-500",children:"Erro ao carregar insights. Por favor, tente novamente mais tarde."}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(ub,{userId:t}),e.jsx(hb,{userId:t}),e.jsx(xb,{userId:t}),e.jsx(pb,{userId:t}),e.jsx(fb,{offerId:s}),e.jsx(gb,{offerId:s})]})})}const yb=({expiresAt:t})=>{const s=()=>{const n=new Date,o=new Date(t).getTime()-n.getTime();if(o<=0)return{days:0,hours:0,minutes:0,seconds:0};const c=Math.floor(o/(1e3*60*60*24)),l=Math.floor(o/(1e3*60*60)%24),d=Math.floor(o/1e3/60%60),m=Math.floor(o/1e3%60);return{days:c,hours:l,minutes:d,seconds:m}},[a,r]=h.useState(s());return h.useEffect(()=>{const n=setInterval(()=>{r(s())},1e3);return()=>clearInterval(n)},[t]),e.jsxs("div",{className:"bg-yellow-400 text-black p-2 text-center text-sm font-semibold",children:["Sua Golden Week termina em: ",a.days,"d ",a.hours,"h ",a.minutes,"m ",a.seconds,"s"]})},vb=h.memo(()=>{const{user:t,trialStatus:s,trialExpiresAt:a}=U(),r=_t(),n=W(),[i,o]=h.useState([]),[c,l]=h.useState([]),[d,m]=h.useState(!0),[u,x]=h.useState("overview"),[p,v]=h.useState(null),[w,b]=h.useState(!1),[g,y]=h.useState(!1),[f,C]=h.useState(null),[E,j]=h.useState(!1),[A,k]=h.useState(!1),[S,N]=h.useState(!1),[D,_]=h.useState(null);console.log("🏠 CustomerDashboard: Componente renderizado",{hasUser:!!t,userEmail:t?.email,userId:t?.id,loading:d,vouchersCount:i.length,offersCount:c.length,activeTab:u}),h.useEffect(()=>{const G=new URLSearchParams(r.search).get("tab");G&&["overview","experiences","connect","billing","settings","insights"].includes(G)&&x(G)},[r.search]),h.useEffect(()=>{(()=>{localStorage.getItem("hasAcceptedTerms")?localStorage.getItem("hasSeenTutorial"):j(!0),localStorage.getItem("showTrialOnboarding")&&N(!0)})()},[]);const P=async V=>{try{await F.from("user_preferences").upsert({user_id:t?.id,cultural_interests:V,updated_at:new Date().toISOString()}),localStorage.removeItem("showTrialOnboarding"),N(!1)}catch(G){console.error("Erro ao salvar preferências:",G)}},T=h.useCallback(async()=>{try{if(m(!0),!t?.id){console.log("❌ User ID não disponível");return}const{data:V,error:G}=await F.from("vouchers").select("*").eq("user_id",t.id);if(G){console.error("❌ Erro Supabase:",G.message),_(G.message);return}o(V||[]),console.log("✅ Vouchers carregados:",V?.length)}catch(V){console.error("❌ Erro de rede:",V),_("Falha na conexão")}finally{m(!1)}},[t?.id]),I=h.useCallback(async()=>{console.log("🎯 CustomerDashboard: loadAvailableOffers iniciado"),console.log("🔍 CustomerDashboard: Buscando ofertas no Supabase");try{const{data:V,error:G}=await F.from("offers").select("*").eq("is_active",!0).gte("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(10);if(console.log("📊 CustomerDashboard: Resultado da busca de ofertas:",{data:V,error:G,count:V?.length}),G){console.error("❌ CustomerDashboard: Erro ao carregar ofertas:",G),l([]);return}l(V||[]),console.log("✅ CustomerDashboard: Ofertas carregadas:",V?.length||0)}catch(V){console.error("💥 CustomerDashboard: Erro crítico ao carregar ofertas:",V),l([])}},[t?.id]),H=h.useCallback(async()=>{if(!t?.id){console.log("⏸️ Pulando carregamento - user:",!!t?.id);return}try{m(!0);const[V,G]=await Promise.allSettled([T(),I()]);V.status==="rejected"&&console.error("❌ Falha vouchers:",V.reason),G.status==="rejected"&&console.error("❌ Falha offers:",G.reason)}finally{m(!1)}},[t?.id,T,I]);h.useEffect(()=>{H()},[H]),h.useEffect(()=>{console.log("⏳ CustomerDashboard: Estado de loading mudou para:",d)},[d]),h.useEffect(()=>{console.log("🔍 DASHBOARD STATE:",{userLoaded:!!t?.id,vouchersCount:i.length,offersCount:c.length,loading:d})},[t?.id,i.length,c.length,d]),h.useEffect(()=>{new URLSearchParams(r.search).get("onboarding")==="true"&&(N(!0),n("/customer-dashboard",{replace:!0}))},[r.search,n]),h.useEffect(()=>{setTimeout(()=>{const V=document.querySelectorAll("button"),G=Array.from(V).filter(Pe=>Pe.textContent?.includes("Ver Detalhes")),be=Array.from(V).filter(Pe=>Pe.textContent?.includes("RESGATAR"));console.log("🔘 BOTÕES NO DOM:",{totalButtons:V.length,verDetalhesButtons:G.length,resgatarButtons:be.length,offersRendered:c.length})},1e3)},[c,i]);const X=V=>new Date(V).toLocaleDateString("de-CH"),ae=V=>{switch(V){case"active":return"bg-green-100 text-green-800";case"used":return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ue=V=>{switch(V){case"active":return"Ativo";case"used":return"Usado";case"expired":return"Expirado";default:return"Desconhecido"}},oe=()=>{localStorage.setItem("hasAcceptedTerms","true"),j(!1),k(!0)},Xe=()=>{localStorage.setItem("hasSeenTutorial","true"),k(!1)},pt=V=>{C(V),y(!0)},Ze=()=>{y(!1),C(null)},we=V=>{v(V),b(!0)},ne=()=>{b(!1),v(null)};return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Fs,{height:64,className:"mx-auto mb-4 w-auto"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando dashboard..."})]})}):u==="settings"?e.jsx(Gr,{}):e.jsxs(ue,{title:"Meu Dashboard",children:[s==="active"&&a&&e.jsx(yb,{expiresAt:a}),E&&e.jsx(lb,{onAccept:oe}),A&&e.jsx(cb,{onFinish:Xe}),S&&e.jsx(bd,{onComplete:P}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(ib,{}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>{x("overview"),n(`${r.pathname}?tab=overview`,{replace:!0})},className:`py-2 px-1 border-b-2 font-medium text-sm ${u==="overview"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Zs,{className:"h-5 w-5 inline mr-2"}),"Visão Geral"]}),e.jsxs("button",{onClick:()=>{x("experiences"),n(`${r.pathname}?tab=experiences`,{replace:!0})},className:`py-2 px-1 border-b-2 font-medium text-sm ${u==="experiences"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ct,{className:"h-5 w-5 inline mr-2"}),"Experiências"]}),e.jsxs("button",{onClick:()=>{x("connect"),n(`${r.pathname}?tab=connect`,{replace:!0})},className:`py-2 px-1 border-b-2 font-medium text-sm ${u==="connect"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx($,{className:"h-5 w-5 inline mr-2"}),"Connect"]}),e.jsxs("button",{onClick:()=>{x("billing"),n(`${r.pathname}?tab=billing`,{replace:!0})},className:`py-2 px-1 border-b-2 font-medium text-sm ${u==="billing"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ze,{className:"h-5 w-5 inline mr-2"}),"Cobrança"]}),e.jsxs("button",{onClick:()=>{x("settings"),n(`${r.pathname}?tab=settings`,{replace:!0})},className:`py-2 px-1 border-b-2 font-medium text-sm ${u==="settings"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(pa,{className:"h-5 w-5 inline mr-2"}),"Configurações"]}),e.jsxs("button",{onClick:()=>{x("insights"),n(`${r.pathname}?tab=insights`,{replace:!0})},className:`py-2 px-1 border-b-2 font-medium text-sm ${u==="insights"?"border-[#FF6B35] text-[#FF6B35]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Zs,{className:"h-5 w-5 inline mr-2"}),"💡 Insights Pessoais"]})]})})}),u==="overview"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-6",children:"Visão Geral"}),e.jsx("p",{children:"Conteúdo da Visão Geral..."})]}),u==="experiences"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-6",children:"Minhas Experiências (Vouchers)"}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ct,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não possui vouchers"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Explore as ofertas disponíveis para adquirir seus primeiros vouchers"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(V=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"font-semibold text-[#333333]",children:["Voucher #",V.voucher_code]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ae(V.status)}`,children:Ue(V.status)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Voucher válido para uso no estabelecimento parceiro"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Código:"}),e.jsx("span",{className:"font-medium font-mono",children:V.voucher_code})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Criado em:"}),e.jsx("span",{children:X(V.created_at)})]}),V.used_at&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Usado em:"}),e.jsx("span",{children:X(V.used_at)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>we(V),className:"flex-1 bg-[#FF6B35] hover:bg-[#E55A2B] text-white font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center space-x-1",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver E-Ticket"})]}),V.status==="active"&&e.jsx("button",{onClick:()=>pt(V),className:"px-3 py-2 border border-[#FF6B35] text-[#FF6B35] rounded-lg hover:bg-[#FF6B35] hover:text-white transition-colors",title:"Mostrar QR Code",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsx(Me,{className:"h-4 w-4 text-gray-600"})})]})]},V.id))})]}),u==="connect"&&e.jsx("div",{className:"-mx-4 sm:-mx-6 lg:-mx-8",children:e.jsx(nb,{})}),u==="billing"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-6",children:"Cobrança"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Plano Atual"}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800",children:"DuoPass Gratuito"}),e.jsxs("ul",{className:"text-sm text-gray-600 list-disc list-inside mt-2",children:[e.jsx("li",{children:"Acesso a experiências selecionadas"}),e.jsx("li",{children:"1 voucher por mês"})]})]}),e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full",children:"GRATUITO"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Desbloqueie Mais Experiências"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Faça o upgrade para aproveitar ao máximo o DuoPass."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("h4",{className:"font-bold",children:"Starter"}),e.jsxs("p",{className:"text-2xl font-bold my-2",children:["CHF 9",e.jsx("span",{className:"text-sm font-normal",children:"/mês"})]}),e.jsx("button",{onClick:()=>n("/memberships"),className:"w-full bg-[#FF6B35] text-white py-2 rounded-lg hover:bg-[#E55A2B]",children:"Fazer Upgrade"})]}),e.jsxs("div",{className:"border-2 border-[#FF6B35] rounded-lg p-4 text-center relative",children:[e.jsx("span",{className:"absolute top-0 -translate-y-1/2 bg-[#FF6B35] text-white text-xs px-2 py-0.5 rounded-full",children:"POPULAR"}),e.jsx("h4",{className:"font-bold",children:"Explorer"}),e.jsxs("p",{className:"text-2xl font-bold my-2",children:["CHF 12",e.jsx("span",{className:"text-sm font-normal",children:"/mês"})]}),e.jsx("button",{onClick:()=>n("/memberships"),className:"w-full bg-[#FF6B35] text-white py-2 rounded-lg hover:bg-[#E55A2B]",children:"Fazer Upgrade"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("h4",{className:"font-bold",children:"Ambassador"}),e.jsxs("p",{className:"text-2xl font-bold my-2",children:["CHF 18",e.jsx("span",{className:"text-sm font-normal",children:"/mês"})]}),e.jsx("button",{onClick:()=>n("/memberships"),className:"w-full bg-[#FF6B35] text-white py-2 rounded-lg hover:bg-[#E55A2B]",children:"Fazer Upgrade"})]})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("a",{href:"/memberships",className:"text-sm text-[#FF6B35] hover:underline",children:"Ver todos os detalhes dos planos"})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Histórico de Pagamentos"}),e.jsx("p",{className:"text-gray-500",children:"Nenhum pagamento registrado."})]})]}),u==="settings"&&e.jsx(Gr,{}),u==="insights"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-6",children:"Insights Pessoais"}),e.jsx(bb,{userId:t.id})]})]}),w&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#333333]",children:"Seu E-Ticket"}),e.jsx("button",{onClick:ne,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(eb,{voucher:p})}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Apresente este e-ticket no estabelecimento para utilizar seu voucher"}),e.jsx("button",{onClick:ne,className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Fechar"})]})]})}),g&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#333333]",children:"QR Code do Voucher"}),e.jsx("button",{onClick:Ze,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ob,{voucher:f})}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Apresente este QR code no estabelecimento para validação"}),e.jsx("button",{onClick:Ze,className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Fechar"})]})]})}),!1]})});class jb{static async getUserAnalytics(s){try{const a={user_id:s,total_sessions:45,avg_session_duration:8.5,total_offers_viewed:234,total_offers_redeemed:18,conversion_rate:7.7,favorite_categories:["Restaurantes","Beleza","Entretenimento"],preferred_times:["12:00-14:00","18:00-20:00"],location_data:{most_visited_areas:["Centro","Zona Sul","Barra"],avg_distance_traveled:5.2},engagement_score:78,lifetime_value:450.8,churn_probability:.15,last_activity:new Date(Date.now()-36e5).toISOString()};return console.log("Buscando analytics do usuário:",s),a}catch(a){throw console.error("Erro ao buscar analytics do usuário:",a),a}}static async getUserSegmentAnalytics(){try{return Array.from({length:10},(a,r)=>({user_id:`user_${r+1}`,total_sessions:20+Math.floor(Math.random()*50),avg_session_duration:5+Math.random()*10,total_offers_viewed:50+Math.floor(Math.random()*200),total_offers_redeemed:5+Math.floor(Math.random()*20),conversion_rate:3+Math.random()*12,favorite_categories:["Restaurantes","Beleza","Entretenimento"].slice(0,1+Math.floor(Math.random()*3)),preferred_times:["12:00-14:00","18:00-20:00"],location_data:{most_visited_areas:["Centro","Zona Sul"],avg_distance_traveled:2+Math.random()*8},engagement_score:50+Math.floor(Math.random()*50),lifetime_value:100+Math.random()*500,churn_probability:Math.random()*.5,last_activity:new Date(Date.now()-Math.random()*7*24*36e5).toISOString()}))}catch(s){throw console.error("Erro ao buscar analytics do segmento:",s),s}}static async getMerchantAnalytics(s){try{const a={merchant_id:s,total_offers_created:24,total_redemptions:156,avg_offer_performance:6.5,revenue_generated:12450.8,customer_acquisition:89,customer_retention_rate:68.5,peak_hours:["12:00-14:00","19:00-21:00"],popular_offer_types:["Desconto","Combo","2x1"],rating_average:4.3,review_count:127,conversion_funnel:{views:2340,clicks:456,redemptions:156},roi_metrics:{cost_per_acquisition:15.5,return_on_investment:3.2}};return console.log("Buscando analytics do parceiro:",s),a}catch(a){throw console.error("Erro ao buscar analytics do parceiro:",a),a}}static async getOfferAnalytics(s){try{return{offer_id:s,total_views:1250,total_clicks:234,total_redemptions:45,conversion_rate:3.6,click_through_rate:18.7,avg_time_to_redemption:2.5,user_demographics:{age_groups:{"18-25":25,"26-35":40,"36-45":20,"46+":15},gender_distribution:{Masculino:45,Feminino:52,Outro:3},location_distribution:{Centro:35,"Zona Sul":30,"Zona Norte":20,Outros:15}},performance_by_time:{hourly:{"09":5,10:8,11:12,12:25,13:30,14:20,15:15,16:18,17:22,18:28,19:35,20:30,21:20,22:10},daily:{Segunda:15,Terça:18,Quarta:20,Quinta:22,Sexta:35,Sábado:40,Domingo:25},weekly:{"Semana 1":120,"Semana 2":145,"Semana 3":160,"Semana 4":180}},revenue_impact:2250.5,cost_effectiveness:4.2}}catch(a){throw console.error("Erro ao buscar analytics da oferta:",a),a}}static async getPlatformAnalytics(){try{return{overview:{total_users:15420,active_users_daily:3240,active_users_monthly:12340,total_merchants:890,active_merchants:756,total_offers:2340,active_offers:1890,total_transactions:45670,total_revenue:485670.5},growth_metrics:{user_growth_rate:23.5,merchant_growth_rate:18.2,revenue_growth_rate:31.8,retention_rate:78.5},engagement_metrics:{avg_session_duration:8.5,pages_per_session:4.2,bounce_rate:25.3,daily_active_users:3240,monthly_active_users:12340},conversion_metrics:{overall_conversion_rate:7.8,offer_to_redemption_rate:12.5,signup_to_first_purchase:45.2,free_to_paid_conversion:15.8},financial_metrics:{average_order_value:35.8,customer_lifetime_value:245.6,monthly_recurring_revenue:89450.3,churn_rate:5.2}}}catch(s){throw console.error("Erro ao buscar analytics da plataforma:",s),s}}static async getRealtimeMetrics(){try{return{current_active_users:234,current_sessions:189,offers_viewed_last_hour:456,redemptions_last_hour:23,revenue_last_hour:890.5,top_performing_offers:[{offer_id:"offer_1",title:"Pizza 50% OFF",views:89,redemptions:12},{offer_id:"offer_2",title:"Combo Burger",views:67,redemptions:8},{offer_id:"offer_3",title:"Spa Relaxante",views:45,redemptions:6}],system_health:{api_response_time:245,error_rate:.02,uptime_percentage:99.8}}}catch(s){throw console.error("Erro ao buscar métricas em tempo real:",s),s}}static async getPredictiveAnalytics(){try{return{user_churn_predictions:[{user_id:"user_123",churn_probability:.75,risk_factors:["Baixa atividade","Sem compras recentes","Não abre emails"],recommended_actions:["Oferta personalizada","Desconto especial","Contato direto"]},{user_id:"user_456",churn_probability:.45,risk_factors:["Diminuição de sessões"],recommended_actions:["Gamificação","Novos conteúdos"]}],demand_forecasting:{next_week_demand:{Restaurantes:450,Beleza:230,Entretenimento:180,Saúde:120},seasonal_trends:{Verão:1.3,Inverno:.8,Natal:1.8,Carnaval:1.5},growth_projections:{users:18500,revenue:62e4,merchants:1100}},offer_optimization:[{offer_id:"offer_1",current_performance:6.5,optimization_suggestions:["Melhorar título","Ajustar horário de exibição","Aumentar desconto"],predicted_improvement:25.5}]}}catch(s){throw console.error("Erro ao buscar analytics preditivos:",s),s}}static async getCohortAnalysis(){try{return[{cohort_month:"2024-01",user_count:1250,retention_rates:{"Mês 0":100,"Mês 1":65,"Mês 2":45,"Mês 3":35,"Mês 6":25,"Mês 12":18},revenue_per_cohort:{"Mês 0":15600,"Mês 1":12400,"Mês 2":8900,"Mês 3":7200},avg_lifetime_value:245.6},{cohort_month:"2024-02",user_count:1450,retention_rates:{"Mês 0":100,"Mês 1":68,"Mês 2":48,"Mês 3":38},revenue_per_cohort:{"Mês 0":18200,"Mês 1":14600,"Mês 2":10400},avg_lifetime_value:268.9}]}catch(s){throw console.error("Erro ao buscar análise de coorte:",s),s}}static async getFunnelAnalysis(s){try{return{user_onboarding:[{stage_name:"Visitante",users_entered:1e4,users_completed:8500,conversion_rate:85,avg_time_in_stage:.5,drop_off_reasons:["Não interessado"]},{stage_name:"Cadastro Iniciado",users_entered:8500,users_completed:6800,conversion_rate:80,avg_time_in_stage:2,drop_off_reasons:["Formulário longo","Erro técnico"]},{stage_name:"Email Verificado",users_entered:6800,users_completed:6120,conversion_rate:90,avg_time_in_stage:24,drop_off_reasons:["Email não recebido"]},{stage_name:"Perfil Completo",users_entered:6120,users_completed:5500,conversion_rate:90,avg_time_in_stage:12,drop_off_reasons:["Muitas informações"]},{stage_name:"Primeira Compra",users_entered:5500,users_completed:2750,conversion_rate:50,avg_time_in_stage:72,drop_off_reasons:["Preço","Falta de ofertas interessantes"]}],offer_conversion:[{stage_name:"Visualização",users_entered:5e3,users_completed:4200,conversion_rate:84,avg_time_in_stage:.2,drop_off_reasons:["Não interessante"]},{stage_name:"Clique",users_entered:4200,users_completed:1260,conversion_rate:30,avg_time_in_stage:1,drop_off_reasons:["Mudou de ideia"]},{stage_name:"Visualização Detalhes",users_entered:1260,users_completed:945,conversion_rate:75,avg_time_in_stage:3,drop_off_reasons:["Condições não atrativas"]},{stage_name:"Resgate",users_entered:945,users_completed:378,conversion_rate:40,avg_time_in_stage:2,drop_off_reasons:["Processo complexo","Mudou de ideia"]}],subscription:[{stage_name:"Interesse",users_entered:2e3,users_completed:1600,conversion_rate:80,avg_time_in_stage:1,drop_off_reasons:["Preço alto"]},{stage_name:"Teste Gratuito",users_entered:1600,users_completed:1200,conversion_rate:75,avg_time_in_stage:168,drop_off_reasons:["Não viu valor"]},{stage_name:"Conversão Paga",users_entered:1200,users_completed:360,conversion_rate:30,avg_time_in_stage:24,drop_off_reasons:["Preço","Não usa o suficiente"]}]}[s]||[]}catch(a){throw console.error("Erro ao buscar análise de funil:",a),a}}static async getABTestResults(s){try{const a=[{test_id:"test_1",test_name:"Botão de CTA - Cor",variant_a:{name:"Azul (Controle)",users:1e3,conversions:85,conversion_rate:8.5},variant_b:{name:"Verde (Teste)",users:1e3,conversions:102,conversion_rate:10.2},statistical_significance:95.5,confidence_level:95,winner:"B",lift:20},{test_id:"test_2",test_name:"Email Subject Line",variant_a:{name:"Oferta Especial",users:5e3,conversions:450,conversion_rate:9},variant_b:{name:"Desconto Limitado",users:5e3,conversions:485,conversion_rate:9.7},statistical_significance:87.2,confidence_level:95,winner:"inconclusive",lift:7.8}];return s?a.filter(r=>r.test_id===s):a}catch(a){throw console.error("Erro ao buscar resultados de testes A/B:",a),a}}static async generateCustomReport(s){try{return console.log("Gerando relatório customizado:",s),{generated_at:new Date().toISOString(),config:s,data:{summary:{total_records:1250,date_range:`${s.filters.start_date} - ${s.filters.end_date}`},metrics:s.metrics.map(r=>({name:r,value:Math.floor(Math.random()*1e3),change:(Math.random()-.5)*50})),detailed_data:Array.from({length:100},(r,n)=>({id:n+1,...s.dimensions.reduce((i,o)=>(i[o]=`${o}_value_${n+1}`,i),{}),...s.metrics.reduce((i,o)=>(i[o]=Math.floor(Math.random()*1e3),i),{})}))}}}catch(a){throw console.error("Erro ao gerar relatório customizado:",a),a}}static async getAlerts(){try{return[{id:"alert_1",type:"threshold",severity:"high",title:"Taxa de conversão baixa",description:"A taxa de conversão caiu abaixo de 5% nas últimas 2 horas",metric:"conversion_rate",current_value:4.2,threshold_value:5,created_at:new Date(Date.now()-72e5).toISOString(),resolved:!1},{id:"alert_2",type:"anomaly",severity:"medium",title:"Pico incomum de tráfego",description:"Aumento de 300% no tráfego comparado ao mesmo horário da semana passada",metric:"active_users",current_value:1200,threshold_value:300,created_at:new Date(Date.now()-36e5).toISOString(),resolved:!1},{id:"alert_3",type:"system",severity:"critical",title:"Tempo de resposta elevado",description:"API respondendo em mais de 2 segundos",metric:"response_time",current_value:2500,threshold_value:1e3,created_at:new Date(Date.now()-18e5).toISOString(),resolved:!0}]}catch(s){throw console.error("Erro ao buscar alertas:",s),s}}static async exportData(s){try{return console.log("Exportando dados:",s),{download_url:`/api/exports/download/${Date.now()}.${s.format}`,file_size:1024*1024*2.5,expires_at:new Date(Date.now()+24*36e5).toISOString()}}catch(a){throw console.error("Erro ao exportar dados:",a),a}}static async getBenchmarkData(){try{return{industry_averages:{conversion_rate:6.2,retention_rate:72.5,avg_session_duration:7.8,customer_lifetime_value:189.5},your_performance:{conversion_rate:7.8,retention_rate:78.5,avg_session_duration:8.5,customer_lifetime_value:245.6},percentile_ranking:{conversion_rate:75,retention_rate:82,avg_session_duration:68,customer_lifetime_value:89},improvement_opportunities:[{metric:"avg_session_duration",gap:-.7,recommendation:"Melhorar engajamento com conteúdo personalizado"}]}}catch(s){throw console.error("Erro ao buscar dados de benchmark:",s),s}}static trackFunnelStep(s,a){console.log(`Tracking funnel step: ${s} - ${a}`)}}const Nb=({voucherId:t,voucherCode:s,businessName:a,expiresAt:r,onView:n})=>{const i=W(),o=()=>{n?n():i(`/voucher/${t}/active`)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Código: ",s]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ativo"})})]}),e.jsx("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:e.jsxs("span",{children:["Válido até: ",new Date(r).toLocaleDateString()]})}),e.jsx("button",{onClick:o,className:"w-full bg-[#C91F1F] text-white py-2 rounded hover:bg-[#B01B1B] transition-colors",children:"Ver Voucher"})]})};function wb(){const t=W(),{user:s}=U(),[a,r]=h.useState([]),[n,i]=h.useState([]),[o,c]=h.useState(!0),[l,d]=h.useState("all"),[m,u]=h.useState(""),x=h.useCallback(async()=>{if(s){c(!0);try{const{data:j,error:A}=await F.from("vouchers").select(`
          *,
          offer:offers (*, merchant:users!merchant_id(business_name, contact_info))
        `).eq("user_id",s.id).order("created_at",{ascending:!1});if(A){console.error("Erro ao carregar vouchers:",A),r([]);return}r(j||[])}catch(j){console.error("Erro crítico ao carregar vouchers:",j),r([])}finally{c(!1)}}},[s]),p=h.useCallback(()=>{let j=a;l!=="all"&&(l==="expired"?j=j.filter(A=>new Date(A.expires_at)<=new Date&&A.status!=="used"):j=j.filter(A=>{if(l==="active"){const k=new Date(A.expires_at)<=new Date;return A.status==="active"&&!k}return A.status===l})),m&&(j=j.filter(A=>A.offer?.title.toLowerCase().includes(m.toLowerCase())||A.offer?.merchant?.business_name.toLowerCase().includes(m.toLowerCase())||A.voucher_code.toLowerCase().includes(m.toLowerCase()))),i(j)},[a,l,m]);h.useEffect(()=>{x()},[x]),h.useEffect(()=>{p()},[p]);const v=j=>j.status==="used"?"used":new Date(j.expires_at)<=new Date?"expired":"active",w=j=>{switch(j){case"active":return e.jsx(B,{className:"w-5 h-5 text-green-500"});case"used":return e.jsx(B,{className:"w-5 h-5 text-blue-500"});case"expired":return e.jsx(ks,{className:"w-5 h-5 text-red-500"});default:return e.jsx(et,{className:"w-5 h-5 text-gray-500"})}},b=j=>{switch(j){case"active":return"Ativo";case"used":return"Usado";case"expired":return"Expirado";default:return"Desconhecido"}},g=j=>{switch(j){case"active":return"bg-green-100 text-green-800 border-green-200";case"used":return"bg-blue-100 text-blue-800 border-blue-200";case"expired":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},y=j=>{const A=v(j);t(A==="active"?`/voucher/${j.id}/active`:`/voucher/${j.id}`)},f=async j=>{if(window.confirm("Tem certeza que deseja excluir este voucher?"))try{const{error:A}=await F.from("vouchers").delete().eq("id",j);A||r(a.filter(k=>k.id!==j))}catch(A){console.error("Erro ao excluir voucher:",A),r(a.filter(k=>k.id!==j))}},C=()=>{const j=a.filter(S=>{const N=new Date(S.expires_at)<=new Date;return S.status==="active"&&!N}).length,A=a.filter(S=>S.status==="used").length,k=a.filter(S=>new Date(S.expires_at)<=new Date&&S.status!=="used").length;return{active:j,used:A,expired:k,total:a.length}};if(o)return e.jsx(ue,{title:"Meus Vouchers",children:e.jsx("div",{className:"flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando seus vouchers..."})]})})});const E=C();return e.jsx(ue,{title:"Meus Vouchers",subtitle:"Gerencie todos os seus vouchers em um só lugar",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border-2 border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-[#333333]",children:E.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border-2 border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:E.active}),e.jsx("div",{className:"text-sm text-green-700",children:"Ativos"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border-2 border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:E.used}),e.jsx("div",{className:"text-sm text-blue-700",children:"Usados"})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border-2 border-red-200",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:E.expired}),e.jsx("div",{className:"text-sm text-red-700",children:"Expirados"})]})]}),e.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar por título, estabelecimento ou código...",value:m,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#F6C100] focus:outline-none"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hm,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:l,onChange:j=>d(j.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#F6C100] focus:outline-none bg-white",children:[e.jsxs("option",{value:"all",children:["Todos (",E.total,")"]}),e.jsxs("option",{value:"active",children:["Ativos (",E.active,")"]}),e.jsxs("option",{value:"used",children:["Usados (",E.used,")"]}),e.jsxs("option",{value:"expired",children:["Expirados (",E.expired,")"]})]})]})]})}),n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(et,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-[#333333] mb-2",children:m||l!=="all"?"Nenhum voucher encontrado":"Você ainda não tem vouchers"}),e.jsx("p",{className:"text-gray-600 mb-6",children:m||l!=="all"?"Tente ajustar os filtros de busca":"Explore nossas ofertas e resgate seu primeiro voucher!"}),!m&&l==="all"&&e.jsx("button",{onClick:()=>{jb.trackFunnelStep("offer_conversion","visualization"),t("/experiencias")},className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Ver Ofertas"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(j=>{const A=v(j),k=(j.offer?.original_value||0)*.5;return A==="active"?e.jsx(Nb,{voucherId:j.id,voucherCode:j.voucher_code,businessName:j.offer?.merchant?.business_name||"",expiresAt:j.expires_at,onView:()=>y(j)},j.id):e.jsxs("div",{className:`bg-white rounded-xl border-2 overflow-hidden transition-all hover:shadow-lg ${A==="used"?"border-blue-200 hover:border-blue-300":"border-red-200 hover:border-red-300"}`,children:[j.offer?.image_url&&e.jsxs("div",{className:"h-48 bg-gray-200 overflow-hidden relative",children:[e.jsx("img",{src:j.offer.image_url,alt:j.offer.title,className:`w-full h-full object-cover ${A!=="active"?"opacity-60":""}`}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold border-2 ${g(A)}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[w(A),b(A)]})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2 line-clamp-2",children:j.offer?.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.offer?.merchant?.business_name}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["CHF ",k.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["CHF ",j.offer?.original_value.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-xs",children:j.voucher_code})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{children:A==="used"&&j.used_at?`Usado em ${new Date(j.used_at).toLocaleDateString()}`:`Expira em ${new Date(j.expires_at).toLocaleDateString()}`})]}),j.offer?.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:j.offer.location})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>y(j),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${A==="active"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Me,{className:"w-4 h-4"}),A==="active"?"Usar":"Ver"]}),A!=="active"&&e.jsx("button",{onClick:()=>f(j.id),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:"Excluir voucher",children:e.jsx(Qt,{className:"w-4 h-4"})})]})]})]},j.id)})})]})})}function Cb(){const[t,s]=h.useState([]),[a,r]=h.useState(!1),n=h.useCallback(async()=>{console.log("🔄 Iniciando loadHistory..."),r(!0);try{console.log("📦 Criando histórico demo..."),console.log("✅ Histórico mock removido. Setando array vazio."),s([])}catch(d){console.error("❌ Erro no loadHistory:",d),s([])}finally{console.log("🏁 Finalizando loadHistory, setLoading(false)"),r(!1)}},[]);h.useEffect(()=>{console.log("🚀 useEffect executando, chamando loadHistory..."),n()},[n]);const i=d=>{const m=new Date(d),x=Math.abs(new Date-m),p=Math.ceil(x/(1e3*60*60*24));return p===1?"Ontem":p<7?`${p} dias atrás`:p<30?`${Math.ceil(p/7)} semanas atrás`:`${Math.ceil(p/30)} meses atrás`},o=(d,m)=>d==="voucher_used"&&m==="completed"?"bg-green-100 text-green-800":d==="voucher_received"?"bg-blue-100 text-blue-800":d==="voucher_expired"?"bg-red-100 text-red-800":d==="account_created"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",c=d=>{switch(d){case"voucher_used":return"✅";case"voucher_received":return"🎁";case"voucher_expired":return"⏰";case"account_created":return"🎉";default:return"📋"}};console.log("🖥️ Renderizando. Loading:",a,"History:",t.length);const l=t.reduce((d,m)=>d+(m.amount_saved||0),0);return e.jsx(ue,{title:"Histórico",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-600",children:"Acompanhe todas as suas atividades no DuoPass Club"})}),!a&&t.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Resumo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["CHF ",(l*.18).toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Economizado"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(d=>d.type==="voucher_used").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vouchers Usados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total de Atividades"})]})]})]}),a&&e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"text-gray-600",children:"Carregando histórico..."})}),!a&&t.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Nenhuma atividade encontrada"})}),!a&&t.length>0&&e.jsx("div",{className:"space-y-4",children:t.map(d=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:c(d.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:d.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:d.description})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${o(d.type,d.status)}`,children:d.status==="completed"?"Concluído":d.status==="received"?"Recebido":d.status==="expired"?"Expirado":d.status})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[d.merchant_name&&e.jsxs("span",{children:[d.merchant_logo," ",d.merchant_name]}),d.voucher_code&&e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:d.voucher_code})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[d.amount_saved>0&&e.jsxs("span",{className:"text-green-600 font-semibold",children:["+CHF ",(d.amount_saved*.18).toFixed(2)," economizado"]}),e.jsx("span",{children:i(d.created_at)})]})]})]},d.id))})]})})}const Sb=()=>{const[t,s]=h.useState("duopass"),[a,r]=h.useState([]),[n,i]=h.useState(!0),[o,c]=h.useState(null);h.useEffect(()=>{t==="communities"&&(async()=>{try{i(!0),r([{id:"1",name:"Arte & Criatividade",description:"Explore galerias, exposições e ateliês. Conecte-se com outros amantes da arte contemporânea e clássica.",image_url:"/images/placeholder.png",member_count:123},{id:"2",name:"Gastronomia & Vinhos",description:"Descubra novos sabores, restaurantes exclusivos e experiências culinárias únicas na cidade.",image_url:"/images/placeholder.png",member_count:456}])}catch(m){c(m.message)}finally{i(!1)}})()},[t]);const l=()=>{if(n)return e.jsx("div",{className:"text-center p-8",children:"Carregando..."});if(o)return e.jsxs("div",{className:"text-center p-8 text-red-500",children:["Erro: ",o]});switch(t){case"duopass":return e.jsx("div",{className:"p-4",children:"Conteúdo da comunidade DuoPass (Em breve)"});case"communities":return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:a.map(d=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300",children:[e.jsx("img",{src:d.image_url||"/images/placeholder.png",alt:d.name,className:"w-full h-40 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:d.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:d.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold",children:[d.member_count," membros"]}),e.jsx("button",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Entrar"})]})]})]},d.id))});default:return null}};return e.jsxs(ue,{children:[e.jsxs(da,{children:[e.jsx("title",{children:"DuoPass Connect - Comunidades"}),e.jsx("meta",{name:"description",content:"Conecte-se com comunidades e outros membros do DuoPass."})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"DuoPass Connect"}),e.jsx("p",{className:"text-gray-500",children:"Conecte-se, compartilhe e descubra novas experiências."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-2 mb-6 flex space-x-2",children:[e.jsx("button",{onClick:()=>s("duopass"),className:`px-4 py-2 rounded-md font-semibold transition-colors ${t==="duopass"?"bg-gradient-to-r from-orange-500 to-purple-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Comunidade DuoPass"}),e.jsx("button",{onClick:()=>s("communities"),className:`px-4 py-2 rounded-md font-semibold transition-colors ${t==="communities"?"bg-gradient-to-r from-orange-500 to-purple-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Explorar Comunidades"})]}),e.jsx("div",{children:l()})]})]})};function _b({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Eb=h.forwardRef(_b);function kb({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Pb=h.forwardRef(kb);function Ab({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Db=h.forwardRef(Ab);function Tb({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Fb=h.forwardRef(Tb);function Mb({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const yd=h.forwardRef(Mb);function Ob({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const Rb=h.forwardRef(Ob);function Ib({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Wr=h.forwardRef(Ib);function Vb({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Ga=h.forwardRef(Vb);function Lb({title:t,titleId:s,...a},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?h.createElement("title",{id:s},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const qb=h.forwardRef(Lb),zb=()=>{const{user:t}=U(),[s,a]=h.useState([]),[r,n]=h.useState(!1),[i,o]=h.useState(null),[c,l]=h.useState(null),d="550e8400-e29b-41d4-a716-446655440000",m="550e8400-e29b-41d4-a716-446655440001",u=h.useCallback(()=>{o(null)},[]),x=async()=>{if(!t?.id)throw new Error("Usuário não autenticado");if(t.id==="demo-user-id"||t.id==="admin-user-id")return{id:t.id==="admin-user-id"?m:d,full_name:t.id==="admin-user-id"?"Administrador DuoPass":"Usuário Demo",preferences:{}};const{data:C,error:E}=await F.from("users").select("*").eq("id",t.id).single();if(E)throw new Error(`Erro ao buscar dados do usuário: ${E.message}`);return C},p=async()=>{if(!t?.id)return[];if(t.id==="demo-user-id"||t.id==="admin-user-id")return[];const{data:C,error:E}=await F.from("vouchers").select(`
        id,
        offers (
          title,
          category,
          merchant_name
        )
      `).eq("user_id",t.id).eq("status","used").order("updated_at",{ascending:!1}).limit(8);return E?(console.warn("Erro ao buscar histórico de vouchers:",E.message),[]):C||[]},v=async()=>{const{data:C,error:E}=await F.from("offers").select("*").eq("is_active",!0).gte("expires_at",new Date().toISOString()).limit(15);if(E)throw new Error(`Erro ao buscar ofertas disponíveis: ${E.message}`);return C||[]},w=async(C,E)=>{if(t?.id){if(t.id==="demo-user-id"||t.id==="admin-user-id"){console.log("Recomendações demo não salvas no banco:",{context:C,recommendations:E});return}try{const j=t.id==="demo-user-id"?d:t.id==="admin-user-id"?m:t.id,{error:A}=await F.from("ai_recommendations").insert({user_id:j,context:C,recommendations:E});A&&console.warn("Erro ao salvar recomendações:",A.message)}catch(j){console.warn("Erro ao salvar recomendações:",j)}}},b=async(C,E)=>C.map(j=>{const A=E.find(k=>k.id===j.offer_id);return{...j,offer:A}}),g=h.useCallback(async C=>{if(!t?.id){o("Usuário não autenticado");return}if(r){console.log("Geração já em andamento, ignorando nova solicitação");return}n(!0),o(null),l(C);try{const E=await x(),j=await p(),A=await v();if(A.length===0){console.warn("Nenhuma oferta disponível, usando fallback");const P=Ua(C);a(P);return}const k=Xf(E,j,A,C),S=await Hr(k);if(!S.candidates||S.candidates.length===0)throw new Error("Resposta inválida da IA");const N=Zf(S.candidates[0].content.parts[0].text);if(!Array.isArray(N)||N.length===0)throw new Error("Nenhuma recomendação gerada");const _=(await b(N,A)).filter(P=>P.offer);if(_.length===0){console.warn("Nenhuma recomendação válida, usando fallback");const P=Ua(C);a(P);return}await w(C,_),a(_)}catch(E){console.error("Erro ao gerar recomendações:",E);const j=Ua(C);a(j);const A=E instanceof Error?E.message:"Erro inesperado";A.includes("Timeout")||A.includes("Gemini")?o("Usando recomendações de demonstração (API temporariamente indisponível)"):o(`${A} - Exibindo recomendações de demonstração`)}finally{n(!1)}},[t?.id,n,o,l,a,r]),y=h.useMemo(()=>{let C;return E=>{clearTimeout(C),C=setTimeout(()=>{g(E)},300)}},[g]),f=h.useCallback(C=>{y(C)},[y]);return{recommendations:s,loading:r,error:i,generateRecommendations:f,clearError:u,lastContext:c}},Ub=()=>{const t=W(),{recommendations:s,loading:a,error:r,generateRecommendations:n,clearError:i}=zb(),[o,c]=h.useState({location:"Zurich",weather:"ensolarado",occasion:"encontro romântico",budget:150}),l=async()=>{i(),await n(o)},d=x=>{t(`/ofertas/${x}`)},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},u={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.4}},hover:{scale:1.02,transition:{duration:.2}}};return e.jsx(O.div,{className:"min-h-screen bg-gradient-to-br from-orange-50 via-pink-50 to-purple-50 p-4",variants:m,initial:"hidden",animate:"visible",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(O.div,{className:"text-center mb-8",variants:u,children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(Ga,{className:"h-8 w-8 text-orange-500 mr-3"}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent",children:"Sofia - Sua Assistente IA"})]}),e.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Recomendações personalizadas baseadas no seu histórico e preferências"})]}),e.jsxs(O.div,{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",variants:u,children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Wr,{className:"h-5 w-5 mr-2"}),"Conte-me sobre o momento"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Wr,{className:"h-4 w-4 inline mr-1"}),"Localização"]}),e.jsxs("select",{value:o.location,onChange:x=>c(p=>({...p,location:x.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"Zurich",children:"Zurich"}),e.jsx("option",{value:"Geneva",children:"Geneva"}),e.jsx("option",{value:"Basel",children:"Basel"}),e.jsx("option",{value:"Bern",children:"Bern"}),e.jsx("option",{value:"Lausanne",children:"Lausanne"}),e.jsx("option",{value:"Lucerne",children:"Lucerne"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(qb,{className:"h-4 w-4 inline mr-1"}),"Clima"]}),e.jsxs("select",{value:o.weather,onChange:x=>c(p=>({...p,weather:x.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"ensolarado",children:"Ensolarado"}),e.jsx("option",{value:"nublado",children:"Nublado"}),e.jsx("option",{value:"chuva",children:"Chuva"}),e.jsx("option",{value:"neve",children:"Neve"}),e.jsx("option",{value:"frio",children:"Frio"}),e.jsx("option",{value:"quente",children:"Quente"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(yd,{className:"h-4 w-4 inline mr-1"}),"Ocasião"]}),e.jsxs("select",{value:o.occasion,onChange:x=>c(p=>({...p,occasion:x.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"encontro romântico",children:"Encontro Romântico"}),e.jsx("option",{value:"aniversário",children:"Aniversário"}),e.jsx("option",{value:"celebração especial",children:"Celebração Especial"}),e.jsx("option",{value:"fim de semana relaxante",children:"Fim de Semana Relaxante"}),e.jsx("option",{value:"aventura",children:"Aventura"}),e.jsx("option",{value:"cultura",children:"Cultura"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Db,{className:"h-4 w-4 inline mr-1"}),"Orçamento (CHF)"]}),e.jsx("input",{type:"number",value:o.budget,onChange:x=>c(p=>({...p,budget:Number(x.target.value)})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",min:"50",max:"1000",step:"10"})]})]}),e.jsx(O.button,{onClick:l,disabled:a,className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white font-semibold py-4 px-6 rounded-lg hover:from-orange-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Gerando recomendações..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ga,{className:"h-5 w-5 mr-2"}),"Atualizar Recomendações"]})})]}),e.jsx(Rr,{children:r&&e.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[e.jsx(Fb,{className:"h-5 w-5 text-red-500 mr-3"}),e.jsx("span",{className:"text-red-700",children:r})]})}),e.jsx(Rr,{children:s.length>0&&e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((x,p)=>e.jsx(Bb,{recommendation:x,onOfferClick:d,index:p},`${x.offer_id}-${p}`))})}),!a&&s.length===0&&!r&&e.jsxs(O.div,{className:"text-center py-12",variants:u,children:[e.jsx(Ga,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"Pronto para descobrir experiências incríveis?"}),e.jsx("p",{className:"text-gray-400",children:'Clique em "Atualizar Recomendações" para começar'})]})]})})},Bb=({recommendation:t,onOfferClick:s,index:a})=>{const r=i=>i>=80?"text-green-600 bg-green-100":i>=60?"text-yellow-600 bg-yellow-100":"text-orange-600 bg-orange-100",n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:a*.1,duration:.4}},hover:{scale:1.03,transition:{duration:.2}}};return e.jsx(O.div,{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",variants:n,initial:"hidden",animate:"visible",whileHover:"hover",children:e.jsxs("div",{className:"p-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r(t.confidence)}`,children:[t.confidence,"% match"]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Pb,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:t.perfect_timing})]})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.title}),t.offer&&e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Wr,{className:"h-4 w-4 mr-1"}),t.offer.location]}),e.jsxs("span",{className:"font-semibold text-orange-600",children:["CHF ",t.offer.price]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-pink-50 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[e.jsx(yd,{className:"h-4 w-4 mr-2 text-pink-500"}),"Por que é perfeita para vocês"]}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:t.reason})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[e.jsxs("h4",{className:"font-semibold text-yellow-800 mb-1 flex items-center",children:[e.jsx(Rb,{className:"h-4 w-4 mr-2"}),"Dica especial"]}),e.jsx("p",{className:"text-yellow-700 text-sm",children:t.special_tip})]}),e.jsxs(O.button,{onClick:()=>s(t.offer_id),className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white font-semibold py-3 px-4 rounded-lg hover:from-orange-600 hover:to-pink-600 transition-all duration-200 flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Quero esta experiência!",e.jsx(Eb,{className:"h-4 w-4 ml-2"})]})]})})};function ot({children:t,requiredRole:s,redirectTo:a="/login"}){const{user:r,userProfile:n,loading:i}=U(),o=_t();return console.log("--- ProtectedRoute Check ---"),console.log("Location:",o.pathname),console.log("Loading:",i),console.log("User:",r?r.email:"No User"),console.log("User Profile:",n),console.log("Required Role:",s),i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F3EF]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ct,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-[#C91F1F]"}),e.jsx("p",{className:"text-gray-600",children:"Verificando autenticação..."})]})}):r?e.jsx(e.Fragment,{children:t}):(console.log("Redirecting to login: User not found."),e.jsx(Bd,{to:a,state:{from:o},replace:!0}))}function vd(t){return function({children:a}){return e.jsx(ot,{requiredRole:t,children:a})}}const Je=vd("customer"),$b=vd("merchant");function Hb(){return e.jsxs(ot,{children:[e.jsxs(da,{children:[e.jsx("title",{children:"Recomendações IA - DUO PASS Club"}),e.jsx("meta",{name:"description",content:"Descubra experiências personalizadas para casais na Suíça com nossa assistente IA Sofia. Recomendações baseadas no seu histórico e preferências."}),e.jsx("meta",{name:"keywords",content:"recomendações, IA, experiências casais, Suíça, personalizado"})]}),e.jsx(ue,{title:"Recomendações IA",children:e.jsx(Ub,{})})]})}function Gb(){const{user:t,userProfile:s}=U(),[a,r]=h.useState(null),[n,i]=h.useState(!1),[o,c]=h.useState(!0),[l,d]=h.useState(!1),[m,u]=h.useState({full_name:"",phone:"",address:"",birth_date:""}),[x,p]=h.useState(!1),[v,w]=h.useState(!1),[b,g]=h.useState(!1),[y,f]=h.useState(!1),[C,E]=h.useState(!1),[j,A]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,S]=h.useState({current:!1,new:!1,confirm:!1}),[N,D]=h.useState(!1),[_,P]=h.useState(!1),[T,I]=h.useState(!1),[H,X]=h.useState(""),[ae,Ue]=h.useState(""),[oe,Xe]=h.useState(1),[pt,Ze]=h.useState(""),[we,ne]=h.useState({type:"",text:""});h.useEffect(()=>{if(s){const z={full_name:s.full_name,email:t?.email||"",phone:s.phone||"",address:s.address||"",birth_date:s.birth_date||"",user_type:s.user_type,subscription_status:s.subscription_status,created_at:s.created_at};r(z),u({full_name:z.full_name,phone:z.phone||"",address:z.address||"",birth_date:z.birth_date||""}),c(!1)}},[t,s]),h.useEffect(()=>{if(we.text){const z=setTimeout(()=>ne({type:"",text:""}),3e3);return()=>clearTimeout(z)}},[we]);const V=()=>{i(!0)},G=()=>{a&&u({full_name:a.full_name,phone:a.phone||"",address:a.address||"",birth_date:a.birth_date||""}),i(!1)},be=async()=>{d(!0),ne({type:"",text:""});try{if(!m.full_name.trim())throw new Error("Nome completo é obrigatório");if(m.phone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(m.phone))throw new Error("Formato de telefone inválido. Use: (11) 99999-9999");const{error:z}=await F.from("users").update({full_name:m.full_name,phone:m.phone||null,address:m.address||null,birth_date:m.birth_date||null}).eq("id",t?.id);if(z)throw z;if(a){const le={...a,full_name:m.full_name,phone:m.phone,address:m.address,birth_date:m.birth_date};r(le)}i(!1),ne({type:"success",text:"Perfil atualizado com sucesso!"})}catch(z){ne({type:"error",text:z.message})}finally{d(!1)}},Pe=async z=>{z.preventDefault(),D(!0);try{if(j.newPassword!==j.confirmPassword)throw new Error("As senhas não coincidem");if(j.newPassword.length<6)throw new Error("A nova senha deve ter pelo menos 6 caracteres");if(j.currentPassword===j.newPassword)throw new Error("A nova senha deve ser diferente da atual");await new Promise(le=>setTimeout(le,2e3)),ne({type:"success",text:"Senha alterada com sucesso!"}),p(!1),A({currentPassword:"",newPassword:"",confirmPassword:""})}catch(le){ne({type:"error",text:le.message})}finally{D(!1)}},es=async()=>{P(!0);try{C?(await new Promise(z=>setTimeout(z,1e3)),E(!1),ne({type:"success",text:"Autenticação em duas etapas desativada!"})):(await new Promise(z=>setTimeout(z,1500)),X("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2ZmZiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNCI+UVIgQ29kZTwvdGV4dD48L3N2Zz4="),w(!0))}catch{ne({type:"error",text:"Erro ao processar solicitação"})}finally{P(!1)}},Rd=async z=>{z.preventDefault(),P(!0);try{if(ae.length!==6)throw new Error("Código deve ter 6 dígitos");await new Promise(le=>setTimeout(le,1500)),E(!0),w(!1),Ue(""),X(""),ne({type:"success",text:"Autenticação em duas etapas ativada com sucesso!"})}catch(le){ne({type:"error",text:le.message})}finally{P(!1)}},Id=async()=>{I(!0),await new Promise(qd=>setTimeout(qd,2e3));const z={user:{email:a?.email,name:a?.full_name},vouchers:[{code:"WELCOME50",status:"active"}],history:[{action:"voucher_used",amount:45}]},le=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),zn=URL.createObjectURL(le),va=document.createElement("a");va.href=zn,va.download=`duopass-export-${new Date().toISOString().split("T")[0]}.json`,va.click(),URL.revokeObjectURL(zn),I(!1),g(!1),ne({type:"success",text:"Dados exportados com sucesso!"})},Vd=async()=>{if(oe<3){Xe(oe+1);return}ne({type:"success",text:"Solicitação de exclusão processada!"}),f(!1),Xe(1),Ze("")},qn=z=>new Date(z).toLocaleDateString("pt-BR"),Ld=z=>{const le=z==="active";return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${le?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${le?"bg-green-500":"bg-yellow-500"}`}),le?"Ativo":"Inativo"]})};return o?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-24 bg-gray-300 rounded-full w-24 mx-auto mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((z,le)=>e.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"},le))})]})]})})}):a?e.jsx(ue,{title:"Meu Perfil",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:e.jsx(ve,{className:"w-10 h-10 text-gray-600"})}),e.jsx("button",{className:"absolute bottom-0 right-0 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-shadow",children:e.jsx(cs,{className:"w-3 h-3 text-gray-600"})})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-2xl font-bold",children:a.full_name}),e.jsx("p",{className:"opacity-90 capitalize",children:a.user_type==="merchant"?"Comerciante":"Cliente"}),e.jsx("div",{className:"mt-2",children:Ld(a.subscription_status)})]})]}),!n&&e.jsxs("button",{onClick:V,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(Xm,{className:"w-4 h-4"}),e.jsx("span",{children:"Editar"})]})]})}),e.jsxs("div",{className:"p-6",children:[we.text&&e.jsxs("div",{className:`p-4 rounded-lg mb-6 flex items-center space-x-2 ${we.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[we.type==="success"?e.jsx(qe,{className:"w-5 h-5"}):e.jsx(et,{className:"w-5 h-5"}),e.jsx("span",{children:we.text})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),e.jsx("input",{type:"text",value:m.full_name,onChange:z=>u({...m,full_name:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",value:m.phone,onChange:z=>u({...m,phone:z.target.value}),placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),e.jsx("input",{type:"text",value:m.address,onChange:z=>u({...m,address:z.target.value}),placeholder:"Rua, número, bairro, cidade",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),e.jsx("input",{type:"date",value:m.birth_date,onChange:z=>u({...m,birth_date:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:be,disabled:l,className:"flex-1 bg-[#C91F1F] text-white px-4 py-2 rounded-lg hover:bg-[#A91A1A] transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Salvando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(_l,{className:"w-4 h-4"}),e.jsx("span",{children:"Salvar"})]})}),e.jsxs("button",{onClick:G,disabled:l,className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancelar"})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.email})]})]}),a.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(St,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.phone})]})]}),a.address&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Endereço"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.address})]})]}),a.birth_date&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(dt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Data de Nascimento"}),e.jsx("p",{className:"font-medium text-gray-900",children:qn(a.birth_date)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Membro desde"}),e.jsx("p",{className:"font-medium text-gray-900",children:qn(a.created_at)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Segurança da Conta"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Alterar Senha"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Última alteração há mais de 90 dias"})]})]}),e.jsx("div",{className:"text-gray-400",children:"→"})]}),e.jsxs("button",{onClick:es,disabled:_,className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors disabled:opacity-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ee,{className:`w-5 h-5 ${C?"text-green-500":"text-gray-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Autenticação em Duas Etapas"}),e.jsx("div",{className:"text-sm text-gray-500",children:C?"Ativada - clique para desativar":"Adicione uma camada extra de segurança"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[_&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),C?e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Ativo"}):e.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs",children:"Inativo"}),e.jsx("div",{className:"text-gray-400",children:"→"})]})]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_s,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Exportar Dados"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Baixe todos os seus dados em formato JSON"})]})]}),e.jsx("div",{className:"text-gray-400",children:"→"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border border-red-200 hover:border-red-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-red-600",children:"Zona de Perigo"}),e.jsx("div",{className:"text-sm text-red-500",children:"Excluir conta permanentemente"})]})]}),e.jsx("div",{className:"text-red-400",children:"→"})]})]})]})]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Alterar Senha"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Pe,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Atual"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:k.current?"text":"password",value:j.currentPassword,onChange:z=>A({...j,currentPassword:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>S({...k,current:!k.current}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:k.current?e.jsx(ds,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:k.new?"text":"password",value:j.newPassword,onChange:z=>A({...j,newPassword:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>S({...k,new:!k.new}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:k.new?e.jsx(ds,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:k.confirm?"text":"password",value:j.confirmPassword,onChange:z=>A({...j,confirmPassword:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>S({...k,confirm:!k.confirm}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:k.confirm?e.jsx(ds,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:N?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Alterar Senha"})]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Configurar 2FA"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-48 h-48 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:H?e.jsx("img",{src:H,alt:"QR Code 2FA",className:"w-40 h-40"}):e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Escaneie este QR code com seu app autenticador"})]}),e.jsxs("form",{onSubmit:Rd,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código de Verificação"}),e.jsx("input",{type:"text",value:ae,onChange:z=>Ue(z.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-wider",required:!0})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:_||ae.length!==6,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center",children:_?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ativar 2FA"})]})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"font-semibold",children:"Exportar Dados"}),e.jsx("button",{onClick:()=>g(!1),children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download incluirá: perfil, vouchers, histórico e atividades"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 border border-gray-300 py-2 rounded",children:"Cancelar"}),e.jsx("button",{onClick:Id,disabled:T,className:"flex-1 bg-blue-600 text-white py-2 rounded disabled:opacity-50",children:T?"Processando...":"Exportar"})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"font-semibold text-red-900",children:"Excluir Conta"}),e.jsx("button",{onClick:()=>f(!1),children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[oe===1&&e.jsx("div",{children:e.jsx("div",{className:"bg-red-50 p-3 rounded mb-4",children:e.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Ação irreversível! Todos os dados serão removidos."})})}),oe===2&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm mb-4",children:["Digite ",e.jsx("strong",{children:"EXCLUIR CONTA"}),":"]}),e.jsx("input",{value:pt,onChange:z=>Ze(z.target.value),placeholder:"EXCLUIR CONTA",className:"w-full p-2 border rounded mb-4"})]}),oe===3&&e.jsxs("div",{className:"text-center",children:[e.jsx(qe,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Processando exclusão..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"flex-1 border border-gray-300 py-2 rounded",children:"Cancelar"}),e.jsx("button",{onClick:Vd,disabled:oe===2&&pt!=="EXCLUIR CONTA",className:"flex-1 bg-red-600 text-white py-2 rounded disabled:opacity-50",children:oe===1?"Continuar":oe===2?"Confirmar":"Finalizar"})]})]})]})}),we.text&&e.jsx("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded shadow-lg ${we.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:we.text})]})}):e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erro ao carregar perfil"}),e.jsx("p",{className:"text-gray-600",children:"Não foi possível carregar as informações do perfil."})]})})})}const Kr=[{id:"cultural-starter",name:"Cultural Starter",description:"Perfeito para começar sua jornada cultural",price_monthly:9,price_yearly:90,experiences_per_month:2,features:["2 experiências culturais por mês (2 por 1)","Acesso a cafés e experiências básicas","Newsletter cultural semanal","Comunidade DUO PASS Connect","Suporte por email"],popular:!1,tier:"starter",color_scheme:{primary:"#F59E0B",secondary:"#FEF3C7",gradient:"from-amber-400 to-orange-500"},icon:"🌟"},{id:"cultural-explorer",name:"Cultural Explorer",description:"O plano mais popular para exploradores culturais",price_monthly:12,price_yearly:120,experiences_per_month:4,features:["4 experiências culturais por mês (2 por 1)","Acesso completo: restaurantes, spas, arte","Eventos exclusivos mensais","Curadoria personalizada","Prioridade no atendimento","Acesso antecipado a novas experiências"],popular:!0,tier:"explorer",color_scheme:{primary:"#8B5CF6",secondary:"#EDE9FE",gradient:"from-purple-500 to-pink-500"},icon:"👑"},{id:"cultural-ambassador",name:"Cultural Ambassador",description:"Experiência VIP completa para verdadeiros embaixadores",price_monthly:18,price_yearly:180,experiences_per_month:"unlimited",features:["Experiências ilimitadas (2 por 1)","Acesso VIP a eventos especiais","Convidados extras (+2 pessoas ocasionalmente)","Concierge cultural personalizado","Acesso beta a novas experiências","Suporte prioritário 24/7","Transferência de experiências entre meses"],popular:!1,tier:"ambassador",color_scheme:{primary:"#EF4444",secondary:"#FEE2E2",gradient:"from-red-500 to-pink-600"},icon:"🏆"}];function Wb(){const t=W(),{user:s}=U(),[a,r]=h.useState("monthly"),n=l=>{if(!s){t("/login?redirect=/memberships");return}setSelectedPlan(l),t(`/checkout?plan=${l}&billing=${a}`)},i=l=>{switch(l){case"starter":return e.jsx(Z,{className:"w-8 h-8"});case"explorer":return e.jsx(_e,{className:"w-8 h-8"});case"ambassador":return e.jsx(Pl,{className:"w-8 h-8"});default:return e.jsx(Z,{className:"w-8 h-8"})}},o=l=>a==="monthly"?l.price_monthly:Math.round(l.price_yearly/12),c=l=>a==="yearly"?l.price_monthly*12-l.price_yearly:0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-purple-50",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-purple-50 to-pink-50 border-2 border-orange-200 rounded-2xl p-8 mb-12 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-orange-200 to-transparent rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-purple-200 to-transparent rounded-full opacity-50"}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-orange-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(_e,{className:"w-10 h-10 text-white"})}),e.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:[e.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"7 Dias de Experiências"}),e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent",children:"Culturais Premium"})]}),e.jsxs("p",{className:"text-2xl text-gray-700 mb-2 font-semibold",children:["Depois, continue com ",e.jsx("strong",{className:"text-green-600",children:"1 experiência/mês para sempre"})]}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Sem cartão de crédito • Sem compromisso • Qualidade Michelin garantida"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-4 bg-white/70 rounded-xl border border-orange-100",children:[e.jsx(Ct,{className:"w-10 h-10 text-orange-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"4 Vouchers Premium"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Experiências top-tier Michelin"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/70 rounded-xl border border-purple-100",children:[e.jsx($,{className:"w-10 h-10 text-purple-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Connect Completo"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Todas as 5 comunidades VIP"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/70 rounded-xl border border-yellow-100",children:[e.jsx(Z,{className:"w-10 h-10 text-yellow-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Curadoria Personal"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Baseada em suas preferências"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/70 rounded-xl border border-blue-100",children:[e.jsx(Js,{className:"w-10 h-10 text-blue-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Suporte Priority"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Resposta garantida em 2h"})]})]}),e.jsxs("button",{className:"bg-gradient-to-r from-orange-500 via-purple-600 to-pink-500 text-white font-bold py-5 px-10 rounded-2xl text-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center space-x-4 mx-auto mb-4",children:[e.jsx(_e,{className:"w-7 h-7"}),e.jsx("span",{children:"Começar Golden Week Grátis"}),e.jsx(ie,{className:"w-7 h-7"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 text-green-500"}),e.jsx("span",{children:"Sem compromisso"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsx("span",{children:"Ativação imediata"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 mr-2 text-red-500"}),e.jsx("span",{children:"1000+ casais satisfeitos"})]})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(O.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.6},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Escolha Seu Plano Cultural"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Experiências autênticas que conectam pessoas através da cultura"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Quer mais experiências? Faça upgrade quando quiser"}),e.jsx("p",{className:"text-gray-600",children:"Todos os planos incluem tudo do Freemium + benefícios exclusivos"})]}),e.jsxs("div",{className:"inline-flex items-center bg-white rounded-full p-1 shadow-lg border",children:[e.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-3 rounded-full font-medium transition-all ${a==="monthly"?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Mensal"}),e.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-3 rounded-full font-medium transition-all relative ${a==="yearly"?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:["Anual",e.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"-17%"})]})]})]}),e.jsx("div",{className:"max-w-md mx-auto mb-8",children:e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cultural Freemium"}),e.jsx("p",{className:"text-green-600 font-bold text-lg mb-4",children:"SEMPRE GRATUITO"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Disponível automaticamente após Golden Week"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500 mr-3"}),e.jsx("span",{children:"1 Voucher Cultural/Mês"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500 mr-3"}),e.jsx("span",{children:"Experiências Selecionadas"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500 mr-3"}),e.jsx("span",{children:"Connect Básico"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:e.jsxs("p",{className:"text-xs text-green-700",children:["✨ ",e.jsx("strong",{children:"Nenhuma pegadinha:"})," Após 7 dias, continue grátis para sempre"]})})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Quer mais experiências? Faça upgrade quando quiser"}),e.jsx("p",{className:"text-gray-600",children:"Todos os planos incluem tudo do Freemium + benefícios exclusivos"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:Kr.map((l,d)=>{const m=l.popular,u=c(l);return e.jsxs(O.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8+d*.1,duration:.6},className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transform hover:scale-105 transition-all duration-300 ${m?"ring-4 ring-purple-500 ring-opacity-50":""}`,children:[m&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-center py-2 font-bold text-sm",children:"⭐ MAIS POPULAR"}),e.jsxs("div",{className:`p-8 ${m?"pt-12":""}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${l.color_scheme.gradient} text-white mb-4`,children:i(l.tier)}),l.name==="Cultural Starter"&&e.jsx("span",{className:"bg-orange-100 text-orange-700 text-xs px-3 py-1 rounded-full mb-4 inline-block",children:"POPULAR PARA CASAIS"}),l.name==="Cultural Ambassador"&&e.jsx("span",{className:"bg-red-100 text-red-700 text-xs px-3 py-1 rounded-full mb-4 inline-block",children:"EXPERIÊNCIA PREMIUM"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:l.name}),e.jsx("p",{className:"text-gray-600 h-10",children:l.name==="Cultural Explorer"?"O plano mais popular para exploradores culturais ativos":l.description})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-baseline justify-center mb-2",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-800",children:["CHF ",o(l)]}),e.jsx("span",{className:"text-gray-500 ml-2",children:"/mês"})]}),a==="yearly"&&u>0&&e.jsxs("div",{className:"text-green-600 font-medium text-sm",children:["Economize CHF ",u,"/ano"]}),a==="yearly"&&e.jsxs("div",{className:"text-gray-500 text-sm",children:["Cobrado CHF ",l.price_yearly," anualmente"]})]}),e.jsx("div",{className:"space-y-4 mb-8",children:l.features.map((x,p)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qe,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 text-sm",dangerouslySetInnerHTML:{__html:l.name==="Cultural Starter"&&p===0?"<strong>Tudo do Freemium</strong> + benefícios abaixo":x}})]},p))}),e.jsx("button",{onClick:()=>n(l.id),className:"w-full bg-gradient-to-r from-orange-500 to-purple-600 text-white font-bold py-3 px-6 rounded-xl hover:shadow-lg",children:"Começar Golden Week → Upgrade"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["7 dias premium grátis, depois ",l.name," ou continue no Freemium"]})]})]},l.id)})}),e.jsxs(O.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2,duration:.6},className:"mt-20",children:[e.jsx("h3",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"O que nossos membros dizem"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:"M"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Maria Santos"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Explorer"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"O DUO PASS transformou minha vida social. Descobri lugares incríveis e fiz amizades genuínas através da cultura."'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((l,d)=>e.jsx(Z,{className:"w-4 h-4 fill-current"},d))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:"J"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"João Silva"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Ambassador"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"A curadoria é excepcional. Cada experiência é única e autêntica. Vale cada franco investido!"'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((l,d)=>e.jsx(Z,{className:"w-4 h-4 fill-current"},d))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:"A"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Ana Costa"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Starter"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"Perfeito para quem está começando. As experiências são sempre em dupla, criando conexões reais."'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((l,d)=>e.jsx(Z,{className:"w-4 h-4 fill-current"},d))})]})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto mt-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Perguntas Frequentes"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"❓ O que acontece após os 7 dias?"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Você continua com 1 experiência/mês ",e.jsx("strong",{children:"PARA SEMPRE"}),", sem custos."]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"❓ Preciso cancelar algo?"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("strong",{children:"Não!"})," O freemium é permanente. Upgrade opcional."]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"❓ Por que é grátis?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Somos confiantes na qualidade. 7 dias são suficientes para você perceber o valor."})]})]})]})]})]})}const Kb=[{id:"freemium",name:"Freemium",icon:e.jsx(Z,{className:"w-6 h-6 text-gray-500"}),monthlyPrice:0,yearlyPrice:0,description:"Continue a descobrir após sua Golden Week.",features:["1 Experiência Freemium por mês","Acesso a parceiros selecionados","Newsletter com destaques culturais","Funcionalidades básicas do app"],cta:"Continue Grátis"},{id:"golden_yearly",name:"Golden Member",icon:e.jsx(_e,{className:"w-8 h-8 text-yellow-400"}),badge:"Economize 2 meses",badgeColor:"bg-gradient-to-r from-orange-500 to-purple-600 text-white",monthlyPrice:12,yearlyPrice:120,description:"Acesso total. A melhor experiência cultural.",features:["Inicia com 7 dias de Golden Week Trial","4 Golden Vouchers por mês","Acesso a TODAS as experiências (Golden & Premium)","Eventos exclusivos para membros","Curadoria de IA personalizada","Suporte prioritário"],popular:!0,cta:"Começar minha Golden Week"},{id:"golden_monthly",name:"Golden Member",icon:e.jsx(_e,{className:"w-6 h-6 text-yellow-400"}),monthlyPrice:15,yearlyPrice:180,description:"Flexibilidade total para o explorador moderno.",features:["Todos os benefícios do plano Golden","Pague mês a mês","Cancele quando quiser"],cta:"Assinar Plano Mensal"}],Qb=[{icon:e.jsx($,{className:"w-8 h-8 text-orange-500"}),title:"Sempre 2 por 1",description:"Todas as experiências são pensadas para duplas"},{icon:e.jsx(Y,{className:"w-8 h-8 text-purple-500"}),title:"Curadoria Cultural",description:"Seleção de estabelecimentos autênticos e únicos"},{icon:e.jsx(Ee,{className:"w-8 h-8 text-green-500"}),title:"Sem Compromisso",description:"Cancele quando quiser, sem taxas ou multas"},{icon:e.jsx(Se,{className:"w-8 h-8 text-blue-500"}),title:"Garantia 30 dias",description:"Satisfação garantida ou seu dinheiro de volta"}],Yb=[{name:"Ana",age:29,text:"Descobri lugares incríveis que nunca encontraria sozinha",rating:5},{name:"Pedro",age:35,text:"Cada experiência é uma nova conexão cultural",rating:5},{name:"Clara",age:42,text:"Melhor investimento que fiz em qualidade de vida",rating:5}],Xb=[{question:"Como funciona o modelo 2 por 1?",answer:"Todas as nossas experiências são pensadas para duplas. Você paga por uma experiência e pode levar um acompanhante gratuitamente."},{question:"Posso cancelar a qualquer momento?",answer:"Sim! Não há compromisso de permanência. Você pode cancelar sua assinatura a qualquer momento sem taxas adicionais."},{question:"Que tipos de experiências estão incluídas?",answer:"Oferecemos experiências em restaurantes, spas, atividades artísticas, eventos culturais, workshops e muito mais, todos cuidadosamente selecionados."},{question:"Os parceiros são verificados?",answer:"Absolutamente! Todos os nossos parceiros passam por um rigoroso processo de curadoria para garantir qualidade e autenticidade."},{question:"Funciona para turistas?",answer:"Sim! Nossas experiências são perfeitas tanto para residentes quanto para turistas que querem conhecer a verdadeira cultura suíça."}];function Zb(){const[t,s]=h.useState(!1),[a,r]=h.useState(null),n=W(),{user:i}=U(),o=l=>{if(!i){n("/login?redirect=/pricing");return}if(l==="free"){alert("Plano gratuito ativado com sucesso!"),n("/customer-dashboard");return}n("/checkout",{state:{planId:l,billing:t?"yearly":"monthly"}})},c=(l,d)=>{const m=l*12,u=m-d,x=Math.round(u/m*100);return{savings:u,percentage:x}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-orange-500 to-purple-600 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto text-center py-24 px-4",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight",children:["7 Dias de Acesso Golden Grátis.",e.jsx("span",{className:"block text-yellow-300",children:"Depois, continue no Freemium para sempre."})]}),e.jsx("p",{className:"mt-6 text-lg md:text-xl max-w-3xl mx-auto",children:"Experimente o melhor do DuoPass com a Golden Week: acesso ilimitado a todas as experiências. Após o trial, continue descobrindo a cultura local com nosso plano Freemium."}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("button",{onClick:()=>o("golden_yearly"),className:"bg-white text-orange-600 font-bold py-4 px-10 rounded-full text-xl hover:bg-orange-50 transition-transform transform hover:scale-105 shadow-lg",children:"Começar minha Golden Week"})})]})]}),e.jsxs("div",{id:"pricing-table",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx("span",{className:`mr-3 font-semibold ${t?"text-gray-500":"text-purple-700"}`,children:"Faturamento Mensal"}),e.jsx("button",{onClick:()=>s(!t),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:`ml-3 font-semibold ${t?"text-purple-700":"text-gray-500"}`,children:"Faturamento Anual"}),t&&e.jsx("span",{className:"ml-4 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold",children:"Economize 2 meses!"})]})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:Kb.map(l=>(t?l.yearlyPrice:l.monthlyPrice,t&&c(l.monthlyPrice,l.yearlyPrice),e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl hover:scale-105 ${l.popular?"ring-2 ring-orange-500 transform scale-105":""}`,children:[l.popular&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-orange-500 to-purple-600 text-white text-center py-2 text-sm font-semibold",children:"⭐ MAIS POPULAR"}),e.jsxs("div",{className:`p-8 ${l.popular?"pt-16":""}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-orange-500 to-purple-600 rounded-full text-white mb-4",children:l.icon}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.name}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${l.badgeColor}`,children:l.badge})]}),e.jsxs("div",{className:"text-center mb-6 h-24",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:l.id==="freemium"?"Grátis":`CHF ${t&&l.id==="golden_yearly"?(l.yearlyPrice/12).toFixed(0):l.monthlyPrice}`}),e.jsx("span",{className:"text-gray-500 ml-1",children:l.id!=="freemium"?"/mês":""})]}),l.id==="golden_yearly"&&t&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Total: CHF ",l.yearlyPrice,"/ano"]}),l.id==="golden_monthly"&&e.jsx("p",{className:"text-sm mt-1 text-gray-500",children:"Plano flexível"}),e.jsx("p",{className:"text-gray-600 mt-2",children:l.description})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:l.features.map((d,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(qe,{className:"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:d})]},m))}),e.jsx("button",{onClick:()=>o(l.id==="golden_monthly"?"golden_monthly":"golden_yearly"),disabled:l.id==="freemium",className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${l.popular?"bg-gradient-to-r from-orange-500 to-purple-600 text-white hover:from-orange-600 hover:to-purple-700 shadow-lg":l.id==="freemium"?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-orange-600 border-2 border-orange-500 hover:bg-orange-50"}`,children:l.cta})]})]},l.id)))})]}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que escolher DUO PASS?"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Mais que um clube de benefícios, uma porta para a cultura autêntica"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:Qb.map((l,d)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-50 rounded-full mb-4",children:l.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:l.title}),e.jsx("p",{className:"text-gray-600",children:l.description})]},d))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-purple-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"O que nossos membros dizem"})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Yb.map((l,d)=>e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((m,u)=>e.jsx(Z,{className:"w-5 h-5 text-yellow-400 fill-current"},u))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',l.text,'"']}),e.jsxs("div",{className:"text-sm text-gray-500",children:[l.name,", ",l.age," anos"]})]},d))})]})}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"})}),e.jsx("div",{className:"space-y-4",children:Xb.map((l,d)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("button",{onClick:()=>r(a===d?null:d),className:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:l.question}),e.jsx("span",{className:"text-gray-500",children:a===d?"−":"+"})]}),a===d&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700",children:l.answer})})]},d))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Comece sua jornada cultural hoje"}),e.jsx("p",{className:"text-xl mb-8 opacity-90",children:"7 dias grátis • Sem cartão de crédito necessário • Cancele quando quiser"}),e.jsx("button",{onClick:()=>o("explorer"),className:"bg-white text-orange-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors",children:"Experimentar grátis por 7 dias"})]})})]})}const Jb=!1;function ey(){const t=W(),{user:s}=U(),[a]=Ss(),[r,n]=h.useState(!1),[i,o]=h.useState("monthly"),[c,l]=h.useState("card"),[d,m]=h.useState({cardNumber:"",expiryDate:"",cvv:"",cardName:"",email:"",country:"CH"}),u=a.get("plan")||"cultural-explorer",x=a.get("billing")||"monthly",p=Kr.find(E=>E.id===u)||Kr[1];h.useEffect(()=>{o(x)},[x]),h.useEffect(()=>{s||t("/login?redirect="+encodeURIComponent(`/checkout?plan=${u}&billing=${i}`))},[s,t,u,i]);const v=E=>{switch(E){case"starter":return e.jsx(Z,{className:"w-6 h-6"});case"explorer":return e.jsx(_e,{className:"w-6 h-6"});case"ambassador":return e.jsx(Pl,{className:"w-6 h-6"});default:return e.jsx(Z,{className:"w-6 h-6"})}},w=()=>i==="yearly"?p.price_yearly:p.price_monthly,b=()=>{const E=p.price_monthly*12,j=p.price_yearly;return E-j},g=(E,j)=>{m(A=>({...A,[E]:j}))},y=E=>{const j=E.replace(/\s+/g,"").replace(/[^0-9]/gi,""),A=j.match(/\d{4,16}/g),k=A&&A[0]||"",S=[];for(let N=0,D=k.length;N<D;N+=4)S.push(k.substring(N,N+4));return S.length?S.join(" "):j},f=E=>{const j=E.replace(/\D/g,"");return j.length>=2?j.substring(0,2)+"/"+j.substring(2,4):j},C=async E=>{E.preventDefault(),n(!0);try{if(p.id==="starter"){const j=new Date;j.setDate(j.getDate()+7);const{error:A}=await F.from("user_subscriptions").insert({user_id:s.id,plan_id:p.id,status:"trialing",trial_end:j.toISOString(),current_period_end:j.toISOString()});if(A)throw A;localStorage.setItem("showTrialOnboarding","true"),t("/customer-dashboard?welcome_trial=true")}else await new Promise(j=>setTimeout(j,2e3)),t("/customer-dashboard?welcome=true&plan="+p.id)}catch{alert("Ocorreu um erro. Tente novamente.")}finally{n(!1)}};return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:()=>t("/memberships"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar aos Planos"})]}),e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-amber-500 to-purple-600 bg-clip-text text-transparent",children:"DUO PASS"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Pagamento Seguro"})]})]})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"order-2 lg:order-1",children:e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Resumo do Pedido"}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:`rounded-full p-2 ${p.tier==="starter"?"bg-amber-100 text-amber-600":p.tier==="explorer"?"bg-purple-100 text-purple-600":"bg-rose-100 text-rose-600"}`,children:v(p.tier)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:p.name}),p.popular&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:"⭐ Popular"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:p.experiences_per_month===-1?"Experiências ilimitadas":`${p.experiences_per_month} experiências por mês`})]}),p.features.slice(0,3).map((E,j)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:E})]},j))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ciclo de Cobrança"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>o("monthly"),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all ${i==="monthly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{children:"Mensal"}),e.jsxs("div",{className:"text-lg font-bold",children:["CHF ",p.price_monthly]})]}),e.jsxs("button",{onClick:()=>o("yearly"),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all relative ${i==="yearly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:["Economize CHF ",b()]}),e.jsx("div",{children:"Anual"}),e.jsxs("div",{className:"text-lg font-bold",children:["CHF ",p.price_yearly]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CHF ",(p.price_yearly/12).toFixed(2),"/mês"]})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["CHF ",w()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"IVA (7.7%)"}),e.jsxs("span",{children:["CHF ",(w()*.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Teste Grátis (7 dias)"}),e.jsxs("span",{children:["-CHF ",w()]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Hoje"}),e.jsx("span",{children:"CHF 0.00"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Após o período de teste, você será cobrado CHF ",(w()*1.077).toFixed(2)," ",i==="yearly"?"anualmente":"mensalmente","."]})]})]})}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Informações de Pagamento"}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Método de Pagamento"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("button",{type:"button",onClick:()=>l("card"),className:`p-4 rounded-lg border-2 text-left transition-all ${c==="card"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ze,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Cartão de Crédito/Débito"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Visa, Mastercard, American Express"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Cartão"}),e.jsx("input",{type:"text",value:d.cardNumber,onChange:E=>g("cardNumber",y(E.target.value)),placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Expiração"}),e.jsx("input",{type:"text",value:d.expiryDate,onChange:E=>g("expiryDate",f(E.target.value)),placeholder:"MM/AA",maxLength:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:d.cvv,onChange:E=>g("cvv",E.target.value.replace(/\D/g,"")),placeholder:"123",maxLength:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome no Cartão"}),e.jsx("input",{type:"text",value:d.cardName,onChange:E=>g("cardName",E.target.value),placeholder:"João Silva",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Informações de Cobrança"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:d.email||s?.email||"",onChange:E=>g("email",E.target.value),placeholder:"seu@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),e.jsxs("select",{value:d.country,onChange:E=>g("country",E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"CH",children:"Suíça"}),e.jsx("option",{value:"DE",children:"Alemanha"}),e.jsx("option",{value:"FR",children:"França"}),e.jsx("option",{value:"IT",children:"Itália"}),e.jsx("option",{value:"AT",children:"Áustria"})]})]})]}),e.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"⚖️ Confirmações Obrigatórias"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["✓ Aceito os ",e.jsx("a",{href:"/termos-de-uso",target:"_blank",className:"text-purple-600 hover:underline font-medium",children:"Termos de Uso"})," e ",e.jsx("a",{href:"/privacidade",target:"_blank",className:"text-purple-600 hover:underline font-medium",children:"Política de Privacidade"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"auto-renewal",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"auto-renewal",className:"text-sm text-gray-700",children:["✓ Entendo que minha assinatura ",e.jsx("strong",{children:"renova automaticamente"})," ",i==="yearly"?"anualmente":"mensalmente"," por CHF ",(w()*1.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"cancellation",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"cancellation",className:"text-sm text-gray-700",children:["✓ Posso ",e.jsx("strong",{children:"cancelar a qualquer momento"})," com um clique no meu dashboard. ",e.jsx("a",{href:"/cancelamento",target:"_blank",className:"text-purple-600 hover:underline",children:"Saiba mais"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"refund-policy",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"refund-policy",className:"text-sm text-gray-700",children:["✓ Tenho ",e.jsx("strong",{children:"14 dias"})," para solicitar reembolso integral conforme lei suíça. ",e.jsx("a",{href:"/cancelamento",target:"_blank",className:"text-purple-600 hover:underline",children:"Política de reembolso"})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400 mt-4",children:e.jsxs("p",{className:"text-xs text-blue-800",children:["🇨🇭 ",e.jsx("strong",{children:"Proteção do Consumidor Suíço:"})," Esta compra está protegida pelas leis suíças de proteção ao consumidor e GDPR. Seus dados são processados de acordo com nossa política de privacidade."]})})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-amber-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Processando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Kt,{className:"w-5 h-5"}),e.jsx("span",{children:"Iniciar Teste Grátis de 7 Dias"})]})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Seus dados estão protegidos com criptografia SSL"})]})]})]})})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Redirecionando para login..."})]})})}function ty(){const[t,s]=h.useState({company:"",name:"",email:"",phone:"",employees:"",message:""}),a=n=>{n.preventDefault(),console.log("📋 Formulário B2B enviado:",t),alert("Obrigado! Entraremos em contato em breve.")},r=n=>{s({...t,[n.target.name]:n.target.value})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Experiências Culturais para Sua ",e.jsx("span",{className:"text-orange-300",children:"Equipe"})]}),e.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Fortaleça vínculos, inspire criatividade e construa uma cultura corporativa única através de experiências culturais autênticas em dupla."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("contact-form")?.scrollIntoView({behavior:"smooth"}),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 hover:scale-105 shadow-lg",children:"Agende uma Demonstração"}),e.jsx(R,{to:"/experiencias",className:"border-2 border-white text-white hover:bg-white hover:text-purple-900 px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 text-center",children:"Ver Experiências"})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx($,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Team Building"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Experiências em dupla"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Cultura"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Valores autênticos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(gs,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Engajamento"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Equipes motivadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(nu,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Resultados"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"ROI mensurável"})]})]})})})]})})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Por que Escolher DUO PASS para Sua Empresa?"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Transforme sua cultura corporativa com experiências que conectam pessoas e fortalecem equipes."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(Om,{className:"w-12 h-12 text-purple-600 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cultura Corporativa"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Fortaleça os valores da sua empresa através de experiências culturais que refletem autenticidade e conexão humana."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Valores compartilhados"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Identidade corporativa"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Engajamento autêntico"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx($,{className:"w-12 h-12 text-orange-500 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Building Único"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Experiências sempre em dupla que criam vínculos genuínos e melhoram a colaboração entre equipes."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Conexões em dupla"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Colaboração natural"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Vínculos duradouros"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(gs,{className:"w-12 h-12 text-green-500 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ROI Mensurável"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Acompanhe o impacto das experiências na produtividade, satisfação e retenção de talentos."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Métricas de engajamento"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Retenção de talentos"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mr-2"}),"Produtividade elevada"]})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"O que Nossos Parceiros Corporativos Dizem"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((n,i)=>e.jsx(Z,{className:"w-5 h-5 text-yellow-400 fill-current"},i))}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 italic",children:'"As experiências culturais do DUO PASS transformaram nossa cultura corporativa. Nossos colaboradores estão mais conectados e engajados do que nunca."'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"MC"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Maria Clara Santos"}),e.jsx("p",{className:"text-gray-600",children:"Diretora de RH, TechCorp"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-purple-50 rounded-xl p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((n,i)=>e.jsx(Z,{className:"w-5 h-5 text-yellow-400 fill-current"},i))}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 italic",children:'"O conceito de experiências em dupla é genial. Criou vínculos genuínos entre equipes que antes mal se falavam. ROI comprovado!"'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"RS"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Roberto Silva"}),e.jsx("p",{className:"text-gray-600",children:"CEO, Inovação & Cia"})]})]})]})]})]})}),e.jsx("section",{id:"contact-form",className:"py-20 bg-gradient-to-br from-gray-900 to-purple-900 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Pronto para Transformar Sua Equipe?"}),e.jsx("p",{className:"text-xl text-purple-200",children:"Agende uma demonstração personalizada e descubra como o DUO PASS pode revolucionar sua cultura corporativa."})]}),e.jsx("div",{className:"bg-white rounded-2xl p-8 text-gray-900",children:e.jsxs("form",{onSubmit:a,className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa *"}),e.jsx("input",{type:"text",name:"company",required:!0,value:t.company,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Sua empresa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seu Nome *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:t.name,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Corporativo *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"seu.email@empresa.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Funcionários"}),e.jsxs("select",{name:"employees",value:t.employees,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"1-10",children:"1-10 funcionários"}),e.jsx("option",{value:"11-50",children:"11-50 funcionários"}),e.jsx("option",{value:"51-200",children:"51-200 funcionários"}),e.jsx("option",{value:"201-500",children:"201-500 funcionários"}),e.jsx("option",{value:"500+",children:"500+ funcionários"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),e.jsx("textarea",{name:"message",rows:4,value:t.message,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Conte-nos sobre seus objetivos e desafios de team building..."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105 flex items-center justify-center",children:["Agendar Demonstração",e.jsx(ie,{className:"w-5 h-5 ml-2"})]})})]})}),e.jsxs("div",{className:"mt-12 grid md:grid-cols-2 gap-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(St,{className:"w-6 h-6 text-orange-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Telefone"}),e.jsx("p",{className:"text-purple-200",children:"+41 (0) 21 123 4567"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Qe,{className:"w-6 h-6 text-orange-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Email"}),e.jsx("p",{className:"text-purple-200",children:"empresas@duopassclub.ch"})]})]})]})]})})]})}function sy(){const t=W(),[s,a]=h.useState(!1),[r,n]=h.useState({name:"",email:"",password:"",confirmPassword:""}),i=async c=>{if(c.preventDefault(),r.password!==r.confirmPassword){alert("As senhas não coincidem!");return}if(r.password.length<6){alert("A senha deve ter pelo menos 6 caracteres!");return}a(!0);try{console.log("🎁 Iniciando trial gratuito:",r),await new Promise(l=>setTimeout(l,1500)),localStorage.setItem("trialUser",JSON.stringify({name:r.name,email:r.email,trialStartDate:new Date().toISOString(),trialEndDate:new Date(Date.now()+10080*60*1e3).toISOString(),experiencesUsed:0,subscription:{type:"trial",status:"active",plan:"Cultural Starter",experiencesIncluded:3}})),t("/customer-dashboard")}catch(l){console.error("❌ Erro ao criar trial:",l),alert("Erro ao criar conta. Tente novamente.")}finally{a(!1)}},o=c=>{n({...r,[c.target.name]:c.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl w-full",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center bg-orange-500/20 text-orange-300 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Oferta Especial - Trial Gratuito"]}),e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"text-orange-300",children:"7 Dias"})," de Experiências Culturais ",e.jsx("span",{className:"text-orange-300",children:"Grátis"})]}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Descubra o poder das experiências culturais em dupla. Sem compromisso, sem cartão de crédito."})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"3 experiências culturais incluídas"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Acesso completo à plataforma"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Curadoria emocional personalizada"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Cancele a qualquer momento"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((c,l)=>e.jsx(Z,{className:"w-5 h-5 text-yellow-400 fill-current"},l))}),e.jsx("span",{className:"ml-2 text-white font-semibold",children:"4.9/5"})]}),e.jsx("p",{className:"text-purple-100 italic",children:'"O DUO PASS transformou nossa forma de viver a cultura. As experiências em dupla criaram memórias inesquecíveis!"'}),e.jsx("p",{className:"text-orange-300 font-medium mt-2",children:"- Ana & Carlos, membros desde 2023"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Comece Seu Trial Gratuito"}),e.jsx("p",{className:"text-gray-600",children:"Crie sua conta em menos de 2 minutos"})]}),e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),e.jsx("input",{type:"password",name:"password",required:!0,value:r.password,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),e.jsx("input",{type:"password",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Confirme sua senha"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-orange-50 rounded-lg p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Se,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"Seu Trial Inclui:"})]}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• 7 dias de acesso completo"}),e.jsx("li",{children:"• 3 experiências culturais"}),e.jsx("li",{children:"• Curadoria personalizada"}),e.jsx("li",{children:"• Suporte prioritário"})]})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Criando sua conta..."]}):e.jsxs(e.Fragment,{children:["Iniciar Trial Gratuito",e.jsx(ie,{className:"w-5 h-5 ml-2"})]})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(Ee,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Seus dados estão seguros conosco"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ao criar sua conta, você concorda com nossos"," ",e.jsx(R,{to:"/terms",className:"text-purple-600 hover:underline",children:"Termos de Uso"})," ","e"," ",e.jsx(R,{to:"/privacy",className:"text-purple-600 hover:underline",children:"Política de Privacidade"})]})]})]}),e.jsx("div",{className:"mt-8 text-center border-t border-gray-200 pt-6",children:e.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",e.jsx(R,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Faça login"})]})})]})]}),e.jsxs("div",{className:"mt-16 grid md:grid-cols-3 gap-8 text-white",children:[e.jsxs("div",{className:"text-center",children:[e.jsx($,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experiências em Dupla"}),e.jsx("p",{className:"text-purple-200",children:"Todas as experiências são pensadas para serem vividas em dupla, criando conexões autênticas."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Curadoria Emocional"}),e.jsx("p",{className:"text-purple-200",children:"Cada experiência é cuidadosamente selecionada para tocar sua alma e criar memórias especiais."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(dt,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Flexibilidade Total"}),e.jsx("p",{className:"text-purple-200",children:"Agende suas experiências quando quiser, cancele sem taxas durante o trial."})]})]})]})})})}const ay=t=>[{id:"group-msg-1",community_id:t,sender_id:"user-1",sender_name:"Ana Silva",sender_avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",content:"Pessoal, alguém foi na exposição do MASP hoje? Estava pensando em ir amanhã!",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()},{id:"group-msg-2",community_id:t,sender_id:"user-2",sender_name:"Carlos Mendes",sender_avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",content:"Eu fui ontem! A curadoria está incrível. Recomendo muito!",message_type:"text",created_at:new Date(Date.now()-3e6).toISOString()},{id:"group-msg-3",community_id:t,sender_id:"user-3",sender_name:"Maria Santos",sender_avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",content:"Que tal formarmos um grupo para ir juntos no fim de semana? 🎨",message_type:"text",created_at:new Date(Date.now()-18e5).toISOString()},{id:"group-msg-4",community_id:t,sender_id:"demo-user-id",sender_name:"Você",sender_avatar:"https://ui-avatars.com/api/?name=Demo&background=C91F1F&color=fff",content:"Adorei a ideia! Podemos nos encontrar lá sábado às 14h?",message_type:"text",created_at:new Date(Date.now()-9e5).toISOString()}],Eo=t=>[{id:"direct-msg-1",sender_id:t,receiver_id:"demo-user-id",content:"Oi! Vi que você também está interessado na exposição. Que bom!",message_type:"text",created_at:new Date(Date.now()-18e5).toISOString()},{id:"direct-msg-2",sender_id:"demo-user-id",receiver_id:t,content:"Sim! Adoro arte contemporânea. Você já foi em outras exposições recentes?",message_type:"text",read_at:new Date(Date.now()-15e5).toISOString(),created_at:new Date(Date.now()-15e5).toISOString()},{id:"direct-msg-3",sender_id:t,receiver_id:"demo-user-id",content:"Fui na Pinacoteca semana passada. Tem uma exposição de fotografia incrível lá!",message_type:"text",created_at:new Date(Date.now()-6e5).toISOString()}];function ry({community:t,onClose:s,initialChatType:a="group",initialMember:r}){const{user:n}=U(),[i,o]=h.useState(a),[c,l]=h.useState(r||null),[d,m]=h.useState([]),[u,x]=h.useState([]),[p,v]=h.useState(""),[w,b]=h.useState(!0),[g,y]=h.useState(!1),f=h.useRef(null);h.useEffect(()=>{setTimeout(()=>{m(ay(t.id)),c&&x(Eo(c.user_id)),b(!1)},1e3)},[t.id,c]),h.useEffect(()=>{C()},[d,u]);const C=()=>{f.current?.scrollIntoView({behavior:"smooth"})},E=async()=>{if(!(!p.trim()||!n||g)){y(!0);try{const N=p.trim();if(v(""),i==="group"){const D={id:`group-msg-${Date.now()}`,community_id:t.id,sender_id:n.id,sender_name:"Você",sender_avatar:"https://ui-avatars.com/api/?name=Demo&background=C91F1F&color=fff",content:N,message_type:"text",created_at:new Date().toISOString()};m(_=>[..._,D])}else if(c){const D={id:`direct-msg-${Date.now()}`,sender_id:n.id,receiver_id:c.user_id,content:N,message_type:"text",created_at:new Date().toISOString()};x(_=>[..._,D])}}catch(N){console.error("Erro ao enviar mensagem:",N)}finally{y(!1)}}},j=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),E())},A=N=>{const D=new Date(N);return(new Date().getTime()-D.getTime())/(1e3*60*60)<24?D.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):D.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},k=N=>{l(N),o("direct"),x(Eo(N.user_id))},S=i==="group"?d:u;return w?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-96",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando chat..."})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center space-x-2",children:i==="group"?e.jsxs(e.Fragment,{children:[e.jsx(Wm,{className:"w-5 h-5 text-[#C91F1F]"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Chat da Comunidade • ",t.memberCount," membros"]})]})]}):c?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:c.avatar,alt:c.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),e.jsx("p",{className:"text-sm text-gray-500",children:c.isOnline?"Online agora":"Offline"})]})]}):null})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{i==="group"?(o("direct"),l(null)):(o("group"),l(null))},className:`p-2 rounded-lg transition-colors ${i==="group"?"bg-[#C91F1F] text-white":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:e.jsx($,{className:"w-5 h-5"})}),i==="direct"&&c&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(St,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Al,{className:"w-5 h-5"})})]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Cl,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i==="direct"&&!c&&e.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Membros da Comunidade"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Clique em um membro para iniciar uma conversa"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:t.members.map(N=>e.jsx("button",{onClick:()=>k(N),className:"w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N.avatar,alt:N.name,className:"w-10 h-10 rounded-full"}),N.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 truncate",children:N.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:N.interests.slice(0,2).join(", ")})]})]})},N.id))})]}),(i==="group"||i==="direct"&&c)&&e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[S.map(N=>{const D=N.sender_id===n?.id;return e.jsx("div",{className:`flex ${D?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${D?"":"flex items-start space-x-2"}`,children:[!D&&i==="group"&&e.jsx("img",{src:N.sender_avatar,alt:N.sender_name,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:`px-4 py-2 rounded-2xl ${D?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white":"bg-gray-100 text-gray-900"}`,children:[!D&&i==="group"&&e.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:N.sender_name}),e.jsx("p",{className:"text-sm",children:N.content}),e.jsx("div",{className:`flex items-center justify-end mt-1 ${D?"text-white text-opacity-70":"text-gray-500"}`,children:e.jsx("span",{className:"text-xs",children:A(N.created_at)})})]})]})},N.id)}),e.jsx("div",{ref:f})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:p,onChange:N=>v(N.target.value),onKeyPress:j,placeholder:`Mensagem para ${i==="group"?t.name:c?.name}...`,rows:1,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}})}),e.jsx("button",{onClick:E,disabled:!p.trim()||g,className:`p-2 rounded-lg transition-colors ${p.trim()&&!g?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:g?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):e.jsx(Es,{className:"w-5 h-5"})})]})})]}),i==="direct"&&!c&&t.members.length===0&&e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum membro disponível"}),e.jsx("p",{className:"text-gray-500",children:"Esta comunidade ainda não possui outros membros para conversar."})]})})]})]})})}const ny=t=>({id:t,name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",memberCount:1247,coverImage:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=400&fit=crop",members:[{id:"1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte Contemporânea","Fotografia","Design"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1",bio:"Apaixonada por arte contemporânea e fotografia urbana."},{id:"2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Pintura","Escultura","História da Arte"],joinedAt:"2024-02-03",isOnline:!1,user_id:"user-2",bio:"Artista plástico e professor de história da arte."},{id:"3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Design Gráfico","Ilustração","Arte Digital"],joinedAt:"2024-01-28",isOnline:!0,user_id:"user-3",bio:"Designer gráfica especializada em identidade visual."}],activities:[{id:"1",type:"experience_share",author:{id:"1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte Contemporânea"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1"},content:'Acabei de visitar a exposição "Vanguardas Contemporâneas" no Museu de Arte Moderna. Simplesmente incrível! As obras de Beatriz Milhazes estão espetaculares. Quem mais foi ou pretende ir?',timestamp:new Date(Date.now()-7200*1e3).toISOString(),likes:12,comments:5,community_id:t,images:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop"]},{id:"2",type:"event",author:{id:"2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Pintura"],joinedAt:"2024-02-03",isOnline:!1,user_id:"user-2"},content:"🎨 Workshop de Pintura em Aquarela - Sábado, 14h às 17h na Galeria Central. Vagas limitadas! Quem tem interesse em participar? Vamos formar um grupo da comunidade!",timestamp:new Date(Date.now()-300*60*1e3).toISOString(),likes:8,comments:3,community_id:t},{id:"3",type:"discussion",author:{id:"3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Design Gráfico"],joinedAt:"2024-01-28",isOnline:!0,user_id:"user-3"},content:"O que vocês acham da influência da arte digital na arte tradicional? Tenho notado uma convergência interessante entre as duas formas de expressão...",timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),likes:15,comments:8,community_id:t}],created_at:new Date().toISOString(),updated_at:new Date().toISOString()});function iy(){const{id:t}=ca(),s=W(),{user:a}=U(),[r,n]=h.useState(null),[i,o]=h.useState(!0),[c,l]=h.useState("activities"),[d,m]=h.useState(""),[u,x]=h.useState(!1),[p,v]=h.useState(!1),[w,b]=h.useState(!1),[g,y]=h.useState("group"),[f,C]=h.useState(null);h.useEffect(()=>{setTimeout(()=>{const P=ny(t||"arte-design");n(P),x(!0),o(!1)},1e3)},[t]);const E=async()=>{r&&(x(!1),n(P=>P?{...P,memberCount:P.memberCount-1}:null))},j=async()=>{if(!d.trim()||!r||!a)return;v(!0);const P={id:Date.now().toString(),type:"post",author:{id:a.id,name:a.email?.split("@")[0]||"Usuário",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",interests:["Arte"],joinedAt:new Date().toISOString(),isOnline:!0,user_id:a.id},content:d,timestamp:new Date().toISOString(),likes:0,comments:0,community_id:r.id};n(T=>T?{...T,activities:[P,...T.activities]}:null),m(""),v(!1)},A=()=>{y("group"),C(null),b(!0)},k=P=>{y("direct"),C(P),b(!0)},S=()=>{b(!1),C(null)},N=P=>{s("/customer-dashboard?tab=connect&chat="+P.user_id)},D=P=>{switch(P){case"event":return e.jsx(dt,{className:"w-4 h-4"});case"experience_share":return e.jsx(Bt,{className:"w-4 h-4"});case"discussion":return e.jsx(xe,{className:"w-4 h-4"});default:return e.jsx(xe,{className:"w-4 h-4"})}},_=P=>{switch(P){case"event":return"Evento";case"experience_share":return"Experiência";case"discussion":return"Discussão";default:return"Post"}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F]"})}):r?e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${r.coverImage})`},children:e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("button",{onClick:()=>s("/customer-dashboard?tab=connect"),className:"flex items-center space-x-2 bg-white bg-opacity-90 text-gray-900 px-4 py-2 rounded-lg hover:bg-opacity-100 transition-all",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"Voltar"})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.name}),e.jsx("p",{className:"text-lg opacity-90 mb-4",children:r.description}),e.jsx("div",{className:"flex items-center space-x-4 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.memberCount.toLocaleString()," membros"]})]})})]}),u&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:A,className:"flex items-center space-x-2 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Chat da Comunidade"})]}),e.jsxs("button",{onClick:E,className:"flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(wr,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair da Comunidade"})]})]})]})})})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>l("activities"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="activities"?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Atividades"}),e.jsx("button",{onClick:()=>l("members"),className:`py-4 px-1 border-b-2 font-medium text-sm ${c==="members"?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Membros"})]})}),e.jsxs("div",{className:"p-6",children:[c==="activities"&&e.jsxs("div",{className:"space-y-6",children:[u&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("textarea",{value:d,onChange:P=>m(P.target.value),placeholder:"Compartilhe algo com a comunidade...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",rows:3}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-gray-700",children:[e.jsx(Km,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Foto"})]})}),e.jsxs("button",{onClick:j,disabled:!d.trim()||p,className:"flex items-center space-x-2 bg-[#C91F1F] text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[p?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:"Publicar"})]})]})]}),e.jsx("div",{className:"space-y-4",children:r.activities.map(P=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("img",{src:P.author.avatar,alt:P.author.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:P.author.name}),e.jsxs("span",{className:"flex items-center space-x-1 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[D(P.type),e.jsx("span",{children:_(P.type)})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(P.timestamp).toLocaleString("pt-BR")})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:P.content}),P.images&&P.images.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("img",{src:P.images[0],alt:"Post image",className:"rounded-lg max-w-md w-full h-48 object-cover"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("button",{className:"flex items-center space-x-1 hover:text-red-600",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:P.likes})]}),e.jsxs("button",{className:"flex items-center space-x-1 hover:text-blue-600",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:P.comments})]}),e.jsxs("button",{className:"flex items-center space-x-1 hover:text-green-600",children:[e.jsx(Bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartilhar"})]})]})]})]})},P.id))})]}),c==="members"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.members.map(P=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P.avatar,alt:P.name,className:"w-12 h-12 rounded-full"}),P.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:P.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.bio}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:P.interests.slice(0,2).map((T,I)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:T},I))}),u&&P.user_id!==a?.id&&e.jsxs("button",{onClick:()=>k(P),className:"flex items-center space-x-1 text-[#C91F1F] hover:text-red-700 text-sm font-medium",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Conversar"})]})]})]})},P.id))})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membros"}),e.jsx("span",{className:"font-medium",children:r.memberCount.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Posts hoje"}),e.jsx("span",{className:"font-medium",children:"12"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membros online"}),e.jsx("span",{className:"font-medium text-green-600",children:"89"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Membros Online"}),e.jsx("div",{className:"space-y-3",children:r.members.filter(P=>P.isOnline).slice(0,5).map(P=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P.avatar,alt:P.name,className:"w-8 h-8 rounded-full"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-green-500 border border-white rounded-full"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.name})}),e.jsx("button",{onClick:()=>N(P),className:"text-[#C91F1F] hover:text-red-700",children:e.jsx(xe,{className:"w-4 h-4"})})]},P.id))})]})]})]})}),w&&r&&e.jsx(ry,{community:r,onClose:S,initialChatType:g,initialMember:f})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Comunidade não encontrada"}),e.jsx("button",{onClick:()=>s("/customer-dashboard?tab=connect"),className:"text-[#C91F1F] hover:underline",children:"Voltar às comunidades"})]})})}var Dt={},Wa,ko;function oy(){return ko||(ko=1,Wa=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Wa}var Ka={},nt={},Po;function Et(){if(Po)return nt;Po=1;let t;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return nt.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},nt.getSymbolTotalCodewords=function(r){return s[r]},nt.getBCHDigit=function(a){let r=0;for(;a!==0;)r++,a>>>=1;return r},nt.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},nt.isKanjiModeEnabled=function(){return typeof t<"u"},nt.toSJIS=function(r){return t(r)},nt}var Qa={},Ao;function Rn(){return Ao||(Ao=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function s(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+a)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return s(r)}catch{return n}}}(Qa)),Qa}var Ya,Do;function ly(){if(Do)return Ya;Do=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(s){const a=Math.floor(s/8);return(this.buffer[a]>>>7-s%8&1)===1},put:function(s,a){for(let r=0;r<a;r++)this.putBit((s>>>a-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),s&&(this.buffer[a]|=128>>>this.length%8),this.length++}},Ya=t,Ya}var Xa,To;function cy(){if(To)return Xa;To=1;function t(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return t.prototype.set=function(s,a,r,n){const i=s*this.size+a;this.data[i]=r,n&&(this.reservedBit[i]=!0)},t.prototype.get=function(s,a){return this.data[s*this.size+a]},t.prototype.xor=function(s,a,r){this.data[s*this.size+a]^=r},t.prototype.isReserved=function(s,a){return this.reservedBit[s*this.size+a]},Xa=t,Xa}var Za={},Fo;function dy(){return Fo||(Fo=1,function(t){const s=Et().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,i=s(r),o=i===145?26:Math.ceil((i-13)/(2*n-2))*2,c=[i-7];for(let l=1;l<n-1;l++)c[l]=c[l-1]-o;return c.push(6),c.reverse()},t.getPositions=function(r){const n=[],i=t.getRowColCoords(r),o=i.length;for(let c=0;c<o;c++)for(let l=0;l<o;l++)c===0&&l===0||c===0&&l===o-1||c===o-1&&l===0||n.push([i[c],i[l]]);return n}}(Za)),Za}var Ja={},Mo;function my(){if(Mo)return Ja;Mo=1;const t=Et().getSymbolSize,s=7;return Ja.getPositions=function(r){const n=t(r);return[[0,0],[n-s,0],[0,n-s]]},Ja}var er={},Oo;function uy(){return Oo||(Oo=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};t.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},t.from=function(n){return t.isValid(n)?parseInt(n,10):void 0},t.getPenaltyN1=function(n){const i=n.size;let o=0,c=0,l=0,d=null,m=null;for(let u=0;u<i;u++){c=l=0,d=m=null;for(let x=0;x<i;x++){let p=n.get(u,x);p===d?c++:(c>=5&&(o+=s.N1+(c-5)),d=p,c=1),p=n.get(x,u),p===m?l++:(l>=5&&(o+=s.N1+(l-5)),m=p,l=1)}c>=5&&(o+=s.N1+(c-5)),l>=5&&(o+=s.N1+(l-5))}return o},t.getPenaltyN2=function(n){const i=n.size;let o=0;for(let c=0;c<i-1;c++)for(let l=0;l<i-1;l++){const d=n.get(c,l)+n.get(c,l+1)+n.get(c+1,l)+n.get(c+1,l+1);(d===4||d===0)&&o++}return o*s.N2},t.getPenaltyN3=function(n){const i=n.size;let o=0,c=0,l=0;for(let d=0;d<i;d++){c=l=0;for(let m=0;m<i;m++)c=c<<1&2047|n.get(d,m),m>=10&&(c===1488||c===93)&&o++,l=l<<1&2047|n.get(m,d),m>=10&&(l===1488||l===93)&&o++}return o*s.N3},t.getPenaltyN4=function(n){let i=0;const o=n.data.length;for(let l=0;l<o;l++)i+=n.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*s.N4};function a(r,n,i){switch(r){case t.Patterns.PATTERN000:return(n+i)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(n+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return n*i%2+n*i%3===0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2===0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(n,i){const o=i.size;for(let c=0;c<o;c++)for(let l=0;l<o;l++)i.isReserved(l,c)||i.xor(l,c,a(n,l,c))},t.getBestMask=function(n,i){const o=Object.keys(t.Patterns).length;let c=0,l=1/0;for(let d=0;d<o;d++){i(d),t.applyMask(d,n);const m=t.getPenaltyN1(n)+t.getPenaltyN2(n)+t.getPenaltyN3(n)+t.getPenaltyN4(n);t.applyMask(d,n),m<l&&(l=m,c=d)}return c}}(er)),er}var Hs={},Ro;function jd(){if(Ro)return Hs;Ro=1;const t=Rn(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Hs.getBlocksCount=function(n,i){switch(i){case t.L:return s[(n-1)*4+0];case t.M:return s[(n-1)*4+1];case t.Q:return s[(n-1)*4+2];case t.H:return s[(n-1)*4+3];default:return}},Hs.getTotalCodewordsCount=function(n,i){switch(i){case t.L:return a[(n-1)*4+0];case t.M:return a[(n-1)*4+1];case t.Q:return a[(n-1)*4+2];case t.H:return a[(n-1)*4+3];default:return}},Hs}var tr={},is={},Io;function hy(){if(Io)return is;Io=1;const t=new Uint8Array(512),s=new Uint8Array(256);return function(){let r=1;for(let n=0;n<255;n++)t[n]=r,s[r]=n,r<<=1,r&256&&(r^=285);for(let n=255;n<512;n++)t[n]=t[n-255]}(),is.log=function(r){if(r<1)throw new Error("log("+r+")");return s[r]},is.exp=function(r){return t[r]},is.mul=function(r,n){return r===0||n===0?0:t[s[r]+s[n]]},is}var Vo;function xy(){return Vo||(Vo=1,function(t){const s=hy();t.mul=function(r,n){const i=new Uint8Array(r.length+n.length-1);for(let o=0;o<r.length;o++)for(let c=0;c<n.length;c++)i[o+c]^=s.mul(r[o],n[c]);return i},t.mod=function(r,n){let i=new Uint8Array(r);for(;i.length-n.length>=0;){const o=i[0];for(let l=0;l<n.length;l++)i[l]^=s.mul(n[l],o);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},t.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=t.mul(n,new Uint8Array([1,s.exp(i)]));return n}}(tr)),tr}var sr,Lo;function py(){if(Lo)return sr;Lo=1;const t=xy();function s(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},s.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(r.length+this.degree);n.set(r);const i=t.mod(n,this.genPoly),o=this.degree-i.length;if(o>0){const c=new Uint8Array(this.degree);return c.set(i,o),c}return i},sr=s,sr}var ar={},rr={},nr={},qo;function Nd(){return qo||(qo=1,nr.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),nr}var Be={},zo;function wd(){if(zo)return Be;zo=1;const t="[0-9]+",s="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;Be.KANJI=new RegExp(a,"g"),Be.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Be.BYTE=new RegExp(r,"g"),Be.NUMERIC=new RegExp(t,"g"),Be.ALPHANUMERIC=new RegExp(s,"g");const n=new RegExp("^"+a+"$"),i=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Be.testKanji=function(l){return n.test(l)},Be.testNumeric=function(l){return i.test(l)},Be.testAlphanumeric=function(l){return o.test(l)},Be}var Uo;function kt(){return Uo||(Uo=1,function(t){const s=Nd(),a=wd();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!s.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return a.testNumeric(i)?t.NUMERIC:a.testAlphanumeric(i)?t.ALPHANUMERIC:a.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+n)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}}(rr)),rr}var Bo;function fy(){return Bo||(Bo=1,function(t){const s=Et(),a=jd(),r=Rn(),n=kt(),i=Nd(),o=7973,c=s.getBCHDigit(o);function l(x,p,v){for(let w=1;w<=40;w++)if(p<=t.getCapacity(w,v,x))return w}function d(x,p){return n.getCharCountIndicator(x,p)+4}function m(x,p){let v=0;return x.forEach(function(w){const b=d(w.mode,p);v+=b+w.getBitsLength()}),v}function u(x,p){for(let v=1;v<=40;v++)if(m(x,v)<=t.getCapacity(v,p,n.MIXED))return v}t.from=function(p,v){return i.isValid(p)?parseInt(p,10):v},t.getCapacity=function(p,v,w){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=n.BYTE);const b=s.getSymbolTotalCodewords(p),g=a.getTotalCodewordsCount(p,v),y=(b-g)*8;if(w===n.MIXED)return y;const f=y-d(w,p);switch(w){case n.NUMERIC:return Math.floor(f/10*3);case n.ALPHANUMERIC:return Math.floor(f/11*2);case n.KANJI:return Math.floor(f/13);case n.BYTE:default:return Math.floor(f/8)}},t.getBestVersionForData=function(p,v){let w;const b=r.from(v,r.M);if(Array.isArray(p)){if(p.length>1)return u(p,b);if(p.length===0)return 1;w=p[0]}else w=p;return l(w.mode,w.getLength(),b)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let v=p<<12;for(;s.getBCHDigit(v)-c>=0;)v^=o<<s.getBCHDigit(v)-c;return p<<12|v}}(ar)),ar}var ir={},$o;function gy(){if($o)return ir;$o=1;const t=Et(),s=1335,a=21522,r=t.getBCHDigit(s);return ir.getEncodedBits=function(i,o){const c=i.bit<<3|o;let l=c<<10;for(;t.getBCHDigit(l)-r>=0;)l^=s<<t.getBCHDigit(l)-r;return(c<<10|l)^a},ir}var or={},lr,Ho;function by(){if(Ho)return lr;Ho=1;const t=kt();function s(a){this.mode=t.NUMERIC,this.data=a.toString()}return s.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){let n,i,o;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),o=parseInt(i,10),r.put(o,10);const c=this.data.length-n;c>0&&(i=this.data.substr(n),o=parseInt(i,10),r.put(o,c*3+1))},lr=s,lr}var cr,Go;function yy(){if(Go)return cr;Go=1;const t=kt(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(r){this.mode=t.ALPHANUMERIC,this.data=r}return a.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(n){let i;for(i=0;i+2<=this.data.length;i+=2){let o=s.indexOf(this.data[i])*45;o+=s.indexOf(this.data[i+1]),n.put(o,11)}this.data.length%2&&n.put(s.indexOf(this.data[i]),6)},cr=a,cr}var dr,Wo;function vy(){if(Wo)return dr;Wo=1;const t=kt();function s(a){this.mode=t.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return s.getBitsLength=function(r){return r*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(a){for(let r=0,n=this.data.length;r<n;r++)a.put(this.data[r],8)},dr=s,dr}var mr,Ko;function jy(){if(Ko)return mr;Ko=1;const t=kt(),s=Et();function a(r){this.mode=t.KANJI,this.data=r}return a.getBitsLength=function(n){return n*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(r){let n;for(n=0;n<this.data.length;n++){let i=s.toSJIS(this.data[n]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},mr=a,mr}var ur={exports:{}},Qo;function Ny(){return Qo||(Qo=1,function(t){var s={single_source_shortest_paths:function(a,r,n){var i={},o={};o[r]=0;var c=s.PriorityQueue.make();c.push(r,0);for(var l,d,m,u,x,p,v,w,b;!c.empty();){l=c.pop(),d=l.value,u=l.cost,x=a[d]||{};for(m in x)x.hasOwnProperty(m)&&(p=x[m],v=u+p,w=o[m],b=typeof o[m]>"u",(b||w>v)&&(o[m]=v,c.push(m,v),i[m]=d))}if(typeof n<"u"&&typeof o[n]>"u"){var g=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(g)}return i},extract_shortest_path_from_predecessor_list:function(a,r){for(var n=[],i=r;i;)n.push(i),a[i],i=a[i];return n.reverse(),n},find_path:function(a,r,n){var i=s.single_source_shortest_paths(a,r,n);return s.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(a){var r=s.PriorityQueue,n={},i;a=a||{};for(i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n.queue=[],n.sorter=a.sorter||r.default_sorter,n},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var n={value:a,cost:r};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=s}(ur)),ur.exports}var Yo;function wy(){return Yo||(Yo=1,function(t){const s=kt(),a=by(),r=yy(),n=vy(),i=jy(),o=wd(),c=Et(),l=Ny();function d(g){return unescape(encodeURIComponent(g)).length}function m(g,y,f){const C=[];let E;for(;(E=g.exec(f))!==null;)C.push({data:E[0],index:E.index,mode:y,length:E[0].length});return C}function u(g){const y=m(o.NUMERIC,s.NUMERIC,g),f=m(o.ALPHANUMERIC,s.ALPHANUMERIC,g);let C,E;return c.isKanjiModeEnabled()?(C=m(o.BYTE,s.BYTE,g),E=m(o.KANJI,s.KANJI,g)):(C=m(o.BYTE_KANJI,s.BYTE,g),E=[]),y.concat(f,C,E).sort(function(A,k){return A.index-k.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function x(g,y){switch(y){case s.NUMERIC:return a.getBitsLength(g);case s.ALPHANUMERIC:return r.getBitsLength(g);case s.KANJI:return i.getBitsLength(g);case s.BYTE:return n.getBitsLength(g)}}function p(g){return g.reduce(function(y,f){const C=y.length-1>=0?y[y.length-1]:null;return C&&C.mode===f.mode?(y[y.length-1].data+=f.data,y):(y.push(f),y)},[])}function v(g){const y=[];for(let f=0;f<g.length;f++){const C=g[f];switch(C.mode){case s.NUMERIC:y.push([C,{data:C.data,mode:s.ALPHANUMERIC,length:C.length},{data:C.data,mode:s.BYTE,length:C.length}]);break;case s.ALPHANUMERIC:y.push([C,{data:C.data,mode:s.BYTE,length:C.length}]);break;case s.KANJI:y.push([C,{data:C.data,mode:s.BYTE,length:d(C.data)}]);break;case s.BYTE:y.push([{data:C.data,mode:s.BYTE,length:d(C.data)}])}}return y}function w(g,y){const f={},C={start:{}};let E=["start"];for(let j=0;j<g.length;j++){const A=g[j],k=[];for(let S=0;S<A.length;S++){const N=A[S],D=""+j+S;k.push(D),f[D]={node:N,lastCount:0},C[D]={};for(let _=0;_<E.length;_++){const P=E[_];f[P]&&f[P].node.mode===N.mode?(C[P][D]=x(f[P].lastCount+N.length,N.mode)-x(f[P].lastCount,N.mode),f[P].lastCount+=N.length):(f[P]&&(f[P].lastCount=N.length),C[P][D]=x(N.length,N.mode)+4+s.getCharCountIndicator(N.mode,y))}}E=k}for(let j=0;j<E.length;j++)C[E[j]].end=0;return{map:C,table:f}}function b(g,y){let f;const C=s.getBestModeForData(g);if(f=s.from(y,C),f!==s.BYTE&&f.bit<C.bit)throw new Error('"'+g+'" cannot be encoded with mode '+s.toString(f)+`.
 Suggested mode is: `+s.toString(C));switch(f===s.KANJI&&!c.isKanjiModeEnabled()&&(f=s.BYTE),f){case s.NUMERIC:return new a(g);case s.ALPHANUMERIC:return new r(g);case s.KANJI:return new i(g);case s.BYTE:return new n(g)}}t.fromArray=function(y){return y.reduce(function(f,C){return typeof C=="string"?f.push(b(C,null)):C.data&&f.push(b(C.data,C.mode)),f},[])},t.fromString=function(y,f){const C=u(y,c.isKanjiModeEnabled()),E=v(C),j=w(E,f),A=l.find_path(j.map,"start","end"),k=[];for(let S=1;S<A.length-1;S++)k.push(j.table[A[S]].node);return t.fromArray(p(k))},t.rawSplit=function(y){return t.fromArray(u(y,c.isKanjiModeEnabled()))}}(or)),or}var Xo;function Cy(){if(Xo)return Ka;Xo=1;const t=Et(),s=Rn(),a=ly(),r=cy(),n=dy(),i=my(),o=uy(),c=jd(),l=py(),d=fy(),m=gy(),u=kt(),x=wy();function p(j,A){const k=j.size,S=i.getPositions(A);for(let N=0;N<S.length;N++){const D=S[N][0],_=S[N][1];for(let P=-1;P<=7;P++)if(!(D+P<=-1||k<=D+P))for(let T=-1;T<=7;T++)_+T<=-1||k<=_+T||(P>=0&&P<=6&&(T===0||T===6)||T>=0&&T<=6&&(P===0||P===6)||P>=2&&P<=4&&T>=2&&T<=4?j.set(D+P,_+T,!0,!0):j.set(D+P,_+T,!1,!0))}}function v(j){const A=j.size;for(let k=8;k<A-8;k++){const S=k%2===0;j.set(k,6,S,!0),j.set(6,k,S,!0)}}function w(j,A){const k=n.getPositions(A);for(let S=0;S<k.length;S++){const N=k[S][0],D=k[S][1];for(let _=-2;_<=2;_++)for(let P=-2;P<=2;P++)_===-2||_===2||P===-2||P===2||_===0&&P===0?j.set(N+_,D+P,!0,!0):j.set(N+_,D+P,!1,!0)}}function b(j,A){const k=j.size,S=d.getEncodedBits(A);let N,D,_;for(let P=0;P<18;P++)N=Math.floor(P/3),D=P%3+k-8-3,_=(S>>P&1)===1,j.set(N,D,_,!0),j.set(D,N,_,!0)}function g(j,A,k){const S=j.size,N=m.getEncodedBits(A,k);let D,_;for(D=0;D<15;D++)_=(N>>D&1)===1,D<6?j.set(D,8,_,!0):D<8?j.set(D+1,8,_,!0):j.set(S-15+D,8,_,!0),D<8?j.set(8,S-D-1,_,!0):D<9?j.set(8,15-D-1+1,_,!0):j.set(8,15-D-1,_,!0);j.set(S-8,8,1,!0)}function y(j,A){const k=j.size;let S=-1,N=k-1,D=7,_=0;for(let P=k-1;P>0;P-=2)for(P===6&&P--;;){for(let T=0;T<2;T++)if(!j.isReserved(N,P-T)){let I=!1;_<A.length&&(I=(A[_]>>>D&1)===1),j.set(N,P-T,I),D--,D===-1&&(_++,D=7)}if(N+=S,N<0||k<=N){N-=S,S=-S;break}}}function f(j,A,k){const S=new a;k.forEach(function(T){S.put(T.mode.bit,4),S.put(T.getLength(),u.getCharCountIndicator(T.mode,j)),T.write(S)});const N=t.getSymbolTotalCodewords(j),D=c.getTotalCodewordsCount(j,A),_=(N-D)*8;for(S.getLengthInBits()+4<=_&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const P=(_-S.getLengthInBits())/8;for(let T=0;T<P;T++)S.put(T%2?17:236,8);return C(S,j,A)}function C(j,A,k){const S=t.getSymbolTotalCodewords(A),N=c.getTotalCodewordsCount(A,k),D=S-N,_=c.getBlocksCount(A,k),P=S%_,T=_-P,I=Math.floor(S/_),H=Math.floor(D/_),X=H+1,ae=I-H,Ue=new l(ae);let oe=0;const Xe=new Array(_),pt=new Array(_);let Ze=0;const we=new Uint8Array(j.buffer);for(let Pe=0;Pe<_;Pe++){const es=Pe<T?H:X;Xe[Pe]=we.slice(oe,oe+es),pt[Pe]=Ue.encode(Xe[Pe]),oe+=es,Ze=Math.max(Ze,es)}const ne=new Uint8Array(S);let V=0,G,be;for(G=0;G<Ze;G++)for(be=0;be<_;be++)G<Xe[be].length&&(ne[V++]=Xe[be][G]);for(G=0;G<ae;G++)for(be=0;be<_;be++)ne[V++]=pt[be][G];return ne}function E(j,A,k,S){let N;if(Array.isArray(j))N=x.fromArray(j);else if(typeof j=="string"){let I=A;if(!I){const H=x.rawSplit(j);I=d.getBestVersionForData(H,k)}N=x.fromString(j,I||40)}else throw new Error("Invalid data");const D=d.getBestVersionForData(N,k);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!A)A=D;else if(A<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const _=f(A,k,N),P=t.getSymbolSize(A),T=new r(P);return p(T,A),v(T),w(T,A),g(T,k,0),A>=7&&b(T,A),y(T,_),isNaN(S)&&(S=o.getBestMask(T,g.bind(null,T,k))),o.applyMask(S,T),g(T,k,S),{modules:T,version:A,errorCorrectionLevel:k,maskPattern:S,segments:N}}return Ka.create=function(A,k){if(typeof A>"u"||A==="")throw new Error("No input text");let S=s.M,N,D;return typeof k<"u"&&(S=s.from(k.errorCorrectionLevel,s.M),N=d.from(k.version),D=o.from(k.maskPattern),k.toSJISFunc&&t.setToSJISFunction(k.toSJISFunc)),E(A,N,S,D)},Ka}var hr={},xr={},Zo;function Cd(){return Zo||(Zo=1,function(t){function s(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const n=parseInt(r.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:n,color:{dark:s(r.color.dark||"#000000ff"),light:s(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},t.getImageWidth=function(r,n){const i=t.getScale(r,n);return Math.floor((r+n.margin*2)*i)},t.qrToImageData=function(r,n,i){const o=n.modules.size,c=n.modules.data,l=t.getScale(o,i),d=Math.floor((o+i.margin*2)*l),m=i.margin*l,u=[i.color.light,i.color.dark];for(let x=0;x<d;x++)for(let p=0;p<d;p++){let v=(x*d+p)*4,w=i.color.light;if(x>=m&&p>=m&&x<d-m&&p<d-m){const b=Math.floor((x-m)/l),g=Math.floor((p-m)/l);w=u[c[b*o+g]?1:0]}r[v++]=w.r,r[v++]=w.g,r[v++]=w.b,r[v]=w.a}}}(xr)),xr}var Jo;function Sy(){return Jo||(Jo=1,function(t){const s=Cd();function a(n,i,o){n.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,c){let l=c,d=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(d=r()),l=s.getOptions(l);const m=s.getImageWidth(i.modules.size,l),u=d.getContext("2d"),x=u.createImageData(m,m);return s.qrToImageData(x.data,i,l),a(u,d,m),u.putImageData(x,0,0),d},t.renderToDataURL=function(i,o,c){let l=c;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const d=t.render(i,o,l),m=l.type||"image/png",u=l.rendererOpts||{};return d.toDataURL(m,u.quality)}}(hr)),hr}var pr={},el;function _y(){if(el)return pr;el=1;const t=Cd();function s(n,i){const o=n.a/255,c=i+'="'+n.hex+'"';return o<1?c+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':c}function a(n,i,o){let c=n+i;return typeof o<"u"&&(c+=" "+o),c}function r(n,i,o){let c="",l=0,d=!1,m=0;for(let u=0;u<n.length;u++){const x=Math.floor(u%i),p=Math.floor(u/i);!x&&!d&&(d=!0),n[u]?(m++,u>0&&x>0&&n[u-1]||(c+=d?a("M",x+o,.5+p+o):a("m",l,0),l=0,d=!1),x+1<i&&n[u+1]||(c+=a("h",m),m=0)):l++}return c}return pr.render=function(i,o,c){const l=t.getOptions(o),d=i.modules.size,m=i.modules.data,u=d+l.margin*2,x=l.color.light.a?"<path "+s(l.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",p="<path "+s(l.color.dark,"stroke")+' d="'+r(m,d,l.margin)+'"/>',v='viewBox="0 0 '+u+" "+u+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+v+' shape-rendering="crispEdges">'+x+p+`</svg>
`;return typeof c=="function"&&c(null,b),b},pr}var tl;function Ey(){if(tl)return Dt;tl=1;const t=oy(),s=Cy(),a=Sy(),r=_y();function n(i,o,c,l,d){const m=[].slice.call(arguments,1),u=m.length,x=typeof m[u-1]=="function";if(!x&&!t())throw new Error("Callback required as last argument");if(x){if(u<2)throw new Error("Too few arguments provided");u===2?(d=c,c=o,o=l=void 0):u===3&&(o.getContext&&typeof d>"u"?(d=l,l=void 0):(d=l,l=c,c=o,o=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(c=o,o=l=void 0):u===2&&!o.getContext&&(l=c,c=o,o=void 0),new Promise(function(p,v){try{const w=s.create(c,l);p(i(w,o,l))}catch(w){v(w)}})}try{const p=s.create(c,l);d(null,i(p,o,l))}catch(p){d(p)}}return Dt.create=s.create,Dt.toCanvas=n.bind(null,a.render),Dt.toDataURL=n.bind(null,a.renderToDataURL),Dt.toString=n.bind(null,function(i,o,c){return r.render(i,c)}),Dt}var ky=Ey();const Sd=la(ky);function Py(){const{id:t}=ca(),s=W(),{user:a}=U(),[r,n]=h.useState(null),[i,o]=h.useState(!0),[c,l]=h.useState(""),[d,m]=h.useState(!1),[u,x]=h.useState(!1),[p,v]=h.useState("");h.useEffect(()=>{t&&a&&w()},[t,a]),h.useEffect(()=>{if(r?.expires_at){const k=setInterval(()=>{b()},1e3);return()=>clearInterval(k)}},[r?.expires_at]);const w=async()=>{if(!t||!a){console.error("ID do voucher ou usuário não encontrado"),s("/meus-vouchers");return}try{o(!0),console.log("🔍 Carregando voucher ativo:",t);const{data:k,error:S}=await F.from("vouchers").select("*").eq("id",t).eq("user_id",a.id).single();if(S){console.error("❌ Erro ao carregar voucher:",S),s("/meus-vouchers");return}if(!k){console.error("❌ Voucher não encontrado"),s("/meus-vouchers");return}const N={id:k.id,voucher_code:k.code,qr_code_data:`DUO-${k.id}-${k.code}`,status:k.status,expires_at:k.expires_at,created_at:k.created_at,offer:{id:k.offer_id||"default-offer",title:k.title,description:k.terms_conditions||"Experiência cultural exclusiva DUO PASS",original_value:k.original_price,image_url:k.image_url||"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",location:"Suíça",terms_conditions:k.terms_conditions||"Válido conforme termos e condições.",merchant:{business_name:k.business_name,address:"Endereço disponível no estabelecimento",phone:"+41 XX XXX XXXX",website:"https://duopassclub.ch",description:`Parceiro cultural DUO PASS - ${k.business_name}`}}};if(n(N),N.qr_code_data){const D=await Sd.toDataURL(N.qr_code_data,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});l(D)}console.log("✅ Voucher ativo carregado com sucesso")}catch(k){console.error("❌ Erro inesperado ao carregar voucher:",k),s("/meus-vouchers")}finally{o(!1)}},b=()=>{if(!r?.expires_at)return;const k=new Date().getTime(),N=new Date(r.expires_at).getTime()-k;if(N<=0){v("Expirado");return}const D=Math.floor(N/(1e3*60*60*24)),_=Math.floor(N%(1e3*60*60*24)/(1e3*60*60)),P=Math.floor(N%(1e3*60*60)/(1e3*60)),T=Math.floor(N%(1e3*60)/1e3);D>0?v(`${D}d ${_}h ${P}m`):_>0?v(`${_}h ${P}m ${T}s`):v(`${P}m ${T}s`)},g=async()=>{if(r?.voucher_code)try{await navigator.clipboard.writeText(r.voucher_code),x(!0),setTimeout(()=>x(!1),2e3)}catch{console.error("Erro ao copiar código")}},y=async()=>{if(navigator.share&&r)try{await navigator.share({title:`Voucher: ${r.offer.title}`,text:"Confira meu voucher ativo no DuoPass!",url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else navigator.clipboard.writeText(window.location.href),alert("Link copiado para a área de transferência!")},f=()=>{if(r?.offer.merchant.address){const k=encodeURIComponent(r.offer.merchant.address);window.open(`https://maps.google.com/maps?q=${k}`,"_blank")}},C=()=>{r?.offer.merchant.phone&&window.open(`tel:${r.offer.merchant.phone}`)},E=()=>{r?.offer.merchant.website&&window.open(r.offer.merchant.website,"_blank")};if(i)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F]"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Voucher não encontrado"}),e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"text-[#C91F1F] hover:underline",children:"Voltar aos meus vouchers"})]})});const j=new Date(r.expires_at)<new Date,A=r.status==="used";return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:()=>s("/meus-vouchers"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(je,{className:"h-5 w-5 mr-2"}),"Meus Vouchers"]}),e.jsx("button",{onClick:y,className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:e.jsx(Bt,{className:"h-5 w-5"})})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(j||A)&&e.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`mb-6 p-4 rounded-lg border ${A?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center",children:[A?e.jsx(B,{className:"h-5 w-5 mr-2"}):e.jsx(et,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:A?"Voucher utilizado com sucesso!":"Este voucher expirou"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#8B1538] p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:r.offer.title}),e.jsxs("div",{className:"flex items-center text-white/90",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r.offer.location})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["CHF ",(r.offer.original_value*.18/2).toFixed(2)]}),e.jsxs("div",{className:"text-white/80 line-through text-sm",children:["CHF ",(r.offer.original_value*.18).toFixed(2)]})]})]})}),e.jsx("div",{className:"aspect-video bg-gray-200",children:e.jsx("img",{src:r.offer.image_url,alt:r.offer.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-700 mb-6",children:r.offer.description}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código do Voucher"}),e.jsx("div",{className:"text-2xl font-mono font-bold text-[#C91F1F]",children:r.voucher_code})]}),e.jsx("button",{onClick:g,className:`p-3 rounded-lg transition-colors ${u?"bg-green-100 text-green-600":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:u?e.jsx(B,{className:"h-5 w-5"}):e.jsx(Nl,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"text-center mb-6",children:e.jsxs("button",{onClick:()=>m(!d),className:"inline-flex items-center px-6 py-3 bg-[#C91F1F] text-white rounded-lg hover:bg-[#B01B1B] transition-colors",children:[e.jsx(Ye,{className:"h-5 w-5 mr-2"}),d?"Ocultar QR Code":"Mostrar QR Code"]})}),d&&c&&e.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-6",children:[e.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-200 rounded-lg",children:e.jsx("img",{src:c,alt:"QR Code",className:"w-64 h-64"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Apresente este QR Code no estabelecimento"})]}),r.offer.terms_conditions&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Termos e Condições"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.offer.terms_conditions})]})]})]}),e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Sobre o estabelecimento"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-lg",children:r.offer.merchant.business_name}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.offer.merchant.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Re,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Endereço"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.offer.merchant.address})]})]}),r.offer.merchant.phone&&e.jsxs("div",{className:"flex items-start",children:[e.jsx(St,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Telefone"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.offer.merchant.phone})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:f,className:"flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[e.jsx(Ym,{className:"h-4 w-4 mr-2"}),"Ver no Mapa"]}),r.offer.merchant.phone&&e.jsxs("button",{onClick:C,className:"flex items-center px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),"Ligar"]}),r.offer.merchant.website&&e.jsxs("button",{onClick:E,className:"flex items-center px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[e.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Site"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm p-6 sticky top-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Status do Voucher"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A?"bg-green-100 text-green-800":j?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:A?"Utilizado":j?"Expirado":"Ativo"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Criado em:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(r.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Válido até:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(r.expires_at).toLocaleDateString()})]}),!j&&!A&&p&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center text-orange-800",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"text-sm font-medium",children:["Expira em: ",p]})]})})]})]}),e.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Como usar"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#C91F1F] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"1"}),e.jsx("p",{children:"Vá até o estabelecimento no endereço indicado"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#C91F1F] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"2"}),e.jsx("p",{children:"Apresente o QR Code ou código do voucher"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-6 h-6 bg-[#C91F1F] text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"3"}),e.jsx("p",{children:"Aproveite sua oferta exclusiva!"})]})]})]}),A&&e.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Avalie sua experiência"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(k=>e.jsx("button",{className:"p-1 hover:scale-110 transition-transform",children:e.jsx(Z,{className:"h-6 w-6 text-gray-300 hover:text-yellow-400"})},k))}),e.jsx("button",{className:"w-full bg-[#C91F1F] text-white py-2 rounded-lg hover:bg-[#B01B1B] transition-colors",children:"Enviar Avaliação"})]})]})]})]})]})]})}function Ay(){const{id:t}=ca(),s=W(),{user:a}=U(),[r,n]=h.useState(null),[i,o]=h.useState(!0),[c,l]=h.useState(null),[d,m]=h.useState(!1),[u,x]=h.useState(!1),[p,v]=h.useState(!1),w=h.useCallback(async()=>{try{if(o(!0),l(null),!a?.id){l("Usuário não autenticado");return}if(!t){l("ID do voucher não fornecido");return}console.log("🔍 Carregando detalhes do voucher:",t);const{data:D,error:_}=await F.from("vouchers").select("*").eq("id",t).eq("user_id",a.id).single();let P=D;if(_&&_.code==="PGRST116"){const{data:T,error:I}=await F.from("vouchers").select("*").eq("code",t).eq("user_id",a.id).single();if(I){console.error("❌ Voucher não encontrado:",I),l("Voucher não encontrado");return}P=T}else if(_){console.error("❌ Erro ao carregar voucher:",_),l("Erro ao carregar voucher");return}console.log("✅ Voucher carregado:",P),n(P)}catch(D){console.error("❌ Erro inesperado:",D),l("Erro inesperado ao carregar voucher")}finally{o(!1)}},[t,a?.id]);h.useEffect(()=>{w()},[w]);const b=async()=>{if(!(!r||!a))try{if(x(!0),console.log("🎯 Resgatando voucher:",r.id),r.status!=="purchased"){alert("Este voucher não está disponível para resgate.");return}if(new Date(r.expires_at)<=new Date){alert("Este voucher expirou e não pode mais ser resgatado.");return}const{error:D}=await F.from("vouchers").update({status:"active",used_at:new Date().toISOString()}).eq("id",r.id).eq("user_id",a.id);if(D){console.error("❌ Erro ao resgatar voucher:",D),alert("Erro ao resgatar voucher. Tente novamente.");return}console.log("✅ Voucher resgatado com sucesso"),s(`/voucher/${r.id}/active`)}catch(D){console.error("❌ Erro inesperado ao resgatar:",D),alert("Erro inesperado. Tente novamente.")}finally{x(!1),m(!1)}},g=async()=>{if(!(!r||!a))try{console.log("💾 Salvando voucher para mais tarde:",r.id),await new Promise(D=>setTimeout(D,500)),v(!0),alert("Voucher salvo com sucesso!")}catch(D){console.error("❌ Erro ao salvar voucher:",D),alert("Erro ao salvar voucher. Tente novamente.")}},y=()=>{r&&s(`/voucher/${r.id}/active`)},f=D=>new Date(D).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),C=D=>{const _=new Date,T=new Date(D).getTime()-_.getTime();return Math.ceil(T/(1e3*60*60*24))},E=()=>r?Math.round((1-r.discounted_price/r.original_price)*100):0;if(i)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando detalhes do voucher..."})]})});if(c||!r)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(et,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-[#333333] mb-2",children:c||"Voucher não encontrado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Verifique se o link está correto ou se você tem permissão para acessar este voucher."}),e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"text-[#C91F1F] hover:underline font-medium",children:"Ver meus vouchers"})]})});const j=C(r.expires_at),A=j<=3&&j>0,k=j<=0,S=r.status==="used",N=E();return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF] pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-[#333333] hover:text-[#C91F1F] transition-colors",children:[e.jsx(je,{className:"w-5 h-5 mr-2"}),"Voltar"]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-[#F6C100] to-[#C91F1F]",children:[r.image_url?e.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover",onError:D=>{D.currentTarget.style.display="none"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Ye,{className:"w-16 h-16 text-white opacity-50"})}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[S&&e.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"✓ Usado"}),k&&e.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"⚠️ Expirado"}),A&&!S&&!k&&e.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:["⚠️ Expira em ",j," dia",j!==1?"s":""]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#333333] mb-2",children:r.title}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["CHF ",r.discounted_price.toFixed(2)]}),r.original_price>r.discounted_price&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["CHF ",r.original_price.toFixed(2)]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-semibold",children:["-",N,"% OFF"]})]})]}),e.jsx("p",{className:"text-lg text-[#C91F1F] font-semibold",children:r.business_name})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:g,className:`p-2 rounded-full transition-colors ${p?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:p?"Salvo":"Salvar para depois",children:e.jsx(Y,{className:`w-5 h-5 ${p?"fill-current":""}`})}),e.jsx("button",{className:"p-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-full transition-colors",title:"Compartilhar",children:e.jsx(Bt,{className:"w-5 h-5"})})]})]}),(S||k)&&e.jsx("div",{className:`p-4 rounded-lg mb-6 ${S?"bg-blue-50 border border-blue-200":"bg-red-50 border border-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[S?e.jsx(B,{className:"w-5 h-5 text-blue-600"}):e.jsx(et,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:`font-semibold ${S?"text-blue-800":"text-red-800"}`,children:S?`Voucher usado em ${f(r.used_at)}`:"Este voucher expirou e não pode mais ser usado"})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Se,{className:"w-5 h-5 text-[#C91F1F] mr-2"}),e.jsx("h3",{className:"font-semibold text-[#333333]",children:"Validade"})]}),e.jsxs("p",{className:"text-gray-600",children:["Válido até ",f(r.expires_at)]}),e.jsx("p",{className:`text-sm mt-1 ${k?"text-red-500":A?"text-orange-500":"text-gray-500"}`,children:k?"Expirado":j>0?`${j} dia${j!==1?"s":""} restante${j!==1?"s":""}`:"Expira hoje"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Re,{className:"w-5 h-5 text-[#C91F1F] mr-2"}),e.jsx("h3",{className:"font-semibold text-[#333333]",children:"Local de uso"})]}),e.jsx("p",{className:"text-gray-600",children:r.business_name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Apresente o código no estabelecimento"})]})]}),r.terms_conditions&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-[#333333] mb-3",children:"Termos e Condições"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600",children:r.terms_conditions})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[S||k?e.jsx("button",{onClick:y,className:"flex-1 bg-gray-500 text-white py-4 px-8 rounded-full font-bold text-lg hover:bg-gray-600 transition-all",children:"👁️ VER DETALHES"}):r.status==="active"?e.jsx("button",{onClick:y,className:"flex-1 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-8 rounded-full font-bold text-lg hover:shadow-lg transition-all",children:"🎫 USAR VOUCHER"}):e.jsx("button",{onClick:()=>m(!0),className:"flex-1 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-8 rounded-full font-bold text-lg hover:shadow-lg transition-all",children:"🎯 RESGATAR VOUCHER"}),!p&&!S&&!k&&e.jsx("button",{onClick:g,className:"sm:w-auto bg-white border-2 border-[#C91F1F] text-[#C91F1F] py-4 px-8 rounded-full font-semibold hover:bg-[#C91F1F] hover:text-white transition-all",children:"💾 SALVAR PARA DEPOIS"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#333333] mb-4 text-center",children:"Confirmar Resgate"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-[#333333] mb-2",children:r.title}),e.jsxs("p",{className:"text-[#C91F1F] font-semibold mb-2",children:["CHF ",r.discounted_price.toFixed(2),r.original_price>r.discounted_price&&e.jsxs("span",{className:"text-gray-500 line-through ml-2",children:["CHF ",r.original_price.toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Válido até ",f(r.expires_at)]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["⚠️ ",e.jsx("strong",{children:"Atenção:"})," Após o resgate, você receberá um código único para apresentar no estabelecimento."]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>m(!1),disabled:u,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-full font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancelar"}),e.jsx("button",{onClick:b,disabled:u,className:"flex-1 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-3 px-6 rounded-full font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:u?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Resgatando..."]}):"Confirmar Resgate"})]})]})})]})}function Dy(){const{id:t}=ca(),s=W(),[a]=Ss(),{user:r}=U(),[n,i]=h.useState(null),[o,c]=h.useState(!0),[l,d]=h.useState(!1),[m,u]=h.useState(!1),x=h.useCallback(y=>{const f=a.get("code")||"DUO"+Math.random().toString(36).substr(2,8).toUpperCase();return{id:y,voucher_code:f,qr_code_data:`DUO_PASS_${f}`,status:"active",expires_at:new Date(Date.now()+720*60*60*1e3).toISOString(),created_at:new Date().toISOString(),cultural_partners:{business_name:"Café das Letras",contact_name:"Maria Silva",email:"contato@cafedasletras.com",address:{street:"Rua das Flores, 123",city:"São Paulo",state:"SP",zipcode:"01234-567"}},cultural_experiences:{experience_name:"Sarau Íntimo com Degustação",duo_benefit:"Duas pessoas vivem uma experiência cultural única com degustação completa.",original_price:120,duo_price:60}}},[a]),p=h.useCallback(async()=>{if(t)try{c(!0);const{data:y}=await F.from("vouchers").select(`
          *,
          cultural_partners:users!merchant_id (
            business_name,
            contact_name,
            email,
            address
          ),
          cultural_experiences (
            experience_name,
            duo_benefit,
            original_price,
            duo_price
          )
        `).eq("id",t).eq("user_id",r?.id).single();i(y||x(t))}catch(y){console.error("Erro ao carregar voucher:",y),i(x(t))}finally{c(!1)}},[t,r?.id,x]);h.useEffect(()=>{p()},[p]);const v=async()=>{if(n)try{await navigator.clipboard.writeText(n.voucher_code),d(!0),setTimeout(()=>d(!1),2e3)}catch(y){console.error("Erro ao copiar código:",y)}},w=y=>new Date(y).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),b=()=>{if(!n)return 0;const y=new Date(n.expires_at),f=new Date,C=y.getTime()-f.getTime();return Math.ceil(C/(1e3*60*60*24))};if(o)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})});if(!n)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Voucher não encontrado"}),e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"text-amber-600 hover:text-amber-700 font-medium",children:"Ver meus vouchers"})]})});const g=b();return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"bg-white bg-opacity-20 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{className:"w-12 h-12"})}),e.jsx(O.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-4xl md:text-5xl font-bold mb-4",children:"DUO PASS Ativo! 🎉"}),e.jsx(O.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Seu voucher foi gerado com sucesso! Agora você pode desfrutar da experiência cultural."})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(O.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},onClick:()=>s("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-amber-600 transition-colors mb-8",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar ao início"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(O.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"DUO PASS"}),e.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm font-medium",children:"Ativo"})]}),e.jsx("h3",{className:"text-lg font-semibold",children:n.cultural_experiences.experience_name})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Código do Voucher"}),e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800",children:n.voucher_code}),e.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:text-amber-600 transition-colors",title:"Copiar código",children:e.jsx(Nl,{className:"w-5 h-5"})})]}),l&&e.jsx("p",{className:"text-green-600 text-sm mt-2",children:"Código copiado!"})]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("button",{onClick:()=>u(!m),className:"flex items-center space-x-2 mx-auto text-amber-600 hover:text-amber-700 transition-colors",children:[e.jsx(Ye,{className:"w-5 h-5"}),e.jsxs("span",{children:[m?"Ocultar":"Mostrar"," QR Code"]})]}),m&&e.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:e.jsx(Ye,{className:"w-16 h-16 text-gray-400"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"QR Code para apresentar no local"})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[e.jsx(Se,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Válido até: ",w(n.expires_at)]}),e.jsx("p",{className:"text-sm",children:g>0?`${g} dias restantes`:"Expira hoje"})]})]})})]})]}),e.jsxs(O.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detalhes da Experiência"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"🎁 Benefício DUO:"}),e.jsx("p",{className:"text-gray-800",children:n.cultural_experiences.duo_benefit})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx("span",{className:"text-gray-600",children:"Valor economizado:"}),e.jsxs("span",{className:"text-green-600 font-bold",children:["CHF ",((n.cultural_experiences.original_price-n.cultural_experiences.duo_price)*.18).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Local da Experiência"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-amber-600",children:n.cultural_partners.business_name}),e.jsxs("div",{className:"flex items-start space-x-2 text-gray-600",children:[e.jsx(Re,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{children:n.cultural_partners.address.street}),e.jsxs("p",{children:[n.cultural_partners.address.city,", ",n.cultural_partners.address.state]}),e.jsxs("p",{children:["CEP: ",n.cultural_partners.address.zipcode]})]})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Contato: ",n.cultural_partners.contact_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:n.cultural_partners.email})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-3",children:"📋 Como usar seu voucher"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[e.jsx("li",{children:"1. Entre em contato com o parceiro para agendar"}),e.jsx("li",{children:"2. Apresente o código do voucher ou QR Code"}),e.jsx("li",{children:"3. Aproveite sua experiência cultural!"}),e.jsx("li",{children:"4. Lembre-se: válido para 2 pessoas"})]})]})]})]}),e.jsxs(O.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>s("/meus-vouchers"),className:"px-8 py-3 bg-gradient-to-r from-amber-500 to-rose-500 text-white rounded-lg font-medium hover:shadow-lg transition-all",children:"Ver Todos os Vouchers"}),e.jsx("button",{onClick:()=>s("/experiencias"),className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Descobrir Mais Experiências"}),e.jsxs("button",{className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all flex items-center space-x-2",children:[e.jsx(Bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartilhar"})]})]})]})]})}function sl(){const t=W(),s={hero:"Sua história merece ser vivida por pessoas que valorizam o autêntico",diferencial:"Não somos apenas cupons - somos cultura em movimento",beneficios:["Clientes conscientes que buscam experiências com alma","Visibilidade em uma comunidade de valores compartilhados","Apoio na construção de relacionamentos, não apenas vendas","Parceria de longo prazo baseada em propósito comum"],cta:"FAÇA PARTE DESTE MOVIMENTO CULTURAL"},a=[{name:"Maria Silva",business:"Café das Letras",quote:"O DUO PASS trouxe pessoas que realmente valorizam nossa proposta cultural. Não são apenas clientes, são parte da nossa comunidade.",impact:"300% aumento em conexões genuínas"},{name:"João Santos",business:"Ateliê Criativo",quote:"Finalmente uma plataforma que entende que vendemos experiências, não produtos. Nossos valores se alinham perfeitamente.",impact:"85% dos visitantes retornam"},{name:"Ana Costa",business:"Restaurante da Vovó",quote:"Cada pessoa que chega através do DUO PASS já vem com o coração aberto para nossa história familiar.",impact:"4.9 estrelas em experiência cultural"}],r=[{icon:Y,title:"Autenticidade",description:"Celebramos o que torna seu espaço único e especial"},{icon:$,title:"Comunidade",description:"Construímos relacionamentos duradouros, não transações"},{icon:Fe,title:"Propósito",description:"Cada parceria tem um impacto cultural mensurável"},{icon:Re,title:"Local",description:"Fortalecemos a economia criativa da sua região"}],n=[{icon:jl,title:"Cafés Culturais",description:"Espaços onde conversas fluem e ideias nascem",examples:["Café com saraus","Livrarias-café","Espaços de coworking criativo"]},{icon:ha,title:"Ateliês & Galerias",description:"Onde a arte local ganha vida e se conecta com pessoas",examples:["Ateliês abertos","Galerias independentes","Oficinas criativas"]},{icon:Jr,title:"Espaços Gastronômicos",description:"Restaurantes que contam histórias através dos sabores",examples:["Restaurantes familiares","Gastronomia autoral","Experiências culinárias"]}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/20 to-rose-600/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[e.jsx(Y,{className:"w-12 h-12 text-rose-500"}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"DUO PASS"})]}),e.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:s.hero}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:s.diferencial}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("button",{onClick:()=>t("/cadastro-parceiro"),className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105",children:"Começar Agora"}),e.jsx("button",{onClick:()=>t("/como-funciona-parceiros"),className:"text-gray-700 font-medium hover:text-gray-900 transition-colors",children:"Ver Como Funciona"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600 mb-2",children:"150+"}),e.jsx("div",{className:"text-gray-600",children:"Parceiros Culturais"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-rose-600 mb-2",children:"12k+"}),e.jsx("div",{className:"text-gray-600",children:"Conexões Criadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"4.8★"}),e.jsx("div",{className:"text-gray-600",children:"Impacto Cultural"})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Nossos Valores Compartilhados"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Mais que uma plataforma, somos um movimento cultural que conecta pessoas através de experiências autênticas"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((i,o)=>{const c=i.icon;return e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-100 to-rose-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(c,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:i.title}),e.jsx("p",{className:"text-gray-600",children:i.description})]},o)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-8",children:"Por que escolher o DUO PASS?"}),e.jsx("div",{className:"space-y-6",children:s.beneficios.map((i,o)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(B,{className:"w-6 h-6 text-green-500 mt-1 flex-shrink-0"}),e.jsx("p",{className:"text-lg text-gray-700",children:i})]},o))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Diferencial Cultural"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Plataformas tradicionais"}),e.jsx("span",{className:"text-red-500 font-medium",children:"Foco em vendas"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"DUO PASS"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Foco em conexões"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Métricas tradicionais"}),e.jsx("span",{className:"text-red-500 font-medium",children:"ROI, conversão"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Nossas métricas"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Impacto cultural"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-gray-600",children:"Relacionamento"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Longo prazo"})]})]})]})]})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Parceiros que Respiram Cultura"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Cada tipo de espaço tem sua magia única. Qual é a sua?"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((i,o)=>{const c=i.icon;return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-8 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-16 h-16 rounded-lg flex items-center justify-center mb-6",children:e.jsx(c,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:i.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:i.description}),e.jsx("div",{className:"space-y-2",children:i.examples.map((l,d)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:l})]},d))})]},o)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Histórias de Sucesso Cultural"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Parceiros que transformaram suas experiências em conexões genuínas"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((i,o)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(5)].map((c,l)=>e.jsx(Z,{className:"w-5 h-5 text-yellow-400 fill-current"},l))}),e.jsxs("p",{className:"text-gray-700 italic mb-6",children:['"',i.quote,'"']}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:i.name}),e.jsx("div",{className:"text-gray-600 text-sm mb-2",children:i.business}),e.jsx("div",{className:"text-green-600 font-medium text-sm",children:i.impact})]})]},o))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-amber-600 to-rose-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:s.cta}),e.jsx("p",{className:"text-xl text-amber-100 mb-8",children:"Junte-se a uma comunidade que valoriza autenticidade, propósito e conexões genuínas"}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(R,{to:"/cadastro-parceiro",className:"bg-white text-amber-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2 w-full",children:[e.jsx("span",{children:"Começar Agora"}),e.jsx(ie,{className:"w-4 h-4"})]})}),e.jsxs("div",{className:"mt-8 text-amber-100 text-sm",children:["Ou acesse diretamente o"," ",e.jsx(R,{to:"/cultural-partner-portal",className:"text-white font-semibold hover:underline",children:"Portal do Parceiro Cultural"})]})]})})]})}class Os{constructor(s=0,a="Network Error"){this.status=s,this.text=a}}const Ty=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,s)=>Promise.resolve(localStorage.setItem(t,s)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},me={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Ty()},In=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Fy=(t,s="https://api.emailjs.com")=>{if(!t)return;const a=In(t);me.publicKey=a.publicKey,me.blockHeadless=a.blockHeadless,me.storageProvider=a.storageProvider,me.blockList=a.blockList,me.limitRate=a.limitRate,me.origin=a.origin||s},_d=async(t,s,a={})=>{const r=await fetch(me.origin+t,{method:"POST",headers:a,body:s}),n=await r.text(),i=new Os(r.status,n);if(r.ok)return i;throw i},Ed=(t,s,a)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||typeof a!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},My=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},kd=t=>t.webdriver||!t.languages||t.languages.length===0,Pd=()=>new Os(451,"Unavailable For Headless Browser"),Oy=(t,s)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},Ry=t=>!t.list?.length||!t.watchVariable,Iy=(t,s)=>t instanceof FormData?t.get(s):t[s],Ad=(t,s)=>{if(Ry(t))return!1;Oy(t.list,t.watchVariable);const a=Iy(s,t.watchVariable);return typeof a!="string"?!1:t.list.includes(a)},Dd=()=>new Os(403,"Forbidden"),Vy=(t,s)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},Ly=async(t,s,a)=>{const r=Number(await a.get(t)||0);return s-Date.now()+r},Td=async(t,s,a)=>{if(!s.throttle||!a)return!1;Vy(s.throttle,s.id);const r=s.id||t;return await Ly(r,s.throttle,a)>0?!0:(await a.set(r,Date.now().toString()),!1)},Fd=()=>new Os(429,"Too Many Requests"),qy=async(t,s,a,r)=>{const n=In(r),i=n.publicKey||me.publicKey,o=n.blockHeadless||me.blockHeadless,c=n.storageProvider||me.storageProvider,l={...me.blockList,...n.blockList},d={...me.limitRate,...n.limitRate};return o&&kd(navigator)?Promise.reject(Pd()):(Ed(i,t,s),My(a),a&&Ad(l,a)?Promise.reject(Dd()):await Td(location.pathname,d,c)?Promise.reject(Fd()):_d("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:s,template_params:a}),{"Content-type":"application/json"}))},zy=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Uy=t=>typeof t=="string"?document.querySelector(t):t,By=async(t,s,a,r)=>{const n=In(r),i=n.publicKey||me.publicKey,o=n.blockHeadless||me.blockHeadless,c=me.storageProvider||n.storageProvider,l={...me.blockList,...n.blockList},d={...me.limitRate,...n.limitRate};if(o&&kd(navigator))return Promise.reject(Pd());const m=Uy(a);Ed(i,t,s),zy(m);const u=new FormData(m);return Ad(l,u)?Promise.reject(Dd()):await Td(location.pathname,d,c)?Promise.reject(Fd()):(u.append("lib_version","4.4.1"),u.append("service_id",t),u.append("template_id",s),u.append("user_id",i),_d("/api/v1.0/email/send-form",u))},zt={init:Fy,send:qy,sendForm:By,EmailJSResponseStatus:Os};async function $y(t){const{data:s,error:a}=await F.from("contact_messages").insert({name:t.name,email:t.email,business:t.business,type:t.type,description:t.description,status:"new"}).select().single();if(a)throw console.error("Erro ao salvar mensagem de contato:",a),new Error("Erro ao salvar mensagem. Tente novamente.");return s}const Ce={serviceId:"service_nj1x65i",templateIds:{admin:"template_r3t7pti",partner:"template_d63ebza",contactAdmin:"template_r3t7pti",contactConfirmation:"template_r3t7pti",universal:"template_r3t7pti"},publicKey:"k4Yr2qeZ3HOym8wgI"};let al=!1;function Vn(){al||(zt.init(Ce.publicKey),al=!0,console.log("✅ EmailJS inicializado corretamente"))}Vn();function K(t){return t==null?"N/A":String(t).trim().substring(0,1e3)}function Hy(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function rl(t){return{to_email:"silviabonafe@duopassclub.ch",contact_name:K(t.contactName),business_name:K(t.businessName),contact_email:K(t.email),business_type:K(t.businessType),phone:K(t.phone),address_street:K(t.address?.street||t.address),address_city:K(t.city||t.address?.city),address_postal:K(t.postalCode||t.address?.postalCode),address_country:K(t.address?.country||"Switzerland"),founder_story:K(t.founderStory),cultural_mission:K(t.culturalMission),experience_title:K(t.experienceTitle||t.proposedExperience?.title),experience_description:K(t.experienceDescription||t.proposedExperience?.description),normal_price:K(t.normalPrice||t.proposedExperience?.normalPrice),duo_value:K(t.duoValue||t.proposedExperience?.duoValue),contact_date:new Date().toLocaleString("pt-BR"),reply_to:"contact@duopassclub.ch",contact_business:K(t.businessName),contact_type:"Novo Parceiro Registrado",contact_description:`NOVO PARCEIRO: ${t.businessName} - ${t.contactName}`}}function Gy(t){return{email:K(t.email),contact_name:K(t.contactName),business_name:K(t.businessName),contact_date:new Date().toLocaleString("pt-BR"),reply_to:"contact@duopassclub.ch",contact_business:K(t.businessName),contact_type:"Confirmação de Cadastro",contact_description:`Confirmação de cadastro para ${t.businessName}`}}async function Wy(t){console.log("📧 Enviando emails com mapeamento específico por template");try{if(Vn(),!t.email||!Hy(t.email))throw new Error("Email inválido ou não fornecido");const s=rl(t);console.log("📤 Enviando para admin (template_r3t7pti):",{template:Ce.templateIds.admin,email_field:"contact_email",email_value:s.contact_email});const a=await zt.send(Ce.serviceId,Ce.templateIds.admin,s);console.log("✅ Email admin enviado:",a.status);const r=Gy(t);console.log("📤 Enviando para parceiro (template_d63ebza):",{template:Ce.templateIds.partner,email_field:"email",email_value:r.email,all_params:r});const n=await zt.send(Ce.serviceId,Ce.templateIds.partner,r);return console.log("✅ Email parceiro enviado:",n.status),{success:!0,adminResponse:a,partnerResponse:n,errors:[]}}catch(s){if(console.error("❌ Erro ao enviar emails:",s),s.status===422||s.status===400){console.warn("⚠️ Template do parceiro falhou, usando fallback...");try{const a=rl(t);a.to_email=t.email;const r=await zt.send(Ce.serviceId,Ce.templateIds.universal,a);return console.log("✅ Email parceiro enviado via fallback:",r.status),{success:!0,adminResponse:null,partnerResponse:r,errors:["Template específico falhou, usado fallback"],usedFallback:!0}}catch(a){console.error("❌ Fallback também falhou:",a)}}return{success:!1,errors:[`Erro ao enviar emails: ${s.message}`]}}}async function Ky(t){console.log("📧 Enviando emails de contato");try{Vn();const s={to_email:"silviabonafe@duopassclub.ch",contact_name:K(t.name),contact_email:K(t.email),business_name:K(t.business),contact_business:K(t.business),contact_type:K(t.type),contact_description:K(t.description),contact_date:new Date().toLocaleString("pt-BR"),reply_to:"contact@duopassclub.ch"},a=await zt.send(Ce.serviceId,Ce.templateIds.contactAdmin,s);console.log("✅ Email admin enviado:",a.status);const r={to_email:K(t.email),contact_name:K(t.name),contact_email:K(t.email),contact_business:K(t.business),contact_type:"Confirmação de Contato",contact_description:`Olá ${t.name}!

Obrigado pelo seu interesse no DUO PASS Club!

Recebemos seu contato sobre ${t.business} e nossa equipe responderá em breve.

Aguarde nosso retorno!`,contact_date:new Date().toLocaleString("pt-BR"),reply_to:"contact@duopassclub.ch"},n=await zt.send(Ce.serviceId,Ce.templateIds.contactConfirmation,r);return console.log("✅ Email confirmação enviado:",n.status),{success:!0,adminResponse:a,confirmationResponse:n}}catch(s){throw console.error("❌ Erro ao enviar emails de contato:",s),s}}const Qy=({isOpen:t,onClose:s})=>{const[a,r]=h.useState({name:"",email:"",business:"",type:"other",description:""}),[n,i]=h.useState(!1),[o,c]=h.useState("idle"),[l,d]=h.useState(""),m=p=>{const{name:v,value:w}=p.target;r(b=>({...b,[v]:w}))},u=async p=>{p.preventDefault(),i(!0),d("");try{const v=await $y(a);await Ky({...a,id:v.id,created_at:v.created_at}),c("success"),setTimeout(()=>{s(),r({name:"",email:"",business:"",type:"other",description:""}),c("idle")},2e3)}catch(v){console.error("Erro ao enviar mensagem:",v),d(v instanceof Error?v.message:"Erro ao enviar mensagem"),c("error")}finally{i(!1)}},x=()=>{c("idle"),d("")};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"Falar com Nossa Equipe"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:n,children:e.jsx(pe,{className:"w-5 h-5 text-gray-500"})})]}),o==="success"&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(B,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mensagem Enviada!"}),e.jsx("p",{className:"text-gray-600",children:"Obrigado pelo seu interesse. Nossa equipe entrará em contato em até 24 horas."})]}),o!=="success"&&e.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:m,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:m,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Negócio *"}),e.jsx("input",{type:"text",id:"business",name:"business",value:a.business,onChange:m,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Nome do seu estabelecimento"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Negócio *"}),e.jsxs("select",{id:"type",name:"type",value:a.type,onChange:m,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",children:[e.jsx("option",{value:"gastronomy",children:"Gastronomia"}),e.jsx("option",{value:"art",children:"Arte e Cultura"}),e.jsx("option",{value:"wellbeing",children:"Bem-estar"}),e.jsx("option",{value:"other",children:"Outro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição Breve *"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:m,required:!0,disabled:n,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500 resize-none",placeholder:"Conte-nos brevemente sobre seu negócio e interesse em ser parceiro..."})]}),o==="error"&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-red-600 text-sm",children:l}),e.jsx("button",{type:"button",onClick:x,className:"text-red-600 text-sm underline hover:no-underline mt-1",children:"Tentar novamente"})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-purple-700 hover:to-orange-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Es,{className:"w-4 h-4"}),"Enviar Mensagem"]})})]})]})}):null},nl=({onClick:t,variant:s="primary",size:a="md",className:r="",children:n})=>{const i="inline-flex items-center justify-center gap-2 font-semibold rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",o={primary:"bg-gradient-to-r from-purple-600 to-orange-500 text-white hover:from-purple-700 hover:to-orange-600 shadow-lg hover:shadow-xl",secondary:"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50",outline:"border-2 border-white text-white hover:bg-white hover:text-purple-600"},c={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsxs("button",{onClick:t,className:`${i} ${o[s]} ${c[a]} ${r}`,children:[e.jsx(xe,{className:l[a]}),n||"Falar com Nossa Equipe"]})},Yy=()=>{const[t,s]=h.useState(!1);return{isOpen:t,openModal:()=>s(!0),closeModal:()=>s(!1),toggleModal:()=>s(i=>!i)}};function Xy(){const{isOpen:t,openModal:s,closeModal:a}=Yy(),r=[{icon:Y,title:"Autenticidade Cultural",description:"Valorizamos experiências genuínas que refletem a verdadeira essência cultural do seu espaço"},{icon:$,title:"Comunidade Engajada",description:"Conectamos você com pessoas que realmente valorizam cultura, não apenas buscam descontos"},{icon:Z,title:"Curadoria de Qualidade",description:"Cada parceiro passa por um processo cuidadoso para garantir experiências excepcionais"}],n=[{number:"01",title:"Cadastro",description:"Conte sua história, missão cultural e a experiência que deseja oferecer",timeframe:"5 minutos"},{number:"02",title:"Análise",description:"Nossa equipe avalia o alinhamento com nossos valores culturais",timeframe:"24-48h"},{number:"03",title:"Curadoria",description:"Trabalhamos juntos para criar a descrição perfeita da sua experiência",timeframe:"1 semana"},{number:"04",title:"Ativação",description:"Seu espaço entra na plataforma e começa a receber visitantes engajados",timeframe:"2 semanas"}],i=["Aumento de 40% no fluxo de clientes","Redução de 60% em custos de marketing","Dashboard com métricas de impacto cultural","Suporte dedicado para otimização","Pagamentos automáticos e seguros","Flexibilidade total de horários e ofertas"],o=["Conexão com pessoas que valorizam cultura","Fortalecimento da identidade do seu espaço","Rede de parceiros culturais colaborativos","Visibilidade para audiência qualificada","Impacto social mensurável","Preservação e difusão cultural"],c=[{icon:jl,title:"Gastronomia Cultural",description:"Restaurantes, cafés e bistrôs com identidade cultural forte",examples:["Culinária regional autêntica","Ambientes com história","Experiências gastronômicas únicas"]},{icon:ha,title:"Arte & Criatividade",description:"Galerias, ateliês e espaços de expressão artística",examples:["Galerias independentes","Ateliês de artistas","Centros culturais"]},{icon:Qm,title:"Bem-estar Consciente",description:"Espaços de wellness com propósito e conexão humana",examples:["Yoga e meditação","Terapias holísticas","Retiros urbanos"]}],l=[{name:"Maria Santos",business:"Café Cultural Raízes",location:"São Paulo, SP",quote:"O DuoPass trouxe pessoas que realmente se conectam com nossa proposta. Não são apenas clientes, são amigos que voltam sempre.",impact:"+65% de frequência",avatar:"👩🏽‍🦱"},{name:"João Oliveira",business:"Ateliê Mãos Criativas",location:"Rio de Janeiro, RJ",quote:"Finalmente encontrei uma plataforma que entende que arte não é commodity. Aqui, nossa história é valorizada.",impact:"+80% de workshops",avatar:"👨🏻‍🎨"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-orange-50 to-rose-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-orange-600/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-800 mb-6",children:["Como Funciona para",e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-orange-600 bg-clip-text text-transparent block",children:"Parceiros Culturais"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Não somos apenas uma plataforma de cupons. Somos um movimento que conecta espaços culturais autênticos com pessoas que valorizam experiências genuínas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs(R,{to:"/cadastro-parceiro",className:"bg-gradient-to-r from-purple-600 to-orange-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx("span",{children:"Quero Ser Parceiro"}),e.jsx(ie,{className:"w-5 h-5"})]}),e.jsx(nl,{onClick:s,variant:"secondary",size:"lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Audiência Qualificada"}),e.jsx("p",{className:"text-gray-600",children:"Pessoas que buscam cultura, não apenas preço"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💝"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Zero Custo Inicial"}),e.jsx("p",{className:"text-gray-600",children:"Sem taxas de adesão ou mensalidades"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📈"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Crescimento Sustentável"}),e.jsx("p",{className:"text-gray-600",children:"Impacto cultural mensurável"})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🌟 Nossos 3 Pilares Culturais"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Mais que uma plataforma, somos um movimento que acredita na força transformadora da cultura autêntica"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((d,m)=>{const u=d.icon;return e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-orange-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:d.title}),e.jsx("p",{className:"text-gray-600",children:d.description})]},m)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-50 to-orange-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"📋 Do Cadastro à Ativação"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Um processo cuidadoso que garante qualidade e autenticidade"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((d,m)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 h-full shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-orange-600 text-white text-2xl font-bold w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.number}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:d.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),e.jsxs("div",{className:"text-sm font-medium text-purple-600",children:["⏱️ ",d.timeframe]})]}),m<n.length-1&&e.jsx(ie,{className:"w-6 h-6 text-gray-400 absolute top-1/2 -right-3 transform -translate-y-1/2 hidden lg:block"})]},m))})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🎁 Benefícios que Fazem a Diferença"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Resultados práticos e impacto cultural genuíno"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"💼"}),"Benefícios Práticos"]}),e.jsx("div",{className:"space-y-4",children:i.map((d,m)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:d})]},m))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-rose-50 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"🎨"}),"Impacto Cultural"]}),e.jsx("div",{className:"space-y-4",children:o.map((d,m)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:d})]},m))})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-orange-50 to-purple-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🏛️ Tipos de Parceiros Culturais"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Espaços diversos unidos pela paixão por cultura autêntica"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map((d,m)=>{const u=d.icon;return e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:d.title}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",children:d.description}),e.jsx("div",{className:"space-y-2",children:d.examples.map((x,p)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-orange-500 to-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:x})]},p))})]},m)})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"💬 Cases de Sucesso"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Histórias reais de parceiros que transformaram seus negócios"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map((d,m)=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8",children:[e.jsx(eu,{className:"w-8 h-8 text-purple-600 mb-4"}),e.jsxs("p",{className:"text-lg text-gray-700 mb-6 italic",children:['"',d.quote,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:d.avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800",children:d.name}),e.jsx("p",{className:"text-sm text-gray-600",children:d.business}),e.jsx("p",{className:"text-xs text-gray-500",children:d.location})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-orange-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:d.impact})})]})]},m))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-orange-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"🚀 Pronto para Fazer Parte?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Junte-se a centenas de parceiros que já estão transformando cultura em conexão"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs(R,{to:"/cadastro-parceiro",className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx("span",{children:"Começar Agora"}),e.jsx(ie,{className:"w-5 h-5"})]}),e.jsx(nl,{onClick:s,variant:"outline",size:"lg",children:"Falar Conosco"})]}),e.jsx("div",{className:"mt-8 text-purple-100",children:e.jsxs("p",{className:"text-sm",children:["📞 Dúvidas? Entre em contato: ",e.jsx("a",{href:"mailto:contact@dupassclub.ch",className:"underline hover:no-underline",children:"contact@dupassclub.ch"})]})})]})}),e.jsx(Qy,{isOpen:t,onClose:a})]})}const Zy=async t=>{try{console.log("🔍 Verificando email duplicado:",t);const{data:s,error:a,count:r}=await F.from("partner_registrations").select("email",{count:"exact"}).eq("email",t);if(a){console.error("❌ Erro ao verificar e-mail (método count):",a);const{data:i,error:o}=await F.from("partner_registrations").select("email").eq("email",t).limit(1);return o?(console.error("❌ Erro no fallback:",o),{exists:!1,error:o.message}):{exists:i&&i.length>0}}const n=(r||0)>0;return console.log(`✅ Verificação concluída: ${n?"Email já existe":"Email disponível"}`),{exists:n}}catch(s){return console.error("❌ Erro interno ao verificar e-mail:",s),{exists:!1,error:"Erro interno do sistema"}}},Jy=async t=>{try{const s=await Zy(t.email);if(s.exists)return console.log("⚠️ Email já cadastrado:",t.email),{success:!1,error:"Este e-mail já está cadastrado.",errorCode:"duplicate_email"};s.error&&console.warn("⚠️ Erro na verificação de email, continuando com inserção:",s.error),console.log("💾 Salvando dados do parceiro no Supabase...");const a={business_name:t.businessName,contact_name:t.contactName,email:t.email,phone:t.phone,address_street:t.address.street,address_city:t.address.city,address_postal_code:t.address.postalCode,address_country:t.address.country||"Switzerland",business_type:t.businessType,founder_story:t.founderStory,cultural_mission:t.culturalMission,experience_title:t.proposedExperience.title,experience_description:t.proposedExperience.description,experience_normal_price:t.proposedExperience.normalPrice,experience_duo_value:t.proposedExperience.duoValue},{data:r,error:n}=await F.from("partner_registrations").upsert([a],{onConflict:"email",ignoreDuplicates:!1}).select("id").single();return n?n.code==="23505"&&n.message.includes("partner_registrations_email_key")?(console.error("❌ Email duplicado detectado na inserção:",t.email),{success:!1,error:"Este e-mail já está cadastrado. Por favor, use um e-mail diferente.",errorCode:"duplicate_email"}):(console.error("❌ Erro ao salvar no Supabase:",n),{success:!1,error:n.message,errorCode:n.code}):(console.log("✅ Dados salvos com sucesso:",r.id),{success:!0,id:r.id})}catch(s){return console.error("❌ Erro interno ao salvar dados:",s),{success:!1,error:"Erro interno do sistema"}}};function ev(){const t=W(),[s,a]=h.useState({businessName:"",contactName:"",email:"",phone:"",businessType:"cafe",address:{street:"",city:"",postalCode:"",country:"Brasil"},founderStory:"",culturalMission:"",proposedExperience:{title:"",description:"",normalPrice:0,duoValue:""},termsAccepted:!1,privacyAccepted:!1}),[r,n]=h.useState(1),i=4,[o,c]=h.useState(!1),[l,d]=h.useState("idle"),[m,u]=h.useState(""),[x,p]=h.useState(!1),v=[{value:"restaurante",label:"Restaurante",icon:"🍽️"},{value:"cafe",label:"Café",icon:"☕"},{value:"galeria",label:"Galeria",icon:"🎨"},{value:"atelier",label:"Ateliê",icon:"🎭"},{value:"spa",label:"Spa/Bem-estar",icon:"🧘"},{value:"teatro",label:"Teatro/Cultura",icon:"🎪"},{value:"outro",label:"Outro",icon:"✨"}],w=(f,C)=>{if(f.includes(".")){const[E,j]=f.split(".");a(A=>({...A,[E]:{...A[E],[j]:C}}))}else a(E=>({...E,[f]:C}))},b=async f=>{if(f.preventDefault(),r<i){n(r+1);return}if(c(!0),d("saving"),u(""),isNaN(s.proposedExperience.normalPrice)||s.proposedExperience.normalPrice<=0){u("Por favor, insira um preço normal válido maior que zero."),c(!1);return}try{const C={...s};console.log("📝 Salvando registro e enviando e-mails...");const E=await Jy(C);if(E.errorCode==="duplicate_email"){u("Este e-mail já está cadastrado. Por favor, use um e-mail diferente."),d("error"),c(!1);return}if(!E.success||!E.id)throw new Error(E.error||"Falha ao salvar o registro no banco de dados.");console.log("✅ Registro salvo com ID:",E.id),d("sending");const j=await Wy(C);j.success||(console.warn("⚠️ O registro foi salvo, mas o envio de e-mails falhou.",j.errors),u("Seu cadastro foi recebido, mas não conseguimos enviar o e-mail de confirmação. Nossa equipe entrará em contato em breve.")),console.log("✅ Processo de cadastro concluído!"),d("success"),p(!0),setTimeout(()=>{t("/parceiro-cadastrado",{state:{contactName:s.contactName,businessName:s.businessName,registrationId:E.id}})},2e3)}catch(C){console.error("❌ Erro crítico no processo de cadastro:",C),d("error"),u(C.message||"Ocorreu um erro inesperado. Por favor, tente novamente ou entre em contato com o suporte.")}finally{c(!1)}},g=()=>{switch(r){case 1:return s.businessName&&s.contactName&&s.email&&s.phone;case 2:return s.businessType&&s.address.street&&s.address.city&&s.address.postalCode;case 3:return s.founderStory&&s.culturalMission;case 4:return s.proposedExperience.title&&s.proposedExperience.description&&s.proposedExperience.normalPrice>0&&s.proposedExperience.duoValue&&s.termsAccepted&&s.privacyAccepted;default:return!1}},y=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Informações Básicas"}),e.jsx("p",{className:"text-gray-600",children:"Vamos começar conhecendo você e seu negócio"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Rm,{className:"w-4 h-4 inline mr-2"}),"Nome do Estabelecimento *"]}),e.jsx("input",{type:"text",value:s.businessName,onChange:f=>w("businessName",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café das Letras",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 inline mr-2"}),"Nome do Responsável *"]}),e.jsx("input",{type:"text",value:s.contactName,onChange:f=>w("contactName",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Seu nome completo",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Qe,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),e.jsx("input",{type:"email",value:s.email,onChange:f=>w("email",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(St,{className:"w-4 h-4 inline mr-2"}),"Telefone *"]}),e.jsx("input",{type:"tel",value:s.phone,onChange:f=>w("phone",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 99999-9999",required:!0})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tipo de Negócio e Localização"}),e.jsx("p",{className:"text-gray-600",children:"Nos ajude a entender melhor seu espaço"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Tipo de Estabelecimento *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:v.map(f=>e.jsxs("button",{type:"button",onClick:()=>w("businessType",f.value),className:`p-4 border-2 rounded-lg text-center transition-all ${s.businessType===f.value?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:f.icon}),e.jsx("div",{className:"text-sm font-medium",children:f.label})]},f.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Re,{className:"w-4 h-4 inline mr-2"}),"Endereço Completo *"]}),e.jsx("input",{type:"text",value:s.address.street,onChange:f=>w("address.street",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Rua, número, bairro",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade *"}),e.jsx("input",{type:"text",value:s.address.city,onChange:f=>w("address.city",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"São Paulo",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP *"}),e.jsx("input",{type:"text",value:s.address.postalCode,onChange:f=>w("address.postalCode",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"00000-000",required:!0})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sua História e Propósito"}),e.jsx("p",{className:"text-gray-600",children:"O que torna seu espaço especial e autêntico?"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Y,{className:"w-4 h-4 inline mr-2"}),"Conte um pouco sobre sua história *"]}),e.jsx("textarea",{value:s.founderStory,onChange:f=>w("founderStory",f.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como surgiu seu negócio? O que te motivou a criar este espaço? Qual é a história por trás do seu estabelecimento?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($m,{className:"w-4 h-4 inline mr-2"}),"Qual seu propósito cultural? *"]}),e.jsx("textarea",{value:s.culturalMission,onChange:f=>w("culturalMission",f.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Que impacto cultural você quer gerar? Como seu espaço contribui para a comunidade? Quais valores você quer transmitir?",required:!0})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Experiência Proposta"}),e.jsx("p",{className:"text-gray-600",children:"Vamos criar sua primeira experiência DUO PASS"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título da Experiência *"}),e.jsx("input",{type:"text",value:s.proposedExperience.title,onChange:f=>w("proposedExperience.title",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café + Conversa com Livros",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição da Experiência *"}),e.jsx("textarea",{value:s.proposedExperience.description,onChange:f=>w("proposedExperience.description",f.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o que torna esta experiência especial e única",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Xr,{className:"w-4 h-4 inline mr-2"}),"Preço Normal (CHF) *"]}),e.jsx("input",{type:"number",value:s.proposedExperience.normalPrice||"",onChange:f=>{const C=f.target.value;if(C==="")w("proposedExperience.normalPrice",0);else{const E=parseFloat(C);!isNaN(E)&&E>=0&&w("proposedExperience.normalPrice",E)}},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"25.00",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"O que oferece no 2 por 1? *"}),e.jsx("input",{type:"text",value:s.proposedExperience.duoValue,onChange:f=>w("proposedExperience.duoValue",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: 2 cafés especiais + acesso à biblioteca",required:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:s.termsAccepted,onChange:f=>w("termsAccepted",f.target.checked),className:"mt-1 w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["Aceito os ",e.jsx("a",{href:"#",className:"text-amber-600 hover:underline",children:"termos de uso"})," e condições da plataforma DUO PASS *"]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"privacy",checked:s.privacyAccepted,onChange:f=>w("privacyAccepted",f.target.checked),className:"mt-1 w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",required:!0}),e.jsxs("label",{htmlFor:"privacy",className:"text-sm text-gray-700",children:["Aceito a ",e.jsx("a",{href:"#",className:"text-amber-600 hover:underline",children:"política de privacidade"})," *"]})]})]})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-8 h-8 text-rose-500"}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"DUO PASS - Cadastro de Parceiro"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Etapa ",r," de ",i]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 h-2 rounded-full transition-all duration-300",style:{width:`${r/i*100}%`}})})})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:e.jsxs("form",{onSubmit:b,className:"bg-white rounded-xl shadow-lg p-8",children:[y(),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>n(Math.max(1,r-1)),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,disabled:r===1,children:"Voltar"}),e.jsx("button",{type:"submit",disabled:!g()||o,className:`px-8 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-all ${g()&&!o?"bg-gradient-to-r from-amber-500 to-rose-500 text-white hover:shadow-lg transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r===i?"Finalizar Cadastro":"Próximo"}),e.jsx(ie,{className:"w-4 h-4"})]})}),l!=="idle"&&e.jsxs("div",{className:"mt-4 text-center",children:[l==="saving"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[e.jsx(ct,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"💾 Salvando dados..."})]}),l==="sending"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[e.jsx(ct,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"📧 Enviando emails de confirmação..."})]}),l==="success"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"✅ Cadastro realizado com sucesso! Redirecionando..."})]}),l==="error"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-600",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"❌ Erro no cadastro"}),m&&e.jsx("div",{className:"text-sm mt-1 text-red-500",children:m}),e.jsx("button",{onClick:()=>{d("idle"),u("")},className:"mt-2 text-sm underline hover:no-underline",children:"Tentar novamente"})]})]})]})]})]})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4",children:[e.jsx(B,{className:"w-16 h-16 text-green-500 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 text-center mb-4",children:"Cadastro Recebido com Sucesso!"}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Seu cadastro como parceiro foi recebido com sucesso."}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Ele passará por um processo de curadoria pela nossa equipe."}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Entraremos em contato em até 48 horas para os próximos passos."}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Em caso de dúvidas, envie um e-mail para: contact@duopassclub.ch"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>p(!1),className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all",children:"Fechar"})})]})})]})}function tv(){const t=_t(),s=t.state?.contactName||"Parceiro",a=t.state?.businessName,r=t.state?.registrationId,n=[{icon:Bm,title:"Análise (24-48h)",description:"Nossa equipe vai avaliar sua proposta e verificar o alinhamento com nossos valores culturais",timeframe:"1-2 dias"},{icon:$,title:"Entrevista",description:"Se aprovado, agendaremos uma conversa para conhecer melhor sua história e propósito",timeframe:"3-5 dias"},{icon:Y,title:"Curadoria",description:"Ajudamos a criar sua experiência perfeita, com descrições autênticas e atrativas",timeframe:"1 semana"},{icon:B,title:"Ativação",description:"Seu espaço entra na plataforma e começa a receber visitantes culturalmente engajados",timeframe:"2 semanas"}],i=[{icon:Qe,title:"Email",value:"contact@dupassclub.ch",description:"Para dúvidas sobre o processo"},{icon:xe,title:"WhatsApp",value:"(11) 99999-9999",description:"Suporte direto e rápido"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/20 to-rose-600/20"}),e.jsx("div",{className:"relative max-w-4xl mx-auto px-4 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"🎉 Cadastro Recebido com Sucesso!"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["Olá ",e.jsx("span",{className:"font-semibold text-amber-600",children:s}),", recebemos seu interesse em fazer parte do DUO PASS Club."]}),a&&e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Estamos animados para conhecer mais sobre ",e.jsx("span",{className:"font-semibold text-rose-600",children:a}),"!"]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-700",children:[e.jsx(Qe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"📧 Emails de Confirmação Enviados"})]}),e.jsx("p",{className:"text-blue-600 mt-2 text-sm",children:"Enviamos um email de confirmação para você e notificamos nossa equipe. Verifique sua caixa de entrada (e spam) para mais detalhes."}),r&&e.jsxs("p",{className:"text-blue-500 mt-2 text-xs font-mono",children:["ID do Cadastro: ",r]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-rose-100 rounded-lg p-6 mb-8",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx(Y,{className:"w-5 h-5 inline text-rose-500 mr-2"}),e.jsx("strong",{children:"Sua história merece ser vivida!"})," Estamos ansiosos para conhecer mais sobre seu espaço e como podemos juntos criar experiências culturais autênticas."]})})]})})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"📋 Próximos Passos"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Aqui está o que acontece agora e quando você pode esperar cada etapa"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((o,c)=>{const l=o.icon;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-rose-50 rounded-xl p-6 h-full",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:e.jsx(l,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:o.title}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:o.description}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-600",children:o.timeframe})]})]}),c<n.length-1&&e.jsx(ie,{className:"w-6 h-6 text-gray-400 absolute top-1/2 -right-3 transform -translate-y-1/2 hidden lg:block"})]},c)})}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-amber-50 to-rose-50 rounded-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"O que esperar durante o processo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📞 Entrevista Personalizada"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa conversa será focada em entender sua história, valores e como podemos criar uma parceria autêntica que beneficie tanto seu negócio quanto nossa comunidade."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🎨 Curadoria Colaborativa"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Trabalharemos juntos para criar descrições que capturem a essência do seu espaço e atraiam pessoas que realmente valorizam experiências culturais."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📊 Dashboard Exclusivo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Após a ativação, você terá acesso a métricas de impacto cultural, não apenas vendas - porque medimos conexões genuínas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🤝 Suporte Contínuo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa equipe estará sempre disponível para ajudar no crescimento do seu impacto cultural e otimização da experiência."})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"📧 Mantenha Contato"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Tem alguma dúvida ou quer saber mais sobre o processo? Estamos aqui para ajudar!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((o,c)=>{const l=o.icon;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(l,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:o.title}),e.jsx("p",{className:"text-lg font-medium text-amber-600 mb-2",children:o.value}),e.jsx("p",{className:"text-gray-600",children:o.description})]},c)})}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enquanto isso..."}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Que tal conhecer mais sobre nossa comunidade e ver como outros parceiros estão criando impacto cultural?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx(R,{to:"/cultural-partner-landing",className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all transform hover:scale-105",children:"Voltar à Página de Parceiros"}),e.jsx(R,{to:"/",className:"text-gray-600 font-medium hover:text-gray-800 transition-colors",children:"Conhecer o DUO PASS"})]})]})})]})}),e.jsx("section",{className:"py-12 bg-gradient-to-r from-amber-600 to-rose-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Sua história merece ser vivida! 💜"}),e.jsx("p",{className:"text-xl text-amber-100",children:"Obrigado por querer fazer parte do movimento que valoriza autenticidade, propósito e conexões genuínas."})]})})]})}function sv(){const{user:t}=U(),[s,a]=h.useState(null),[r,n]=h.useState([]),[i,o]=h.useState("historia"),[c,l]=h.useState(!0),[d,m]=h.useState(!1),[u,x]=h.useState({business_name:"",founder_story:"",cultural_mission:"",contact_name:"",email:"",business_type:"",cultural_category:"",ambiance_description:"",social_values:[]}),p=[{value:"cafe_cultural",label:"Café Cultural"},{value:"restaurante_familia",label:"Restaurante Familiar"},{value:"atelier_arte",label:"Ateliê de Arte"},{value:"espaco_bem_estar",label:"Espaço de Bem-Estar"},{value:"livraria_cafe",label:"Livraria & Café"},{value:"galeria_arte",label:"Galeria de Arte"},{value:"casa_shows",label:"Casa de Shows Intimista"}],v=[{value:"gastronomia_autoral",label:"Gastronomia Autoral"},{value:"arte_local",label:"Arte Local"},{value:"bem_estar_holistico",label:"Bem-Estar Holístico"},{value:"musica_ao_vivo",label:"Música ao Vivo"},{value:"literatura_cafe",label:"Literatura & Café"},{value:"artesanato_local",label:"Artesanato Local"},{value:"experiencias_natureza",label:"Experiências na Natureza"}],w=["sustentabilidade","arte_local","comercio_justo","inclusao_social","preservacao_cultural","economia_criativa","slow_living","mindfulness"],b=h.useCallback(async()=>{if(t)try{l(!0);try{const{data:f,error:C}=await F.from("cultural_partners").select("*").eq("email",t.email).single();if(C&&C.code!=="PGRST116")throw C;if(f){a(f),x({business_name:f.business_name||"",founder_story:f.founder_story||"",cultural_mission:f.cultural_mission||"",contact_name:f.contact_name||"",email:f.email||"",business_type:f.business_type||"",cultural_category:f.cultural_category||"",ambiance_description:f.ambiance_description||"",social_values:f.social_values||[]});const{data:E,error:j}=await F.from("cultural_experiences").select("*").eq("partner_id",f.id);if(j)throw j;n(E||[])}}catch(f){console.warn("⚠️ Tabelas culturais não disponíveis, usando modo demo:",f)}}catch(f){console.error("Erro ao carregar dados:",f)}finally{l(!1)}},[t]);h.useEffect(()=>{b()},[b]);const g=async()=>{if(t)try{m(!0);const f={...u,address:{street:"",city:"",state:"",zipcode:""},status:s?s.status:"pending"};if(s){const{error:C}=await F.from("cultural_partners").update(f).eq("id",s.id);if(C)throw C}else{const{data:C,error:E}=await F.from("cultural_partners").insert([f]).select().single();if(E)throw E;a(C)}alert("Dados salvos com sucesso!")}catch(f){console.error("Erro ao salvar:",f),alert("Erro ao salvar dados.")}finally{m(!1)}},y=(f,C,E)=>{f.includes(C)?E(f.filter(j=>j!==C)):E([...f,C])};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-rose-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Fe,{className:"w-12 h-12 text-amber-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando sua história..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-rose-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-amber-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Y,{className:"w-8 h-8 text-rose-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"Portal do Parceiro Cultural"}),e.jsx("p",{className:"text-gray-600",children:"Onde sua história ganha vida"})]})]}),s&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="approved"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.status==="approved"?"✨ Aprovado":s.status==="pending"?"⏳ Em Análise":"📋 Rascunho"})})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex space-x-1 bg-white rounded-lg p-1 mb-8 shadow-sm",children:[{id:"historia",label:"Sua História",icon:Y},{id:"experiencias",label:"Experiências",icon:Fe},{id:"metricas",label:"Impacto Cultural",icon:$}].map(f=>{const C=f.icon;return e.jsxs("button",{onClick:()=>o(f.id),className:`flex items-center space-x-2 px-6 py-3 rounded-md font-medium transition-all ${i===f.id?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:f.label})]},f.id)})}),i==="historia"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Conte Sua História"}),e.jsx("p",{className:"text-gray-600",children:"Cada lugar tem uma alma. Qual é a sua?"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do seu espaço cultural"}),e.jsx("input",{type:"text",value:u.business_name,onChange:f=>x({...u,business_name:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café das Letras"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de negócio"}),e.jsxs("select",{value:u.business_type,onChange:f=>x({...u,business_type:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione o tipo"}),p.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria cultural"}),e.jsxs("select",{value:u.cultural_category,onChange:f=>x({...u,cultural_category:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione a categoria"}),v.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A história por trás do lugar"}),e.jsx("textarea",{value:u.founder_story,onChange:f=>x({...u,founder_story:f.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como tudo começou? Qual foi a inspiração? O que te motivou a criar este espaço?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sua missão cultural"}),e.jsx("textarea",{value:u.cultural_mission,onChange:f=>x({...u,cultural_mission:f.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Que impacto cultural você quer gerar? Como seu espaço transforma vidas?"})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o ambiente e energia do seu espaço"}),e.jsx("textarea",{value:u.ambiance_description,onChange:f=>x({...u,ambiance_description:f.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como as pessoas se sentem quando entram? Que tipo de conversas acontecem? Qual é a magia do lugar?"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Valores que compartilhamos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.map(f=>e.jsx("button",{onClick:()=>y(u.social_values,f,C=>x({...u,social_values:C})),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${u.social_values.includes(f)?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:f.replace("_"," ")},f))})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsxs("button",{onClick:g,disabled:d,className:"flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50",children:[e.jsx(_l,{className:"w-4 h-4"}),e.jsx("span",{children:d?"Salvando...":"Salvar História"})]})})]}),i==="experiencias"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Suas Experiências Únicas"}),e.jsx("p",{className:"text-gray-600",children:"Não vendemos produtos, criamos memórias"})]}),e.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:[e.jsx(xa,{className:"w-4 h-4"}),e.jsx("span",{children:"Nova Experiência"})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Ainda não há experiências"}),e.jsx("p",{className:"text-gray-500",children:"Crie sua primeira experiência cultural única"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(f=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:f.experience_name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:f.story_behind}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["CHF ",(f.original_price*.18).toFixed(2)]}),e.jsxs("span",{className:"text-green-600 font-semibold ml-2",children:["CHF ",(f.duo_price*.18).toFixed(2)]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${f.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:f.active?"Ativa":"Pausada"})]})]},f.id))})]}),i==="metricas"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Seu Impacto Cultural"}),e.jsx("p",{className:"text-gray-600",children:"Medimos conexões, não apenas vendas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Y,{className:"w-8 h-8 text-amber-600"}),e.jsx("h3",{className:"font-semibold text-amber-800",children:"Conexões Criadas"})]}),e.jsx("div",{className:"text-3xl font-bold text-amber-700 mb-2",children:"12"}),e.jsx("p",{className:"text-amber-600 text-sm",children:"Pessoas se conectaram através das suas experiências"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Fe,{className:"w-8 h-8 text-rose-600"}),e.jsx("h3",{className:"font-semibold text-rose-800",children:"Momentos Especiais"})]}),e.jsx("div",{className:"text-3xl font-bold text-rose-700 mb-2",children:"28"}),e.jsx("p",{className:"text-rose-600 text-sm",children:"Histórias compartilhadas pelos visitantes"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx($,{className:"w-8 h-8 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:"Impacto Cultural"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-700 mb-2",children:"4.8"}),e.jsx("p",{className:"text-green-600 text-sm",children:"Avaliação média de impacto cultural"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-amber-50 to-rose-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Últimas Histórias Compartilhadas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-700 italic",children:'"Conheci minha melhor amiga neste café. A energia do lugar nos conectou instantaneamente."'}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"- Ana, há 3 dias"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-700 italic",children:'"Um lugar que respira arte e acolhimento. Cada visita é uma descoberta."'}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"- Carlos, há 1 semana"})]})]})]})]})]})]})}function av(){const[t,s]=h.useState(!1),[a,r]=h.useState(null),[n,i]=h.useState("scanner"),[o,c]=h.useState(!1),[l,d]=h.useState(""),[m,u]=h.useState(null),[x,p]=h.useState([]),[v,w]=h.useState(!1),[b,g]=h.useState({email:"",password:""}),y=async S=>{S.preventDefault(),w(!0);try{const{data:N,error:D}=await F.from("merchants").select("*").eq("email",b.email).eq("status","active").single();if(D||!N){alert("Merchant não encontrado ou inativo");return}r(N),s(!0),localStorage.setItem("duopass_merchant",JSON.stringify(N))}catch(N){console.error("Erro no login:",N),alert("Erro ao fazer login")}finally{w(!1)}},f=()=>{s(!1),r(null),localStorage.removeItem("duopass_merchant"),i("scanner"),c(!1),u(null)};h.useEffect(()=>{const S=localStorage.getItem("duopass_merchant");if(S)try{const N=JSON.parse(S);r(N),s(!0)}catch(N){console.error("Erro ao carregar merchant salvo:",N),localStorage.removeItem("duopass_merchant")}},[]);const C=async()=>{if(a)try{const{data:S,error:N}=await F.from("voucher_validations").select(`
          *,
          voucher:vouchers (
            voucher_code,
            user:users (
              full_name
            )
          )
        `).eq("merchant_id",a.id).order("validated_at",{ascending:!1}).limit(20);if(N){console.error("Erro ao carregar histórico:",N);return}p(S||[])}catch(S){console.error("Erro ao carregar histórico:",S)}},E=async S=>{if(a){w(!0);try{const{data:N,error:D}=await F.from("vouchers").select(`
          *,
          user:users (
            full_name,
            email
          )
        `).eq("voucher_code",S).single();if(D||!N){u({success:!1,message:"Voucher não encontrado"});return}if(N.status!=="active"){u({success:!1,message:`Voucher ${N.status==="used"?"já foi usado":"expirado"}`});return}if(new Date(N.expires_at)<new Date){u({success:!1,message:"Voucher expirado"});return}const{error:_}=await F.from("vouchers").update({status:"used",used_at:new Date().toISOString()}).eq("id",N.id);if(_){console.error("Erro ao atualizar voucher:",_),u({success:!1,message:"Erro ao validar voucher"});return}const{error:P}=await F.from("voucher_validations").insert({voucher_id:N.id,merchant_id:a.id,validation_location:a.name,notes:"Validado via scanner QR"});P&&console.error("Erro ao registrar validação:",P),u({success:!0,message:"Voucher validado com sucesso!",voucher:N}),C()}catch(N){console.error("Erro na validação:",N),u({success:!1,message:"Erro interno na validação"})}finally{w(!1)}}},j=()=>{c(!0),u(null)},A=()=>{c(!1)},k=S=>{S.preventDefault(),l.trim()&&(E(l.trim()),d(""))};return h.useEffect(()=>{t&&a&&n==="history"&&C()},[t,a,n]),t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"h-8 w-8 text-indigo-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a?.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a?.business_type})]})]}),e.jsxs("button",{onClick:f,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-900",children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),"Sair"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>i("scanner"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="scanner"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(cs,{className:"h-4 w-4 inline mr-2"}),"Scanner QR"]}),e.jsxs("button",{onClick:()=>i("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="history"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ma,{className:"h-4 w-4 inline mr-2"}),"Histórico"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="scanner"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validar Voucher"}),e.jsxs("div",{className:"space-y-4",children:[o?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-8 mb-4",children:[e.jsx(cs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Scanner QR Ativo"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Aponte a câmera para o QR code do voucher"})]}),e.jsx("button",{onClick:A,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Parar Scanner"})]}):e.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(cs,{className:"h-5 w-5 mr-2"}),"Ativar Scanner QR"]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("form",{onSubmit:k,className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ou digite o código do voucher",value:l,onChange:S=>d(S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("button",{type:"submit",disabled:v||!l.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:v?"Validando...":"Validar"})]})})]})]}),m&&e.jsx("div",{className:`bg-white rounded-lg shadow p-6 border-l-4 ${m.success?"border-green-400":"border-red-400"}`,children:e.jsxs("div",{className:"flex items-center",children:[m.success?e.jsx(B,{className:"h-6 w-6 text-green-400 mr-3"}):e.jsx(ks,{className:"h-6 w-6 text-red-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${m.success?"text-green-800":"text-red-800"}`,children:m.success?"Sucesso!":"Erro na Validação"}),e.jsx("p",{className:`text-sm ${m.success?"text-green-600":"text-red-600"}`,children:m.message}),m.voucher&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Cliente:"})," ",m.voucher.user?.full_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Código:"})," ",m.voucher.voucher_code]})]})]})]})})]}),n==="history"&&e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Histórico de Validações"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:x.length===0?e.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma validação encontrada"}):x.map(S=>e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.voucher?.voucher_code}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",S.voucher?.user?.full_name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-900",children:new Date(S.validated_at).toLocaleDateString("pt-BR")}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(S.validated_at).toLocaleTimeString("pt-BR")})]})]}),S.notes&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:S.notes})]},S.id))})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Portal do Comerciante"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Faça login para validar vouchers"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email do comerciante",value:b.email,onChange:S=>g({...b,email:S.target.value})})}),e.jsx("div",{children:e.jsx("input",{type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Senha",value:b.password,onChange:S=>g({...b,password:S.target.value})})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:v?"Entrando...":"Entrar"})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Contas de Teste:"}),e.jsxs("div",{className:"text-xs text-blue-600 space-y-1",children:[e.jsx("div",{children:"• merchant1@duopass.com (Pizzaria Bella Vista)"}),e.jsx("div",{children:"• merchant2@duopass.com (Spa Relaxamento Total)"}),e.jsx("div",{children:"• merchant3@duopass.com (Barbearia Moderna)"}),e.jsx("div",{className:"mt-2 text-blue-500",children:"Senha: qualquer valor (demo)"})]})]})]})]})})}class oa{static async generateVoucher(s,a){try{if(console.log("🎫 Mock: Gerando voucher...",{userId:s,partnerId:a}),localStorage.getItem(`voucher_${s}_${a}`))throw console.log("⚠️ Mock: Usuário já possui voucher ativo para este parceiro"),new Error("Usuário já possui voucher ativo para este parceiro");const n=`voucher_${Date.now()}`,i=`DUO${Math.random().toString(36).substr(2,8).toUpperCase()}`,o=JSON.stringify({voucherId:n,userId:s,partnerId:a,code:i,timestamp:new Date().toISOString()}),c=await Sd.toDataURL(o,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),l={id:n,voucher_code:i,user_id:s,partner_id:a,merchant_id:a,status:"active",created_at:new Date().toISOString(),expires_at:new Date(Date.now()+720*60*60*1e3).toISOString(),qr_code_data:c,cultural_experience:{experience_name:"Experiência DuoPass",duo_price:60},cultural_partners:{id:a,business_name:"Parceiro Cultural",contact_name:"Contato do Parceiro",email:"contato@parceiro.com",address:{street:"Rua Cultural, 123",city:"Genebra",state:"Genebra",zipcode:"1200"}}};return localStorage.setItem(`voucher_${s}_${a}`,JSON.stringify(l)),localStorage.setItem(`active_voucher_${n}`,JSON.stringify(l)),console.log("✅ Mock: Voucher gerado com sucesso!",l),l}catch(r){throw console.error("❌ Erro ao gerar voucher mock:",r),r}}static async canGenerateVoucher(s,a){try{console.log("🔍 Mock: Verificando se pode gerar voucher...",{userId:s,partnerId:a});const n=!localStorage.getItem(`voucher_${s}_${a}`);return console.log("🔍 Mock: Pode gerar voucher?",n),n}catch(r){return console.error("Erro ao verificar voucher:",r),!0}}static async getActiveVoucher(s){try{const a=localStorage.getItem(`active_voucher_${s}`);return a?JSON.parse(a):null}catch(a){return console.error("Erro ao buscar voucher ativo:",a),null}}static async getUserVouchers(s){try{const a=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n?.startsWith(`voucher_${s}_`)){const i=localStorage.getItem(n);i&&a.push(JSON.parse(i))}}return a}catch(a){return console.error("Erro ao buscar vouchers do usuário:",a),[]}}static async validateVoucher(s,a,r){try{const n=JSON.parse(s);if(!n.voucherId||!n.userId||!n.partnerId||!n.code)return{success:!1,message:"QR Code inválido"};if(n.partnerId!==a)return{success:!1,message:"Voucher não é válido para este estabelecimento"};const i=localStorage.getItem(`active_voucher_${n.voucherId}`);if(!i)return{success:!1,message:"Voucher não encontrado"};const o=JSON.parse(i);return o.status==="used"?{success:!1,message:"Voucher já foi utilizado"}:o.status==="expired"||new Date(o.expires_at)<new Date?{success:!1,message:"Voucher expirado"}:(o.status="used",o.used_at=new Date().toISOString(),o.used_location=r,localStorage.setItem(`active_voucher_${n.voucherId}`,JSON.stringify(o)),{success:!0,message:"Voucher validado com sucesso!",voucher:o})}catch(n){return console.error("Erro ao validar voucher:",n),{success:!1,message:"Erro interno do sistema"}}}static async generateUsageReport(s,a=new Date){try{let r,n;return s==="weekly"?(r=Gt(a),n=Eg(a)):(r=Sg(a),n=Cg(a)),{period:s,start_date:ia(r,"yyyy-MM-dd"),end_date:ia(n,"yyyy-MM-dd"),total_vouchers_used:5,unique_customers:3,merchant_stats:[{merchant_id:"mock-merchant-1",business_name:"Café das Letras",total_uses:3,unique_customers:2}],top_customers:[{user_id:"mock-user-1",full_name:"João Silva",total_uses:2}]}}catch(r){return console.error("Erro ao gerar relatório:",r),null}}static generateVoucherCode(s){const r=s.substring(0,3).toUpperCase(),n=Math.floor(Math.random()*1e6).toString().padStart(6,"0");return`DUO-${r}-${n}`}}const Ie=[{id:"bronze",name:"Bronze",min_points:0,max_points:499,benefits:["Acesso a ofertas básicas","Suporte por email"],badge_color:"bg-amber-600",badge_icon:"🥉"},{id:"silver",name:"Prata",min_points:500,max_points:1499,benefits:["Ofertas exclusivas","Suporte prioritário","5% cashback extra"],badge_color:"bg-gray-400",badge_icon:"🥈"},{id:"gold",name:"Ouro",min_points:1500,max_points:4999,benefits:["Ofertas VIP","Suporte 24/7","10% cashback extra","Acesso antecipado"],badge_color:"bg-yellow-500",badge_icon:"🥇"},{id:"platinum",name:"Platinum",min_points:5e3,max_points:999999,benefits:["Ofertas exclusivas Platinum","Gerente de conta dedicado","15% cashback extra","Eventos exclusivos"],badge_color:"bg-purple-600",badge_icon:"💎"}],rv=[{name:"Primeiro Passo",description:"Ativou sua primeira oferta",icon:"🎯",points_reward:50,category:"usage",requirements:{type:"count",target:1,action:"offer_activation"},is_active:!0},{name:"Explorador",description:"Ativou 10 ofertas",icon:"🗺️",points_reward:200,category:"usage",requirements:{type:"count",target:10,action:"offer_activation"},is_active:!0},{name:"Veterano",description:"Ativou 50 ofertas",icon:"🏆",points_reward:500,category:"usage",requirements:{type:"count",target:50,action:"offer_activation"},is_active:!0},{name:"Sequência de Fogo",description:"Usou ofertas por 7 dias consecutivos",icon:"🔥",points_reward:300,category:"loyalty",requirements:{type:"streak",target:7,action:"daily_usage"},is_active:!0},{name:"Crítico Construtivo",description:"Avaliou 5 estabelecimentos",icon:"⭐",points_reward:150,category:"social",requirements:{type:"count",target:5,action:"review_submission"},is_active:!0},{name:"Embaixador",description:"Indicou 3 amigos que se cadastraram",icon:"👥",points_reward:400,category:"social",requirements:{type:"count",target:3,action:"successful_referral"},is_active:!0},{name:"Madrugador",description:"Ativou uma oferta antes das 8h",icon:"🌅",points_reward:100,category:"special",requirements:{type:"date",target:8,action:"early_activation"},is_active:!0},{name:"Gastador VIP",description:"Gastou mais de CHF 180.- em ofertas",icon:"💰",points_reward:600,category:"loyalty",requirements:{type:"value",target:1e3,action:"total_spent"},is_active:!0}],nv=[{type:"offer_new",title:"Nova oferta disponível!",message:"🎁 40% OFF Hambúrguer Gourmet na Burger House - Válida até meia-noite!",action_url:"/ofertas",action_text:"Ver Oferta"},{type:"voucher_redeemed",title:"Voucher resgatado com sucesso!",message:"💰 Parabéns! Você economizou CHF 4.50 na Pizzaria Italiana",action_url:"/vouchers",action_text:"Ver Vouchers"},{type:"achievement_unlocked",title:"Conquista desbloqueada!",message:'🏆 Incrível! Você resgatou 10 ofertas este mês e desbloqueou o badge "Explorador"',action_url:"/profile",action_text:"Ver Perfil"},{type:"system_update",title:"Complete seu perfil",message:"📱 Adicione mais informações ao seu perfil para receber ofertas personalizadas",action_url:"/profile",action_text:"Completar"},{type:"voucher_expiring",title:"Voucher expirando!",message:"⏰ Seu voucher de academia expira amanhã - use agora e economize CHF 9.-!",action_url:"/vouchers",action_text:"Usar Agora"},{type:"level_up",title:"Nível UP!",message:"⭐ Parabéns! Agora você é membro Bronze e tem acesso a ofertas exclusivas",action_url:"/profile",action_text:"Ver Benefícios"},{type:"goal_reached",title:"Meta alcançada!",message:"🎯 Fantástico! Você economizou CHF 36.- este mês com o DuoPass Club",action_url:"/history",action_text:"Ver Histórico"}],iv=[{type:"business_performance",title:"Excelente performance!",message:"📊 Parabéns! 22 clientes resgataram suas ofertas hoje - 45% acima da média",action_url:"/merchant/dashboard",action_text:"Ver Dashboard"},{type:"offer_management",title:"Oferta expirando",message:'💼 Sua oferta "Desconto 30% Pizza" expira em 24 horas',action_url:"/merchant/offers",action_text:"Gerenciar Ofertas"},{type:"business_opportunity",title:"Oportunidade de negócio",message:"🎯 45 clientes visualizaram seu estabelecimento hoje - considere criar uma oferta especial",action_url:"/merchant/offers/new",action_text:"Criar Oferta"},{type:"system_merchant",title:"Novos relatórios disponíveis",message:"⚙️ Acesse os novos relatórios de performance e analytics avançados",action_url:"/merchant/analytics",action_text:"Ver Relatórios"},{type:"payment_processed",title:"Pagamento processado",message:"💳 Pagamento de CHF 153.- referente às ofertas de março foi processado",action_url:"/merchant/payments",action_text:"Ver Detalhes"},{type:"business_opportunity",title:"Dica de conversão",message:"💡 Ofertas de fim de semana têm 60% mais conversão - que tal criar uma promoção especial?",action_url:"/merchant/offers/new",action_text:"Criar Promoção"},{type:"business_performance",title:"Novos favoritos",message:"🌟 25 clientes favoritaram seu estabelecimento esta semana!",action_url:"/merchant/customers",action_text:"Ver Clientes"}],fr=[{id:"welcome_email",name:"Email de Boas-vindas",type:"email",category:"transactional",subject:"Bem-vindo ao DuoPass Club, {{user_name}}!",body:`
      <h1>Olá {{user_name}}, bem-vindo ao DuoPass Club!</h1>
      <p>Estamos muito felizes em tê-lo conosco. Agora você tem acesso a ofertas exclusivas dos melhores estabelecimentos da sua cidade.</p>
      <h2>Primeiros Passos:</h2>
      <ul>
        <li>Complete seu perfil para receber ofertas personalizadas</li>
        <li>Explore as ofertas disponíveis na sua região</li>
        <li>Baixe nosso app para não perder nenhuma oportunidade</li>
      </ul>
      <p>Como bônus de boas-vindas, você ganhou <strong>{{welcome_points}} pontos</strong>!</p>
      <a href="{{app_download_url}}" style="background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Baixar App</a>
    `,variables:["user_name","welcome_points","app_download_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"offer_nearby_push",name:"Oferta Próxima - Push",type:"push",category:"promotional",title:"🎯 Oferta próxima a você!",body:"{{offer_title}} em {{merchant_name}} - apenas {{distance}}m de distância. {{discount}}% OFF!",variables:["offer_title","merchant_name","distance","discount"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"points_milestone_push",name:"Marco de Pontos - Push",type:"push",category:"system",title:"🎉 Parabéns! Novo marco alcançado!",body:"Você acumulou {{total_points}} pontos e subiu para o nível {{new_level}}! Continue assim!",variables:["total_points","new_level"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"subscription_reminder_email",name:"Lembrete de Assinatura",type:"email",category:"transactional",subject:"Sua assinatura DuoPass vence em {{days_until_expiry}} dias",body:`
      <h1>Olá {{user_name}},</h1>
      <p>Sua assinatura {{plan_name}} vence em <strong>{{days_until_expiry}} dias</strong>.</p>
      <p>Para continuar aproveitando todos os benefícios exclusivos, renove sua assinatura agora:</p>
      <ul>
        <li>Ofertas exclusivas para assinantes</li>
        <li>Pontos em dobro em todas as compras</li>
        <li>Acesso antecipado a promoções</li>
        <li>Suporte prioritário</li>
      </ul>
      <a href="{{renewal_url}}" style="background: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Renovar Assinatura</a>
    `,variables:["user_name","days_until_expiry","plan_name","renewal_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"winback_email",name:"Email de Reativação",type:"email",category:"marketing",subject:"Sentimos sua falta! Oferta especial para você 💙",body:`
      <h1>Olá {{user_name}}, sentimos sua falta!</h1>
      <p>Notamos que você não visita o DuoPass há {{days_inactive}} dias. Que tal voltar com uma oferta especial?</p>
      <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h2 style="color: #007bff;">🎁 Oferta Especial de Volta</h2>
        <p><strong>{{discount_percentage}}% de desconto</strong> na sua próxima compra</p>
        <p>Válido até {{offer_expiry}}</p>
      </div>
      <p>Além disso, você ganha <strong>{{bonus_points}} pontos bônus</strong> só por voltar!</p>
      <a href="{{return_url}}" style="background: #dc3545; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Aproveitar Oferta</a>
    `,variables:["user_name","days_inactive","discount_percentage","offer_expiry","bonus_points","return_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"merchant_approval_email",name:"Aprovação de Parceiro",type:"email",category:"transactional",subject:"Parabéns! Sua parceria foi aprovada 🎉",body:`
      <h1>Parabéns {{merchant_name}}!</h1>
      <p>Sua solicitação de parceria foi aprovada. Agora você faz parte da rede DuoPass Club!</p>
      <h2>Próximos Passos:</h2>
      <ol>
        <li>Acesse seu painel de parceiro</li>
        <li>Configure seu perfil e informações</li>
        <li>Crie sua primeira oferta</li>
        <li>Comece a atrair novos clientes</li>
      </ol>
      <p>Seu consultor dedicado é <strong>{{consultant_name}}</strong> ({{consultant_email}}).</p>
      <a href="{{partner_dashboard_url}}" style="background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Acessar Painel</a>
    `,variables:["merchant_name","consultant_name","consultant_email","partner_dashboard_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class il{static async createNotification(s){try{const{error:a}=await F.from("notifications").insert([s]);if(a)throw a}catch(a){throw console.error("Error creating notification:",a),a}}static async createBulkNotifications(s){try{const{error:a}=await F.from("notifications").insert(s);if(a)throw a}catch(a){throw console.error("Error creating bulk notifications:",a),a}}static async generateDemoNotifications(s,a){const o=[...a==="client"?nv:iv].sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+3).map(c=>({user_id:s,type:c.type,title:c.title,message:c.message,icon:c.icon,action_url:c.action_url,action_text:c.action_text}));await this.createBulkNotifications(o)}static async notifyOfferRedeemed(s,a,r){await this.createNotification({user_id:s,type:"voucher_redeemed",title:"Voucher resgatado!",message:`💰 Parabéns! Você economizou R$ ${r.toFixed(2)} com "${a}"`,action_url:"/vouchers",action_text:"Ver Vouchers"})}static async notifyNewOffer(s,a,r){await this.createNotification({user_id:s,type:"offer_new",title:"Nova oferta disponível!",message:`🎁 ${r} em ${a} - Não perca!`,action_url:"/ofertas",action_text:"Ver Oferta"})}static async notifyOfferExpiring(s,a,r){await this.createNotification({user_id:s,type:"offer_expiring",title:"Oferta expirando!",message:`⏰ "${a}" expira em ${r} horas`,action_url:"/ofertas",action_text:"Resgatar Agora"})}static async notifyMerchantOfferRedeemed(s,a,r){await this.createNotification({user_id:s,type:"business_performance",title:"Oferta resgatada!",message:`📊 Sua oferta "${a}" foi resgatada ${r} vezes hoje`,action_url:"/merchant/dashboard",action_text:"Ver Dashboard"})}static async notifyMerchantOfferExpiring(s,a,r){await this.createNotification({user_id:s,type:"offer_management",title:"Oferta expirando",message:`💼 Sua oferta "${a}" expira em ${r} horas`,action_url:"/merchant/offers",action_text:"Gerenciar Ofertas"})}static async notifyAchievementUnlocked(s,a,r){await this.createNotification({user_id:s,type:"achievement_unlocked",title:"Conquista desbloqueada!",message:`🏆 ${a}: ${r}`,action_url:"/profile",action_text:"Ver Perfil"})}static async notifyLevelUp(s,a){await this.createNotification({user_id:s,type:"level_up",title:"Nível UP!",message:`⭐ Parabéns! Agora você é membro ${a}`,action_url:"/profile",action_text:"Ver Benefícios"})}static async cleanOldNotifications(){try{const s=new Date;s.setDate(s.getDate()-30);const{error:a}=await F.from("notifications").delete().lt("created_at",s.toISOString());if(a)throw a}catch(s){console.error("Error cleaning old notifications:",s)}}static async createTemplate(s){try{const a={id:`template_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando template de notificação:",a),a}catch(a){throw console.error("Erro ao criar template:",a),a}}static async getTemplates(s){try{let a=[...fr];return s&&(s.type&&(a=a.filter(r=>r.type===s.type)),s.category&&(a=a.filter(r=>r.category===s.category)),s.is_active!==void 0&&(a=a.filter(r=>r.is_active===s.is_active))),a}catch(a){throw console.error("Erro ao buscar templates:",a),a}}static async updateTemplate(s,a){try{const r=fr.find(i=>i.id===s);if(!r)throw new Error("Template não encontrado");const n={...r,...a,updated_at:new Date().toISOString()};return console.log("Atualizando template:",n),n}catch(r){throw console.error("Erro ao atualizar template:",r),r}}static async createCampaign(s){try{const a={id:`campaign_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,metrics:{sent:0,delivered:0,opened:0,clicked:0,converted:0,unsubscribed:0,bounced:0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando campanha de notificação:",a),a}catch(a){throw console.error("Erro ao criar campanha:",a),a}}static async getCampaigns(s){try{return[{id:"campaign_1",name:"Campanha de Boas-vindas",description:"Série automática para novos usuários",template_id:"welcome_email",target_audience:{user_segments:["new_users"],filters:{registration_date:"last_7_days"},estimated_reach:1250},schedule:{type:"immediate"},personalization:{enabled:!0,rules:[]},status:"sent",metrics:{sent:1250,delivered:1198,opened:756,clicked:234,converted:89,unsubscribed:12,bounced:52},created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-5184e5).toISOString()},{id:"campaign_2",name:"Promoção Fim de Semana",description:"Ofertas especiais para o fim de semana",template_id:"weekend_promo",target_audience:{user_segments:["active_users","premium_users"],filters:{last_activity:"last_30_days"},estimated_reach:5600},schedule:{type:"scheduled",send_at:new Date(Date.now()+1728e5).toISOString(),timezone:"America/Sao_Paulo"},personalization:{enabled:!0,rules:[{condition:'user.location == "Rio de Janeiro"',variable:"city_offers",value:"ofertas_rj"}]},ab_test:{enabled:!0,variants:[{name:"Versão A",template_id:"weekend_promo_a",traffic_percentage:50},{name:"Versão B",template_id:"weekend_promo_b",traffic_percentage:50}]},status:"scheduled",metrics:{sent:0,delivered:0,opened:0,clicked:0,converted:0,unsubscribed:0,bounced:0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}].filter(r=>!(s?.status&&r.status!==s.status))}catch(a){throw console.error("Erro ao buscar campanhas:",a),a}}static async sendCampaign(s){try{return console.log("Enviando campanha:",s),await new Promise(r=>setTimeout(r,2e3)),{success:!0,message:"Campanha enviada com sucesso",sent_count:Math.floor(Math.random()*1e3)+500}}catch(a){throw console.error("Erro ao enviar campanha:",a),a}}static async sendAdvancedNotification(s){try{const a=fr.find(i=>i.id===s.template_id);if(!a)throw new Error("Template não encontrado");if(!s.override_preferences){const i=await this.getUserPreferences(s.user_id);if(!this.shouldSendNotification(a,i))throw new Error("Usuário optou por não receber este tipo de notificação")}const r=this.processTemplate(a,s.variables||{}),n={id:`delivery_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,template_id:s.template_id,user_id:s.user_id,type:a.type,status:s.schedule_for?"pending":"sent",content:r,metadata:{variables:s.variables,scheduled_for:s.schedule_for},sent_at:s.schedule_for?void 0:new Date().toISOString(),created_at:new Date().toISOString()};switch(console.log("Enviando notificação avançada:",n),a.type){case"email":await this.sendEmail(n);break;case"push":await this.sendPushNotification(n);break;case"sms":await this.sendSMS(n);break;case"in_app":await this.sendInAppNotification(n);break}return n}catch(a){throw console.error("Erro ao enviar notificação avançada:",a),a}}static processTemplate(s,a){let r=s.subject,n=s.title,i=s.body;for(const[o,c]of Object.entries(a)){const l=`{{${o}}}`;r&&(r=r.replace(new RegExp(l,"g"),String(c))),n&&(n=n.replace(new RegExp(l,"g"),String(c))),i=i.replace(new RegExp(l,"g"),String(c))}return{subject:r,title:n,body:i,action_url:a.action_url}}static async sendEmail(s){console.log("Enviando email:",{to:s.user_id,subject:s.content.subject,body:s.content.body}),await new Promise(a=>setTimeout(a,500))}static async sendPushNotification(s){console.log("Enviando push notification:",{to:s.user_id,title:s.content.title,body:s.content.body,action_url:s.content.action_url}),await new Promise(a=>setTimeout(a,200))}static async sendSMS(s){console.log("Enviando SMS:",{to:s.user_id,message:s.content.body}),await new Promise(a=>setTimeout(a,300))}static async sendInAppNotification(s){console.log("Enviando notificação in-app:",{to:s.user_id,title:s.content.title,body:s.content.body}),await new Promise(a=>setTimeout(a,100))}static async getUserPreferences(s){try{return{user_id:s,email_notifications:{marketing:!0,transactional:!0,system:!0,promotional:!0},push_notifications:{marketing:!0,transactional:!0,system:!0,promotional:!1,location_based:!0},sms_notifications:{transactional:!0,promotional:!1},frequency_limits:{max_daily_marketing:3,max_weekly_promotional:5},quiet_hours:{enabled:!0,start_time:"22:00",end_time:"08:00",timezone:"America/Sao_Paulo"},updated_at:new Date().toISOString()}}catch(a){throw console.error("Erro ao buscar preferências:",a),a}}static async updateUserPreferences(s,a){try{const n={...await this.getUserPreferences(s),...a,user_id:s,updated_at:new Date().toISOString()};return console.log("Atualizando preferências do usuário:",n),n}catch(r){throw console.error("Erro ao atualizar preferências:",r),r}}static shouldSendNotification(s,a){const r=a[`${s.type}_notifications`];return r?r[s.category]===!0:!1}static async getCampaignAnalytics(s){try{return{campaign_id:s,metrics:{sent:1250,delivered:1198,delivery_rate:95.8,opened:756,open_rate:63.1,clicked:234,click_rate:31,converted:89,conversion_rate:38,unsubscribed:12,unsubscribe_rate:1,bounced:52,bounce_rate:4.2},performance_by_time:{"00:00":5,"01:00":3,"02:00":2,"03:00":1,"08:00":45,"09:00":78,"10:00":89,"11:00":95,"12:00":120,"13:00":98,"14:00":87,"15:00":76,"18:00":110,"19:00":125,"20:00":98,"21:00":67},performance_by_segment:{new_users:{open_rate:68.5,click_rate:35.2},active_users:{open_rate:58.9,click_rate:28.7},premium_users:{open_rate:72.1,click_rate:41.3}},device_breakdown:{mobile:78.5,desktop:18.2,tablet:3.3},location_breakdown:{"São Paulo":35.2,"Rio de Janeiro":28.7,"Belo Horizonte":12.4,Outros:23.7},revenue_attribution:15670.8}}catch(a){throw console.error("Erro ao buscar analytics da campanha:",a),a}}static async createSmartRule(s){try{const a={id:`smart_rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando regra inteligente:",a),a}catch(a){throw console.error("Erro ao criar regra inteligente:",a),a}}static async triggerSmartNotification(s,a){try{console.log("Processando evento para notificações inteligentes:",s,a),console.log("Notificações inteligentes processadas para evento:",s)}catch(r){throw console.error("Erro ao processar notificações inteligentes:",r),r}}static async optimizeSendTime(s,a){try{const n=Object.entries({"08:00":.15,"12:00":.25,"18:00":.35,"20:00":.45,"21:00":.3}).sort(([,i],[,o])=>o-i)[0][0];return console.log(`Horário otimizado para usuário ${s}: ${n}`),n}catch(r){return console.error("Erro ao otimizar horário de envio:",r),a}}static async generateReport(s){try{return console.log("Gerando relatório de notificações:",s),{generated_at:new Date().toISOString(),config:s,summary:{total_campaigns:45,total_notifications_sent:125670,avg_open_rate:62.5,avg_click_rate:28.7,avg_conversion_rate:12.3},detailed_metrics:{by_type:{email:{sent:89450,open_rate:58.9,click_rate:25.4},push:{sent:34560,open_rate:78.2,click_rate:35.7},sms:{sent:1660,open_rate:95.1,click_rate:45.2}},by_category:{marketing:{sent:67890,open_rate:55.3,click_rate:22.1},transactional:{sent:45670,open_rate:89.7,click_rate:67.8},promotional:{sent:12110,open_rate:48.9,click_rate:18.5}}},recommendations:["Aumentar frequência de notificações push para usuários mobile","Otimizar horários de envio para campanhas de marketing","Personalizar mais o conteúdo baseado no comportamento do usuário"]}}catch(a){throw console.error("Erro ao gerar relatório:",a),a}}}class ov{static async initializeUserGamification(s){try{const{error:a}=await F.from("user_points").insert({user_id:s,total_points:0,current_level:"bronze",points_to_next_level:500,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});a&&console.error("Erro ao inicializar pontos:",a),await this.addPoints(s,100,"bonus","Bônus de boas-vindas! 🎉")}catch(a){console.error("Erro ao inicializar gamificação:",a)}}static async addPoints(s,a,r,n,i){try{const{data:o}=await F.from("user_points").select("*").eq("user_id",s).single();if(!o)return await this.initializeUserGamification(s),{levelUp:!1};const c=o.total_points+a,l=Ie.find(x=>x.id===o.current_level),d=this.calculateLevel(c),m=l?.id!==d.id,{error:u}=await F.from("user_points").update({total_points:c,current_level:d.id,points_to_next_level:this.calculatePointsToNextLevel(c),updated_at:new Date().toISOString()}).eq("user_id",s);return u?(console.error("Erro ao atualizar pontos:",u),{levelUp:!1}):(await F.from("points_transactions").insert({user_id:s,points:a,type:"earned",source:r,description:n,metadata:i,created_at:new Date().toISOString()}),await this.checkAchievements(s,r,i),m&&await il.notifyLevelUp(s,d.name),{levelUp:m,newLevel:m?d:void 0})}catch(o){return console.error("Erro ao adicionar pontos:",o),{levelUp:!1}}}static calculateLevel(s){for(let a=Ie.length-1;a>=0;a--){const r=Ie[a];if(s>=r.min_points)return r}return Ie[0]}static calculatePointsToNextLevel(s){const a=this.calculateLevel(s),r=Ie.findIndex(i=>i.id===a.id);return r===Ie.length-1?0:Ie[r+1].min_points-s}static async checkAchievements(s,a,r){try{const{data:n}=await F.from("user_achievements").select("achievement_id").eq("user_id",s),i=n?.map(c=>c.achievement_id)||[],{data:o}=await F.from("achievements").select("*").eq("is_active",!0).not("id","in",`(${i.join(",")||"null"})`);if(!o)return;for(const c of o)await this.checkSingleAchievement(s,c,a,r)&&await this.grantAchievement(s,c)}catch(n){console.error("Erro ao verificar conquistas:",n)}}static async checkSingleAchievement(s,a,r,n){const{requirements:i}=a;if(i.action!==r)return!1;try{switch(i.type){case"count":return await this.checkCountRequirement(s,i.action,i.target);case"streak":return await this.checkStreakRequirement(s,i.action,i.target);case"value":return await this.checkValueRequirement(s,i.action,i.target);case"date":return this.checkDateRequirement(i.target,n);default:return!1}}catch(o){return console.error("Erro ao verificar conquista:",o),!1}}static async checkCountRequirement(s,a,r){const{count:n}=await F.from("points_transactions").select("*",{count:"exact"}).eq("user_id",s).eq("source",a);return(n||0)>=r}static async checkStreakRequirement(s,a,r){const n=new Date;n.setDate(n.getDate()-r);const{data:i}=await F.from("points_transactions").select("created_at").eq("user_id",s).eq("source",a).gte("created_at",n.toISOString()).order("created_at",{ascending:!1});if(!i||i.length<r)return!1;const o=i.map(l=>new Date(l.created_at).toDateString());return[...new Set(o)].length>=r}static async checkValueRequirement(s,a,r){const{data:n}=await F.from("points_transactions").select("metadata").eq("user_id",s).eq("source",a);return n?n.reduce((o,c)=>{const l=c.metadata?.value||0;return o+l},0)>=r:!1}static checkDateRequirement(s,a){return a?.timestamp?new Date(a.timestamp).getHours()<s:!1}static async grantAchievement(s,a){try{const{error:r}=await F.from("user_achievements").insert({user_id:s,achievement_id:a.id,earned_at:new Date().toISOString()});if(r){console.error("Erro ao conceder conquista:",r);return}await this.addPoints(s,a.points_reward,"achievement",`Conquista desbloqueada: ${a.name}`,{achievement_id:a.id}),await il.notifyAchievement(s,a.name,a.icon)}catch(r){console.error("Erro ao conceder conquista:",r)}}static async getUserGamificationStats(s){try{const{data:a}=await F.from("user_points").select("*").eq("user_id",s).single();if(!a)return null;const r=Ie.find(x=>x.id===a.current_level),n=Ie.findIndex(x=>x.id===r.id),i=n<Ie.length-1?Ie[n+1]:void 0,o=i?(a.total_points-r.min_points)/(i.min_points-r.min_points)*100:100,{data:c}=await F.from("user_achievements").select(`
          *,
          achievement:achievements(*)
        `).eq("user_id",s).order("earned_at",{ascending:!1}).limit(5),l=new Date;l.setDate(1),l.setHours(0,0,0,0);const{data:d}=await F.from("points_transactions").select("points").eq("user_id",s).eq("type","earned").gte("created_at",l.toISOString()),m=d?.reduce((x,p)=>x+p.points,0)||0,u=await this.calculateUserStreak(s);return{total_points:a.total_points,current_level:r,next_level:i,progress_percentage:Math.round(o),achievements_count:c?.length||0,recent_achievements:c||[],points_this_month:m,streak_days:u}}catch(a){return console.error("Erro ao buscar estatísticas:",a),null}}static async calculateUserStreak(s){try{const{data:a}=await F.from("points_transactions").select("created_at").eq("user_id",s).order("created_at",{ascending:!1}).limit(30);if(!a||a.length===0)return 0;const r=a.map(c=>new Date(c.created_at).toDateString()),n=[...new Set(r)].sort((c,l)=>new Date(l).getTime()-new Date(c).getTime());let i=0;const o=new Date;for(const c of n){const l=o.toDateString();if(c===l)i++,o.setDate(o.getDate()-1);else break}return i}catch(a){return console.error("Erro ao calcular streak:",a),0}}static async getLeaderboard(s=10){try{const{data:a}=await F.from("user_points").select(`
          *,
          user:users(full_name)
        `).order("total_points",{ascending:!1}).limit(s);return a||[]}catch(a){return console.error("Erro ao buscar ranking:",a),[]}}static async initializePredefinedAchievements(){try{for(const s of rv){const{error:a}=await F.from("achievements").upsert({...s,id:s.name.toLowerCase().replace(/\s+/g,"_"),created_at:new Date().toISOString()},{onConflict:"name"});a&&console.error("Erro ao inserir conquista:",s.name,a)}}catch(s){console.error("Erro ao inicializar conquistas:",s)}}}function lv({merchantId:t,onClose:s,onVoucherValidated:a}){const{user:r}=U(),[n,i]=h.useState(!1),[o,c]=h.useState(null),[l,d]=h.useState(""),[m]=h.useState(""),[u,x]=h.useState(null),[p,v]=h.useState(navigator.onLine),[w]=h.useState([]),b=h.useRef(null),g=h.useRef(null);h.useEffect(()=>{const k=()=>v(!0),S=()=>v(!1);return window.addEventListener("online",k),window.addEventListener("offline",S),y(),()=>{g.current&&g.current.getTracks().forEach(N=>N.stop()),window.removeEventListener("online",k),window.removeEventListener("offline",S)}},[]),h.useEffect(()=>{p&&w.length>0&&f()},[p,w.length,f]);const y=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(k=>{x({lat:k.coords.latitude,lng:k.coords.longitude})},k=>{console.warn("Erro ao obter localização:",k)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},f=h.useCallback(async()=>{for(const k of w)try{await oa.validateVoucher(k.qrData,k.merchantId,k.location)}catch(S){console.error("Erro ao processar item da fila offline:",S)}setOfflineQueue([])},[w]),C=async()=>{try{const k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});b.current&&(b.current.srcObject=k,g.current=k,i(!0))}catch(k){console.error("Erro ao acessar câmera:",k),alert("Não foi possível acessar a câmera. Use a validação manual.")}},E=()=>{g.current&&(g.current.getTracks().forEach(k=>k.stop()),g.current=null),i(!1)},j=async()=>{if(!l.trim()||!m.trim()){alert("Por favor, preencha o código e o local.");return}try{const k={code:l.trim(),merchantId:t,location:u,timestamp:new Date().toISOString()};if(!p){setOfflineQueue(N=>[...N,{qrData:JSON.stringify(k),merchantId:t,location:m.trim()}]),c({success:!0,message:"✈️ Validação salva offline. Será processada quando voltar a conexão."}),setTimeout(()=>{s()},3e3);return}const S=await oa.validateVoucher(JSON.stringify(k),t,m.trim());c(S),S.success&&S.voucher&&r&&(await ov.addPoints(r.id,50,"voucher_use","Voucher utilizado com sucesso! 🎉",{voucher_id:S.voucher.id,merchant_id:t,location:u,timestamp:new Date().toISOString()}),setTimeout(()=>{a(S.voucher),s()},2e3))}catch{c({success:!1,message:"Erro ao validar código manual"})}},A=async k=>{const S=k.target.files?.[0];if(!S||!m.trim()){m.trim()||alert("Por favor, informe o local antes de fazer upload.");return}try{const N=new FileReader;N.onload=async()=>{try{alert("Funcionalidade de upload de imagem será implementada com biblioteca específica de QR code.")}catch{c({success:!1,message:"Erro ao ler QR code da imagem"})}},N.readAsDataURL(S)}catch{c({success:!1,message:"Erro ao processar imagem"})}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Validar Voucher"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local da validação *"}),e.jsx("input",{type:"text",value:m,onChange:k=>setLocation(k.target.value),placeholder:"Ex: Loja Centro, Filial Shopping...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Escanear QR Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[p?e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(cu,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Online"})]}):e.jsxs("div",{className:"flex items-center gap-1 text-orange-600",children:[e.jsx(lu,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Offline"})]}),u&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"GPS"})]})]})]}),n?e.jsxs("div",{className:"space-y-4",children:[e.jsx("video",{ref:b,autoPlay:!0,playsInline:!0,className:"w-full h-64 bg-black rounded-lg"}),e.jsx("button",{onClick:E,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors",children:"Parar Câmera"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Posicione o QR code na frente da câmera"})]}):e.jsxs("button",{onClick:C,disabled:!m.trim(),className:"w-full flex items-center justify-center gap-2 bg-yellow-500 text-white py-3 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[e.jsx(cs,{className:"w-5 h-5"}),p?"Iniciar Câmera":"Iniciar Câmera (Offline)"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Validação Manual"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:l,onChange:k=>d(k.target.value),placeholder:"Digite o código do voucher (ex: DUO-ABC-123456)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("button",{onClick:j,disabled:!l.trim()||!m.trim(),className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:p?"Validar Código":"Salvar Offline"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Upload de Imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:A,disabled:!m.trim(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Faça upload de uma foto do QR code"})]}),w.length>0&&e.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("p",{className:"text-orange-800 text-sm font-medium",children:["📱 ",w.length," validação(ões) na fila offline"]}),e.jsx("p",{className:"text-orange-600 text-xs mt-1",children:"Serão processadas quando a conexão for restaurada"})]}),o&&e.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${o.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[o.success?e.jsx(B,{className:"w-5 h-5 text-green-600"}):e.jsx(ks,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.message}),o.voucher&&e.jsxs("p",{className:"text-sm mt-1",children:["Cliente: ",o.voucher.user?.full_name]}),!p&&o.success&&e.jsx("p",{className:"text-sm mt-1 text-orange-600",children:"🎯 +50 pontos serão creditados quando voltar online"})]})]})]})]})})}function cv(){const{user:t}=U(),[s,a]=h.useState([]),[r,n]=h.useState(!1),[i,o]=h.useState(!0),[c,l]=h.useState("offers"),[d,m]=h.useState(!1),[u,x]=h.useState([]),[p,v]=h.useState(null),[w,b]=h.useState(null),[g,y]=h.useState({title:"",description:"",original_value:"",category:"",location:"",expires_at:"",terms_conditions:""});h.useEffect(()=>{t&&f()},[t,f]);const f=h.useCallback(async()=>{await Promise.all([A(),C(),E()])},[A,C,E]),C=h.useCallback(async()=>{if(t)try{const{data:N,error:D}=await F.from("vouchers").select(`
          *,
          user:users(full_name, email)
        `).eq("merchant_id",t.id).order("created_at",{ascending:!1}).limit(10);if(D)throw D;x(N||[])}catch(N){console.error("Erro ao carregar vouchers:",N)}},[t]),E=h.useCallback(async()=>{if(t)try{const[N,D]=await Promise.all([oa.generateUsageReport("weekly"),oa.generateUsageReport("monthly")]);v(N),b(D)}catch(N){console.error("Erro ao carregar relatórios:",N)}},[t]),j=N=>{x(D=>[N,...D.slice(0,9)]),E()},A=h.useCallback(async()=>{try{const{data:N,error:D}=await F.from("offers").select("*").eq("merchant_id",t?.id).order("created_at",{ascending:!1});if(D)throw D;a(N||[])}catch(N){console.error("Error fetching offers:",N)}finally{o(!1)}},[t]),k=async N=>{N.preventDefault();try{const{error:D}=await F.from("offers").insert([{merchant_id:t?.id,title:g.title,description:g.description,original_value:parseFloat(g.original_value),category:g.category,location:g.location,expires_at:g.expires_at,terms_conditions:g.terms_conditions,is_active:!0}]);if(D)throw D;n(!1),y({title:"",description:"",original_value:"",category:"",location:"",expires_at:"",terms_conditions:""}),A()}catch(D){console.error("Error creating offer:",D),alert("Erro ao criar oferta. Tente novamente.")}},S=async(N,D)=>{try{const{error:_}=await F.from("offers").update({is_active:!D}).eq("id",N);if(_)throw _;A()}catch(_){console.error("Error updating offer:",_)}};return i?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx(Fs,{height:64,className:"w-auto"})}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando dashboard..."})]})}):e.jsx(ue,{title:"Dashboard do Comerciante",subtitle:"Gerencie ofertas, valide vouchers e visualize relatórios",actions:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-600 transition-all",children:[e.jsx(Ye,{className:"w-5 h-5"}),e.jsx("span",{children:"Escanear QR"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[e.jsx(xa,{className:"w-5 h-5"}),e.jsx("span",{children:"Nova Oferta"})]})]}),children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex space-x-1 mb-8",children:[{id:"offers",label:"Ofertas",icon:Me},{id:"vouchers",label:"Vouchers",icon:Ye},{id:"reports",label:"Relatórios",icon:tt}].map(({id:N,label:D,icon:_})=>e.jsxs("button",{onClick:()=>l(N),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${c===N?"bg-white text-[#333333] shadow-sm":"text-gray-600 hover:text-[#333333] hover:bg-white/50"}`,children:[e.jsx(_,{className:"w-4 h-4"}),D]},N))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Total de Ofertas"}),e.jsx("p",{className:"text-3xl font-bold text-[#F6C100]",children:s.length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Ofertas Ativas"}),e.jsx("p",{className:"text-3xl font-bold text-[#C91F1F]",children:s.filter(N=>N.is_active).length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Vouchers Ativos"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u.filter(N=>N.status==="active").length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Vouchers Usados"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:u.filter(N=>N.status==="used").length})]})]}),c==="offers"&&e.jsx(dv,{offers:s,setShowCreateForm:n,toggleOfferStatus:S}),c==="vouchers"&&e.jsx(mv,{recentVouchers:u}),c==="reports"&&e.jsx(uv,{weeklyReport:p,monthlyReport:w}),d&&e.jsx(lv,{merchantId:t?.id||"",onClose:()=>m(!1),onVoucherValidated:j}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-8",children:"Criar Nova Oferta"}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Título da Oferta"}),e.jsx("input",{type:"text",required:!0,value:g.title,onChange:N=>y({...g,title:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Ex: Almoço executivo - Pague 1, Leve 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Descrição"}),e.jsx("textarea",{required:!0,value:g.description,onChange:N=>y({...g,description:N.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Descreva os detalhes da oferta..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Valor Original (CHF)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:g.original_value,onChange:N=>y({...g,original_value:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Categoria"}),e.jsxs("select",{required:!0,value:g.category,onChange:N=>y({...g,category:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",children:[e.jsx("option",{value:"",children:"Selecione uma categoria"}),e.jsx("option",{value:"gastronomy",children:"Gastronomia"}),e.jsx("option",{value:"beauty",children:"Beleza"}),e.jsx("option",{value:"leisure",children:"Lazer"}),e.jsx("option",{value:"fitness",children:"Fitness"}),e.jsx("option",{value:"shopping",children:"Compras"}),e.jsx("option",{value:"services",children:"Serviços"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Localização"}),e.jsx("input",{type:"text",required:!0,value:g.location,onChange:N=>y({...g,location:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Ex: Centro, São Paulo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Data de Expiração"}),e.jsx("input",{type:"date",required:!0,value:g.expires_at,onChange:N=>y({...g,expires_at:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Termos e Condições"}),e.jsx("textarea",{required:!0,value:g.terms_conditions,onChange:N=>y({...g,terms_conditions:N.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Descreva os termos e condições da oferta..."})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-xl text-[#333333] font-medium hover:bg-gray-50 transition-all",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Criar Oferta"})]})]})]})})]})})}const dv=({offers:t,setShowCreateForm:s,toggleOfferStatus:a})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Suas Ofertas"})}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#F5F3EF]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Oferta"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Categoria"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Expira em"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(r=>e.jsxs("tr",{className:"hover:bg-[#F5F3EF] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-[#333333]",children:r.title}),e.jsx("div",{className:"text-sm text-gray-500",children:r.location})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white",children:r.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#333333]",children:["CHF ",(r.original_value*.18).toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.is_active?"Ativa":"Inativa"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:new Date(r.expires_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"text-[#F6C100] hover:text-[#C91F1F] transition-colors",children:e.jsx(Me,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-[#C91F1F] hover:text-[#333333] transition-colors",children:e.jsx(Zm,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(r.id,r.is_active),className:"text-green-600 hover:text-green-800 transition-colors font-medium",children:r.is_active?"Desativar":"Ativar"})]})})]},r.id))})]})}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(xa,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-[#333333] text-xl font-medium mb-4",children:"Você ainda não criou nenhuma oferta."}),e.jsx("button",{onClick:()=>s(!0),className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Criar sua primeira oferta"})]})]}),mv=({recentVouchers:t})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Vouchers Recentes"})}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#F5F3EF]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Código"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Data de Uso"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Validade"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-[#F5F3EF] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-[#333333]",children:s.customer_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-mono text-[#333333]",children:s.unique_code})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${s.is_used?"bg-green-100 text-green-800":new Date(s.expires_at)<new Date?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.is_used?"Usado":new Date(s.expires_at)<new Date?"Expirado":"Ativo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:s.used_at?new Date(s.used_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:new Date(s.expires_at).toLocaleDateString()})]},s.id))})]})}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ye,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-[#333333] text-xl font-medium mb-4",children:"Nenhum voucher foi usado ainda."}),e.jsx("p",{className:"text-gray-500",children:"Os vouchers validados aparecerão aqui."})]})]}),uv=({weeklyReport:t,monthlyReport:s})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Relatório Semanal"})}),t?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Usos"}),e.jsx("p",{className:"text-3xl font-bold",children:t.total_usage})]}),e.jsx(tt,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Clientes Únicos"}),e.jsx("p",{className:"text-3xl font-bold",children:t.unique_customers})]}),e.jsx($,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Período"}),e.jsxs("p",{className:"text-lg font-bold",children:[new Date(t.start_date).toLocaleDateString()," - ",new Date(t.end_date).toLocaleDateString()]})]})})})]}),t.top_customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-4",children:"Top Clientes"}),e.jsx("div",{className:"space-y-3",children:t.top_customers.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F5F3EF] rounded-lg",children:[e.jsx("span",{className:"font-medium text-[#333333]",children:a.customer_name}),e.jsxs("span",{className:"text-[#C91F1F] font-bold",children:[a.usage_count," usos"]})]},r))})]})]}):e.jsx("div",{className:"p-16 text-center",children:e.jsx("p",{className:"text-[#333333] text-xl font-medium",children:"Carregando relatório semanal..."})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Relatório Mensal"})}),s?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Usos"}),e.jsx("p",{className:"text-3xl font-bold",children:s.total_usage})]}),e.jsx(tt,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Clientes Únicos"}),e.jsx("p",{className:"text-3xl font-bold",children:s.unique_customers})]}),e.jsx($,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Período"}),e.jsxs("p",{className:"text-lg font-bold",children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]})]})})})]}),s.top_customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-4",children:"Top Clientes"}),e.jsx("div",{className:"space-y-3",children:s.top_customers.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F5F3EF] rounded-lg",children:[e.jsx("span",{className:"font-medium text-[#333333]",children:a.customer_name}),e.jsxs("span",{className:"text-[#C91F1F] font-bold",children:[a.usage_count," usos"]})]},r))})]})]}):e.jsx("div",{className:"p-16 text-center",children:e.jsx("p",{className:"text-[#333333] text-xl font-medium",children:"Carregando relatório mensal..."})})]})]});function hv(){const[t,s]=h.useState(""),[a,r]=h.useState(""),[n,i]=h.useState(""),[o,c]=h.useState(!1),l=async d=>{d.preventDefault(),i(""),c(!0);try{if([{email:"admin@duopass.com",password:"admin123"},{email:"igor@duopass.com",password:"igor123"},{email:"silvia@duopass.com",password:"silvia123"}].some(x=>x.email===t&&x.password===a)){const x=btoa(`${t}:${Date.now()}`);localStorage.setItem("admin_token",x),window.location.href="/admin"}else i("Credenciais inválidas!")}catch(m){console.error("Erro no login:",m),i("Erro interno. Tente novamente.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"DuoPass Admin"}),e.jsx("p",{className:"text-gray-400",children:"Acesso restrito para administradores."})]}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:t,onChange:d=>s(d.target.value),className:"w-full p-3 bg-gray-700 rounded text-white border border-gray-600 focus:outline-none focus:border-red-500",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"password",children:"Senha"}),e.jsx("input",{type:"password",id:"password",value:a,onChange:d=>r(d.target.value),className:"w-full p-3 bg-gray-700 rounded text-white border border-gray-600 focus:outline-none focus:border-red-500",required:!0})]}),n&&e.jsx("p",{className:"text-red-500 text-center mb-4",children:n}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition duration-300 disabled:bg-red-800",children:o?"Entrando...":"Login Seguro"})]})]})})}function xv({title:t,value:s,icon:a,trend:r,color:n="blue"}){return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:`mt-2 text-3xl font-bold text-${n}-600`,children:s})]}),e.jsx("div",{className:`p-3 bg-${n}-100 rounded-full`,children:e.jsx(a,{className:`w-6 h-6 text-${n}-600`})})]}),r&&e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsxs("span",{className:`text-sm font-medium ${r.isPositive?"text-green-600":"text-red-600"}`,children:[r.isPositive?"+":"-",Math.abs(r.value),"%"]}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"from last month"})]})]})}function Ln({headers:t,data:s,title:a}){return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-4",children:e.jsx("h3",{className:"text-lg font-semibold",children:a})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:t.map(r=>e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r},r))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((r,n)=>e.jsx("tr",{children:r.map((i,o)=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i},o))},n))})]})})]})}function pv(){const t=[{title:"Total Users",value:"1,250",icon:$,trend:{value:5.4,isPositive:!0},color:"blue"},{title:"Active Offers",value:"78",icon:Mm,trend:{value:2.1,isPositive:!1},color:"purple"},{title:"Vouchers Generated (Month)",value:"4,321",icon:ou,trend:{value:12.8,isPositive:!0},color:"green"},{title:"Engagement Rate",value:"63%",icon:Zs,trend:{value:1.5,isPositive:!0},color:"orange"}],s=["Name","Email","Join Date","Status"],a=[["John Doe","john.d@example.com","2023-10-26",e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})],["Jane Smith","jane.s@example.com","2023-10-25",e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})],["Sam Wilson","sam.w@example.com","2023-10-24",e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactive"})]];return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Admin Dashboard"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map(r=>e.jsx(xv,{...r},r.title))}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsx(Ln,{title:"Recent Users",headers:s,data:a})})]})}const fv=({isOpen:t,onClose:s,onSave:a,offer:r})=>{const[n,i]=h.useState(r||{}),[o,c]=h.useState(!1);if(h.useEffect(()=>{i(r||{})},[r]),!t)return null;const l=u=>{const{name:x,value:p,type:v,checked:w}=u.target;i(b=>({...b,[x]:v==="checkbox"?w:p}))},d=async u=>{const x=u.target.files[0];if(!x)return;c(!0);const p=`${Date.now()}_${x.name}`,{data:v,error:w}=await F.storage.from("offers-images").upload(p,x);if(w)alert("Erro no upload da imagem."),console.error(w);else{const{publicURL:b}=F.storage.from("offers-images").getPublicUrl(p);i(g=>({...g,image_url:b}))}c(!1)},m=u=>{u.preventDefault(),a(n)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:r?"Editar Oferta":"Criar Nova Oferta"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsx("input",{name:"title",value:n.title||"",onChange:l,placeholder:"Título",className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{name:"category",value:n.category||"",onChange:l,placeholder:"Categoria",className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{name:"original_value",type:"number",value:n.original_value||"",onChange:l,placeholder:"Valor Original",className:"w-full p-2 border rounded",required:!0}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{children:"Imagem:"}),e.jsx("input",{type:"file",onChange:d,accept:"image/*",className:"p-2 border rounded"}),o&&e.jsx("p",{children:"Enviando..."}),n.image_url&&e.jsx("img",{src:n.image_url,alt:"Preview",className:"h-16 w-16 object-cover rounded"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:n.is_active||!1,onChange:l,className:"mr-2"}),e.jsx("label",{htmlFor:"is_active",children:"Ativa"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Salvar"})]})]})]})})};function gv(){const[t,s]=h.useState([]),[a,r]=h.useState(!0),[n,i]=h.useState(!1),[o,c]=h.useState(null),[l,d]=h.useState(""),[m,u]=h.useState("all"),x=async()=>{r(!0);let g=F.from("offers").select("*");m!=="all"&&(g=g.eq("category",m)),l&&(g=g.ilike("title",`%${l}%`));const{data:y,error:f}=await g.order("created_at",{ascending:!1});f?console.error("Error fetching offers:",f):s(y),r(!1)};h.useEffect(()=>{x()},[l,m]);const p=async g=>{const{id:y,...f}=g,C=y?F.from("offers").update(f).eq("id",y):F.from("offers").insert([f]),{error:E}=await C;E?alert("Erro ao salvar oferta."):(x(),i(!1),c(null))},v=async g=>{if(window.confirm("Tem certeza que deseja deletar esta oferta?")){const{error:y}=await F.from("offers").delete().eq("id",g);y?alert("Erro ao deletar oferta."):x()}},w=async g=>{const{error:y}=await F.from("offers").update({is_active:!g.is_active}).eq("id",g.id);y?alert("Erro ao atualizar status."):x()},b=h.useMemo(()=>t.map(g=>[e.jsx("img",{src:g.image_url,alt:g.title,className:"h-12 w-12 object-cover rounded",onError:y=>y.currentTarget.src="https://via.placeholder.com/150"}),g.title,g.category,e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.is_active?"Ativa":"Inativa"}),`R$ ${g.original_value.toFixed(2)}`,new Date(g.created_at).toLocaleDateString(),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{c(g),i(!0)},className:"text-blue-500",children:e.jsx(ru,{size:18})}),e.jsx("button",{onClick:()=>v(g.id),className:"text-red-500",children:e.jsx(Qt,{size:18})}),e.jsx("button",{onClick:()=>w(g),className:g.is_active?"text-green-500":"text-red-500",children:g.is_active?e.jsx(kl,{size:22}):e.jsx(El,{size:22})})]})]),[t]);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Ofertas"}),e.jsxs("button",{onClick:()=>{c(null),i(!0)},className:"flex items-center bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded",children:[e.jsx(Jm,{size:18,className:"mr-2"}),"Nova Oferta"]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar por título...",value:l,onChange:g=>d(g.target.value),className:"p-2 border rounded w-full"}),e.jsxs("select",{value:m,onChange:g=>u(g.target.value),className:"p-2 border rounded w-full",children:[e.jsx("option",{value:"all",children:"Todas as Categorias"}),e.jsx("option",{value:"Restaurante",children:"Restaurante"}),e.jsx("option",{value:"Beleza",children:"Beleza"}),e.jsx("option",{value:"Serviços",children:"Serviços"})]})]}),a?e.jsx("p",{children:"Carregando..."}):e.jsx(Ln,{title:`${t.length} Ofertas Encontradas`,headers:["Imagem","Título","Categoria","Status","Valor","Criação","Ações"],data:b}),e.jsx(fv,{isOpen:n,onClose:()=>i(!1),onSave:p,offer:o})]})}function bv(){const[t,s]=h.useState([]),[a,r]=h.useState(!0),[n,i]=h.useState(null),[o,c]=h.useState(""),[l,d]=h.useState("all");h.useEffect(()=>{(async()=>{r(!0),i(null);let v=F.from("users").select("*");l!=="all"&&(v=v.eq("subscription_status",l)),o&&(v=v.or(`full_name.ilike.%${o}%,email.ilike.%${o}%`));const{data:w,error:b}=await v.order("created_at",{ascending:!1});b?(console.error("Error fetching users:",b),i("Não foi possível carregar os usuários. Tente novamente mais tarde.")):s(w),r(!1)})()},[o,l]);const m=async(p,v)=>{const w=v==="active"?"inactive":"active",{error:b}=await F.from("users").update({subscription_status:w}).eq("id",p);b?alert("Erro ao atualizar o status do usuário."):s(t.map(g=>g.id===p?{...g,subscription_status:w}:g))},u=()=>{const p=`data:text/csv;charset=utf-8,ID,Email,Nome,Status,Data de Cadastro
`+t.map(b=>`${b.id},${b.email},${b.full_name},${b.subscription_status},${new Date(b.created_at).toLocaleDateString()}`).join(`
`),v=encodeURI(p),w=document.createElement("a");w.setAttribute("href",v),w.setAttribute("download","usuarios_duopass.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w)},x=h.useMemo(()=>t.map(p=>[p.id.substring(0,8),p.full_name,p.email,e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.subscription_status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.subscription_status}),new Date(p.created_at).toLocaleDateString(),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:e.jsx(Me,{size:18})}),e.jsx("button",{onClick:()=>m(p.id,p.subscription_status),className:p.subscription_status==="active"?"text-green-500":"text-red-500",children:p.subscription_status==="active"?e.jsx(kl,{size:22}):e.jsx(El,{size:22})})]})]),[t]);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Usuários"}),e.jsxs("button",{onClick:u,className:"flex items-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:[e.jsx(_s,{size:18,className:"mr-2"}),"Exportar"]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:o,onChange:p=>c(p.target.value),className:"p-2 border rounded w-full"}),e.jsxs("select",{value:l,onChange:p=>d(p.target.value),className:"p-2 border rounded w-full",children:[e.jsx("option",{value:"all",children:"Todos os Status"}),e.jsx("option",{value:"active",children:"Ativo"}),e.jsx("option",{value:"inactive",children:"Inativo"}),e.jsx("option",{value:"pending",children:"Pendente"})]})]}),a?e.jsx("p",{children:"Carregando usuários..."}):n?e.jsx("p",{className:"text-red-500",children:n}):e.jsx(Ln,{title:`${t.length} Usuários Encontrados`,headers:["ID","Nome","Email","Status","Cadastro","Ações"],data:x})]})}function yv(){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Active Offers"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Generated Vouchers"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"0"})]})]})]})}function vv(){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Admin Settings"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Configuration"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Maintenance Mode"}),e.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded-md",children:"Off"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"User Registration"}),e.jsx("button",{className:"px-3 py-1 bg-green-200 rounded-md",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Debug Mode"}),e.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded-md",children:"Off"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Settings"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Notification Emails"}),e.jsx("button",{className:"px-3 py-1 bg-green-200 rounded-md",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Marketing Emails"}),e.jsx("button",{className:"px-3 py-1 bg-green-200 rounded-md",children:"Enabled"})]})]})]})]})]})}const jv=()=>{const[t,s]=h.useState(""),[a,r]=h.useState(""),[n,i]=h.useState("2-4 horas"),[o,c]=h.useState(null),[l,d]=h.useState(!1),m=()=>{d(!0),setTimeout(()=>{c({pressupostos:["Ambiente React/TypeScript já configurado","Supabase como backend principal","Foco em impacto visual para demo","Dados mock são aceitáveis temporariamente","Prioridade: funcionalidade > escalabilidade"],limitacoes:["Configurações de produção não fornecidas","Requisitos específicos dos investidores desconhecidos","Infraestrutura AWS parcialmente configurada","Dados reais de usuários limitados"],prioridades:["Interface limpa e responsiva","Navegação funcional sem erros","Feedback visual imediato","Fallbacks para APIs indisponíveis"],solucaoRapida:{tempo:"15-30 minutos",implementacao:"Componente com dados mock + CSS básico",codigo:`// Solução Rápida - Mock Component
const QuickSolution = () => {
  const mockData = { /* dados simulados */ };
  return (
    <div className="p-4 bg-white rounded-lg shadow">
      <h2>Demo Component</h2>
      {/* Interface básica funcional */}
    </div>
  );
};`},solucaoIntermediaria:{tempo:"1-2 horas",implementacao:"Integração com Supabase + tratamento de erros",codigo:`// Solução Intermediária - Com integração
const IntermediateSolution = () => {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  
  useEffect(() => {
    // Buscar dados reais com fallback
  }, []);
  
  return (
    <div>
      {loading ? <Spinner /> : <DataDisplay data={data} />}
    </div>
  );
};`},solucaoCompleta:{tempo:"Pós-demo (1-2 dias)",implementacao:"Arquitetura escalável + testes + otimizações",codigo:`// Solução Completa - Produção
const CompleteSolution = () => {
  // Implementação robusta
  // Testes automatizados
  // Performance otimizada
  // Segurança validada
};`},autocritica:{ondeErrar:["Assumir que visual sempre supera funcionalidade","Subestimar complexidade de integrações","Não considerar limitações de tempo real"],verificacoes:["Testar em diferentes navegadores","Verificar responsividade mobile","Validar fluxos críticos de usuário","Confirmar que fallbacks funcionam"],vieses:["Tendência a soluções técnicas complexas","Experiência prévia pode influenciar escolhas","Pressuposição de conhecimento técnico do usuário"]},recursos:{fontes:["React Documentation","Supabase Docs","Tailwind CSS Guide","OpenAI API Reference"],ferramentas:["React DevTools","Console do navegador","JSON Generator para mocks","Lighthouse para performance"]}}),d(!1)},2e3)};return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Jn,{className:"w-8 h-8 text-yellow-500"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"🚀 Prompt Builder Inteligente"}),e.jsx("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:"Demo para Investidores"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o problema técnico:"}),e.jsx("textarea",{value:t,onChange:u=>s(u.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Ex: Botão Analytics redireciona para Home em vez da página específica..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contexto adicional:"}),e.jsx("textarea",{value:a,onChange:u=>r(u.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Ex: Demo em 2 horas, investidores vão testar navegação..."})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Urgência:"}),e.jsxs("select",{value:n,onChange:u=>i(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"15-30 min",children:"15-30 minutos"}),e.jsx("option",{value:"1-2 horas",children:"1-2 horas"}),e.jsx("option",{value:"2-4 horas",children:"2-4 horas"}),e.jsx("option",{value:"1 dia",children:"1 dia"})]})]}),e.jsx("button",{onClick:m,disabled:!t.trim()||l,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Analisando problema..."]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5"}),"Analisar Problema"]})})]}),o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"🔍 Análise Inicial"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-500"}),"Pressupostos"]}),e.jsx("ul",{className:"space-y-2",children:o.pressupostos.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(yt,{className:"w-5 h-5 text-yellow-500"}),"Limitações"]}),e.jsx("ul",{className:"space-y-2",children:o.limitacoes.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Jn,{className:"w-5 h-5 text-blue-500"}),"Prioridades Demo"]}),e.jsx("ul",{className:"space-y-2",children:o.prioridades.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"💡 Soluções Múltiplas"}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Se,{className:"w-5 h-5 text-green-600"}),e.jsxs("h3",{className:"font-semibold text-green-800",children:["🔧 Solução Rápida (",o.solucaoRapida.tempo,")"]})]}),e.jsx("p",{className:"text-green-700 mb-3",children:o.solucaoRapida.implementacao}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-3 overflow-x-auto",children:e.jsx("pre",{className:"text-green-400 text-sm",children:o.solucaoRapida.codigo})})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Se,{className:"w-5 h-5 text-blue-600"}),e.jsxs("h3",{className:"font-semibold text-blue-800",children:["⚡ Solução Intermediária (",o.solucaoIntermediaria.tempo,")"]})]}),e.jsx("p",{className:"text-blue-700 mb-3",children:o.solucaoIntermediaria.implementacao}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-3 overflow-x-auto",children:e.jsx("pre",{className:"text-blue-400 text-sm",children:o.solucaoIntermediaria.codigo})})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 bg-purple-50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Se,{className:"w-5 h-5 text-purple-600"}),e.jsxs("h3",{className:"font-semibold text-purple-800",children:["🏗️ Solução Completa (",o.solucaoCompleta.tempo,")"]})]}),e.jsx("p",{className:"text-purple-700 mb-3",children:o.solucaoCompleta.implementacao}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-3 overflow-x-auto",children:e.jsx("pre",{className:"text-purple-400 text-sm",children:o.solucaoCompleta.codigo})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"🤔 Autocrítica Obrigatória"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5 text-red-500"}),"Onde Posso Estar Errado"]}),e.jsx("ul",{className:"space-y-2",children:o.autocritica.ondeErrar.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(iu,{className:"w-5 h-5 text-orange-500"}),"Verificações Necessárias"]}),e.jsx("ul",{className:"space-y-2",children:o.autocritica.verificacoes.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(yt,{className:"w-5 h-5 text-purple-500"}),"Vieses Identificados"]}),e.jsx("ul",{className:"space-y-2",children:o.autocritica.vieses.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"📚 Recursos Externos"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-green-500"}),"Fontes para Verificar"]}),e.jsx("ul",{className:"space-y-2",children:o.recursos.fontes.map((u,x)=>e.jsxs("li",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Vm,{className:"w-5 h-5 text-blue-500"}),"Ferramentas Recomendadas"]}),e.jsx("ul",{className:"space-y-2",children:o.recursos.ferramentas.map((u,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),u]},x))})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"🎯 Resumo Executivo (Para Investidores)"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Problema Identificado"}),e.jsx("p",{className:"text-sm opacity-90",children:t.split(".")[0]||"Problema técnico na aplicação"})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Solução Escolhida"}),e.jsx("p",{className:"text-sm opacity-90",children:"Implementação rápida com dados mock + integração gradual"})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Tempo Estimado"}),e.jsxs("p",{className:"text-sm opacity-90",children:[n," para solução funcional"]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"⚠️ Alertas Importantes:"}),e.jsxs("ul",{className:"text-sm space-y-1 opacity-90",children:[e.jsx("li",{children:"• Solução rápida pode ter limitações em edge cases"}),e.jsx("li",{children:"• Refatoração necessária após demo para produção"}),e.jsx("li",{children:"• Dados mock devem ser substituídos por dados reais"}),e.jsx("li",{children:"• Monitoramento de performance durante apresentação"})]})]})]})]})]})};function Nv(){return e.jsxs(e.Fragment,{children:[e.jsxs(da,{children:[e.jsx("title",{children:"Prompt Builder Inteligente - DuoPass Club"}),e.jsx("meta",{name:"description",content:"Ferramenta inteligente para análise e solução rápida de problemas técnicos durante demos para investidores."}),e.jsx("meta",{name:"keywords",content:"prompt builder, demo, investidores, análise técnica, soluções rápidas"})]}),e.jsx(ue,{title:"Prompt Builder",children:e.jsx(jv,{})})]})}const gr={async getNotifications(t){const{data:s,error:a}=await F.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching notifications:",a),a;return s||[]},async createNotification(t){const{data:s,error:a}=await F.from("notifications").insert(t).select().single();if(a)throw console.error("Error creating notification:",a),a;return s},async markAsRead(t){const{error:s}=await F.from("notifications").update({is_read:!0}).eq("id",t);if(s)throw console.error("Error marking notification as read:",s),s},async markAllAsRead(t){const{error:s}=await F.from("notifications").update({is_read:!0}).eq("user_id",t).eq("is_read",!1);if(s)throw console.error("Error marking all notifications as read:",s),s}},Tt=fe.forwardRef(({className:t,variant:s="primary",size:a="md",children:r,...n},i)=>{const o="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",c={primary:"bg-orange-500 text-white hover:bg-orange-600",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-orange-500 underline-offset-4 hover:underline"},l={sm:"h-9 px-3",md:"h-10 px-4 py-2",lg:"h-11 px-8"};return e.jsx("button",{className:`${o} ${c[s]} ${l[a]} ${t}`,ref:i,...n,children:r})});Tt.displayName="Button";const wv=t=>({experience_invite:"🤝",voucher_expiring:"⏰",new_experience:"🎭",connection_invitation:"🤝",curated_experience:"🎭",local_partner:"☕",shared_memory:"✨",community_building:"👥",presence_reminder:"🌟",offer_new:"🎁",offer_expiring:"⏰",voucher_redeemed:"💰",voucher_available:"🎫",achievement_unlocked:"🏆",level_up:"⭐",goal_reached:"🎯",system_update:"📱",profile_reminder:"👤",business_performance:"📊",offer_management:"💼",business_opportunity:"🎯",system_merchant:"⚙️",payment_processed:"💳"})[t]||"📢",Cv=({notifications:t,onNotificationClick:s})=>t.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma notificação nova."}):e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map((a,r)=>e.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:r*.05},onClick:()=>s(a),className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${a.is_read?"opacity-60":""}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-2xl mr-4",children:wv(a.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a.message}),a.action_url&&e.jsx(R,{to:a.action_url,className:"text-sm text-blue-500 hover:underline mt-1 inline-block",children:a.action_text||"Ver mais"})]})]})},a.id))});function Sv(){const{user:t}=U(),s=W(),[a,r]=h.useState([]),[n,i]=h.useState(!0),[o,c]=h.useState(null),[l,d]=h.useState("all"),[m,u]=h.useState(""),x=async()=>{if(!t){i(!1);return}try{i(!0);const y=await gr.getNotifications(t.id,50);r(y),c(null)}catch(y){c("Falha ao carregar as notificações."),console.error(y)}finally{i(!1)}};h.useEffect(()=>{x()},[t]);const p=async y=>{if(!y.is_read)try{await gr.markAsRead(y.id),x()}catch(f){console.error("Failed to mark notification as read",f)}y.action_url&&s(y.action_url)},v=async()=>{if(!(!t||b===0))try{await gr.markAllAsRead(t.id),x()}catch(y){console.error("Failed to mark all as read",y)}},w=async()=>{r([])};if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(bl,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Acesso negado"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Você precisa estar logado para ver as notificações."})]})});const b=a.filter(y=>!y.is_read).length,g=a.filter(y=>l==="unread"?!y.is_read:!0).filter(y=>{const f=m.toLowerCase();return y.title.toLowerCase().includes(f)||y.message.toLowerCase().includes(f)});return e.jsx(ue,{children:e.jsxs("div",{className:"container mx-auto max-w-4xl py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tt,{variant:"ghost",size:"icon",onClick:()=>s(-1),children:e.jsx(je,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Notificações"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Tt,{onClick:v,disabled:b===0,children:[e.jsx(vl,{className:"w-4 h-4 mr-2"}),"Marcar todas como lidas"]}),e.jsxs(Tt,{variant:"destructive",onClick:w,disabled:a.length===0,children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Limpar Todas"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar por título ou mensagem...",value:m,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2 rounded-lg bg-gray-100 p-1",children:[e.jsx(Tt,{variant:l==="all"?"primary":"ghost",onClick:()=>d("all"),className:"flex-1 justify-center",children:"Todas"}),e.jsx(Tt,{variant:l==="unread"?"primary":"ghost",onClick:()=>d("unread"),className:"flex-1 justify-center",children:"Não Lidas"})]})]}),n&&e.jsx("p",{children:"Carregando..."}),o&&e.jsx("p",{className:"text-red-500",children:o}),!n&&!o&&e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx(Cv,{notifications:g,onNotificationClick:p})})]})})}const _v=()=>{const[t,s]=h.useState([]),[a,r]=h.useState(null),[n,i]=h.useState(null),{membership:o,loading:c,error:l}=cd(),[d,m]=h.useState("");h.useEffect(()=>{v()},[]);const u=()=>{r(null),v()},[x,p]=h.useState(!0),v=async()=>{p(!0);try{r(null);const b=["Limpeza","Beleza","Retail","Serviços","Saúde","Tecnologia","Casa","Automóveis"],{data:g,error:y}=await F.from("offers").select("*").eq("is_active",!0).in("category",b).order("created_at",{ascending:!1});if(y)throw y;s(g||[]),console.log("✅ Ofertas comerciais carregadas:",g?.length)}catch(b){r("Erro ao carregar ofertas. Tente novamente."),console.error(b)}finally{p(!1)}},w=t.filter(b=>b.title.toLowerCase().includes(d.toLowerCase())||b.description.toLowerCase().includes(d.toLowerCase()));return x||c?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a||l?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:a||l}),e.jsxs("button",{onClick:u,className:"flex items-center mx-auto px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[e.jsx(Sl,{className:"mr-2 h-4 w-4"})," Tentar novamente"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(md,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Ofertas Comerciais"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Produtos e serviços com desconto especial para membros DuoPass"}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar ofertas por título ou descrição...",value:d,onChange:b=>m(b.target.value),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d&&e.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-3 text-gray-500 hover:text-gray-700",children:e.jsx(pe,{size:20})})]}),w.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Nenhuma oferta encontrada."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>i(b),children:[b.image_url&&e.jsx("img",{src:b.image_url,alt:b.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:b.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:b.description}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(ld,{category:b.category,type:"offer"}),e.jsxs("span",{className:"font-bold text-green-600",children:["CHF ",b.price_original]})]}),o?.canRedeem?e.jsxs("button",{className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 flex items-center justify-center",children:["Resgatar Oferta ",e.jsx(ie,{className:"ml-2 h-4 w-4"})]}):e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Atualize seu plano para resgatar"})]})]},b.id))})]}),n&&e.jsx(dd,{offer:n,isOpen:!!n,onClose:()=>i(null),type:"offer"})]})};function Ev(){const{user:t,userProfile:s,refreshUserProfile:a}=U(),r=W(),n=async i=>{if(!(!t||!s))try{const{error:o}=await F.from("profiles").update({cultural_interests:i,onboarding_completed:!0}).eq("id",t.id);if(o)throw o;await a(),r("/dashboard")}catch(o){console.error("Erro ao completar o onboarding:",o)}};return h.useEffect(()=>{s?.onboarding_completed&&r("/dashboard")},[s,r]),h.useEffect(()=>{t||r("/login")},[t,r]),e.jsx("div",{className:"min-h-screen bg-gray-900",children:e.jsx(bd,{onComplete:n})})}function kv(){const t=W(),[s,a]=h.useState(!1),[r,n]=h.useState("");return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-orange-600 hover:text-orange-700 mb-4",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Cancelamento e Reembolso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Direitos do Consumidor Suíço - Processo Transparente"})]})]}),e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(B,{className:"w-8 h-8 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🇨🇭 Seus Direitos como Consumidor Suíço"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-green-800 mb-4 flex items-center",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),"14 Dias de Arrependimento"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),e.jsx("span",{children:"Cancele sem justificativa em até 14 dias"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),e.jsx("span",{children:"Reembolso integral garantido"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),e.jsx("span",{children:"Baseado na legislação suíça (CO Art. 40a)"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-blue-800 mb-4 flex items-center",children:[e.jsx(ze,{className:"w-5 h-5 mr-2"}),"Reembolso Proporcional"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"✓"}),e.jsx("span",{children:"Valor não utilizado será devolvido"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"✓"}),e.jsx("span",{children:"Cálculo transparente por dia"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"✓"}),e.jsx("span",{children:"Processamento em até 14 dias úteis"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Como Cancelar Sua Assinatura"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"1"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acesse Configurações → Assinatura → Cancelar"}),e.jsx("button",{className:"mt-3 bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm hover:bg-purple-200 transition-colors",children:"Ir para Dashboard"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:"2"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Envie um email para cancelamento@duopassclub.ch"}),e.jsx("button",{className:"mt-3 bg-orange-100 text-orange-700 px-4 py-2 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"Enviar Email"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"3"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Formulário"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Preencha o formulário de cancelamento abaixo"}),e.jsx("button",{onClick:()=>a(!0),className:"mt-3 bg-green-100 text-green-700 px-4 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"Abrir Formulário"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Um,{className:"w-6 h-6 text-amber-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculadora de Reembolso"})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-amber-800 mb-4",children:"Exemplo de Cálculo"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Plano:"}),e.jsx("span",{className:"font-medium",children:"Cultural Explorer (CHF 39/mês)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Data de cobrança:"}),e.jsx("span",{className:"font-medium",children:"1º de Janeiro"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Data de cancelamento:"}),e.jsx("span",{className:"font-medium",children:"15 de Janeiro"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Dias utilizados:"}),e.jsx("span",{className:"font-medium",children:"14 dias"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Valor pago:"}),e.jsx("span",{className:"font-medium",children:"CHF 39.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Valor por dia:"}),e.jsx("span",{className:"font-medium",children:"CHF 1.26"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Valor utilizado:"}),e.jsx("span",{className:"font-medium",children:"CHF 17.64"})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-green-700 font-bold",children:"Reembolso:"}),e.jsx("span",{className:"font-bold text-green-700",children:"CHF 21.36"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Se,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Timeline do Cancelamento"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-green-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Solicitação Recebida"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirmação imediata por email"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Imediato"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Processamento"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cálculo do reembolso e cancelamento da renovação"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"1-2 dias úteis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-purple-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Reembolso Iniciado"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valor devolvido para o cartão original"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"3-5 dias úteis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-amber-500 w-4 h-4 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Reembolso Concluído"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valor aparece na sua fatura do cartão"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"5-14 dias úteis"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Perguntas Frequentes"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ Posso cancelar durante o teste grátis?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Sim! Durante os 7 dias de teste grátis, você pode cancelar sem nenhuma cobrança. Basta acessar seu dashboard ou enviar um email."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ E se eu já usei algumas experiências?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Você ainda tem direito ao reembolso proporcional. Calculamos o valor baseado nos dias não utilizados do seu período de assinatura."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ Posso reativar minha conta depois?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Claro! Você pode reativar sua conta a qualquer momento. Seus dados e preferências ficam salvos por 30 dias após o cancelamento."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"❓ O reembolso demora quanto tempo?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"O processamento leva de 5 a 14 dias úteis. O prazo pode variar dependendo do seu banco. Você receberá atualizações por email sobre o status."})]})]})]}),s&&e.jsxs(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Formulário de Cancelamento"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email da conta"}),e.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo do cancelamento (opcional)"}),e.jsxs("select",{value:r,onChange:i=>n(i.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um motivo"}),e.jsx("option",{value:"preco",children:"Preço muito alto"}),e.jsx("option",{value:"uso",children:"Não uso o suficiente"}),e.jsx("option",{value:"experiencias",children:"Poucas experiências na minha região"}),e.jsx("option",{value:"qualidade",children:"Qualidade das experiências"}),e.jsx("option",{value:"tecnico",children:"Problemas técnicos"}),e.jsx("option",{value:"temporario",children:"Pausa temporária"}),e.jsx("option",{value:"outro",children:"Outro motivo"})]})]}),r==="outro"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o motivo"}),e.jsx("textarea",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Conte-nos o que podemos melhorar..."})]}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:"Confirmação de Cancelamento"}),e.jsx("p",{className:"text-sm text-red-700",children:"Ao confirmar, sua assinatura será cancelada e você receberá um reembolso proporcional conforme nossa política. Esta ação não pode ser desfeita."})]})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Voltar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Cancelamento"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Precisa de Ajuda?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-blue-600",children:"📧"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"cancelamento@duopassclub.ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-green-600",children:"💬"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Chat"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Suporte online 9h-18h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-purple-600",children:"📞"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Telefone"}),e.jsx("p",{className:"text-sm text-gray-600",children:"+41 XX XXX XX XX"})]})]})]})]})]})})}function Pv(){const t=W();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-green-600 hover:text-green-700 mb-4",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Termos de Experiências"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Responsabilidades dos Estabelecimentos Parceiros"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]})]}),e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Z,{className:"w-8 h-8 text-amber-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🎭 Conceito DUO PASS Cultural"})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-bold text-amber-800 mb-3",children:"Diferencial Cultural"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"O DUO PASS não é um marketplace de cupons comum. Somos uma plataforma cultural que conecta pessoas através de experiências autênticas, sempre em dupla (2 por 1)."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-700 mb-2",children:"✨ O que Valorizamos:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Histórias e propósito dos estabelecimentos"}),e.jsx("li",{children:"• Experiências que conectam pessoas"}),e.jsx("li",{children:"• Curadoria emocional vs algoritmos frios"}),e.jsx("li",{children:"• Cultura local e autenticidade"}),e.jsx("li",{children:"• Relacionamentos duradouros"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-700 mb-2",children:"🚫 Não Somos:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• App de cupons genéricos"}),e.jsx("li",{children:"• Plataforma de desconto massivo"}),e.jsx("li",{children:"• Marketplace transacional"}),e.jsx("li",{children:"• Sistema de ofertas temporárias"}),e.jsx("li",{children:"• Concorrência por menor preço"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(fs,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Responsabilidades dos Parceiros Culturais"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-6",children:[e.jsx("h3",{className:"font-bold text-green-800 mb-3",children:"🎯 Qualidade da Experiência"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Obrigatório:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"✓ Manter padrão de qualidade consistente"}),e.jsx("li",{children:"✓ Honrar todas as reservas confirmadas"}),e.jsx("li",{children:"✓ Tratar clientes DUO PASS como VIPs"}),e.jsx("li",{children:"✓ Explicar o conceito cultural aos funcionários"}),e.jsx("li",{children:"✓ Disponibilidade conforme acordado"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Recomendado:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Personalizar experiência para casais/duplas"}),e.jsx("li",{children:"• Compartilhar história do estabelecimento"}),e.jsx("li",{children:"• Criar momentos memoráveis"}),e.jsx("li",{children:"• Feedback ativo sobre a experiência"}),e.jsx("li",{children:"• Flexibilidade para necessidades especiais"})]})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[e.jsx("h3",{className:"font-bold text-blue-800 mb-3",children:"📅 Gestão de Reservas"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"Confirmação:"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Resposta em até 24h"}),e.jsx("li",{children:"• Confirmação via plataforma"}),e.jsx("li",{children:"• Detalhes claros da experiência"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"Cancelamento:"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Aviso com 48h de antecedência"}),e.jsx("li",{children:"• Reagendamento quando possível"}),e.jsx("li",{children:"• Justificativa clara"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"No-show:"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Aguardar 15 minutos"}),e.jsx("li",{children:"• Reportar na plataforma"}),e.jsx("li",{children:"• Oferecer reagendamento"})]})]})]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx($,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Responsabilidades dos Usuários"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-purple-800 mb-4",children:"✅ Comportamento Esperado"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(B,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Comparecer no horário agendado"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(B,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Tratar funcionários com respeito"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(B,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Seguir regras do estabelecimento"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(B,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Cancelar com antecedência se necessário"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(B,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Deixar feedback construtivo"})]})]})]}),e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-red-800 mb-4",children:"❌ Comportamentos Inaceitáveis"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(yt,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"No-show sem aviso prévio"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(yt,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Comportamento desrespeitoso"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(yt,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Tentar revender a experiência"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(yt,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Usar mais pessoas que o permitido"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(yt,{className:"w-4 h-4 text-red-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Feedback malicioso ou falso"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Ee,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Resolução de Conflitos"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-indigo-800 mb-4",children:"🤝 Processo de Mediação"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"1"})}),e.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Comunicação Direta"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Encorajamos parceiros e usuários a resolverem questões diretamente, com respeito e boa fé."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"2"})}),e.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Mediação DUO PASS"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Se necessário, nossa equipe atua como mediadora neutra para encontrar uma solução justa."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"3"})}),e.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Decisão Final"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Em casos extremos, o DUO PASS toma decisão final baseada em evidências e políticas."})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-green-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"🏆 Soluções Positivas"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Reagendamento de experiências"}),e.jsx("li",{children:"• Compensação por inconvenientes"}),e.jsx("li",{children:"• Experiência adicional como cortesia"}),e.jsx("li",{children:"• Treinamento adicional da equipe"}),e.jsx("li",{children:"• Melhoria de processos"})]})]}),e.jsxs("div",{className:"border border-red-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-3",children:"⚠️ Medidas Disciplinares"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Advertência formal"}),e.jsx("li",{children:"• Suspensão temporária"}),e.jsx("li",{children:"• Revisão de parceria"}),e.jsx("li",{children:"• Cancelamento de conta (usuário)"}),e.jsx("li",{children:"• Encerramento de parceria"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Padrões de Qualidade DUO PASS"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"🌟 Critérios de Avaliação"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Qualidade da experiência"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 30%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Atendimento ao cliente"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 25%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Pontualidade e confiabilidade"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 20%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Ambiente e atmosfera"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 15%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Valor cultural agregado"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Peso: 10%"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"📊 Sistema de Avaliação"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"⭐ 4.5+ Estrelas"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Parceiro Exemplar - Destaque na plataforma"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"⭐ 4.0-4.4 Estrelas"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Parceiro Aprovado - Padrão esperado"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⭐ 3.5-3.9 Estrelas"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Atenção - Plano de melhoria necessário"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"⭐ Abaixo de 3.5"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Revisão de parceria - Ação imediata"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Legislação e Compliance"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"🇨🇭 Legislação Suíça Aplicável"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Estabelecimentos:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Código das Obrigações (CO)"}),e.jsx("li",{children:"• Lei de Proteção ao Consumidor"}),e.jsx("li",{children:"• Regulamentações sanitárias"}),e.jsx("li",{children:"• Normas de segurança"}),e.jsx("li",{children:"• Licenças operacionais"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Plataforma:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• GDPR e FADP (proteção de dados)"}),e.jsx("li",{children:"• Lei de Comércio Eletrônico"}),e.jsx("li",{children:"• Regulamentações de pagamento"}),e.jsx("li",{children:"• Direitos do consumidor"}),e.jsx("li",{children:"• Responsabilidade civil"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Contato e Suporte"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"🤝"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Parceiros"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Suporte dedicado para estabelecimentos"}),e.jsx("p",{className:"text-sm text-blue-600",children:"parceiros@duopassclub.ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Usuários"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Atendimento para membros da comunidade"}),e.jsx("p",{className:"text-sm text-blue-600",children:"suporte@duopassclub.ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"⚖️"})}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Questões Legais"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Assuntos jurídicos e compliance"}),e.jsx("p",{className:"text-sm text-blue-600",children:"legal@duopassclub.ch"})]})]})]})]})]})})}function Av(){const t=W();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Política de Privacidade"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Proteção de Dados - GDPR Compliance"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]})]}),e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 mb-8 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ee,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-blue-800 m-0",children:"🇪🇺 Compliance GDPR"})]}),e.jsx("p",{className:"text-blue-700 mb-3",children:"Esta política está em total conformidade com o Regulamento Geral de Proteção de Dados (GDPR) e a Lei Federal Suíça de Proteção de Dados (FADP)."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("strong",{className:"text-blue-800",children:"Seus Direitos:"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700",children:[e.jsx("li",{children:"• Acesso aos dados"}),e.jsx("li",{children:"• Correção"}),e.jsx("li",{children:"• Exclusão"}),e.jsx("li",{children:"• Portabilidade"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("strong",{className:"text-blue-800",children:"Base Legal:"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700",children:[e.jsx("li",{children:"• Consentimento"}),e.jsx("li",{children:"• Execução contratual"}),e.jsx("li",{children:"• Interesse legítimo"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("strong",{className:"text-blue-800",children:"Proteção:"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700",children:[e.jsx("li",{children:"• Criptografia SSL"}),e.jsx("li",{children:"• Servidores seguros"}),e.jsx("li",{children:"• Acesso restrito"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(qm,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"1. Dados Que Coletamos"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"📝 Dados Fornecidos por Você"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cadastro:"})," Nome, email, telefone"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfil:"})," Preferências culturais, foto"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pagamento:"})," Dados do cartão (criptografados)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Comunicação:"})," Mensagens de suporte"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reservas:"})," Histórico de experiências"]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"🔍 Dados Coletados Automaticamente"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Navegação:"})," Páginas visitadas, tempo"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dispositivo:"})," IP, navegador, OS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Localização:"})," Cidade (com consentimento)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookies:"})," Preferências, sessão"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics:"})," Uso da plataforma"]})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Me,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"2. Como Usamos Seus Dados"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"🎯 Finalidades Principais"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-700",children:"Serviços Essenciais:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 text-sm space-y-1",children:[e.jsx("li",{children:"Processar membership e pagamentos"}),e.jsx("li",{children:"Gerenciar reservas de experiências"}),e.jsx("li",{children:"Comunicação sobre sua conta"}),e.jsx("li",{children:"Suporte técnico e atendimento"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-700",children:"Melhorias:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 text-sm space-y-1",children:[e.jsx("li",{children:"Personalizar recomendações"}),e.jsx("li",{children:"Melhorar a plataforma"}),e.jsx("li",{children:"Curadoria de novos parceiros"}),e.jsx("li",{children:"Analytics de uso (anonimizados)"})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"📧 Marketing (Apenas com Consentimento)"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsx("li",{children:"Newsletter com novas experiências culturais"}),e.jsx("li",{children:"Ofertas especiais personalizadas"}),e.jsx("li",{children:"Convites para eventos exclusivos"}),e.jsx("li",{children:"Pesquisas de satisfação"})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:'✅ Você pode cancelar a qualquer momento clicando em "descadastrar" nos emails.'})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"3. Base Legal para Processamento (GDPR Art. 6)"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Consentimento"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Marketing por email"}),e.jsx("li",{children:"• Cookies não essenciais"}),e.jsx("li",{children:"• Localização precisa"}),e.jsx("li",{children:"• Compartilhamento com parceiros"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📋 Execução Contratual"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Processamento de pagamentos"}),e.jsx("li",{children:"• Gestão de membership"}),e.jsx("li",{children:"• Reservas de experiências"}),e.jsx("li",{children:"• Suporte ao cliente"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"⚖️ Interesse Legítimo"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Segurança da plataforma"}),e.jsx("li",{children:"• Prevenção de fraudes"}),e.jsx("li",{children:"• Analytics anonimizados"}),e.jsx("li",{children:"• Melhorias do serviço"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"4. Compartilhamento de Dados"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"🚫 Nunca Vendemos Seus Dados"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Seus dados pessoais nunca são vendidos para terceiros. Compartilhamos apenas quando necessário para fornecer nossos serviços ou quando exigido por lei."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"🤝 Parceiros Necessários"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Stripe:"})," Processamento de pagamentos"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Supabase:"})," Hospedagem de dados"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"EmailJS:"})," Envio de emails"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Parceiros Culturais:"})," Dados de reserva"]})]})]}),e.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"⚖️ Obrigações Legais"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Autoridades fiscais suíças"}),e.jsx("li",{children:"• Órgãos de proteção de dados"}),e.jsx("li",{children:"• Tribunais (quando ordenado)"}),e.jsx("li",{children:"• Prevenção de crimes"})]})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Kt,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"5. Seus Direitos (GDPR)"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Me,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"font-semibold text-indigo-800",children:"Direito de Acesso"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Solicite uma cópia de todos os dados que temos sobre você."}),e.jsx("button",{className:"mt-2 text-xs bg-indigo-100 text-indigo-700 px-3 py-1 rounded",children:"Solicitar Dados"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(_s,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:"Portabilidade"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Exporte seus dados em formato legível por máquina."}),e.jsx("button",{className:"mt-2 text-xs bg-green-100 text-green-700 px-3 py-1 rounded",children:"Exportar Dados"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h3",{className:"font-semibold text-yellow-800",children:"Correção"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Corrija dados incorretos ou desatualizados."}),e.jsx("button",{className:"mt-2 text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded",children:"Corrigir Dados"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-600"}),e.jsx("h3",{className:"font-semibold text-red-800",children:"Exclusão"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Solicite a exclusão completa de seus dados."}),e.jsx("button",{className:"mt-2 text-xs bg-red-100 text-red-700 px-3 py-1 rounded",children:"Excluir Conta"})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"📧 Como Exercer Seus Direitos"}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Para exercer qualquer destes direitos, entre em contato conosco:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Email:"})," privacidade@duopassclub.ch"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Formulário:"})," Configurações → Privacidade → Gerenciar Dados"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Prazo:"})," Responderemos em até 30 dias"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"6. Cookies e Tecnologias Similares"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Essenciais"}),e.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Necessários para funcionamento"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Sessão de login"}),e.jsx("li",{children:"• Carrinho de compras"}),e.jsx("li",{children:"• Preferências de idioma"}),e.jsx("li",{children:"• Segurança"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📊 Analytics"}),e.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Com seu consentimento"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Google Analytics"}),e.jsx("li",{children:"• Métricas de uso"}),e.jsx("li",{children:"• Performance"}),e.jsx("li",{children:"• Anonimizados"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"🎯 Marketing"}),e.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Opcional"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Personalização"}),e.jsx("li",{children:"• Remarketing"}),e.jsx("li",{children:"• Redes sociais"}),e.jsx("li",{children:"• Pode desativar"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"7. Segurança dos Dados"}),e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"🔒 Medidas Técnicas"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Criptografia SSL/TLS"}),e.jsx("li",{children:"• Servidores seguros na Europa"}),e.jsx("li",{children:"• Backup automático"}),e.jsx("li",{children:"• Monitoramento 24/7"}),e.jsx("li",{children:"• Firewall avançado"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"👥 Medidas Organizacionais"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Acesso restrito por função"}),e.jsx("li",{children:"• Treinamento da equipe"}),e.jsx("li",{children:"• Auditoria regular"}),e.jsx("li",{children:"• Políticas internas"}),e.jsx("li",{children:"• Contratos com fornecedores"})]})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"8. Retenção de Dados"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Dados de conta ativa"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Enquanto membership ativo"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Dados após cancelamento"}),e.jsx("span",{className:"text-sm text-gray-600",children:"30 dias (backup/suporte)"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Dados financeiros"}),e.jsx("span",{className:"text-sm text-gray-600",children:"7 anos (obrigação legal)"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Analytics anonimizados"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Indefinidamente"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"9. Contato - Encarregado de Proteção de Dados"}),e.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📧 Contato Direto"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," dpo@duopassclub.ch"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Privacidade:"})," privacidade@duopassclub.ch"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Suporte:"})," suporte@duopassclub.ch"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"🏛️ Autoridade Supervisora"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Se não estivermos resolvendo sua questão adequadamente, você pode contatar o Comissário Federal Suíço de Proteção de Dados (FDPIC)."})]})]})})]})]})})]})})}function Dv(){const t=W();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-purple-50 to-pink-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-purple-600 hover:text-purple-700 mb-4",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Termos de Uso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"DUO PASS Club - Experiências Culturais na Suíça"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]})]}),e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx($,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"1. Definições e Conceito DUO PASS"})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-3",children:"🎭 O que é o DUO PASS Club?"}),e.jsx("p",{className:"text-gray-700 mb-3",children:"O DUO PASS Club é uma plataforma cultural suíça que conecta pessoas através de experiências autênticas, sempre em dupla (2 por 1). Não somos um app de cupons - somos uma comunidade cultural."}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:'"Experiência DUO":'})," Atividades culturais para 2 pessoas pelo preço de 1"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Parceiro Cultural":'})," Estabelecimentos curados que oferecem experiências autênticas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Membership":'})," Assinatura mensal/anual que dá acesso às experiências"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Curadoria Emocional":'})," Seleção baseada em histórias e propósito cultural"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ze,{className:"w-6 h-6 text-amber-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"2. Condições de Membership"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"2.1 Tipos de Planos"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Starter:"})," CHF 9/mês (ou CHF 8/mês anual) - 2 experiências por mês"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Explorer:"})," CHF 12/mês (ou CHF 10/mês anual) - 4 experiências por mês"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Ambassador:"})," CHF 18/mês (ou CHF 15/mês anual) - Experiências ilimitadas"]})]})]}),e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"2.2 Renovação Automática"}),e.jsx("p",{className:"text-gray-700 mt-2",children:"Sua assinatura renova automaticamente no mesmo período (mensal/anual) até o cancelamento. Você será notificado 7 dias antes de cada cobrança."})]}),e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"2.3 Teste Grátis"}),e.jsx("p",{className:"text-gray-700 mt-2",children:"Novos usuários têm direito a 7 dias de teste grátis. Você pode cancelar durante este período sem nenhuma cobrança."})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(dt,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"3. Uso das Experiências"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Regras de Uso"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Experiências são sempre para 2 pessoas (conceito DUO)"}),e.jsx("li",{children:"Válidas apenas durante o período de membership ativo"}),e.jsx("li",{children:"Sujeitas à disponibilidade do parceiro cultural"}),e.jsx("li",{children:"Não podem ser transferidas ou vendidas"}),e.jsx("li",{children:"Reservas devem ser feitas através da plataforma"})]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"❌ Uso Indevido"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Revenda ou transferência de experiências"}),e.jsx("li",{children:"Uso comercial das experiências"}),e.jsx("li",{children:"Comportamento inadequado nos estabelecimentos"}),e.jsx("li",{children:"Falsificação de informações de reserva"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ee,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 m-0",children:"4. Responsabilidades"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"DUO PASS Club"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsx("li",{children:"Manter a plataforma funcionando"}),e.jsx("li",{children:"Curadoria de parceiros culturais"}),e.jsx("li",{children:"Suporte ao cliente"}),e.jsx("li",{children:"Proteção de dados pessoais"}),e.jsx("li",{children:"Processamento de pagamentos"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Usuário"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[e.jsx("li",{children:"Uso respeitoso da plataforma"}),e.jsx("li",{children:"Informações verdadeiras"}),e.jsx("li",{children:"Pagamento em dia"}),e.jsx("li",{children:"Respeito aos parceiros culturais"}),e.jsx("li",{children:"Cumprimento destes termos"})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"5. Cancelamento e Reembolso"}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-3",children:"🇨🇭 Direitos do Consumidor Suíço"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"14 dias de arrependimento:"})," Direito de cancelar sem justificativa"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cancelamento fácil:"})," Um clique no dashboard ou email para suporte"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reembolso proporcional:"})," Valor não utilizado será reembolsado"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Processamento:"})," Reembolsos processados em até 14 dias úteis"]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"6. Legislação Aplicável"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-700",children:"Estes termos são regidos pela legislação suíça, especificamente:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 mt-2 space-y-1",children:[e.jsx("li",{children:"Código das Obrigações Suíço (CO)"}),e.jsx("li",{children:"Lei Federal de Proteção de Dados (FADP)"}),e.jsx("li",{children:"Regulamento Geral de Proteção de Dados (GDPR)"}),e.jsx("li",{children:"Diretiva EU 2011/83 sobre direitos do consumidor"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"7. Contato"}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsx("strong",{children:"DUO PASS Club"}),e.jsx("br",{}),"Email: legal@duopassclub.ch",e.jsx("br",{}),"Suporte: suporte@duopassclub.ch",e.jsx("br",{}),"Website: duopassclub.ch"]})})]})]})})]})})}const os=({children:t})=>(h.useEffect(()=>{const s=localStorage.getItem("admin_token");if(!s){window.location.href="/admin/login";return}try{const a=atob(s),[r]=a.split(":");if(!["admin@duopass.com","igor@duopass.com","silvia@duopass.com"].includes(r)){localStorage.removeItem("admin_token"),window.location.href="/admin/login";return}}catch(a){console.error("Error decoding admin token:",a),localStorage.removeItem("admin_token"),window.location.href="/admin/login"}},[]),e.jsx(e.Fragment,{children:t}));function Tv(){return e.jsxs($d,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(Dm,{}),e.jsx(pl,{children:e.jsx(Am,{children:e.jsx(_m,{children:e.jsx(km,{children:e.jsx(tg,{children:e.jsxs(Hd,{children:[e.jsx(L,{path:"/",element:e.jsx(lg,{})}),e.jsx(L,{path:"/experiencias",element:e.jsx(cg,{})}),e.jsx(L,{path:"/ofertas",element:e.jsx(ot,{children:e.jsx(_v,{})})}),e.jsx(L,{path:"/legal/cancelamento",element:e.jsx(kv,{})}),e.jsx(L,{path:"/legal/termos-experiencias",element:e.jsx(Pv,{})}),e.jsx(L,{path:"/legal/politica-de-privacidade",element:e.jsx(Av,{})}),e.jsx(L,{path:"/legal/termos-de-uso",element:e.jsx(Dv,{})}),e.jsx(L,{path:"/login",element:e.jsx(mg,{})}),e.jsx(L,{path:"/signup",element:e.jsx(ug,{})}),e.jsx(L,{path:"/auth/callback",element:e.jsx(hg,{})}),e.jsx(L,{path:"/confirm-email",element:e.jsx(xg,{})}),e.jsx(L,{path:"/email-verification",element:e.jsx(fg,{})}),e.jsx(L,{path:"/auth/google/callback",element:e.jsx(fo,{})}),e.jsx(L,{path:"/auth/v1/callback",element:e.jsx(fo,{})}),e.jsx(L,{path:"/onboarding",element:e.jsx(ot,{children:e.jsx(Ev,{})})}),e.jsx(L,{path:"/memberships",element:e.jsx(Wb,{})}),e.jsx(L,{path:"/pricing",element:e.jsx(Zb,{})}),e.jsx(L,{path:"/empresas",element:e.jsx(ty,{})}),e.jsx(L,{path:"/trial",element:e.jsx(sy,{})}),e.jsx(L,{path:"/checkout",element:e.jsx(ey,{})}),e.jsx(L,{path:"/customer-dashboard",element:e.jsx(Je,{children:e.jsx(vb,{})})}),e.jsx(L,{path:"/recomendacoes-ia",element:e.jsx(Je,{children:e.jsx(Hb,{})})}),e.jsx(L,{path:"/meus-vouchers",element:e.jsx(Je,{children:e.jsx(wb,{})})}),e.jsx(L,{path:"/historico",element:e.jsx(Je,{children:e.jsx(Cb,{})})}),e.jsx(L,{path:"/connect",element:e.jsx(Je,{children:e.jsx(Sb,{})})}),e.jsx(L,{path:"/comunidade/:id",element:e.jsx(Je,{children:e.jsx(iy,{})})}),e.jsx(L,{path:"/voucher/:id",element:e.jsx(Je,{children:e.jsx(Ay,{})})}),e.jsx(L,{path:"/voucher/:id/active",element:e.jsx(Je,{children:e.jsx(Py,{})})}),e.jsx(L,{path:"/voucher/active/success",element:e.jsx(Je,{children:e.jsx(Dy,{})})}),e.jsx(L,{path:"/parceiros-culturais",element:e.jsx(sl,{})}),e.jsx(L,{path:"/cultural-partner-landing",element:e.jsx(sl,{})}),e.jsx(L,{path:"/como-funciona-parceiros",element:e.jsx(Xy,{})}),e.jsx(L,{path:"/cadastro-parceiro",element:e.jsx(ev,{})}),e.jsx(L,{path:"/parceiro-cadastrado",element:e.jsx(tv,{})}),e.jsx(L,{path:"/cultural-partner-portal",element:e.jsx(ot,{children:e.jsx(sv,{})})}),e.jsx(L,{path:"/merchant",element:e.jsx(av,{})}),e.jsx(L,{path:"/merchant/dashboard",element:e.jsx($b,{children:e.jsx(cv,{})})}),e.jsx(L,{path:"/admin/login",element:e.jsx(hv,{})}),e.jsx(L,{path:"/admin",element:e.jsx(os,{children:e.jsx(ue,{children:e.jsx(pv,{})})})}),e.jsx(L,{path:"/admin/ofertas",element:e.jsx(os,{children:e.jsx(ue,{children:e.jsx(gv,{})})})}),e.jsx(L,{path:"/admin/usuarios",element:e.jsx(os,{children:e.jsx(ue,{children:e.jsx(bv,{})})})}),e.jsx(L,{path:"/admin/analytics",element:e.jsx(os,{children:e.jsx(ue,{children:e.jsx(yv,{})})})}),e.jsx(L,{path:"/admin/settings",element:e.jsx(os,{children:e.jsx(ue,{children:e.jsx(vv,{})})})}),e.jsx(L,{path:"/prompt-builder",element:e.jsx(Nv,{})}),e.jsx(L,{path:"/profile",element:e.jsx(ot,{children:e.jsx(Gb,{})})}),e.jsx(L,{path:"/settings",element:e.jsx(ot,{children:e.jsx(Gr,{})})}),e.jsx(L,{path:"/notifications",element:e.jsx(ot,{children:e.jsx(Sv,{})})}),e.jsx(L,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-[#333333] mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Página não encontrada"}),e.jsx("a",{href:"/",className:"text-[#C91F1F] hover:underline",children:"Voltar ao início"})]})})})]})})})})})})]})}const Fv=()=>{[{href:"/fonts/inter.woff2",as:"font",type:"font/woff2"},{href:"/images/logo.svg",as:"image"},{href:"/images/hero-bg.webp",as:"image"}].forEach(s=>{const a=document.createElement("link");a.rel="preload",a.href=s.href,a.as=s.as,s.type&&(a.type=s.type,a.crossOrigin="anonymous"),document.head.appendChild(a)})},br={observeLCP:t=>{if("PerformanceObserver"in window){const s=new PerformanceObserver(a=>{const r=a.getEntries(),n=r[r.length-1];t(n.startTime)});return s.observe({entryTypes:["largest-contentful-paint"]}),s}},observeFID:t=>{if("PerformanceObserver"in window){const s=new PerformanceObserver(a=>{a.getEntries().forEach(n=>{t(n.processingStart-n.startTime)})});return s.observe({entryTypes:["first-input"]}),s}},observeCLS:t=>{if("PerformanceObserver"in window){let s=0;const a=new PerformanceObserver(r=>{r.getEntries().forEach(i=>{i.hadRecentInput||(s+=i.value,t(s))})});return a.observe({entryTypes:["layout-shift"]}),a}}},Mv=()=>{["https://fonts.googleapis.com","https://fonts.gstatic.com","https://www.google-analytics.com","https://js.stripe.com"].forEach(a=>{const r=document.createElement("link");r.rel="dns-prefetch",r.href=a,document.head.appendChild(r)}),["https://fonts.googleapis.com","https://js.stripe.com"].forEach(a=>{const r=document.createElement("link");r.rel="preconnect",r.href=a,r.crossOrigin="anonymous",document.head.appendChild(r)})},Ov=async()=>{if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");return t.addEventListener("updatefound",()=>{const s=t.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nova versão da aplicação disponível")})}),console.log("Service Worker registrado com sucesso"),t}catch(t){console.error("Erro ao registrar Service Worker:",t)}},Rv=()=>{typeof window>"u"||(Mv(),Fv(),Ov(),br.observeLCP(t=>{console.log("LCP:",t)}),br.observeFID(t=>{console.log("FID:",t)}),br.observeCLS(t=>{console.log("CLS:",t)}))},Md={title:"DuoPass - Ofertas Exclusivas na Suíça",description:"Descubra ofertas exclusivas e experiências únicas na Suíça com DuoPass. Restaurantes, atividades, hospedagem e muito mais com descontos especiais.",keywords:["ofertas suíça","descontos suíça","restaurantes suíça","atividades suíça","turismo suíça","experiências suíça","cupons desconto","duopass"],image:"/images/og-image.jpg",url:"https://duopassclub.ch",type:"website",locale:"pt_BR",siteName:"DuoPass"},Iv=t=>{const s={...Md,...t};document.title=s.title,ce("description",s.description),s.keywords&&ce("keywords",s.keywords.join(", ")),ce("og:title",s.title,"property"),ce("og:description",s.description,"property"),ce("og:type",s.type||"website","property"),ce("og:url",s.url||window.location.href,"property"),ce("og:site_name",s.siteName||"DuoPass","property"),ce("og:locale",s.locale||"pt_BR","property"),s.image&&(ce("og:image",s.image,"property"),ce("og:image:alt",s.title,"property")),ce("twitter:card","summary_large_image"),ce("twitter:title",s.title),ce("twitter:description",s.description),s.image&&ce("twitter:image",s.image),s.type==="article"&&(s.author&&ce("article:author",s.author,"property"),s.publishedTime&&ce("article:published_time",s.publishedTime,"property"),s.modifiedTime&&ce("article:modified_time",s.modifiedTime,"property")),Vv(s.url||window.location.href)},ce=(t,s,a="name")=>{let r=document.querySelector(`meta[${a}="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute(a,t),document.head.appendChild(r)),r.content=s},Vv=t=>{let s=document.querySelector('link[rel="canonical"]');s||(s=document.createElement("link"),s.rel="canonical",document.head.appendChild(s)),s.href=t},ol=(t,s)=>{const a={"@context":"https://schema.org","@type":t};let r;switch(t){case"Organization":r={...a,name:"DuoPass",url:"https://duopassclub.ch",logo:"https://duopassclub.ch/duopass_logo.svg",description:"Ofertas exclusivas e experiências únicas na Suíça",address:{"@type":"PostalAddress",addressCountry:"CH"},sameAs:["https://facebook.com/duopass","https://instagram.com/duopass","https://linkedin.com/company/duopass"],...s};break;case"WebSite":r={...a,name:"DuoPass",url:"https://duopassclub.ch",description:"Ofertas exclusivas e experiências únicas na Suíça",publisher:{"@type":"Organization",name:"DuoPass"},potentialAction:{"@type":"SearchAction",target:"https://duopassclub.ch/search?q={search_term_string}","query-input":"required name=search_term_string"},...s};break;case"Offer":r={...a,name:s.name,description:s.description,price:s.price,priceCurrency:"CHF",availability:"https://schema.org/InStock",validFrom:s.validFrom,validThrough:s.validThrough,seller:{"@type":"Organization",name:"DuoPass"},...s};break;default:r={...a,...s}}return r},ll=t=>{const s=document.createElement("script");s.type="application/ld+json",s.textContent=JSON.stringify(t),document.head.appendChild(s)},Lv=()=>{const t=ol("Organization",{});ll(t);const s=ol("WebSite",{});ll(s),Iv(Md),console.log("[SEO] Configurações inicializadas")};class qv{sessionId;userId;isProduction;logBuffer=[];maxBufferSize=100;flushInterval=3e4;constructor(){this.sessionId=this.generateSessionId(),this.isProduction=!0,this.isProduction&&setInterval(()=>this.flushLogs(),this.flushInterval),window.addEventListener("beforeunload",()=>this.flushLogs())}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}setUserId(s){this.userId=s}createLogEntry(s,a,r){return{timestamp:new Date().toISOString(),level:s,message:a,context:r,userId:this.userId,sessionId:this.sessionId,userAgent:navigator.userAgent,url:window.location.href}}addToBuffer(s){if(this.logBuffer.push(s),this.logBuffer.length>this.maxBufferSize&&(this.logBuffer=this.logBuffer.slice(-this.maxBufferSize)),!this.isProduction){const a=this.getConsoleStyle(s.level);console.log(`%c[${s.level.toUpperCase()}] ${s.message}`,a,s.context)}}getConsoleStyle(s){return{debug:"color: #888",info:"color: #2196F3",warn:"color: #FF9800",error:"color: #F44336; font-weight: bold"}[s]}debug(s,a){const r=this.createLogEntry("debug",s,a);this.addToBuffer(r)}info(s,a){const r=this.createLogEntry("info",s,a);this.addToBuffer(r)}warn(s,a){const r=this.createLogEntry("warn",s,a);this.addToBuffer(r)}error(s,a){const r=this.createLogEntry("error",s,a);this.addToBuffer(r),this.isProduction&&this.sendToRemoteLogging([r])}async flushLogs(){if(this.logBuffer.length===0)return;const s=[...this.logBuffer];this.logBuffer=[],this.isProduction&&await this.sendToRemoteLogging(s)}async sendToRemoteLogging(s){try{return}catch(a){console.error("Erro ao enviar logs:",a)}}}class zv{metrics=[];observers=[];constructor(){this.initializeObservers()}initializeObservers(){if("PerformanceObserver"in window){const s=new PerformanceObserver(i=>{const o=i.getEntries(),c=o[o.length-1];this.recordMetric("LCP",c.startTime,"ms")});s.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(s);const a=new PerformanceObserver(i=>{i.getEntries().forEach(c=>{const l=c.processingStart-c.startTime;this.recordMetric("FID",l,"ms")})});a.observe({entryTypes:["first-input"]}),this.observers.push(a);let r=0;const n=new PerformanceObserver(i=>{i.getEntries().forEach(c=>{const l=c;l.hadRecentInput||(r+=l.value,this.recordMetric("CLS",r,"score"))})});n.observe({entryTypes:["layout-shift"]}),this.observers.push(n)}window.addEventListener("load",()=>{setTimeout(()=>{const s=performance.getEntriesByType("navigation")[0];this.recordMetric("TTFB",s.responseStart-s.fetchStart,"ms"),this.recordMetric("DOMContentLoaded",s.domContentLoadedEventEnd-s.fetchStart,"ms"),this.recordMetric("LoadComplete",s.loadEventEnd-s.fetchStart,"ms")},0)})}recordMetric(s,a,r,n){const i={name:s,value:a,unit:r,timestamp:new Date().toISOString(),context:n};this.metrics.push(i),ke.info(`Performance: ${s} = ${a}${r}`,{metric:i})}getMetrics(){return[...this.metrics]}clearMetrics(){this.metrics=[]}disconnect(){this.observers.forEach(s=>s.disconnect()),this.observers=[]}}class Uv{actions=[];sessionId;userId;constructor(s){this.sessionId=s,this.initializeTracking()}setUserId(s){this.userId=s}initializeTracking(){const s=Date.now();window.addEventListener("beforeunload",()=>{const a=Date.now()-s;this.trackAction("page_exit","engagement",{timeOnPage:a,path:window.location.pathname})})}trackAction(s,a,r){const n={action:s,category:a,timestamp:new Date().toISOString(),userId:this.userId,sessionId:this.sessionId,metadata:r};this.actions.push(n),ke.debug(`User Action: ${a}/${s}`,{userAction:n})}getActions(){return[...this.actions]}clearActions(){this.actions=[]}}const ke=new qv,Gs=new zv,lt=new Uv(ke.sessionId);window.addEventListener("error",t=>{ke.error("JavaScript Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:t.error?.stack})});window.addEventListener("unhandledrejection",t=>{ke.error("Unhandled Promise Rejection",{reason:t.reason,stack:t.reason?.stack})});window.addEventListener("online",()=>{ke.info("Connection restored"),lt.trackAction("connection_restored","system")});window.addEventListener("offline",()=>{ke.warn("Connection lost"),lt.trackAction("connection_lost","system")});document.addEventListener("visibilitychange",()=>{document.hidden?lt.trackAction("page_hidden","engagement"):lt.trackAction("page_visible","engagement")});const Bv={setUserId:t=>{ke.setUserId(t),lt.setUserId(t)},trackEvent:(t,s,a)=>{lt.trackAction(t,s,a)},measureFunction:async(t,s)=>{const a=performance.now();try{const r=await s(),n=performance.now()-a;return Gs.recordMetric(`function_${t}`,n,"ms"),r}catch(r){const n=performance.now()-a;throw Gs.recordMetric(`function_${t}_error`,n,"ms"),ke.error(`Function ${t} failed`,{error:r,duration:n}),r}},getReport:()=>({metrics:Gs.getMetrics(),actions:lt.getActions(),timestamp:new Date().toISOString()}),clearData:()=>{Gs.clearMetrics(),lt.clearActions()}};ke.info("Monitoring system initialized",{sessionId:ke.sessionId,userAgent:navigator.userAgent,url:window.location.href});Lv(),Rv(),ke.info("DuoPass Production Systems Initialized",{version:"1.0.0",environment:"production",timestamp:new Date().toISOString()}),Bv.trackEvent("app_loaded","system",{loadTime:performance.now(),userAgent:navigator.userAgent});class $v extends fe.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,a){ke.error("React Error Boundary",{error:s.message,stack:s.stack,componentStack:a.componentStack})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Algo deu errado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado. Por favor, recarregue a página."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Recarregar Página"})]})}):this.props.children}}const Od=document.getElementById("root");if(!Od)throw new Error("Root element not found");const Hv=Yd.createRoot(Od);Hv.render(e.jsx(h.StrictMode,{children:e.jsx($v,{children:e.jsx(Tv,{})})}));
