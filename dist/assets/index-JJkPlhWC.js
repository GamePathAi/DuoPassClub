var cd=Object.defineProperty;var dd=(s,t,a)=>t in s?cd(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var Z=(s,t,a)=>dd(s,typeof t!="symbol"?t+"":t,a);import{r as g,a as md,b as Nr,d as me}from"./vendor-BdeVZlrH.js";import{u as ie,L as O,a as ta,b as sa,c as go,N as ba,B as ud,R as hd,d as U}from"./router-BBTnw52G.js";import{c as xd}from"./supabase-BqmCYggL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var bo={exports:{}},aa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=g,fd=Symbol.for("react.element"),gd=Symbol.for("react.fragment"),bd=Object.prototype.hasOwnProperty,yd=pd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vd={key:!0,ref:!0,__self:!0,__source:!0};function yo(s,t,a){var r,n={},i=null,o=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)bd.call(t,r)&&!vd.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:fd,type:s,key:i,ref:o,props:n,_owner:yd.current}}aa.Fragment=gd;aa.jsx=yo;aa.jsxs=yo;bo.exports=aa;var e=bo.exports,vo,Cn=md;vo=Cn.createRoot,Cn.hydrateRoot;var jd=typeof Element<"u",wd=typeof Map=="function",Nd=typeof Set=="function",Cd=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Rs(s,t){if(s===t)return!0;if(s&&t&&typeof s=="object"&&typeof t=="object"){if(s.constructor!==t.constructor)return!1;var a,r,n;if(Array.isArray(s)){if(a=s.length,a!=t.length)return!1;for(r=a;r--!==0;)if(!Rs(s[r],t[r]))return!1;return!0}var i;if(wd&&s instanceof Map&&t instanceof Map){if(s.size!==t.size)return!1;for(i=s.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=s.entries();!(r=i.next()).done;)if(!Rs(r.value[1],t.get(r.value[0])))return!1;return!0}if(Nd&&s instanceof Set&&t instanceof Set){if(s.size!==t.size)return!1;for(i=s.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Cd&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(t)){if(a=s.length,a!=t.length)return!1;for(r=a;r--!==0;)if(s[r]!==t[r])return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof t.valueOf=="function")return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof t.toString=="function")return s.toString()===t.toString();if(n=Object.keys(s),a=n.length,a!==Object.keys(t).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;if(jd&&s instanceof Element)return!1;for(r=a;r--!==0;)if(!((n[r]==="_owner"||n[r]==="__v"||n[r]==="__o")&&s.$$typeof)&&!Rs(s[n[r]],t[n[r]]))return!1;return!0}return s!==s&&t!==t}var Sd=function(t,a){try{return Rs(t,a)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const _d=Nr(Sd);var kd=function(s,t,a,r,n,i,o,l){if(!s){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[a,r,n,i,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return m[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Ed=kd;const Sn=Nr(Ed);var Pd=function(t,a,r,n){var i=r?r.call(n,t,a):void 0;if(i!==void 0)return!!i;if(t===a)return!0;if(typeof t!="object"||!t||typeof a!="object"||!a)return!1;var o=Object.keys(t),l=Object.keys(a);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(a),m=0;m<o.length;m++){var d=o[m];if(!c(d))return!1;var u=t[d],h=a[d];if(i=r?r.call(n,u,h,d):void 0,i===!1||i===void 0&&u!==h)return!1}return!0};const Td=Nr(Pd);var jo=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(jo||{}),ya={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},_n=Object.values(jo),Cr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ad=Object.entries(Cr).reduce((s,[t,a])=>(s[a]=t,s),{}),Ee="data-rh",vt={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},jt=(s,t)=>{for(let a=s.length-1;a>=0;a-=1){const r=s[a];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Dd=s=>{let t=jt(s,"title");const a=jt(s,vt.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),a&&t)return a.replace(/%s/g,()=>t);const r=jt(s,vt.DEFAULT_TITLE);return t||r||void 0},Md=s=>jt(s,vt.ON_CHANGE_CLIENT_STATE)||(()=>{}),va=(s,t)=>t.filter(a=>typeof a[s]<"u").map(a=>a[s]).reduce((a,r)=>({...a,...r}),{}),Fd=(s,t)=>t.filter(a=>typeof a.base<"u").map(a=>a.base).reverse().reduce((a,r)=>{if(!a.length){const n=Object.keys(r);for(let i=0;i<n.length;i+=1){const l=n[i].toLowerCase();if(s.indexOf(l)!==-1&&r[l])return a.concat(r)}}return a},[]),Od=s=>console&&typeof console.warn=="function"&&console.warn(s),Rt=(s,t,a)=>{const r={};return a.filter(n=>Array.isArray(n[s])?!0:(typeof n[s]<"u"&&Od(`Helmet: ${s} should be of type "Array". Instead found type "${typeof n[s]}"`),!1)).map(n=>n[s]).reverse().reduce((n,i)=>{const o={};i.filter(c=>{let m;const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const x=d[h],b=x.toLowerCase();t.indexOf(b)!==-1&&!(m==="rel"&&c[m].toLowerCase()==="canonical")&&!(b==="rel"&&c[b].toLowerCase()==="stylesheet")&&(m=b),t.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(m=x)}if(!m||!c[m])return!1;const u=c[m].toLowerCase();return r[m]||(r[m]={}),o[m]||(o[m]={}),r[m][u]?!1:(o[m][u]=!0,!0)}).reverse().forEach(c=>n.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const m=l[c],d={...r[m],...o[m]};r[m]=d}return n},[]).reverse()},Id=(s,t)=>{if(Array.isArray(s)&&s.length){for(let a=0;a<s.length;a+=1)if(s[a][t])return!0}return!1},Vd=s=>({baseTag:Fd(["href"],s),bodyAttributes:va("bodyAttributes",s),defer:jt(s,vt.DEFER),encode:jt(s,vt.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:va("htmlAttributes",s),linkTags:Rt("link",["rel","href"],s),metaTags:Rt("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:Rt("noscript",["innerHTML"],s),onChangeClientState:Md(s),scriptTags:Rt("script",["src","innerHTML"],s),styleTags:Rt("style",["cssText"],s),title:Dd(s),titleAttributes:va("titleAttributes",s),prioritizeSeoTags:Id(s,vt.PRIORITIZE_SEO_TAGS)}),wo=s=>Array.isArray(s)?s.join(""):s,Rd=(s,t)=>{const a=Object.keys(s);for(let r=0;r<a.length;r+=1)if(t[a[r]]&&t[a[r]].includes(s[a[r]]))return!0;return!1},ja=(s,t)=>Array.isArray(s)?s.reduce((a,r)=>(Rd(r,t)?a.priority.push(r):a.default.push(r),a),{priority:[],default:[]}):{default:s,priority:[]},kn=(s,t)=>({...s,[t]:void 0}),Ld=["noscript","script","style"],Ga=(s,t=!0)=>t===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),No=s=>Object.keys(s).reduce((t,a)=>{const r=typeof s[a]<"u"?`${a}="${s[a]}"`:`${a}`;return t?`${t} ${r}`:r},""),qd=(s,t,a,r)=>{const n=No(a),i=wo(t);return n?`<${s} ${Ee}="true" ${n}>${Ga(i,r)}</${s}>`:`<${s} ${Ee}="true">${Ga(i,r)}</${s}>`},Bd=(s,t,a=!0)=>t.reduce((r,n)=>{const i=n,o=Object.keys(i).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,d)=>{const u=typeof i[d]>"u"?d:`${d}="${Ga(i[d],a)}"`;return m?`${m} ${u}`:u},""),l=i.innerHTML||i.cssText||"",c=Ld.indexOf(s)===-1;return`${r}<${s} ${Ee}="true" ${o}${c?"/>":`>${l}</${s}>`}`},""),Co=(s,t={})=>Object.keys(s).reduce((a,r)=>{const n=Cr[r];return a[n||r]=s[r],a},t),Ud=(s,t,a)=>{const r={key:t,[Ee]:!0},n=Co(a,r);return[me.createElement("title",n,t)]},Ls=(s,t)=>t.map((a,r)=>{const n={key:r,[Ee]:!0};return Object.keys(a).forEach(i=>{const l=Cr[i]||i;if(l==="innerHTML"||l==="cssText"){const c=a.innerHTML||a.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[l]=a[i]}),me.createElement(s,n)}),we=(s,t,a=!0)=>{switch(s){case"title":return{toComponent:()=>Ud(s,t.title,t.titleAttributes),toString:()=>qd(s,t.title,t.titleAttributes,a)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Co(t),toString:()=>No(t)};default:return{toComponent:()=>Ls(s,t),toString:()=>Bd(s,t,a)}}},zd=({metaTags:s,linkTags:t,scriptTags:a,encode:r})=>{const n=ja(s,ya.meta),i=ja(t,ya.link),o=ja(a,ya.script);return{priorityMethods:{toComponent:()=>[...Ls("meta",n.priority),...Ls("link",i.priority),...Ls("script",o.priority)],toString:()=>`${we("meta",n.priority,r)} ${we("link",i.priority,r)} ${we("script",o.priority,r)}`},metaTags:n.default,linkTags:i.default,scriptTags:o.default}},$d=s=>{const{baseTag:t,bodyAttributes:a,encode:r=!0,htmlAttributes:n,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:m}=s;let{linkTags:d,metaTags:u,scriptTags:h}=s,x={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:x,linkTags:d,metaTags:u,scriptTags:h}=zd(s)),{priority:x,base:we("base",t,r),bodyAttributes:we("bodyAttributes",a,r),htmlAttributes:we("htmlAttributes",n,r),link:we("link",d,r),meta:we("meta",u,r),noscript:we("noscript",i,r),script:we("script",h,r),style:we("style",o,r),title:we("title",{title:l,titleAttributes:c},r)}},Wa=$d,ks=[],So=!!(typeof window<"u"&&window.document&&window.document.createElement),Ya=class{constructor(s,t){Z(this,"instances",[]);Z(this,"canUseDOM",So);Z(this,"context");Z(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?ks:this.instances,add:s=>{(this.canUseDOM?ks:this.instances).push(s)},remove:s=>{const t=(this.canUseDOM?ks:this.instances).indexOf(s);(this.canUseDOM?ks:this.instances).splice(t,1)}}});this.context=s,this.canUseDOM=t||!1,t||(s.helmet=Wa({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Hd={},_o=me.createContext(Hd),ot,ko=(ot=class extends g.Component{constructor(a){super(a);Z(this,"helmetData");this.helmetData=new Ya(this.props.context||{},ot.canUseDOM)}render(){return me.createElement(_o.Provider,{value:this.helmetData.value},this.props.children)}},Z(ot,"canUseDOM",So),ot),ut=(s,t)=>{const a=document.head||document.querySelector("head"),r=a.querySelectorAll(`${s}[${Ee}]`),n=[].slice.call(r),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(s);for(const m in l)if(Object.prototype.hasOwnProperty.call(l,m))if(m==="innerHTML")c.innerHTML=l.innerHTML;else if(m==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=m,u=typeof l[d]>"u"?"":l[d];c.setAttribute(m,u)}c.setAttribute(Ee,"true"),n.some((m,d)=>(o=d,c.isEqualNode(m)))?n.splice(o,1):i.push(c)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>a.appendChild(l)),{oldTags:n,newTags:i}},Ka=(s,t)=>{const a=document.getElementsByTagName(s)[0];if(!a)return;const r=a.getAttribute(Ee),n=r?r.split(","):[],i=[...n],o=Object.keys(t);for(const l of o){const c=t[l]||"";a.getAttribute(l)!==c&&a.setAttribute(l,c),n.indexOf(l)===-1&&n.push(l);const m=i.indexOf(l);m!==-1&&i.splice(m,1)}for(let l=i.length-1;l>=0;l-=1)a.removeAttribute(i[l]);n.length===i.length?a.removeAttribute(Ee):a.getAttribute(Ee)!==o.join(",")&&a.setAttribute(Ee,o.join(","))},Gd=(s,t)=>{typeof s<"u"&&document.title!==s&&(document.title=wo(s)),Ka("title",t)},En=(s,t)=>{const{baseTag:a,bodyAttributes:r,htmlAttributes:n,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:m,styleTags:d,title:u,titleAttributes:h}=s;Ka("body",r),Ka("html",n),Gd(u,h);const x={baseTag:ut("base",a),linkTags:ut("link",i),metaTags:ut("meta",o),noscriptTags:ut("noscript",l),scriptTags:ut("script",m),styleTags:ut("style",d)},b={},y={};Object.keys(x).forEach(v=>{const{newTags:f,oldTags:w}=x[v];f.length&&(b[v]=f),w.length&&(y[v]=x[v].oldTags)}),t&&t(),c(s,b,y)},Lt=null,Wd=s=>{Lt&&cancelAnimationFrame(Lt),s.defer?Lt=requestAnimationFrame(()=>{En(s,()=>{Lt=null})}):(En(s),Lt=null)},Yd=Wd,Pn=class extends g.Component{constructor(){super(...arguments);Z(this,"rendered",!1)}shouldComponentUpdate(t){return!Td(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:a}=this.props.context;let r=null;const n=Vd(t.get().map(i=>{const o={...i.props};return delete o.context,o}));ko.canUseDOM?Yd(n):Wa&&(r=Wa(n)),a(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ha,Eo=(Ha=class extends g.Component{shouldComponentUpdate(s){return!_d(kn(this.props,"helmetData"),kn(s,"helmetData"))}mapNestedChildrenToProps(s,t){if(!t)return null;switch(s.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,t,a,r){return{...t,[s.type]:[...t[s.type]||[],{...a,...this.mapNestedChildrenToProps(s,r)}]}}mapObjectTypeChildren(s,t,a,r){switch(s.type){case"title":return{...t,[s.type]:r,titleAttributes:{...a}};case"body":return{...t,bodyAttributes:{...a}};case"html":return{...t,htmlAttributes:{...a}};default:return{...t,[s.type]:{...a}}}}mapArrayTypeChildrenToProps(s,t){let a={...t};return Object.keys(s).forEach(r=>{a={...a,[r]:s[r]}}),a}warnOnInvalidChildren(s,t){return Sn(_n.some(a=>s.type===a),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${_n.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),Sn(!t||typeof t=="string"||Array.isArray(t)&&!t.some(a=>typeof a!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,t){let a={};return me.Children.forEach(s,r=>{if(!r||!r.props)return;const{children:n,...i}=r.props,o=Object.keys(i).reduce((c,m)=>(c[Ad[m]||m]=i[m],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,n),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(n,t);break;case"link":case"meta":case"noscript":case"script":case"style":a=this.flattenArrayTypeChildren(r,a,o,n);break;default:t=this.mapObjectTypeChildren(r,t,o,n);break}}),this.mapArrayTypeChildrenToProps(a,t)}render(){const{children:s,...t}=this.props;let a={...t},{helmetData:r}=t;if(s&&(a=this.mapChildrenToProps(s,a)),r&&!(r instanceof Ya)){const n=r;r=new Ya(n.context,!0),delete a.helmetData}return r?me.createElement(Pn,{...a,context:r.value}):me.createElement(_o.Consumer,null,n=>me.createElement(Pn,{...a,context:n}))}},Z(Ha,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ha);const Kd="https://rnzvbrlbcnknyhrgubqi.supabase.co",Qd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuenZicmxiY25rbnlocmd1YnFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwMTc0ODksImV4cCI6MjA2NjU5MzQ4OX0.fjMnzy1PCCqkGucrGp-1jkaJtwBuo9qNB1rk6OOw3zk",Jd={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"duopass-web"}},realtime:{params:{eventsPerSecond:10}}},M=xd(Kd,Qd,Jd),Po=g.createContext(void 0),qt=!1,Xd=({children:s})=>{const[t,a]=g.useState(null),[r,n]=g.useState(null),[i,o]=g.useState(!0),l=g.useRef(!1),c=g.useCallback(async p=>{if(!l.current){l.current=!0;try{const{data:j,error:N}=await M.from("users").select("*").eq("id",p).single();if(N)throw N;n(j)}catch(j){console.error("Error fetching user profile:",j),n(null)}finally{l.current=!1}}},[]);g.useEffect(()=>{if(t&&r){const p=window.location.pathname;if(p.includes("/admin")){window.location.href="/customer-dashboard";return}(p==="/"||p==="/login")&&(window.location.href="/customer-dashboard")}},[t,r]),g.useEffect(()=>{const p=setTimeout(()=>{o(!1)},2e3);return()=>clearTimeout(p)},[]),g.useEffect(()=>{},[i]);const m=g.useCallback(async()=>{const p={id:"demo-user-id",email:"demo@duopass.com",email_confirmed_at:new Date().toISOString(),user_metadata:{full_name:"Usuário Demo",user_type:"customer"}};a(p),c("demo-user-id"),o(!1),localStorage.setItem("duopass_demo_session","active")},[c]);g.useEffect(()=>{let p=!0;const j=setTimeout(()=>{p&&o(!1)},3e3);return(async()=>{try{if(localStorage.getItem("duopass_demo_session")){m(),clearTimeout(j);return}const{data:{session:E}}=await M.auth.getSession();p&&(a((E==null?void 0:E.user)??null),o(!1),clearTimeout(j),E!=null&&E.user&&c(E.user.id))}catch{p&&(o(!1),clearTimeout(j))}})(),()=>{p=!1,clearTimeout(j)}},[m,c]),g.useEffect(()=>{const{data:{subscription:p}}=M.auth.onAuthStateChange(async(j,N)=>{a((N==null?void 0:N.user)??null),N!=null&&N.user?c(N.user.id):n(null),o(!1)});return()=>{p==null||p.unsubscribe()}},[c]);const d=async(p,j,N)=>{console.log("🔧 AUTH CONTEXT: Iniciando signUp para:",p),console.log("🔍 AUTH CONTEXT: Verificando se email já existe...");const{data:_,error:E}=await M.from("users").select("email").eq("email",p).single();if(console.log("📊 AUTH CONTEXT: Resultado da verificação:",{existingUser:_,checkError:E}),E&&E.code!=="PGRST116")throw console.error("❌ AUTH CONTEXT: Erro ao verificar email existente:",E),new Error("Erro ao verificar disponibilidade do email");if(_)throw console.log("⚠️ AUTH CONTEXT: Email já existe no banco!"),new Error("Este email já está cadastrado. Tente fazer login ou use outro email.");console.log("✅ AUTH CONTEXT: Email disponível, criando usuário no Supabase Auth...");const{data:T,error:P}=await M.auth.signUp({email:p,password:j,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(console.log("📊 AUTH CONTEXT: Resultado do signUp:",{data:T,error:P}),P)throw console.error("❌ AUTH CONTEXT: Erro no Supabase Auth signUp:",P),P;if(T.user){console.log("👤 AUTH CONTEXT: Usuário criado, inserindo perfil na tabela users...");const{error:C}=await M.from("users").upsert({id:T.user.id,email:T.user.email,full_name:N.full_name,user_type:N.user_type,email_verified:!1,email_verification_sent_at:new Date().toISOString(),subscription_status:N.user_type==="customer"?"trial":null},{onConflict:"email"});if(console.log("📊 AUTH CONTEXT: Resultado do upsert do perfil:",{profileError:C}),C)throw console.error("❌ AUTH CONTEXT: Erro ao criar perfil do usuário:",C),new Error("Erro ao criar perfil do usuário. Tente novamente.")}return console.log("✅ AUTH CONTEXT: SignUp concluído com sucesso!"),T},u=async(p,j)=>{if(console.log("🔐 AuthContext: Iniciando signIn com email:",p),p==="demo@duopass.com"&&j==="123456"||p==="admin@duopass.com"&&j==="admin123"){console.log("✅ AuthContext: Login de demonstração bem-sucedido!");const N=p==="admin@duopass.com",_={id:N?"admin-user-id":"demo-user-id",email:p,email_confirmed_at:new Date().toISOString(),user_metadata:{full_name:N?"Administrador DuoPass":"Usuário Demo",user_type:N?"admin":"customer"}};return a(_),await c(N?"admin-user-id":"demo-user-id"),o(!1),{user:_,session:{access_token:"demo-token",refresh_token:"demo-refresh",expires_in:3600,token_type:"bearer",user:_}}}try{const N=new Promise((P,C)=>{setTimeout(()=>C(new Error("Timeout: Login demorou mais de 10 segundos")),1e4)}),_=M.auth.signInWithPassword({email:p,password:j});console.log("⏳ AuthContext: Aguardando resposta do Supabase...");const{data:E,error:T}=await Promise.race([_,N]);if(console.log("📊 AuthContext: Resposta do Supabase:",{data:E,error:T}),T)throw console.error("❌ AuthContext: Erro na autenticação:",T),T;if(E.user&&!E.user.email_confirmed_at)throw console.log("📧 AuthContext: Email não verificado, fazendo logout"),await M.auth.signOut(),new Error("Email não verificado. Verifique sua caixa de entrada e clique no link de confirmação.");return console.log("✅ AuthContext: Login bem-sucedido, retornando dados"),E}catch(N){throw console.error("💥 AuthContext: Erro capturado:",N),N}},h=async p=>{try{const{data:j,error:N}=await M.from("users").select("email_verification_sent_at").eq("email",p).single();if(N||!(j!=null&&j.email_verification_sent_at))return!0;const _=new Date(j.email_verification_sent_at);return(new Date().getTime()-_.getTime())/1e3>=60}catch(j){return console.error("Error checking resend cooldown:",j),!0}},x=async p=>{try{const{data:j,error:N}=await M.from("users").select("email_verification_sent_at").eq("email",p).single();if(N||!(j!=null&&j.email_verification_sent_at))return 0;const _=new Date(j.email_verification_sent_at),T=(new Date().getTime()-_.getTime())/1e3,P=Math.max(0,60-T);return Math.ceil(P)}catch(j){return console.error("Error getting resend cooldown:",j),0}},w={user:t,userProfile:r,loading:i,signUp:d,signIn:u,signOut:async()=>{try{o(!0);const{error:p}=await M.auth.signOut();a(null),n(null),localStorage.removeItem("duopass_user"),localStorage.removeItem("sb-token"),localStorage.removeItem("duopass_demo_session"),o(!1),setTimeout(()=>{window.location.reload()},100)}catch{a(null),n(null),o(!1)}},resendConfirmation:async p=>{if(!await h(p)){const _=await x(p);throw new Error(`Aguarde ${_} segundos antes de reenviar o email.`)}console.log("resend_email_attempted",{email:p,timestamp:new Date().toISOString()});const{error:N}=await M.auth.resend({type:"signup",email:p,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(N)throw console.log("resend_email_failed",{email:p,error:N.message,timestamp:new Date().toISOString()}),N;await M.from("users").update({email_verification_sent_at:new Date().toISOString()}).eq("email",p)},canResendEmail:h,getResendCooldown:x,loginDemo:m,signInWithGoogle:async()=>{try{console.log("🔐 Iniciando autenticação com Google...");const{error:p}=await M.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(p)throw console.error("❌ Erro na autenticação Google:",p),p;console.log("✅ Redirecionamento para Google iniciado")}catch(p){throw console.error("💥 Erro no Google Auth:",p),p}},syncGoogleUser:async p=>{var j,N,_,E,T;try{if(console.log("🔄 Sincronizando usuário Google com banco de dados..."),!p.email)throw new Error("Email do usuário Google não encontrado");if(t&&t.id===p.id&&r){console.log("⚠️ Usuário Google já está sincronizado e perfil carregado, pulando...");return}const P={id:p.id,email:p.email,full_name:((j=p.user_metadata)==null?void 0:j.full_name)||((N=p.user_metadata)==null?void 0:N.name)||"Usuário Google",avatar_url:((_=p.user_metadata)==null?void 0:_.avatar_url)||((E=p.user_metadata)==null?void 0:E.picture),provider:"google",provider_id:(T=p.user_metadata)==null?void 0:T.sub,user_type:"client",email_verified:!0,subscription_status:"trial"},{data:C,error:k}=await M.from("users").select("*").eq("email",P.email).single();if(k&&k.code!=="PGRST116")throw console.error("❌ Erro ao verificar usuário existente:",k),k;if(C){console.log("👤 Atualizando usuário existente com dados do Google...");const A={subscription_status:"active",email_verified:!0,updated_at:new Date().toISOString()};console.log("📊 Dados para atualização:",A);const{error:S}=await M.from("users").update(A).eq("id",C.id);if(S)throw console.error("❌ Erro ao atualizar usuário:",{message:S.message,details:S.details,hint:S.hint,code:S.code,updateData:A,userId:C.id}),S;console.log("✅ Usuário atualizado com sucesso!")}else{console.log("👤 Criando novo usuário Google...");const A={id:P.id,email:P.email,full_name:P.full_name,user_type:"client",subscription_status:"active",email_verified:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("📊 Dados para criação:",A);const{error:S}=await M.from("users").insert(A);if(S)throw console.error("❌ Erro ao criar usuário Google:",{message:S.message,details:S.details,hint:S.hint,code:S.code,newUserData:A}),S;console.log("✅ Novo usuário Google criado com sucesso!")}console.log("✅ Usuário Google sincronizado com sucesso!"),(!r||r.id!==p.id)&&await c(p.id)}catch(P){throw console.error("💥 Erro na sincronização do usuário Google:",{message:(P==null?void 0:P.message)||"Erro desconhecido",details:(P==null?void 0:P.details)||"Sem detalhes",hint:(P==null?void 0:P.hint)||"Sem dicas",code:(P==null?void 0:P.code)||"Sem código",stack:(P==null?void 0:P.stack)||"Sem stack trace",fullError:P}),P}}};return e.jsx(Po.Provider,{value:w,children:s})};function z(){const s=g.useContext(Po);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const Zd=g.createContext(void 0),em=({children:s})=>{const[t,a]=g.useState(!1),[r,n]=g.useState(null);g.useEffect(()=>{const l=localStorage.getItem("admin_token");if(l)try{const c=atob(l),[m]=c.split(":");["admin@duopass.com","igor@duopass.com","silvia@duopass.com"].includes(m)?(a(!0),n(m)):localStorage.removeItem("admin_token")}catch{localStorage.removeItem("admin_token")}},[]);const i=async(l,c)=>{const m=["admin@duopass.com","igor@duopass.com","silvia@duopass.com"],d={"admin@duopass.com":"admin123","igor@duopass.com":"igor123","silvia@duopass.com":"silvia123"};if(m.includes(l)&&d[l]===c){const u=btoa(`${l}:${Date.now()}`);return localStorage.setItem("admin_token",u),a(!0),n(l),!0}return!1},o=()=>{localStorage.removeItem("admin_token"),a(!1),n(null),window.location.href="/admin/login"};return e.jsx(Zd.Provider,{value:{isAdminAuthenticated:t,adminEmail:r,adminLogin:i,adminLogout:o},children:s})},tm={pt:{"nav.home":"Início","nav.offers":"Ofertas","nav.history":"Histórico","nav.profile":"Perfil","nav.dashboard":"Dashboard","nav.login":"Entrar","nav.signup":"Cadastrar","nav.logout":"Sair","nav.analytics":"Analytics BI","home.title":"Pague 1, Leve 2","home.subtitle":"Descubra ofertas incríveis na sua cidade","home.cta":"Explorar Ofertas","home.categories":"Categorias","category.gastronomy":"Gastronomia","category.beauty":"Beleza","category.leisure":"Lazer","category.fitness":"Fitness","category.shopping":"Compras","category.services":"Serviços","offers.title":"Ofertas Disponíveis","offers.activate":"Ativar Cupom","offers.expires":"Expira em","offers.location":"Localização","offers.original_value":"Valor Original","auth.email":"Email","auth.password":"Senha","auth.fullname":"Nome Completo","auth.signin":"Entrar","auth.signup":"Cadastrar","auth.customer":"Cliente","auth.merchant":"Comerciante","auth.usertype":"Tipo de Usuário","subscription.required":"Assinatura Necessária","subscription.message":"Para ativar cupons, você precisa de uma assinatura ativa.","subscription.subscribe":"Assinar Agora"},en:{"nav.home":"Home","nav.offers":"Offers","nav.history":"History","nav.profile":"Profile","nav.dashboard":"Dashboard","nav.login":"Login","nav.signup":"Sign Up","nav.logout":"Logout","nav.analytics":"Analytics BI","home.title":"Pay 1, Get 2","home.subtitle":"Discover amazing offers in your city","home.cta":"Explore Offers","home.categories":"Categories","category.gastronomy":"Gastronomy","category.beauty":"Beauty","category.leisure":"Leisure","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Services","offers.title":"Available Offers","offers.activate":"Activate Coupon","offers.expires":"Expires","offers.location":"Location","offers.original_value":"Original Value","auth.email":"Email","auth.password":"Password","auth.fullname":"Full Name","auth.signin":"Sign In","auth.signup":"Sign Up","auth.customer":"Customer","auth.merchant":"Merchant","auth.usertype":"User Type","subscription.required":"Subscription Required","subscription.message":"To activate coupons, you need an active subscription.","subscription.subscribe":"Subscribe Now"},fr:{"nav.home":"Accueil","nav.offers":"Offres","nav.history":"Historique","nav.profile":"Profil","nav.dashboard":"Tableau de bord","nav.login":"Connexion","nav.signup":"S'inscrire","nav.logout":"Déconnexion","nav.analytics":"Analytics BI","home.title":"Payez 1, Obtenez 2","home.subtitle":"Découvrez des offres incroyables dans votre ville","home.cta":"Explorer les Offres","home.categories":"Catégories","category.gastronomy":"Gastronomie","category.beauty":"Beauté","category.leisure":"Loisirs","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Services","offers.title":"Offres Disponibles","offers.activate":"Activer le Coupon","offers.expires":"Expire le","offers.location":"Localisation","offers.original_value":"Valeur Originale","auth.email":"Email","auth.password":"Mot de passe","auth.fullname":"Nom Complet","auth.signin":"Se connecter","auth.signup":"S'inscrire","auth.customer":"Client","auth.merchant":"Commerçant","auth.usertype":"Type d'Utilisateur","subscription.required":"Abonnement Requis","subscription.message":"Pour activer les coupons, vous avez besoin d'un abonnement actif.","subscription.subscribe":"S'abonner Maintenant"},de:{"nav.home":"Startseite","nav.offers":"Angebote","nav.history":"Verlauf","nav.profile":"Profil","nav.dashboard":"Dashboard","nav.login":"Anmelden","nav.signup":"Registrieren","nav.logout":"Abmelden","nav.analytics":"Analytics BI","home.title":"Zahle 1, Erhalte 2","home.subtitle":"Entdecke erstaunliche Angebote in deiner Stadt","home.cta":"Angebote Erkunden","home.categories":"Kategorien","category.gastronomy":"Gastronomie","category.beauty":"Schönheit","category.leisure":"Freizeit","category.fitness":"Fitness","category.shopping":"Einkaufen","category.services":"Dienstleistungen","offers.title":"Verfügbare Angebote","offers.activate":"Gutschein Aktivieren","offers.expires":"Läuft ab","offers.location":"Standort","offers.original_value":"Originalwert","auth.email":"E-Mail","auth.password":"Passwort","auth.fullname":"Vollständiger Name","auth.signin":"Anmelden","auth.signup":"Registrieren","auth.customer":"Kunde","auth.merchant":"Händler","auth.usertype":"Benutzertyp","subscription.required":"Abonnement Erforderlich","subscription.message":"Um Gutscheine zu aktivieren, benötigen Sie ein aktives Abonnement.","subscription.subscribe":"Jetzt Abonnieren"},it:{"nav.home":"Home","nav.offers":"Offerte","nav.history":"Cronologia","nav.profile":"Profilo","nav.dashboard":"Dashboard","nav.login":"Accedi","nav.signup":"Registrati","nav.logout":"Esci","nav.analytics":"Analytics BI","home.title":"Paga 1, Prendi 2","home.subtitle":"Scopri offerte incredibili nella tua città","home.cta":"Esplora Offerte","home.categories":"Categorie","category.gastronomy":"Gastronomia","category.beauty":"Bellezza","category.leisure":"Tempo Libero","category.fitness":"Fitness","category.shopping":"Shopping","category.services":"Servizi","offers.title":"Offerte Disponibili","offers.activate":"Attiva Coupon","offers.expires":"Scade","offers.location":"Posizione","offers.original_value":"Valore Originale","auth.email":"Email","auth.password":"Password","auth.fullname":"Nome Completo","auth.signin":"Accedi","auth.signup":"Registrati","auth.customer":"Cliente","auth.merchant":"Commerciante","auth.usertype":"Tipo di Utente","subscription.required":"Abbonamento Richiesto","subscription.message":"Per attivare i coupon, hai bisogno di un abbonamento attivo.","subscription.subscribe":"Abbonati Ora"},es:{"nav.home":"Inicio","nav.offers":"Ofertas","nav.history":"Historial","nav.profile":"Perfil","nav.dashboard":"Panel","nav.login":"Iniciar Sesión","nav.signup":"Registrarse","nav.logout":"Cerrar Sesión","nav.analytics":"Analytics BI","home.title":"Paga 1, Lleva 2","home.subtitle":"Descubre ofertas increíbles en tu ciudad","home.cta":"Explorar Ofertas","home.categories":"Categorías","category.gastronomy":"Gastronomía","category.beauty":"Belleza","category.leisure":"Ocio","category.fitness":"Fitness","category.shopping":"Compras","category.services":"Servicios","offers.title":"Ofertas Disponibles","offers.activate":"Activar Cupón","offers.expires":"Expira","offers.location":"Ubicación","offers.original_value":"Valor Original","auth.email":"Email","auth.password":"Contraseña","auth.fullname":"Nombre Completo","auth.signin":"Iniciar Sesión","auth.signup":"Registrarse","auth.customer":"Cliente","auth.merchant":"Comerciante","auth.usertype":"Tipo de Usuario","subscription.required":"Suscripción Requerida","subscription.message":"Para activar cupones, necesitas una suscripción activa.","subscription.subscribe":"Suscribirse Ahora"}},To=g.createContext(void 0);function sm({children:s}){const[t,a]=g.useState("pt"),r=n=>tm[t][n]||n;return e.jsx(To.Provider,{value:{language:t,setLanguage:a,t:r},children:s})}function Dt(){const s=g.useContext(To);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var am={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(s,t)=>{const a=g.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...m},d)=>g.createElement("svg",{ref:d,...am,width:n,height:n,stroke:r,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${rm(s)}`,l].join(" "),...m},[...t.map(([u,h])=>g.createElement(u,h)),...Array.isArray(c)?c:[c]]));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=D("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=D("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=D("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=D("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=D("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=D("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=D("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=D("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=D("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=D("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=D("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=D("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=D("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=D("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=D("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=D("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=D("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=D("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=D("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=D("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=D("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=D("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=D("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=D("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=D("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=D("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=D("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=D("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=D("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=D("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=D("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=D("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=D("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=D("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=D("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=D("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=D("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=D("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=D("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=D("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=D("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=D("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=D("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=D("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=D("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=D("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=D("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=D("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=D("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=D("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=D("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=D("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=D("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=D("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=D("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=D("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=D("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=D("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=D("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Fm(){const{user:s,userProfile:t,signOut:a}=z(),{t:r}=Dt(),n=ie(),[i,o]=g.useState(!1),[l,c]=g.useState(!1),m=g.useRef(null),d=async()=>{c(!0);try{console.log("👤 Usuário clicou em Sair"),await a(),n("/login")}catch(b){console.error("❌ Erro no logout:",b)}finally{c(!1),o(!1)}};if(g.useEffect(()=>{function b(y){m.current&&!m.current.contains(y.target)&&o(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),!s||!t)return null;const u=t.user_type==="merchant",h=t.user_type==="admin",x=u?"/merchant/dashboard":"/customer-dashboard";return e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-medium text-[#333333] truncate max-w-32",children:t.full_name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.user_type==="merchant"?"Comerciante":"Cliente"})]}),e.jsx(cm,{className:`w-4 h-4 text-gray-500 transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"font-medium text-[#333333]",children:t.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${t.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:t.subscription_status==="active"?"Ativo":"Inativo"})]})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(O,{to:x,onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[u?e.jsx(Hs,{className:"w-4 h-4 mr-3"}):e.jsx(Re,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),u?e.jsxs(e.Fragment,{children:[e.jsxs(O,{to:"/merchant/offers",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(qe,{className:"w-4 h-4 mr-3"}),"Minhas Ofertas"]}),e.jsxs(O,{to:"/merchant/analytics",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Re,{className:"w-4 h-4 mr-3"}),"Analytics"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(O,{to:"/recommendations",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4 mr-3 text-orange-500"}),"Recomendações IA"]}),e.jsxs(O,{to:"/meus-vouchers",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(qe,{className:"w-4 h-4 mr-3"}),"Meus Vouchers"]}),e.jsxs(O,{to:"/history",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ra,{className:"w-4 h-4 mr-3"}),"Histórico"]}),e.jsxs(O,{to:"/connect",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(q,{className:"w-4 h-4 mr-3"}),"🤝 Connect"]})]}),h&&e.jsxs(O,{to:"/analytics",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(is,{className:"w-4 h-4 mr-3 text-purple-500"}),"Analytics BI"]}),e.jsxs(O,{to:"/profile",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(he,{className:"w-4 h-4 mr-3"}),"Perfil"]}),e.jsxs(O,{to:"/settings",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(oa,{className:"w-4 h-4 mr-3"}),"Configurações"]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2",children:e.jsxs("button",{onClick:d,disabled:l,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:[l?e.jsx("div",{className:"w-4 h-4 mr-3 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(na,{className:"w-4 h-4 mr-3"}),e.jsx("span",{children:l?"Saindo...":r("nav.logout")})]})})]})]})}function Om({isOpen:s,onClose:t}){const{user:a,userProfile:r,signOut:n}=z(),{t:i}=Dt(),o=ie(),l=async()=>{try{console.log("👤 Usuário clicou em Sair (Mobile)"),await n(),o("/login")}catch(u){console.error("❌ Erro no logout:",u)}finally{t()}},c=()=>{t()};if(g.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),!s)return null;const m=(r==null?void 0:r.user_type)==="merchant",d=m?"/merchant/dashboard":"/dashboard";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-xl z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-[#333333]",children:"Menu"}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(_e,{className:"w-5 h-5 text-gray-600"})})]}),a&&r&&e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#333333]",children:r.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.subscription_status==="active"?"Ativo":"Inativo"})]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs(O,{to:"/experiencias",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Dn,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Experiências"})]}),e.jsxs(O,{to:"/memberships",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(qe,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Memberships"})]}),e.jsxs(O,{to:"/empresas",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Hs,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Para Empresas"})]}),!a&&e.jsxs(O,{to:"/login",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(he,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Login"})]}),!a&&e.jsx(O,{to:"/trial",onClick:c,className:"mx-3 my-2 bg-gradient-to-r from-orange-500 to-purple-600 text-white px-4 py-3 rounded-lg font-semibold text-center block",children:"Comece Grátis"}),a&&r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 my-4 pt-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:m?"Área do Comerciante":"Minha Conta"}),e.jsxs(O,{to:d,onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[m?e.jsx(Hs,{className:"w-5 h-5 text-gray-600"}):e.jsx(Re,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Dashboard"})]}),m?e.jsxs(e.Fragment,{children:[e.jsxs(O,{to:"/merchant/offers",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Dn,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Minhas Ofertas"})]}),e.jsxs(O,{to:"/merchant/analytics",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Re,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Analytics"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(O,{to:"/recommendations",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(pe,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Recomendações IA"})]}),e.jsxs(O,{to:"/meus-vouchers",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(qe,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Meus Vouchers"})]}),e.jsxs(O,{to:"/history",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ra,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Histórico"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 my-4 pt-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Configurações"}),e.jsxs(O,{to:"/profile",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(he,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Perfil"})]}),e.jsxs(O,{to:"/settings",onClick:c,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(oa,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-[#333333]",children:"Configurações"})]})]})]})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:a?e.jsxs("button",{onClick:l,className:"flex items-center space-x-3 w-full p-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[e.jsx(na,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:i("nav.logout")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{to:"/login",onClick:c,className:"block w-full p-3 text-center border border-[#C91F1F] text-[#C91F1F] rounded-lg font-medium hover:bg-[#C91F1F] hover:text-white transition-colors",children:i("nav.login")}),e.jsx(O,{to:"/signup",onClick:c,className:"block w-full p-3 text-center bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-lg font-medium hover:shadow-lg transition-all",children:i("nav.signup")})]})})]})]})}const Im=[{id:"notif-1",type:"community",title:"Arte & Design",message:"Ana Silva: Pessoal, alguém foi na exposição do MASP hoje?",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-3e5).toISOString(),communityId:"arte-design",senderId:"user-1",isRead:!1},{id:"notif-2",type:"direct",title:"Carlos Mendes",message:"Oi! Vi que você também está interessado na exposição...",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-6e5).toISOString(),senderId:"user-2",isRead:!1},{id:"notif-3",type:"community",title:"Gastronomia Premium",message:"Maria Santos: Que tal formarmos um grupo para jantar no D.O.M.?",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",timestamp:new Date(Date.now()-18e5).toISOString(),communityId:"gastronomia",senderId:"user-3",isRead:!0}];function Vm({onNotificationClick:s}){const{user:t}=z(),[a,r]=g.useState([]),[n,i]=g.useState(!1);g.useEffect(()=>{(t==null?void 0:t.id)==="demo-user-id"&&r(Im)},[t]),g.useEffect(()=>{if((t==null?void 0:t.id)!=="demo-user-id")return;const u=setInterval(()=>{if(Math.random()>.8){const h={id:`notif-${Date.now()}`,type:Math.random()>.5?"community":"direct",title:Math.random()>.5?"Arte & Design":"Pedro Santos",message:"Nova mensagem recebida...",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",timestamp:new Date().toISOString(),isRead:!1};r(x=>[h,...x.slice(0,9)])}},3e4);return()=>clearInterval(u)},[t]);const o=a.filter(u=>!u.isRead).length,l=u=>{r(h=>h.map(x=>x.id===u.id?{...x,isRead:!0}:x)),s==null||s(u),i(!1)},c=()=>{r(u=>u.map(h=>({...h,isRead:!0})))},m=(u,h)=>{h.stopPropagation(),r(x=>x.filter(b=>b.id!==u))},d=u=>{const h=new Date(u),b=(new Date().getTime()-h.getTime())/(1e3*60);return b<1?"Agora":b<60?`${Math.floor(b)}m`:b<1440?`${Math.floor(b/60)}h`:`${Math.floor(b/1440)}d`};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(oe,{className:"w-6 h-6"}),o>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:o>9?"9+":o})]}),n&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Mensagens"}),o>0&&e.jsx("button",{onClick:c,className:"text-sm text-[#C91F1F] hover:text-red-700 font-medium",children:"Marcar todas como lidas"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem nova"})]}):a.map(u=>e.jsx("div",{onClick:()=>l(u),className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${u.isRead?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[u.type==="community"?e.jsx("div",{className:"w-10 h-10 bg-[#C91F1F] rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-white"})}):e.jsx("img",{src:u.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(u.title)}&background=C91F1F&color=fff`,alt:u.title,className:"w-10 h-10 rounded-full"}),!u.isRead&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:`text-sm font-medium truncate ${u.isRead?"text-gray-700":"text-gray-900"}`,children:u.title}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:d(u.timestamp)}),e.jsx("button",{onClick:h=>m(u.id,h),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(_e,{className:"w-3 h-3"})})]})]}),e.jsx("p",{className:`text-sm truncate mt-1 ${u.isRead?"text-gray-500":"text-gray-700"}`,children:u.message}),e.jsx("div",{className:"flex items-center mt-1",children:u.type==="community"?e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-[#C91F1F]",children:[e.jsx(q,{className:"w-3 h-3"}),e.jsx("span",{children:"Chat da Comunidade"})]}):e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs text-blue-600",children:[e.jsx(he,{className:"w-3 h-3"}),e.jsx("span",{children:"Mensagem Direta"})]})})]})]})},u.id))}),a.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:e.jsx("button",{className:"text-sm text-[#C91F1F] hover:text-red-700 font-medium",children:"Ver todas as mensagens"})})]}),n&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})}function Rm(){const{user:s,userProfile:t,loading:a}=z(),[r,n]=g.useState(!1);return console.log("🎭 Header render:",{hasUser:!!s,hasUserProfile:!!t,loading:a,userEmail:s==null?void 0:s.email}),e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(O,{to:"/",className:"flex items-center space-x-3",children:e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"🎭 DUO PASS"})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx(O,{to:"/experiencias",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Experiências"}),e.jsx(O,{to:"/memberships",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Memberships"}),e.jsx(O,{to:"/empresas",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Para Empresas"}),!s&&e.jsx(O,{to:"/login",className:"text-gray-700 hover:text-purple-600 font-medium transition-colors",children:"Login"}),!s&&e.jsx(O,{to:"/trial",className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white px-6 py-2 rounded-full font-semibold hover:shadow-lg transition-all duration-200 hover:scale-105",children:"Comece Grátis"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Carregando..."})]}),!a&&s&&e.jsx(Vm,{}),!a&&s&&t&&e.jsx(Fm,{}),e.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 text-gray-600 hover:text-purple-600 transition-colors",children:e.jsx(Io,{className:"w-6 h-6"})})]})]})}),e.jsx(Om,{isOpen:r,onClose:()=>n(!1)})]})}function Lm(){return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-2 rounded-lg",children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold",children:"DUO PASS"})]}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Conectando pessoas através de experiências culturais autênticas na Suíça. Sempre em dupla, sempre especial."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Zurich, Switzerland"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"contato@duopassclub.ch"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx(Mt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"+41 44 123 4567"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Links Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(O,{to:"/experiencias",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Experiências"})}),e.jsx("li",{children:e.jsx(O,{to:"/ofertas",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Ofertas"})}),e.jsx("li",{children:e.jsx(O,{to:"/memberships",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Memberships"})}),e.jsx("li",{children:e.jsx(O,{to:"/parceiros-culturais",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Parceiros Culturais"})}),e.jsx("li",{children:e.jsx(O,{to:"/empresas",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Para Empresas"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informações Legais"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(O,{to:"/termos-de-uso",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx(O,{to:"/privacidade",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Política de Privacidade"})}),e.jsx("li",{children:e.jsx(O,{to:"/cancelamento",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Cancelamento e Reembolso"})}),e.jsx("li",{children:e.jsx(O,{to:"/experiencias-termos",className:"text-gray-300 hover:text-green-400 transition-colors",children:"Termos de Experiências"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",new Date().getFullYear()," DUO PASS Club. Todos os direitos reservados."]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[e.jsx("span",{children:"🇨🇭 Empresa Suíça"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"GDPR Compliant"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"SSL Seguro"})]})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:e.jsx("p",{children:"DUO PASS Club é uma plataforma cultural registrada na Suíça. Todas as experiências estão sujeitas aos termos e condições dos estabelecimentos parceiros."})})]})]})})}const Pr=g.createContext({});function Tr(s){const t=g.useRef(null);return t.current===null&&(t.current=s()),t.current}const Ar=typeof window<"u",Uo=Ar?g.useLayoutEffect:g.useEffect,ca=g.createContext(null);function Dr(s,t){s.indexOf(t)===-1&&s.push(t)}function Mr(s,t){const a=s.indexOf(t);a>-1&&s.splice(a,1)}const Ue=(s,t,a)=>a>t?t:a<s?s:a;let Fr=()=>{};const ze={},zo=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function $o(s){return typeof s=="object"&&s!==null}const Ho=s=>/^0[^.\s]+$/u.test(s);function Or(s){let t;return()=>(t===void 0&&(t=s()),t)}const Ne=s=>s,qm=(s,t)=>a=>t(s(a)),ys=(...s)=>s.reduce(qm),os=(s,t,a)=>{const r=t-s;return r===0?1:(a-s)/r};class Ir{constructor(){this.subscriptions=[]}add(t){return Dr(this.subscriptions,t),()=>Mr(this.subscriptions,t)}notify(t,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,a,r);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ae=s=>s*1e3,De=s=>s/1e3;function Go(s,t){return t?s*(1e3/t):0}const Wo=(s,t,a)=>(((1-3*a+3*t)*s+(3*a-6*t))*s+3*t)*s,Bm=1e-7,Um=12;function zm(s,t,a,r,n){let i,o,l=0;do o=t+(a-t)/2,i=Wo(o,r,n)-s,i>0?a=o:t=o;while(Math.abs(i)>Bm&&++l<Um);return o}function vs(s,t,a,r){if(s===t&&a===r)return Ne;const n=i=>zm(i,0,1,s,a);return i=>i===0||i===1?i:Wo(n(i),t,r)}const Yo=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,Ko=s=>t=>1-s(1-t),Qo=vs(.33,1.53,.69,.99),Vr=Ko(Qo),Jo=Yo(Vr),Xo=s=>(s*=2)<1?.5*Vr(s):.5*(2-Math.pow(2,-10*(s-1))),Rr=s=>1-Math.sin(Math.acos(s)),Zo=Ko(Rr),el=Yo(Rr),$m=vs(.42,0,1,1),Hm=vs(0,0,.58,1),tl=vs(.42,0,.58,1),Gm=s=>Array.isArray(s)&&typeof s[0]!="number",sl=s=>Array.isArray(s)&&typeof s[0]=="number",Wm={linear:Ne,easeIn:$m,easeInOut:tl,easeOut:Hm,circIn:Rr,circInOut:el,circOut:Zo,backIn:Vr,backInOut:Jo,backOut:Qo,anticipate:Xo},Ym=s=>typeof s=="string",Fn=s=>{if(sl(s)){Fr(s.length===4);const[t,a,r,n]=s;return vs(t,a,r,n)}else if(Ym(s))return Wm[s];return s},Ps=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Km(s,t){let a=new Set,r=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(m.schedule(d),s()),d(l)}const m={schedule:(d,u=!1,h=!1)=>{const b=h&&n?a:r;return u&&o.add(d),b.has(d)||b.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,n){i=!0;return}n=!0,[a,r]=[r,a],a.forEach(c),a.clear(),n=!1,i&&(i=!1,m.process(d))}};return m}const Qm=40;function al(s,t){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,o=Ps.reduce((p,j)=>(p[j]=Km(i),p),{}),{setup:l,read:c,resolveKeyframes:m,preUpdate:d,update:u,preRender:h,render:x,postRender:b}=o,y=()=>{const p=ze.useManualTiming?n.timestamp:performance.now();a=!1,ze.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(p-n.timestamp,Qm),1)),n.timestamp=p,n.isProcessing=!0,l.process(n),c.process(n),m.process(n),d.process(n),u.process(n),h.process(n),x.process(n),b.process(n),n.isProcessing=!1,a&&t&&(r=!1,s(y))},v=()=>{a=!0,r=!0,n.isProcessing||s(y)};return{schedule:Ps.reduce((p,j)=>{const N=o[j];return p[j]=(_,E=!1,T=!1)=>(a||v(),N.schedule(_,E,T)),p},{}),cancel:p=>{for(let j=0;j<Ps.length;j++)o[Ps[j]].cancel(p)},state:n,steps:o}}const{schedule:Y,cancel:Qe,state:re,steps:wa}=al(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0);let Bs;function Jm(){Bs=void 0}const ue={now:()=>(Bs===void 0&&ue.set(re.isProcessing||ze.useManualTiming?re.timestamp:performance.now()),Bs),set:s=>{Bs=s,queueMicrotask(Jm)}},rl=s=>t=>typeof t=="string"&&t.startsWith(s),Lr=rl("--"),Xm=rl("var(--"),qr=s=>Xm(s)?Zm.test(s.split("/*")[0].trim()):!1,Zm=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ot={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},ls={...Ot,transform:s=>Ue(0,1,s)},Ts={...Ot,default:1},Jt=s=>Math.round(s*1e5)/1e5,Br=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eu(s){return s==null}const tu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ur=(s,t)=>a=>!!(typeof a=="string"&&tu.test(a)&&a.startsWith(s)||t&&!eu(a)&&Object.prototype.hasOwnProperty.call(a,t)),nl=(s,t,a)=>r=>{if(typeof r!="string")return r;const[n,i,o,l]=r.match(Br);return{[s]:parseFloat(n),[t]:parseFloat(i),[a]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},su=s=>Ue(0,255,s),Na={...Ot,transform:s=>Math.round(su(s))},nt={test:Ur("rgb","red"),parse:nl("red","green","blue"),transform:({red:s,green:t,blue:a,alpha:r=1})=>"rgba("+Na.transform(s)+", "+Na.transform(t)+", "+Na.transform(a)+", "+Jt(ls.transform(r))+")"};function au(s){let t="",a="",r="",n="";return s.length>5?(t=s.substring(1,3),a=s.substring(3,5),r=s.substring(5,7),n=s.substring(7,9)):(t=s.substring(1,2),a=s.substring(2,3),r=s.substring(3,4),n=s.substring(4,5),t+=t,a+=a,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const Za={test:Ur("#"),parse:au,transform:nt.transform},js=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),We=js("deg"),Me=js("%"),I=js("px"),ru=js("vh"),nu=js("vw"),On={...Me,parse:s=>Me.parse(s)/100,transform:s=>Me.transform(s*100)},pt={test:Ur("hsl","hue"),parse:nl("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(s)+", "+Me.transform(Jt(t))+", "+Me.transform(Jt(a))+", "+Jt(ls.transform(r))+")"},ee={test:s=>nt.test(s)||Za.test(s)||pt.test(s),parse:s=>nt.test(s)?nt.parse(s):pt.test(s)?pt.parse(s):Za.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?nt.transform(s):pt.transform(s),getAnimatableNone:s=>{const t=ee.parse(s);return t.alpha=0,ee.transform(t)}},iu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ou(s){var t,a;return isNaN(s)&&typeof s=="string"&&(((t=s.match(Br))==null?void 0:t.length)||0)+(((a=s.match(iu))==null?void 0:a.length)||0)>0}const il="number",ol="color",lu="var",cu="var(",In="${}",du=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cs(s){const t=s.toString(),a=[],r={color:[],number:[],var:[]},n=[];let i=0;const l=t.replace(du,c=>(ee.test(c)?(r.color.push(i),n.push(ol),a.push(ee.parse(c))):c.startsWith(cu)?(r.var.push(i),n.push(lu),a.push(c)):(r.number.push(i),n.push(il),a.push(parseFloat(c))),++i,In)).split(In);return{values:a,split:l,indexes:r,types:n}}function ll(s){return cs(s).values}function cl(s){const{split:t,types:a}=cs(s),r=t.length;return n=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],n[o]!==void 0){const l=a[o];l===il?i+=Jt(n[o]):l===ol?i+=ee.transform(n[o]):i+=n[o]}return i}}const mu=s=>typeof s=="number"?0:ee.test(s)?ee.getAnimatableNone(s):s;function uu(s){const t=ll(s);return cl(s)(t.map(mu))}const Je={test:ou,parse:ll,createTransformer:cl,getAnimatableNone:uu};function Ca(s,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(t-s)*6*a:a<1/2?t:a<2/3?s+(t-s)*(2/3-a)*6:s}function hu({hue:s,saturation:t,lightness:a,alpha:r}){s/=360,t/=100,a/=100;let n=0,i=0,o=0;if(!t)n=i=o=a;else{const l=a<.5?a*(1+t):a+t-a*t,c=2*a-l;n=Ca(c,l,s+1/3),i=Ca(c,l,s),o=Ca(c,l,s-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Gs(s,t){return a=>a>0?t:s}const K=(s,t,a)=>s+(t-s)*a,Sa=(s,t,a)=>{const r=s*s,n=a*(t*t-r)+r;return n<0?0:Math.sqrt(n)},xu=[Za,nt,pt],pu=s=>xu.find(t=>t.test(s));function Vn(s){const t=pu(s);if(!t)return!1;let a=t.parse(s);return t===pt&&(a=hu(a)),a}const Rn=(s,t)=>{const a=Vn(s),r=Vn(t);if(!a||!r)return Gs(s,t);const n={...a};return i=>(n.red=Sa(a.red,r.red,i),n.green=Sa(a.green,r.green,i),n.blue=Sa(a.blue,r.blue,i),n.alpha=K(a.alpha,r.alpha,i),nt.transform(n))},er=new Set(["none","hidden"]);function fu(s,t){return er.has(s)?a=>a<=0?s:t:a=>a>=1?t:s}function gu(s,t){return a=>K(s,t,a)}function zr(s){return typeof s=="number"?gu:typeof s=="string"?qr(s)?Gs:ee.test(s)?Rn:vu:Array.isArray(s)?dl:typeof s=="object"?ee.test(s)?Rn:bu:Gs}function dl(s,t){const a=[...s],r=a.length,n=s.map((i,o)=>zr(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)a[o]=n[o](i);return a}}function bu(s,t){const a={...s,...t},r={};for(const n in a)s[n]!==void 0&&t[n]!==void 0&&(r[n]=zr(s[n])(s[n],t[n]));return n=>{for(const i in r)a[i]=r[i](n);return a}}function yu(s,t){const a=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],o=s.indexes[i][r[i]],l=s.values[o]??0;a[n]=l,r[i]++}return a}const vu=(s,t)=>{const a=Je.createTransformer(t),r=cs(s),n=cs(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?er.has(s)&&!n.values.length||er.has(t)&&!r.values.length?fu(s,t):ys(dl(yu(r,n),n.values),a):Gs(s,t)};function ml(s,t,a){return typeof s=="number"&&typeof t=="number"&&typeof a=="number"?K(s,t,a):zr(s)(s,t)}const ju=s=>{const t=({timestamp:a})=>s(a);return{start:(a=!0)=>Y.update(t,a),stop:()=>Qe(t),now:()=>re.isProcessing?re.timestamp:ue.now()}},ul=(s,t,a=10)=>{let r="";const n=Math.max(Math.round(t/a),2);for(let i=0;i<n;i++)r+=Math.round(s(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ws=2e4;function $r(s){let t=0;const a=50;let r=s.next(t);for(;!r.done&&t<Ws;)t+=a,r=s.next(t);return t>=Ws?1/0:t}function wu(s,t=100,a){const r=a({...s,keyframes:[0,t]}),n=Math.min($r(r),Ws);return{type:"keyframes",ease:i=>r.next(n*i).value/t,duration:De(n)}}const Nu=5;function hl(s,t,a){const r=Math.max(t-Nu,0);return Go(a-s(r),t-r)}const Q={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_a=.001;function Cu({duration:s=Q.duration,bounce:t=Q.bounce,velocity:a=Q.velocity,mass:r=Q.mass}){let n,i,o=1-t;o=Ue(Q.minDamping,Q.maxDamping,o),s=Ue(Q.minDuration,Q.maxDuration,De(s)),o<1?(n=m=>{const d=m*o,u=d*s,h=d-a,x=tr(m,o),b=Math.exp(-u);return _a-h/x*b},i=m=>{const u=m*o*s,h=u*a+a,x=Math.pow(o,2)*Math.pow(m,2)*s,b=Math.exp(-u),y=tr(Math.pow(m,2),o);return(-n(m)+_a>0?-1:1)*((h-x)*b)/y}):(n=m=>{const d=Math.exp(-m*s),u=(m-a)*s+1;return-_a+d*u},i=m=>{const d=Math.exp(-m*s),u=(a-m)*(s*s);return d*u});const l=5/s,c=_u(n,i,l);if(s=Ae(s),isNaN(c))return{stiffness:Q.stiffness,damping:Q.damping,duration:s};{const m=Math.pow(c,2)*r;return{stiffness:m,damping:o*2*Math.sqrt(r*m),duration:s}}}const Su=12;function _u(s,t,a){let r=a;for(let n=1;n<Su;n++)r=r-s(r)/t(r);return r}function tr(s,t){return s*Math.sqrt(1-t*t)}const ku=["duration","bounce"],Eu=["stiffness","damping","mass"];function Ln(s,t){return t.some(a=>s[a]!==void 0)}function Pu(s){let t={velocity:Q.velocity,stiffness:Q.stiffness,damping:Q.damping,mass:Q.mass,isResolvedFromDuration:!1,...s};if(!Ln(s,Eu)&&Ln(s,ku))if(s.visualDuration){const a=s.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,i=2*Ue(.05,1,1-(s.bounce||0))*Math.sqrt(n);t={...t,mass:Q.mass,stiffness:n,damping:i}}else{const a=Cu(s);t={...t,...a,mass:Q.mass},t.isResolvedFromDuration=!0}return t}function Ys(s=Q.visualDuration,t=Q.bounce){const a=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:r,restDelta:n}=a;const i=a.keyframes[0],o=a.keyframes[a.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:m,mass:d,duration:u,velocity:h,isResolvedFromDuration:x}=Pu({...a,velocity:-De(a.velocity||0)}),b=h||0,y=m/(2*Math.sqrt(c*d)),v=o-i,f=De(Math.sqrt(c/d)),w=Math.abs(v)<5;r||(r=w?Q.restSpeed.granular:Q.restSpeed.default),n||(n=w?Q.restDelta.granular:Q.restDelta.default);let p;if(y<1){const N=tr(f,y);p=_=>{const E=Math.exp(-y*f*_);return o-E*((b+y*f*v)/N*Math.sin(N*_)+v*Math.cos(N*_))}}else if(y===1)p=N=>o-Math.exp(-f*N)*(v+(b+f*v)*N);else{const N=f*Math.sqrt(y*y-1);p=_=>{const E=Math.exp(-y*f*_),T=Math.min(N*_,300);return o-E*((b+y*f*v)*Math.sinh(T)+N*v*Math.cosh(T))/N}}const j={calculatedDuration:x&&u||null,next:N=>{const _=p(N);if(x)l.done=N>=u;else{let E=N===0?b:0;y<1&&(E=N===0?Ae(b):hl(p,N,_));const T=Math.abs(E)<=r,P=Math.abs(o-_)<=n;l.done=T&&P}return l.value=l.done?o:_,l},toString:()=>{const N=Math.min($r(j),Ws),_=ul(E=>j.next(N*E).value,N,30);return N+"ms "+_},toTransition:()=>{}};return j}Ys.applyToOptions=s=>{const t=wu(s,100,Ys);return s.ease=t.ease,s.duration=Ae(t.duration),s.type="keyframes",s};function sr({keyframes:s,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:m=.5,restSpeed:d}){const u=s[0],h={done:!1,value:u},x=T=>l!==void 0&&T<l||c!==void 0&&T>c,b=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let y=a*t;const v=u+y,f=o===void 0?v:o(v);f!==v&&(y=f-u);const w=T=>-y*Math.exp(-T/r),p=T=>f+w(T),j=T=>{const P=w(T),C=p(T);h.done=Math.abs(P)<=m,h.value=h.done?f:C};let N,_;const E=T=>{x(h.value)&&(N=T,_=Ys({keyframes:[h.value,b(h.value)],velocity:hl(p,T,h.value),damping:n,stiffness:i,restDelta:m,restSpeed:d}))};return E(0),{calculatedDuration:null,next:T=>{let P=!1;return!_&&N===void 0&&(P=!0,j(T),E(T)),N!==void 0&&T>=N?_.next(T-N):(!P&&j(T),h)}}}function Tu(s,t,a){const r=[],n=a||ze.mix||ml,i=s.length-1;for(let o=0;o<i;o++){let l=n(s[o],s[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ne:t;l=ys(c,l)}r.push(l)}return r}function Au(s,t,{clamp:a=!0,ease:r,mixer:n}={}){const i=s.length;if(Fr(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=s[0]===s[1];s[0]>s[i-1]&&(s=[...s].reverse(),t=[...t].reverse());const l=Tu(t,r,n),c=l.length,m=d=>{if(o&&d<s[0])return t[0];let u=0;if(c>1)for(;u<s.length-2&&!(d<s[u+1]);u++);const h=os(s[u],s[u+1],d);return l[u](h)};return a?d=>m(Ue(s[0],s[i-1],d)):m}function Du(s,t){const a=s[s.length-1];for(let r=1;r<=t;r++){const n=os(0,t,r);s.push(K(a,1,n))}}function Mu(s){const t=[0];return Du(t,s.length-1),t}function Fu(s,t){return s.map(a=>a*t)}function Ou(s,t){return s.map(()=>t||tl).splice(0,s.length-1)}function Xt({duration:s=300,keyframes:t,times:a,ease:r="easeInOut"}){const n=Gm(r)?r.map(Fn):Fn(r),i={done:!1,value:t[0]},o=Fu(a&&a.length===t.length?a:Mu(t),s),l=Au(o,t,{ease:Array.isArray(n)?n:Ou(t,n)});return{calculatedDuration:s,next:c=>(i.value=l(c),i.done=c>=s,i)}}const Iu=s=>s!==null;function Hr(s,{repeat:t,repeatType:a="loop"},r,n=1){const i=s.filter(Iu),l=n<0||t&&a!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Vu={decay:sr,inertia:sr,tween:Xt,keyframes:Xt,spring:Ys};function xl(s){typeof s.type=="string"&&(s.type=Vu[s.type])}class Gr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const Ru=s=>s/100;class Wr extends Gr{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:a}=this.options;a&&a.updatedAt!==ue.now()&&this.tick(ue.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xl(t);const{type:a=Xt,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=a||Xt;c!==Xt&&typeof l[0]!="number"&&(this.mixKeyframes=ys(Ru,ml(l[0],l[1])),l=[0,100]);const m=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=$r(m));const{calculatedDuration:d}=m;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=m}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:d,repeat:u,repeatType:h,repeatDelay:x,type:b,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const f=this.currentTime-m*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?f<0:f>n;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let p=this.currentTime,j=r;if(u){const T=Math.min(this.currentTime,n)/l;let P=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&P--,P=Math.min(P,u+1),!!(P%2)&&(h==="reverse"?(C=1-C,x&&(C-=x/l)):h==="mirror"&&(j=o)),p=Ue(0,1,C)*l}const N=w?{done:!1,value:d[0]}:j.next(p);i&&(N.value=i(N.value));let{done:_}=N;!w&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return E&&b!==sr&&(N.value=Hr(d,this.options,v,this.speed)),y&&y(N.value),E&&this.finish(),N}then(t,a){return this.finished.then(t,a)}get duration(){return De(this.calculatedDuration)}get time(){return De(this.currentTime)}set time(t){var a;t=Ae(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ue.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=De(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:t=ju,startTime:a}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(n=this.options).onPlay)==null||i.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ue.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function Lu(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const it=s=>s*180/Math.PI,ar=s=>{const t=it(Math.atan2(s[1],s[0]));return rr(t)},qu={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:ar,rotateZ:ar,skewX:s=>it(Math.atan(s[1])),skewY:s=>it(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},rr=s=>(s=s%360,s<0&&(s+=360),s),qn=ar,Bn=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Un=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),Bu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bn,scaleY:Un,scale:s=>(Bn(s)+Un(s))/2,rotateX:s=>rr(it(Math.atan2(s[6],s[5]))),rotateY:s=>rr(it(Math.atan2(-s[2],s[0]))),rotateZ:qn,rotate:qn,skewX:s=>it(Math.atan(s[4])),skewY:s=>it(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function nr(s){return s.includes("scale")?1:0}function ir(s,t){if(!s||s==="none")return nr(t);const a=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=Bu,n=a;else{const l=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qu,n=l}if(!n)return nr(t);const i=r[t],o=n[1].split(",").map(zu);return typeof i=="function"?i(o):o[i]}const Uu=(s,t)=>{const{transform:a="none"}=getComputedStyle(s);return ir(a,t)};function zu(s){return parseFloat(s.trim())}const It=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vt=new Set(It),zn=s=>s===Ot||s===I,$u=new Set(["x","y","z"]),Hu=It.filter(s=>!$u.has(s));function Gu(s){const t=[];return Hu.forEach(a=>{const r=s.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const lt={width:({x:s},{paddingLeft:t="0",paddingRight:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),height:({y:s},{paddingTop:t="0",paddingBottom:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>ir(t,"x"),y:(s,{transform:t})=>ir(t,"y")};lt.translateX=lt.x;lt.translateY=lt.y;const ct=new Set;let or=!1,lr=!1,cr=!1;function pl(){if(lr){const s=Array.from(ct).filter(r=>r.needsMeasurement),t=new Set(s.map(r=>r.element)),a=new Map;t.forEach(r=>{const n=Gu(r);n.length&&(a.set(r,n),r.render())}),s.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lr=!1,or=!1,ct.forEach(s=>s.complete(cr)),ct.clear()}function fl(){ct.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(lr=!0)})}function Wu(){cr=!0,fl(),pl(),cr=!1}class Yr{constructor(t,a,r,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ct.add(this),or||(or=!0,Y.read(fl),Y.resolveKeyframes(pl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:n}=this;if(t[0]===null){const i=n==null?void 0:n.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&a){const l=r.readValue(a,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),n&&i===void 0&&n.set(t[0])}Lu(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ct.delete(this)}cancel(){this.state==="scheduled"&&(ct.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yu=s=>s.startsWith("--");function Ku(s,t,a){Yu(t)?s.style.setProperty(t,a):s.style[t]=a}const Qu=Or(()=>window.ScrollTimeline!==void 0),Ju={};function Xu(s,t){const a=Or(s);return()=>Ju[t]??a()}const gl=Xu(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wt=([s,t,a,r])=>`cubic-bezier(${s}, ${t}, ${a}, ${r})`,$n={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wt([0,.65,.55,1]),circOut:Wt([.55,0,1,.45]),backIn:Wt([.31,.01,.66,-.59]),backOut:Wt([.33,1.53,.69,.99])};function bl(s,t){if(s)return typeof s=="function"?gl()?ul(s,t):"ease-out":sl(s)?Wt(s):Array.isArray(s)?s.map(a=>bl(a,t)||$n.easeOut):$n[s]}function Zu(s,t,a,{delay:r=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},m=void 0){const d={[t]:a};c&&(d.offset=c);const u=bl(l,n);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return m&&(h.pseudoElement=m),s.animate(d,h)}function yl(s){return typeof s=="function"&&"applyToOptions"in s}function eh({type:s,...t}){return yl(s)&&gl()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class th extends Gr{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Fr(typeof t.type!="string");const m=eh(t);this.animation=Zu(a,r,n,m,i),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Hr(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Ku(a,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,r;const t=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return De(Number(t))}get time(){return De(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ae(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Qu()?(this.animation.timeline=t,Ne):a(this)}}const vl={anticipate:Xo,backInOut:Jo,circInOut:el};function sh(s){return s in vl}function ah(s){typeof s.ease=="string"&&sh(s.ease)&&(s.ease=vl[s.ease])}const Hn=10;class rh extends th{constructor(t){ah(t),xl(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:n,element:i,...o}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const l=new Wr({...o,autoplay:!1}),c=Ae(this.finishedTime??this.time);a.setWithVelocity(l.sample(c-Hn).value,l.sample(c).value,Hn),l.stop()}}const Gn=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Je.test(s)||s==="0")&&!s.startsWith("url("));function nh(s){const t=s[0];if(s.length===1)return!0;for(let a=0;a<s.length;a++)if(s[a]!==t)return!0}function ih(s,t,a,r){const n=s[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=s[s.length-1],o=Gn(n,t),l=Gn(i,t);return!o||!l?!1:nh(s)||(a==="spring"||yl(a))&&r}const oh=new Set(["opacity","clipPath","filter","transform"]),lh=Or(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ch(s){var d;const{motionValue:t,name:a,repeatDelay:r,repeatType:n,damping:i,type:o}=s;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:m}=t.owner.getProps();return lh()&&a&&oh.has(a)&&(a!=="transform"||!m)&&!c&&!r&&n!=="mirror"&&i!==0&&o!=="inertia"}const dh=40;class mh extends Gr{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:m,element:d,...u}){var b;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ue.now();const h={autoplay:t,delay:a,type:r,repeat:n,repeatDelay:i,repeatType:o,name:c,motionValue:m,element:d,...u},x=(d==null?void 0:d.KeyframeResolver)||Yr;this.keyframeResolver=new x(l,(y,v,f)=>this.onKeyframesResolved(y,v,h,!f),c,m,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,a,r,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:m,onUpdate:d}=r;this.resolvedAt=ue.now(),ih(t,i,o,l)||((ze.instantAnimations||!c)&&(d==null||d(Hr(t,r,a))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>dh?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},x=!m&&ch(h)?new rh({...h,element:h.motionValue.owner.current}):new Wr(h);x.finished.then(()=>this.notifyFinished()).catch(Ne),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Wu()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hh(s){const t=uh.exec(s);if(!t)return[,];const[,a,r,n]=t;return[`--${a??r}`,n]}function jl(s,t,a=1){const[r,n]=hh(s);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return zo(o)?parseFloat(o):o}return qr(n)?jl(n,t,a+1):n}function Kr(s,t){return(s==null?void 0:s[t])??(s==null?void 0:s.default)??s}const wl=new Set(["width","height","top","left","right","bottom",...It]),xh={test:s=>s==="auto",parse:s=>s},Nl=s=>t=>t.test(s),Cl=[Ot,I,Me,We,nu,ru,xh],Wn=s=>Cl.find(Nl(s));function ph(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||Ho(s):!0}const fh=new Set(["brightness","contrast","saturate","opacity"]);function gh(s){const[t,a]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[r]=a.match(Br)||[];if(!r)return s;const n=a.replace(r,"");let i=fh.has(t)?1:0;return r!==a&&(i*=100),t+"("+i+n+")"}const bh=/\b([a-z-]*)\(.*?\)/gu,dr={...Je,getAnimatableNone:s=>{const t=s.match(bh);return t?t.map(gh).join(" "):s}},Yn={...Ot,transform:Math.round},yh={rotate:We,rotateX:We,rotateY:We,rotateZ:We,scale:Ts,scaleX:Ts,scaleY:Ts,scaleZ:Ts,skew:We,skewX:We,skewY:We,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:ls,originX:On,originY:On,originZ:I},Qr={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I,...yh,zIndex:Yn,fillOpacity:ls,strokeOpacity:ls,numOctaves:Yn},vh={...Qr,color:ee,backgroundColor:ee,outlineColor:ee,fill:ee,stroke:ee,borderColor:ee,borderTopColor:ee,borderRightColor:ee,borderBottomColor:ee,borderLeftColor:ee,filter:dr,WebkitFilter:dr},Sl=s=>vh[s];function _l(s,t){let a=Sl(s);return a!==dr&&(a=Je),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const jh=new Set(["auto","none","0"]);function wh(s,t,a){let r=0,n;for(;r<s.length&&!n;){const i=s[r];typeof i=="string"&&!jh.has(i)&&cs(i).values.length&&(n=s[r]),r++}if(n&&a)for(const i of t)s[i]=_l(a,n)}class Nh extends Yr{constructor(t,a,r,n,i){super(t,a,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let m=t[c];if(typeof m=="string"&&(m=m.trim(),qr(m))){const d=jl(m,a.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!wl.has(r)||t.length!==2)return;const[n,i]=t,o=Wn(n),l=Wn(i);if(o!==l)if(zn(o)&&zn(l))for(let c=0;c<t.length;c++){const m=t[c];typeof m=="string"&&(t[c]=parseFloat(m))}else lt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||ph(t[n]))&&r.push(n);r.length&&wh(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var l;const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=lt[a](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,m])=>{t.getValue(c).set(m)}),this.resolveNoneKeyframes()}}function Ch(s,t,a){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let r=document;const n=(a==null?void 0:a[s])??r.querySelectorAll(s);return n?Array.from(n):[]}return Array.from(s)}const kl=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function El(s){return $o(s)&&"offsetHeight"in s}const Kn=30,Sh=s=>!isNaN(parseFloat(s));class _h{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{var o,l;const i=ue.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();n&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=ue.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Sh(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new Ir);const r=this.events[t].add(a);return t==="change"?()=>{r(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t,a=!0){!a||!this.passiveEffect?this.updateAndNotify(t,a):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ue.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kn)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Kn);return Go(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function St(s,t){return new _h(s,t)}const{schedule:Jr}=al(queueMicrotask,!1),Se={x:!1,y:!1};function Pl(){return Se.x||Se.y}function kh(s){return s==="x"||s==="y"?Se[s]?null:(Se[s]=!0,()=>{Se[s]=!1}):Se.x||Se.y?null:(Se.x=Se.y=!0,()=>{Se.x=Se.y=!1})}function Tl(s,t){const a=Ch(s),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[a,n,()=>r.abort()]}function Qn(s){return!(s.pointerType==="touch"||Pl())}function Eh(s,t,a={}){const[r,n,i]=Tl(s,a),o=l=>{if(!Qn(l))return;const{target:c}=l,m=t(c,l);if(typeof m!="function"||!c)return;const d=u=>{Qn(u)&&(m(u),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,n)};return r.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const Al=(s,t)=>t?s===t?!0:Al(s,t.parentElement):!1,Xr=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,Ph=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Th(s){return Ph.has(s.tagName)||s.tabIndex!==-1}const Us=new WeakSet;function Jn(s){return t=>{t.key==="Enter"&&s(t)}}function ka(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ah=(s,t)=>{const a=s.currentTarget;if(!a)return;const r=Jn(()=>{if(Us.has(a))return;ka(a,"down");const n=Jn(()=>{ka(a,"up")}),i=()=>ka(a,"cancel");a.addEventListener("keyup",n,t),a.addEventListener("blur",i,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function Xn(s){return Xr(s)&&!Pl()}function Dh(s,t,a={}){const[r,n,i]=Tl(s,a),o=l=>{const c=l.currentTarget;if(!Xn(l))return;Us.add(c);const m=t(c,l),d=(x,b)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h),Us.has(c)&&Us.delete(c),Xn(x)&&typeof m=="function"&&m(x,{success:b})},u=x=>{d(x,c===window||c===document||a.useGlobalTarget||Al(c,x.target))},h=x=>{d(x,!1)};window.addEventListener("pointerup",u,n),window.addEventListener("pointercancel",h,n)};return r.forEach(l=>{(a.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),El(l)&&(l.addEventListener("focus",m=>Ah(m,n)),!Th(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Dl(s){return $o(s)&&"ownerSVGElement"in s}function Mh(s){return Dl(s)&&s.tagName==="svg"}const le=s=>!!(s&&s.getVelocity),Fh=[...Cl,ee,Je],Oh=s=>Fh.find(Nl(s)),Zr=g.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class Ih extends g.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=El(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Vh({children:s,isPresent:t,anchorX:a,root:r}){const n=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(Zr);return g.useInsertionEffect(()=>{const{width:c,height:m,top:d,left:u,right:h}=o.current;if(t||!i.current||!c||!m)return;const x=a==="left"?`left: ${u}`:`right: ${h}`;i.current.dataset.motionPopId=n;const b=document.createElement("style");l&&(b.nonce=l);const y=r??document.head;return y.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.removeChild(b),y.contains(b)&&y.removeChild(b)}},[t]),e.jsx(Ih,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(s,{ref:i})})}const Rh=({children:s,initial:t,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const m=Tr(Lh),d=g.useId();let u=!0,h=g.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:a,custom:n,onExitComplete:x=>{m.set(x,!0);for(const b of m.values())if(!b)return;r&&r()},register:x=>(m.set(x,!1),()=>m.delete(x))}),[a,m,r]);return i&&u&&(h={...h}),g.useMemo(()=>{m.forEach((x,b)=>m.set(b,!1))},[a]),g.useEffect(()=>{!a&&!m.size&&r&&r()},[a]),o==="popLayout"&&(s=e.jsx(Vh,{isPresent:a,anchorX:l,root:c,children:s})),e.jsx(ca.Provider,{value:h,children:s})};function Lh(){return new Map}function Ml(s=!0){const t=g.useContext(ca);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=t,i=g.useId();g.useEffect(()=>{if(s)return n(i)},[s]);const o=g.useCallback(()=>s&&r&&r(i),[i,r,s]);return!a&&r?[!1,o]:[!0]}const As=s=>s.key||"";function Zn(s){const t=[];return g.Children.forEach(s,a=>{g.isValidElement(a)&&t.push(a)}),t}const qh=({children:s,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[m,d]=Ml(o),u=g.useMemo(()=>Zn(s),[s]),h=o&&!m?[]:u.map(As),x=g.useRef(!0),b=g.useRef(u),y=Tr(()=>new Map),[v,f]=g.useState(u),[w,p]=g.useState(u);Uo(()=>{x.current=!1,b.current=u;for(let _=0;_<w.length;_++){const E=As(w[_]);h.includes(E)?y.delete(E):y.get(E)!==!0&&y.set(E,!1)}},[w,h.length,h.join("-")]);const j=[];if(u!==v){let _=[...u];for(let E=0;E<w.length;E++){const T=w[E],P=As(T);h.includes(P)||(_.splice(E,0,T),j.push(T))}return i==="wait"&&j.length&&(_=j),p(Zn(_)),f(u),null}const{forceRender:N}=g.useContext(Pr);return e.jsx(e.Fragment,{children:w.map(_=>{const E=As(_),T=o&&!m?!1:u===w||h.includes(E),P=()=>{if(y.has(E))y.set(E,!0);else return;let C=!0;y.forEach(k=>{k||(C=!1)}),C&&(N==null||N(),p(b.current),o&&(d==null||d()),r&&r())};return e.jsx(Rh,{isPresent:T,initial:!x.current||a?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:T?void 0:P,anchorX:l,children:_},E)})})},Fl=g.createContext({strict:!1}),ei={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_t={};for(const s in ei)_t[s]={isEnabled:t=>ei[s].some(a=>!!t[a])};function Bh(s){for(const t in s)_t[t]={..._t[t],...s[t]}}const Uh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ks(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||Uh.has(s)}let Ol=s=>!Ks(s);function zh(s){typeof s=="function"&&(Ol=t=>t.startsWith("on")?!Ks(t):s(t))}try{zh(require("@emotion/is-prop-valid").default)}catch{}function $h(s,t,a){const r={};for(const n in s)n==="values"&&typeof s.values=="object"||(Ol(n)||a===!0&&Ks(n)||!t&&!Ks(n)||s.draggable&&n.startsWith("onDrag"))&&(r[n]=s[n]);return r}const da=g.createContext({});function ma(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function ds(s){return typeof s=="string"||Array.isArray(s)}const en=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tn=["initial",...en];function ua(s){return ma(s.animate)||tn.some(t=>ds(s[t]))}function Il(s){return!!(ua(s)||s.variants)}function Hh(s,t){if(ua(s)){const{initial:a,animate:r}=s;return{initial:a===!1||ds(a)?a:void 0,animate:ds(r)?r:void 0}}return s.inherit!==!1?t:{}}function Gh(s){const{initial:t,animate:a}=Hh(s,g.useContext(da));return g.useMemo(()=>({initial:t,animate:a}),[ti(t),ti(a)])}function ti(s){return Array.isArray(s)?s.join(" "):s}const ms={};function Wh(s){for(const t in s)ms[t]=s[t],Lr(t)&&(ms[t].isCSSVariable=!0)}function Vl(s,{layout:t,layoutId:a}){return Vt.has(s)||s.startsWith("origin")||(t||a!==void 0)&&(!!ms[s]||s==="opacity")}const Yh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kh=It.length;function Qh(s,t,a){let r="",n=!0;for(let i=0;i<Kh;i++){const o=It[i],l=s[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||a){const m=kl(l,Qr[o]);if(!c){n=!1;const d=Yh[o]||o;r+=`${d}(${m}) `}a&&(t[o]=m)}}return r=r.trim(),a?r=a(t,n?"":r):n&&(r="none"),r}function sn(s,t,a){const{style:r,vars:n,transformOrigin:i}=s;let o=!1,l=!1;for(const c in t){const m=t[c];if(Vt.has(c)){o=!0;continue}else if(Lr(c)){n[c]=m;continue}else{const d=kl(m,Qr[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||a?r.transform=Qh(t,s.transform,a):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:m="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${m} ${d}`}}const an=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rl(s,t,a){for(const r in t)!le(t[r])&&!Vl(r,a)&&(s[r]=t[r])}function Jh({transformTemplate:s},t){return g.useMemo(()=>{const a=an();return sn(a,t,s),Object.assign({},a.vars,a.style)},[t])}function Xh(s,t){const a=s.style||{},r={};return Rl(r,a,s),Object.assign(r,Jh(s,t)),r}function Zh(s,t){const a={},r=Xh(s,t);return s.drag&&s.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(a.tabIndex=0),a.style=r,a}const ex={offset:"stroke-dashoffset",array:"stroke-dasharray"},tx={offset:"strokeDashoffset",array:"strokeDasharray"};function sx(s,t,a=1,r=0,n=!0){s.pathLength=1;const i=n?ex:tx;s[i.offset]=I.transform(-r);const o=I.transform(t),l=I.transform(a);s[i.array]=`${o} ${l}`}function Ll(s,{attrX:t,attrY:a,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},c,m,d){if(sn(s,l,m),c){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:u,style:h}=s;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),a!==void 0&&(u.y=a),r!==void 0&&(u.scale=r),n!==void 0&&sx(u,n,i,o,!1)}const ql=()=>({...an(),attrs:{}}),Bl=s=>typeof s=="string"&&s.toLowerCase()==="svg";function ax(s,t,a,r){const n=g.useMemo(()=>{const i=ql();return Ll(i,t,Bl(r),s.transformTemplate,s.style),{...i.attrs,style:{...i.style}}},[t]);if(s.style){const i={};Rl(i,s.style,s),n.style={...i,...n.style}}return n}const rx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rn(s){return typeof s!="string"||s.includes("-")?!1:!!(rx.indexOf(s)>-1||/[A-Z]/u.test(s))}function nx(s,t,a,{latestValues:r},n,i=!1){const l=(rn(s)?ax:Zh)(t,r,n,s),c=$h(t,typeof s=="string",i),m=s!==g.Fragment?{...c,...l,ref:a}:{},{children:d}=t,u=g.useMemo(()=>le(d)?d.get():d,[d]);return g.createElement(s,{...m,children:u})}function si(s){const t=[{},{}];return s==null||s.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function nn(s,t,a,r){if(typeof t=="function"){const[n,i]=si(r);t=t(a!==void 0?a:s.custom,n,i)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[n,i]=si(r);t=t(a!==void 0?a:s.custom,n,i)}return t}function zs(s){return le(s)?s.get():s}function ix({scrapeMotionValuesFromProps:s,createRenderState:t},a,r,n){return{latestValues:ox(a,r,n,s),renderState:t()}}function ox(s,t,a,r){const n={},i=r(s,{});for(const h in i)n[h]=zs(i[h]);let{initial:o,animate:l}=s;const c=ua(s),m=Il(s);t&&m&&!c&&s.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=a?a.initial===!1:!1;d=d||o===!1;const u=d?l:o;if(u&&typeof u!="boolean"&&!ma(u)){const h=Array.isArray(u)?u:[u];for(let x=0;x<h.length;x++){const b=nn(s,h[x]);if(b){const{transitionEnd:y,transition:v,...f}=b;for(const w in f){let p=f[w];if(Array.isArray(p)){const j=d?p.length-1:0;p=p[j]}p!==null&&(n[w]=p)}for(const w in y)n[w]=y[w]}}}return n}const Ul=s=>(t,a)=>{const r=g.useContext(da),n=g.useContext(ca),i=()=>ix(s,t,r,n);return a?i():Tr(i)};function on(s,t,a){var i;const{style:r}=s,n={};for(const o in r)(le(r[o])||t.style&&le(t.style[o])||Vl(o,s)||((i=a==null?void 0:a.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(n[o]=r[o]);return n}const lx=Ul({scrapeMotionValuesFromProps:on,createRenderState:an});function zl(s,t,a){const r=on(s,t,a);for(const n in s)if(le(s[n])||le(t[n])){const i=It.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=s[n]}return r}const cx=Ul({scrapeMotionValuesFromProps:zl,createRenderState:ql}),dx=Symbol.for("motionComponentSymbol");function ft(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function mx(s,t,a){return g.useCallback(r=>{r&&s.onMount&&s.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):ft(a)&&(a.current=r))},[t])}const ln=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ux="framerAppearId",$l="data-"+ln(ux),Hl=g.createContext({});function hx(s,t,a,r,n){var y,v;const{visualElement:i}=g.useContext(da),o=g.useContext(Fl),l=g.useContext(ca),c=g.useContext(Zr).reducedMotion,m=g.useRef(null);r=r||o.renderer,!m.current&&r&&(m.current=r(s,{visualState:t,parent:i,props:a,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=m.current,u=g.useContext(Hl);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&xx(m.current,a,n,u);const h=g.useRef(!1);g.useInsertionEffect(()=>{d&&h.current&&d.update(a,l)});const x=a[$l],b=g.useRef(!!x&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,x))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,x)));return Uo(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),b.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var f;(f=window.MotionHandoffMarkAsComplete)==null||f.call(window,x)}),b.current=!1))}),d}function xx(s,t,a,r){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:m,layoutCrossfade:d}=t;s.projection=new a(s.latestValues,t["data-framer-portal-id"]?void 0:Gl(s.parent)),s.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&ft(l),visualElement:s,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:m})}function Gl(s){if(s)return s.options.allowProjection!==!1?s.projection:Gl(s.parent)}function Ea(s,{forwardMotionProps:t=!1}={},a,r){a&&Bh(a);const n=rn(s)?cx:lx;function i(l,c){let m;const d={...g.useContext(Zr),...l,layoutId:px(l)},{isStatic:u}=d,h=Gh(l),x=n(l,u);if(!u&&Ar){fx();const b=gx(d);m=b.MeasureLayout,h.visualElement=hx(s,x,d,r,b.ProjectionNode)}return e.jsxs(da.Provider,{value:h,children:[m&&h.visualElement?e.jsx(m,{visualElement:h.visualElement,...d}):null,nx(s,l,mx(x,h.visualElement,c),x,u,t)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=g.forwardRef(i);return o[dx]=s,o}function px({layoutId:s}){const t=g.useContext(Pr).id;return t&&s!==void 0?t+"-"+s:s}function fx(s,t){g.useContext(Fl).strict}function gx(s){const{drag:t,layout:a}=_t;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(s)||a!=null&&a.isEnabled(s)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function bx(s,t){if(typeof Proxy>"u")return Ea;const a=new Map,r=(i,o)=>Ea(i,o,s,t),n=(i,o)=>r(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?r:(a.has(o)||a.set(o,Ea(o,void 0,s,t)),a.get(o))})}function Wl({top:s,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:s,max:r}}}function yx({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function vx(s,t){if(!t)return s;const a=t({x:s.left,y:s.top}),r=t({x:s.right,y:s.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Pa(s){return s===void 0||s===1}function mr({scale:s,scaleX:t,scaleY:a}){return!Pa(s)||!Pa(t)||!Pa(a)}function st(s){return mr(s)||Yl(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Yl(s){return ai(s.x)||ai(s.y)}function ai(s){return s&&s!=="0%"}function Qs(s,t,a){const r=s-a,n=t*r;return a+n}function ri(s,t,a,r,n){return n!==void 0&&(s=Qs(s,n,r)),Qs(s,a,r)+t}function ur(s,t=0,a=1,r,n){s.min=ri(s.min,t,a,r,n),s.max=ri(s.max,t,a,r,n)}function Kl(s,{x:t,y:a}){ur(s.x,t.translate,t.scale,t.originPoint),ur(s.y,a.translate,a.scale,a.originPoint)}const ni=.999999999999,ii=1.0000000000001;function jx(s,t,a,r=!1){const n=a.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=a[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bt(s,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Kl(s,o)),r&&st(i.latestValues)&&bt(s,i.latestValues))}t.x<ii&&t.x>ni&&(t.x=1),t.y<ii&&t.y>ni&&(t.y=1)}function gt(s,t){s.min=s.min+t,s.max=s.max+t}function oi(s,t,a,r,n=.5){const i=K(s.min,s.max,n);ur(s,t,a,i,r)}function bt(s,t){oi(s.x,t.x,t.scaleX,t.scale,t.originX),oi(s.y,t.y,t.scaleY,t.scale,t.originY)}function Ql(s,t){return Wl(vx(s.getBoundingClientRect(),t))}function wx(s,t,a){const r=Ql(s,a),{scroll:n}=t;return n&&(gt(r.x,n.offset.x),gt(r.y,n.offset.y)),r}const li=()=>({translate:0,scale:1,origin:0,originPoint:0}),yt=()=>({x:li(),y:li()}),ci=()=>({min:0,max:0}),J=()=>({x:ci(),y:ci()}),hr={current:null},Jl={current:!1};function Nx(){if(Jl.current=!0,!!Ar)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>hr.current=s.matches;s.addEventListener("change",t),t()}else hr.current=!1}const Cx=new WeakMap;function Sx(s,t,a){for(const r in t){const n=t[r],i=a[r];if(le(n))s.addValue(r,n);else if(le(i))s.addValue(r,St(n,{owner:s}));else if(i!==n)if(s.hasValue(r)){const o=s.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=s.getStaticValue(r);s.addValue(r,St(o!==void 0?o:n,{owner:s}))}}for(const r in a)t[r]===void 0&&s.removeValue(r);return t}const di=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _x{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ue.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Y.render(this.render,!1,!0))};const{latestValues:c,renderState:m}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=m,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ua(a),this.isVariantNode=Il(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(a,{},this);for(const h in u){const x=u[h];c[h]!==void 0&&le(x)&&x.set(c[h],!1)}}mount(t){this.current=t,Cx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Jl.current||Nx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qe(this.notifyUpdate),Qe(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Vt.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Y.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=a.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{n(),i(),o&&o(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _t){const a=_t[t];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):J()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<di.length;r++){const n=di[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=t[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=Sx(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=St(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(zo(r)||Ho(r))?r=parseFloat(r):!Oh(r)&&Je.test(a)&&(r=_l(t,a)),this.setBaseTarget(t,le(r)?r.get():r)),le(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var i;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const o=nn(this.props,a,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!le(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new Ir),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){Jr.render(this.render)}}class Xl extends _x{constructor(){super(...arguments),this.KeyframeResolver=Nh}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;le(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Zl(s,{style:t,vars:a},r,n){const i=s.style;let o;for(o in t)i[o]=t[o];n==null||n.applyProjectionStyles(i,r);for(o in a)i.setProperty(o,a[o])}function kx(s){return window.getComputedStyle(s)}class Ex extends Xl{constructor(){super(...arguments),this.type="html",this.renderInstance=Zl}readValueFromInstance(t,a){var r;if(Vt.has(a))return(r=this.projection)!=null&&r.isProjecting?nr(a):Uu(t,a);{const n=kx(t),i=(Lr(a)?n.getPropertyValue(a):n[a])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:a}){return Ql(t,a)}build(t,a,r){sn(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return on(t,a,r)}}const ec=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Px(s,t,a,r){Zl(s,t,void 0,r);for(const n in t.attrs)s.setAttribute(ec.has(n)?n:ln(n),t.attrs[n])}class Tx extends Xl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=J}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Vt.has(a)){const r=Sl(a);return r&&r.default||0}return a=ec.has(a)?a:ln(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return zl(t,a,r)}build(t,a,r){Ll(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,n){Px(t,a,r,n)}mount(t){this.isSVGTag=Bl(t.tagName),super.mount(t)}}const Ax=(s,t)=>rn(s)?new Tx(t):new Ex(t,{allowProjection:s!==g.Fragment});function us(s,t,a){const r=s.getProps();return nn(r,t,a!==void 0?a:r.custom,s)}const xr=s=>Array.isArray(s);function Dx(s,t,a){s.hasValue(t)?s.getValue(t).set(a):s.addValue(t,St(a))}function Mx(s){return xr(s)?s[s.length-1]||0:s}function Fx(s,t){const a=us(s,t);let{transitionEnd:r={},transition:n={},...i}=a||{};i={...i,...r};for(const o in i){const l=Mx(i[o]);Dx(s,o,l)}}function Ox(s){return!!(le(s)&&s.add)}function pr(s,t){const a=s.getValue("willChange");if(Ox(a))return a.add(t);if(!a&&ze.WillChange){const r=new ze.WillChange("auto");s.addValue("willChange",r),r.add(t)}}function tc(s){return s.props[$l]}const Ix=s=>s!==null;function Vx(s,{repeat:t,repeatType:a="loop"},r){const n=s.filter(Ix),i=t&&a!=="loop"&&t%2===1?0:n.length-1;return n[i]}const Rx={type:"spring",stiffness:500,damping:25,restSpeed:10},Lx=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),qx={type:"keyframes",duration:.8},Bx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ux=(s,{keyframes:t})=>t.length>2?qx:Vt.has(s)?s.startsWith("scale")?Lx(t[1]):Rx:Bx;function zx({when:s,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:m,...d}){return!!Object.keys(d).length}const cn=(s,t,a,r={},n,i)=>o=>{const l=Kr(r,s)||{},c=l.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ae(c);const d={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-m,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:s,motionValue:t,element:i?void 0:n};zx(l)||Object.assign(d,Ux(s,d)),d.duration&&(d.duration=Ae(d.duration)),d.repeatDelay&&(d.repeatDelay=Ae(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),(ze.instantAnimations||ze.skipAnimations)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,u&&!i&&t.get()!==void 0){const h=Vx(d.keyframes,l);if(h!==void 0){Y.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new Wr(d):new mh(d)};function $x({protectedKeys:s,needsAnimating:t},a){const r=s.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function sc(s,t,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:i=s.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],m=n&&s.animationState&&s.animationState.getState()[n];for(const d in l){const u=s.getValue(d,s.latestValues[d]??null),h=l[d];if(h===void 0||m&&$x(m,d))continue;const x={delay:a,...Kr(i||{},d)},b=u.get();if(b!==void 0&&!u.isAnimating&&!Array.isArray(h)&&h===b&&!x.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const f=tc(s);if(f){const w=window.MotionHandoffAnimation(f,d,Y);w!==null&&(x.startTime=w,y=!0)}}pr(s,d),u.start(cn(d,u,h,s.shouldReduceMotion&&wl.has(d)?{type:!1}:x,s,y));const v=u.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Y.update(()=>{o&&Fx(s,o)})}),c}function fr(s,t,a={}){var c;const r=us(s,t,a.type==="exit"?(c=s.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=s.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const i=r?()=>Promise.all(sc(s,r,a)):()=>Promise.resolve(),o=s.variantChildren&&s.variantChildren.size?(m=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=n;return Hx(s,t,m,d,u,h,a)}:()=>Promise.resolve(),{when:l}=n;if(l){const[m,d]=l==="beforeChildren"?[i,o]:[o,i];return m().then(()=>d())}else return Promise.all([i(),o(a.delay)])}function Hx(s,t,a=0,r=0,n=0,i=1,o){const l=[],c=s.variantChildren.size,m=(c-1)*n,d=typeof r=="function",u=d?h=>r(h,c):i===1?(h=0)=>h*n:(h=0)=>m-h*n;return Array.from(s.variantChildren).sort(Gx).forEach((h,x)=>{h.notify("AnimationStart",t),l.push(fr(h,t,{...o,delay:a+(d?0:r)+u(x)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function Gx(s,t){return s.sortNodePosition(t)}function Wx(s,t,a={}){s.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(i=>fr(s,i,a));r=Promise.all(n)}else if(typeof t=="string")r=fr(s,t,a);else{const n=typeof t=="function"?us(s,t,a.custom):t;r=Promise.all(sc(s,n,a))}return r.then(()=>{s.notify("AnimationComplete",t)})}function ac(s,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==s.length)return!1;for(let r=0;r<a;r++)if(t[r]!==s[r])return!1;return!0}const Yx=tn.length;function rc(s){if(!s)return;if(!s.isControllingVariants){const a=s.parent?rc(s.parent)||{}:{};return s.props.initial!==void 0&&(a.initial=s.props.initial),a}const t={};for(let a=0;a<Yx;a++){const r=tn[a],n=s.props[r];(ds(n)||n===!1)&&(t[r]=n)}return t}const Kx=[...en].reverse(),Qx=en.length;function Jx(s){return t=>Promise.all(t.map(({animation:a,options:r})=>Wx(s,a,r)))}function Xx(s){let t=Jx(s),a=mi(),r=!0;const n=c=>(m,d)=>{var h;const u=us(s,d,c==="exit"?(h=s.presenceContext)==null?void 0:h.custom:void 0);if(u){const{transition:x,transitionEnd:b,...y}=u;m={...m,...y,...b}}return m};function i(c){t=c(s)}function o(c){const{props:m}=s,d=rc(s.parent)||{},u=[],h=new Set;let x={},b=1/0;for(let v=0;v<Qx;v++){const f=Kx[v],w=a[f],p=m[f]!==void 0?m[f]:d[f],j=ds(p),N=f===c?w.isActive:null;N===!1&&(b=v);let _=p===d[f]&&p!==m[f]&&j;if(_&&r&&s.manuallyAnimateOnMount&&(_=!1),w.protectedKeys={...x},!w.isActive&&N===null||!p&&!w.prevProp||ma(p)||typeof p=="boolean")continue;const E=Zx(w.prevProp,p);let T=E||f===c&&w.isActive&&!_&&j||v>b&&j,P=!1;const C=Array.isArray(p)?p:[p];let k=C.reduce(n(f),{});N===!1&&(k={});const{prevResolvedValues:A={}}=w,S={...A,...k},R=W=>{T=!0,h.has(W)&&(P=!0,h.delete(W)),w.needsAnimating[W]=!0;const ce=s.getValue(W);ce&&(ce.liveStyle=!1)};for(const W in S){const ce=k[W],He=A[W];if(x.hasOwnProperty(W))continue;let be=!1;xr(ce)&&xr(He)?be=!ac(ce,He):be=ce!==He,be?ce!=null?R(W):h.add(W):ce!==void 0&&h.has(W)?R(W):w.protectedKeys[W]=!0}w.prevProp=p,w.prevResolvedValues=k,w.isActive&&(x={...x,...k}),r&&s.blockInitialAnimation&&(T=!1),T&&(!(_&&E)||P)&&u.push(...C.map(W=>({animation:W,options:{type:f}})))}if(h.size){const v={};if(typeof m.initial!="boolean"){const f=us(s,Array.isArray(m.initial)?m.initial[0]:m.initial);f&&f.transition&&(v.transition=f.transition)}h.forEach(f=>{const w=s.getBaseTarget(f),p=s.getValue(f);p&&(p.liveStyle=!0),v[f]=w??null}),u.push({animation:v})}let y=!!u.length;return r&&(m.initial===!1||m.initial===m.animate)&&!s.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(u):Promise.resolve()}function l(c,m){var u;if(a[c].isActive===m)return Promise.resolve();(u=s.variantChildren)==null||u.forEach(h=>{var x;return(x=h.animationState)==null?void 0:x.setActive(c,m)}),a[c].isActive=m;const d=o(c);for(const h in a)a[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>a,reset:()=>{a=mi(),r=!0}}}function Zx(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!ac(t,s):!1}function tt(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mi(){return{animate:tt(!0),whileInView:tt(),whileHover:tt(),whileTap:tt(),whileDrag:tt(),whileFocus:tt(),exit:tt()}}class Ze{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ep extends Ze{constructor(t){super(t),t.animationState||(t.animationState=Xx(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ma(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tp=0;class sp extends Ze{constructor(){super(...arguments),this.id=tp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);a&&!t&&n.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ap={animation:{Feature:ep},exit:{Feature:sp}};function hs(s,t,a,r={passive:!0}){return s.addEventListener(t,a,r),()=>s.removeEventListener(t,a)}function ws(s){return{point:{x:s.pageX,y:s.pageY}}}const rp=s=>t=>Xr(t)&&s(t,ws(t));function Zt(s,t,a,r){return hs(s,t,rp(a),r)}const nc=1e-4,np=1-nc,ip=1+nc,ic=.01,op=0-ic,lp=0+ic;function de(s){return s.max-s.min}function cp(s,t,a){return Math.abs(s-t)<=a}function ui(s,t,a,r=.5){s.origin=r,s.originPoint=K(t.min,t.max,s.origin),s.scale=de(a)/de(t),s.translate=K(a.min,a.max,s.origin)-s.originPoint,(s.scale>=np&&s.scale<=ip||isNaN(s.scale))&&(s.scale=1),(s.translate>=op&&s.translate<=lp||isNaN(s.translate))&&(s.translate=0)}function es(s,t,a,r){ui(s.x,t.x,a.x,r?r.originX:void 0),ui(s.y,t.y,a.y,r?r.originY:void 0)}function hi(s,t,a){s.min=a.min+t.min,s.max=s.min+de(t)}function dp(s,t,a){hi(s.x,t.x,a.x),hi(s.y,t.y,a.y)}function xi(s,t,a){s.min=t.min-a.min,s.max=s.min+de(t)}function ts(s,t,a){xi(s.x,t.x,a.x),xi(s.y,t.y,a.y)}function je(s){return[s("x"),s("y")]}const oc=({current:s})=>s?s.ownerDocument.defaultView:null,pi=(s,t)=>Math.abs(s-t);function mp(s,t){const a=pi(s.x,t.x),r=pi(s.y,t.y);return Math.sqrt(a**2+r**2)}class lc{constructor(t,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Aa(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=mp(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:y}=h,{timestamp:v}=re;this.history.push({...y,timestamp:v});const{onStart:f,onMove:w}=this.handlers;x||(f&&f(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ta(x,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Aa(h.type==="pointercancel"?this.lastMoveEventInfo:Ta(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,f),y&&y(h,f)},!Xr(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=n||window;const l=ws(t),c=Ta(l,this.transformPagePoint),{point:m}=c,{timestamp:d}=re;this.history=[{...m,timestamp:d}];const{onSessionStart:u}=a;u&&u(t,Aa(c,this.history)),this.removeListeners=ys(Zt(this.contextWindow,"pointermove",this.handlePointerMove),Zt(this.contextWindow,"pointerup",this.handlePointerUp),Zt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qe(this.updatePoint)}}function Ta(s,t){return t?{point:t(s.point)}:s}function fi(s,t){return{x:s.x-t.x,y:s.y-t.y}}function Aa({point:s},t){return{point:s,delta:fi(s,cc(t)),offset:fi(s,up(t)),velocity:hp(t,.1)}}function up(s){return s[0]}function cc(s){return s[s.length-1]}function hp(s,t){if(s.length<2)return{x:0,y:0};let a=s.length-1,r=null;const n=cc(s);for(;a>=0&&(r=s[a],!(n.timestamp-r.timestamp>Ae(t)));)a--;if(!r)return{x:0,y:0};const i=De(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xp(s,{min:t,max:a},r){return t!==void 0&&s<t?s=r?K(t,s,r.min):Math.max(s,t):a!==void 0&&s>a&&(s=r?K(a,s,r.max):Math.min(s,a)),s}function gi(s,t,a){return{min:t!==void 0?s.min+t:void 0,max:a!==void 0?s.max+a-(s.max-s.min):void 0}}function pp(s,{top:t,left:a,bottom:r,right:n}){return{x:gi(s.x,a,n),y:gi(s.y,t,r)}}function bi(s,t){let a=t.min-s.min,r=t.max-s.max;return t.max-t.min<s.max-s.min&&([a,r]=[r,a]),{min:a,max:r}}function fp(s,t){return{x:bi(s.x,t.x),y:bi(s.y,t.y)}}function gp(s,t){let a=.5;const r=de(s),n=de(t);return n>r?a=os(t.min,t.max-r,s.min):r>n&&(a=os(s.min,s.max-n,t.min)),Ue(0,1,a)}function bp(s,t){const a={};return t.min!==void 0&&(a.min=t.min-s.min),t.max!==void 0&&(a.max=t.max-s.min),a}const gr=.35;function yp(s=gr){return s===!1?s=0:s===!0&&(s=gr),{x:yi(s,"left","right"),y:yi(s,"top","bottom")}}function yi(s,t,a){return{min:vi(s,t),max:vi(s,a)}}function vi(s,t){return typeof s=="number"?s:s[t]||0}const vp=new WeakMap;class jp{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=J(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ws(u).point)},o=(u,h)=>{const{drag:x,dragPropagation:b,onDragStart:y}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kh(x),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),je(f=>{let w=this.getAxisMotionValue(f).get()||0;if(Me.test(w)){const{projection:p}=this.visualElement;if(p&&p.layout){const j=p.layout.layoutBox[f];j&&(w=de(j)*(parseFloat(w)/100))}}this.originPoint[f]=w}),y&&Y.postRender(()=>y(u,h)),pr(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:y,onDrag:v}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:f}=h;if(b&&this.currentDirection===null){this.currentDirection=wp(f),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,f),this.updateAxis("y",h.point,f),this.visualElement.render(),v&&v(u,h)},c=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h,this.stop(u,h),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>je(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new lc(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:oc(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Y.postRender(()=>l(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:n}=this.getProps();if(!r||!Ds(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=xp(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;t&&ft(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pp(r.layoutBox,t):this.constraints=!1,this.elastic=yp(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&je(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bp(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!ft(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=wx(r,n.root,this.visualElement.getTransformPagePoint());let o=fp(n.layout.layoutBox,i);if(a){const l=a(yx(o));this.hasMutatedConstraints=!!l,l&&(o=Wl(l))}return o}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},m=je(d=>{if(!Ds(d,a,this.currentDirection))return;let u=c&&c[d]||{};o&&(u={min:0,max:0});const h=n?200:1e6,x=n?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(d,b)});return Promise.all(m).then(l)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return pr(this.visualElement,t),r.start(cn(t,r,0,a,this.visualElement,!1))}stopAnimation(){je(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){je(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){je(a=>{const{drag:r}=this.getProps();if(!Ds(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[a];i.set(t[a]-K(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!ft(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};je(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=gp({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),je(o=>{if(!Ds(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:m}=this.constraints[o];l.set(K(c,m,n[o]))})}addListeners(){if(!this.visualElement.current)return;vp.set(this.visualElement,this);const t=this.visualElement.current,a=Zt(t,"pointerdown",c=>{const{drag:m,dragListener:d=!0}=this.getProps();m&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ft(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Y.read(r);const o=hs(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:m})=>{this.isDragging&&m&&(je(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=c[d].translate,u.set(u.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),a(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=gr,dragMomentum:l=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ds(s,t,a){return(t===!0||t===s)&&(a===null||a===s)}function wp(s,t=10){let a=null;return Math.abs(s.y)>t?a="y":Math.abs(s.x)>t&&(a="x"),a}class Np extends Ze{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new jp(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const ji=s=>(t,a)=>{s&&Y.postRender(()=>s(t,a))};class Cp extends Ze{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new lc(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oc(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:ji(t),onStart:ji(a),onMove:r,onEnd:(i,o)=>{delete this.session,n&&Y.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=Zt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $s={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wi(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const Bt={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(I.test(s))s=parseFloat(s);else return s;const a=wi(s,t.target.x),r=wi(s,t.target.y);return`${a}% ${r}%`}},Sp={correct:(s,{treeScale:t,projectionDelta:a})=>{const r=s,n=Je.parse(s);if(n.length>5)return r;const i=Je.createTransformer(s),o=typeof n[0]!="number"?1:0,l=a.x.scale*t.x,c=a.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const m=K(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=m),typeof n[3+o]=="number"&&(n[3+o]/=m),i(n)}};let Ni=!1;class _p extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;Wh(kp),i&&(a.group&&a.group.add(i),r&&r.register&&n&&r.register(i),Ni&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$s.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:n,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Ni=!0,n||t.layoutDependency!==a||a===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Y.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Jr.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dc(s){const[t,a]=Ml(),r=g.useContext(Pr);return e.jsx(_p,{...s,layoutGroup:r,switchLayoutGroup:g.useContext(Hl),isPresent:t,safeToRemove:a})}const kp={borderRadius:{...Bt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomLeftRadius:Bt,borderBottomRightRadius:Bt,boxShadow:Sp};function Ep(s,t,a){const r=le(s)?s:St(s);return r.start(cn("",r,t,a)),r.animation}const Pp=(s,t)=>s.depth-t.depth;class Tp{constructor(){this.children=[],this.isDirty=!1}add(t){Dr(this.children,t),this.isDirty=!0}remove(t){Mr(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pp),this.isDirty=!1,this.children.forEach(t)}}function Ap(s,t){const a=ue.now(),r=({timestamp:n})=>{const i=n-a;i>=t&&(Qe(r),s(i-t))};return Y.setup(r,!0),()=>Qe(r)}const mc=["TopLeft","TopRight","BottomLeft","BottomRight"],Dp=mc.length,Ci=s=>typeof s=="string"?parseFloat(s):s,Si=s=>typeof s=="number"||I.test(s);function Mp(s,t,a,r,n,i){n?(s.opacity=K(0,a.opacity??1,Fp(r)),s.opacityExit=K(t.opacity??1,0,Op(r))):i&&(s.opacity=K(t.opacity??1,a.opacity??1,r));for(let o=0;o<Dp;o++){const l=`border${mc[o]}Radius`;let c=_i(t,l),m=_i(a,l);if(c===void 0&&m===void 0)continue;c||(c=0),m||(m=0),c===0||m===0||Si(c)===Si(m)?(s[l]=Math.max(K(Ci(c),Ci(m),r),0),(Me.test(m)||Me.test(c))&&(s[l]+="%")):s[l]=m}(t.rotate||a.rotate)&&(s.rotate=K(t.rotate||0,a.rotate||0,r))}function _i(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const Fp=uc(0,.5,Zo),Op=uc(.5,.95,Ne);function uc(s,t,a){return r=>r<s?0:r>t?1:a(os(s,t,r))}function ki(s,t){s.min=t.min,s.max=t.max}function ve(s,t){ki(s.x,t.x),ki(s.y,t.y)}function Ei(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function Pi(s,t,a,r,n){return s-=t,s=Qs(s,1/a,r),n!==void 0&&(s=Qs(s,1/n,r)),s}function Ip(s,t=0,a=1,r=.5,n,i=s,o=s){if(Me.test(t)&&(t=parseFloat(t),t=K(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=K(i.min,i.max,r);s===i&&(l-=t),s.min=Pi(s.min,t,a,l,n),s.max=Pi(s.max,t,a,l,n)}function Ti(s,t,[a,r,n],i,o){Ip(s,t[a],t[r],t[n],t.scale,i,o)}const Vp=["x","scaleX","originX"],Rp=["y","scaleY","originY"];function Ai(s,t,a,r){Ti(s.x,t,Vp,a?a.x:void 0,r?r.x:void 0),Ti(s.y,t,Rp,a?a.y:void 0,r?r.y:void 0)}function Di(s){return s.translate===0&&s.scale===1}function hc(s){return Di(s.x)&&Di(s.y)}function Mi(s,t){return s.min===t.min&&s.max===t.max}function Lp(s,t){return Mi(s.x,t.x)&&Mi(s.y,t.y)}function Fi(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function xc(s,t){return Fi(s.x,t.x)&&Fi(s.y,t.y)}function Oi(s){return de(s.x)/de(s.y)}function Ii(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class qp{constructor(){this.members=[]}add(t){Dr(this.members,t),t.scheduleRender()}remove(t){if(Mr(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(n=>t===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bp(s,t,a){let r="";const n=s.x.translate/t.x,i=s.y.translate/t.y,o=(a==null?void 0:a.z)||0;if((n||i||o)&&(r=`translate3d(${n}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:m,rotate:d,rotateX:u,rotateY:h,skewX:x,skewY:b}=a;m&&(r=`perspective(${m}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),x&&(r+=`skewX(${x}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=s.x.scale*t.x,c=s.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Da=["","X","Y","Z"],Up=1e3;let zp=0;function Ma(s,t,a,r){const{latestValues:n}=t;n[s]&&(a[s]=n[s],t.setStaticValue(s,0),r&&(r[s]=0))}function pc(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const a=tc(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=s.options;window.MotionCancelOptimisedAnimation(a,"transform",Y,!(n||i))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&pc(r)}function fc({attachResizeListener:s,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=zp++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gp),this.nodes.forEach(Qp),this.nodes.forEach(Jp),this.nodes.forEach(Wp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tp)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ir),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Dl(o)&&!Mh(o),this.instance=o;const{layoutId:l,layout:c,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),s){let d,u=0;const h=()=>this.root.updateBlockedByResize=!1;Y.read(()=>{u=window.innerWidth}),s(o,()=>{const x=window.innerWidth;x!==u&&(u=x,this.root.updateBlockedByResize=!0,d&&d(),d=Ap(h,250),$s.hasAnimatedSinceResize&&($s.hasAnimatedSinceResize=!1,this.nodes.forEach(Li)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&m&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u,hasRelativeLayoutChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||m.getDefaultTransition()||sf,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=m.getProps(),f=!this.targetLayout||!xc(this.targetLayout,x),w=!u&&h;if(this.options.layoutRoot||this.resumeFrom||w||u&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...Kr(b,"layout"),onPlay:y,onComplete:v};(m.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(d,w)}else u||Li(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xp),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vi);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ri);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kp),this.nodes.forEach($p),this.nodes.forEach(Hp)):this.nodes.forEach(Ri),this.clearAllSnapshots();const l=ue.now();re.delta=Ue(0,1e3/60,l-re.timestamp),re.timestamp=l,re.isProcessing=!0,wa.update.process(re),wa.preRender.process(re),wa.render.process(re),re.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yp),this.sharedNodes.forEach(Zp)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!de(this.snapshot.measuredBox.x)&&!de(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=J(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!hc(this.projectionDelta),c=this.getTransformTemplate(),m=c?c(this.latestValues,""):void 0,d=m!==this.prevTransformTemplateValue;o&&this.instance&&(l||st(this.latestValues)||d)&&(n(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),af(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:o}=this.options;if(!o)return J();const l=o.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(rf))){const{scroll:d}=this.root;d&&(gt(l.x,d.offset.x),gt(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=J();if(ve(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let m=0;m<this.path.length;m++){const d=this.path[m],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&ve(l,o),gt(l.x,u.offset.x),gt(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=J();ve(c,o);for(let m=0;m<this.path.length;m++){const d=this.path[m];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bt(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),st(d.latestValues)&&bt(c,d.latestValues)}return st(this.latestValues)&&bt(c,this.latestValues),c}removeTransform(o){const l=J();ve(l,o);for(let c=0;c<this.path.length;c++){const m=this.path[c];if(!m.instance||!st(m.latestValues))continue;mr(m.latestValues)&&m.updateSnapshot();const d=J(),u=m.measurePageBox();ve(d,u),Ai(l,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,d)}return st(this.latestValues)&&Ai(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==re.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:u}=this.options;if(!(!this.layout||!(d||u))){if(this.resolvedRelativeTargetAt=re.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=J(),this.relativeTargetOrigin=J(),ts(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ve(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=J(),this.targetWithTransforms=J()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ve(this.target,this.layout.layoutBox),Kl(this.target,this.targetDelta)):ve(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=J(),this.relativeTargetOrigin=J(),ts(this.relativeTargetOrigin,this.target,x.target),ve(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mr(this.parent.latestValues)||Yl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===re.timestamp&&(c=!1),c)return;const{layout:m,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||d))return;ve(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,h=this.treeScale.y;jx(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=J());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ei(this.prevProjectionDelta.x,this.projectionDelta.x),Ei(this.prevProjectionDelta.y,this.projectionDelta.y)),es(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==h||!Ii(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ii(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yt(),this.projectionDelta=yt(),this.projectionDeltaWithTransform=yt()}setAnimationOrigin(o,l=!1){const c=this.snapshot,m=c?c.latestValues:{},d={...this.latestValues},u=yt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=J(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=x!==b,v=this.getStack(),f=!v||v.members.length<=1,w=!!(y&&!f&&this.options.crossfade===!0&&!this.path.some(tf));this.animationProgress=0;let p;this.mixTargetDelta=j=>{const N=j/1e3;qi(u.x,o.x,N),qi(u.y,o.y,N),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ts(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ef(this.relativeTarget,this.relativeTargetOrigin,h,N),p&&Lp(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=J()),ve(p,this.relativeTarget)),y&&(this.animationValues=d,Mp(d,m,this.latestValues,N,w,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,m;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(m=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Qe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{$s.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=St(0)),this.currentAnimation=Ep(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Up),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:m,latestValues:d}=o;if(!(!l||!c||!m)){if(this!==o&&this.layout&&m&&gc(this.options.animationType,this.layout.layoutBox,m.layoutBox)){c=this.target||J();const u=de(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+u;const h=de(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ve(l,c),bt(l,d),es(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qp),this.sharedNodes.get(o).add(l);const m=l.options.initialPromotionConfig;l.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const m=this.getStack();m&&m.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const m={};c.z&&Ma("z",o,m,this.animationValues);for(let d=0;d<Da.length;d++)Ma(`rotate${Da[d]}`,o,m,this.animationValues),Ma(`skew${Da[d]}`,o,m,this.animationValues);o.render();for(const d in m)o.setStaticValue(d,m[d]),this.animationValues&&(this.animationValues[d]=m[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=zs(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=zs(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!st(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=m.animationValues||m.latestValues;this.applyTransformsToTarget();let u=Bp(this.projectionDeltaWithTransform,this.treeScale,d);c&&(u=c(d,u)),o.transform=u;const{x:h,y:x}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,m.animationValues?o.opacity=m===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=m===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in ms){if(d[b]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:f}=ms[b],w=u==="none"?d[b]:y(d[b],m);if(v){const p=v.length;for(let j=0;j<p;j++)o[v[j]]=w}else f?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=m===this?zs(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Vi),this.root.sharedNodes.clear()}}}function $p(s){s.updateLayout()}function Hp(s){var a;const t=((a=s.resumeFrom)==null?void 0:a.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=s.layout,{animationType:i}=s.options,o=t.source!==s.layout.source;i==="size"?je(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],x=de(h);h.min=r[u].min,h.max=h.min+x}):gc(i,t.layoutBox,r)&&je(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],x=de(r[u]);h.max=h.min+x,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[u].max=s.relativeTarget[u].min+x)});const l=yt();es(l,r,t.layoutBox);const c=yt();o?es(c,s.applyTransform(n,!0),t.measuredBox):es(c,r,t.layoutBox);const m=!hc(l);let d=!1;if(!s.resumeFrom){const u=s.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:x}=u;if(h&&x){const b=J();ts(b,t.layoutBox,h.layoutBox);const y=J();ts(y,r,x.layoutBox),xc(b,y)||(d=!0),u.options.layoutRoot&&(s.relativeTarget=y,s.relativeTargetOrigin=b,s.relativeParent=u)}}}s.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:m,hasRelativeLayoutChanged:d})}else if(s.isLead()){const{onExitComplete:r}=s.options;r&&r()}s.options.transition=void 0}function Gp(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function Wp(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Yp(s){s.clearSnapshot()}function Vi(s){s.clearMeasurements()}function Ri(s){s.isLayoutDirty=!1}function Kp(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function Li(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function Qp(s){s.resolveTargetDelta()}function Jp(s){s.calcProjection()}function Xp(s){s.resetSkewAndRotation()}function Zp(s){s.removeLeadSnapshot()}function qi(s,t,a){s.translate=K(t.translate,0,a),s.scale=K(t.scale,1,a),s.origin=t.origin,s.originPoint=t.originPoint}function Bi(s,t,a,r){s.min=K(t.min,a.min,r),s.max=K(t.max,a.max,r)}function ef(s,t,a,r){Bi(s.x,t.x,a.x,r),Bi(s.y,t.y,a.y,r)}function tf(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const sf={duration:.45,ease:[.4,0,.1,1]},Ui=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),zi=Ui("applewebkit/")&&!Ui("chrome/")?Math.round:Ne;function $i(s){s.min=zi(s.min),s.max=zi(s.max)}function af(s){$i(s.x),$i(s.y)}function gc(s,t,a){return s==="position"||s==="preserve-aspect"&&!cp(Oi(t),Oi(a),.2)}function rf(s){var t;return s!==s.root&&((t=s.scroll)==null?void 0:t.wasRoot)}const nf=fc({attachResizeListener:(s,t)=>hs(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fa={current:void 0},bc=fc({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Fa.current){const s=new nf({});s.mount(window),s.setOptions({layoutScroll:!0}),Fa.current=s}return Fa.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),of={pan:{Feature:Cp},drag:{Feature:Np,ProjectionNode:bc,MeasureLayout:dc}};function Hi(s,t,a){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=r[n];i&&Y.postRender(()=>i(t,ws(t)))}class lf extends Ze{mount(){const{current:t}=this.node;t&&(this.unmount=Eh(t,(a,r)=>(Hi(this.node,r,"Start"),n=>Hi(this.node,n,"End"))))}unmount(){}}class cf extends Ze{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ys(hs(this.node.current,"focus",()=>this.onFocus()),hs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gi(s,t,a){const{props:r}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=r[n];i&&Y.postRender(()=>i(t,ws(t)))}class df extends Ze{mount(){const{current:t}=this.node;t&&(this.unmount=Dh(t,(a,r)=>(Gi(this.node,r,"Start"),(n,{success:i})=>Gi(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const br=new WeakMap,Oa=new WeakMap,mf=s=>{const t=br.get(s.target);t&&t(s)},uf=s=>{s.forEach(mf)};function hf({root:s,...t}){const a=s||document;Oa.has(a)||Oa.set(a,{});const r=Oa.get(a),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(uf,{root:s,...t})),r[n]}function xf(s,t,a){const r=hf(t);return br.set(s,a),r.observe(s),()=>{br.delete(s),r.unobserve(s)}}const pf={some:0,all:1};class ff extends Ze{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:i}=t,o={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:pf[n]},l=c=>{const{isIntersecting:m}=c;if(this.isInView===m||(this.isInView=m,i&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=m?d:u;h&&h(c)};return xf(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(gf(t,a))&&this.startObserver()}unmount(){}}function gf({viewport:s={}},{viewport:t={}}={}){return a=>s[a]!==t[a]}const bf={inView:{Feature:ff},tap:{Feature:df},focus:{Feature:cf},hover:{Feature:lf}},yf={layout:{ProjectionNode:bc,MeasureLayout:dc}},vf={...ap,...bf,...of,...yf},F=bx(vf,Ax),Wi=async s=>{var r;const t="AIzaSyDoLjcl4lc8aaY9dVaJd6bUM8uOsS597Yc",a=new Promise((n,i)=>setTimeout(()=>i(new Error("Timeout: Chamada Gemini demorou mais que 10 segundos")),1e4));try{const n=fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":t},body:JSON.stringify({contents:[{parts:[{text:s}]}]})}),i=await Promise.race([n,a]);if(!i.ok){const o=await i.json();throw new Error(`Gemini API Error: ${i.status} - ${((r=o.error)==null?void 0:r.message)||"Unknown error"}`)}return await i.json()}catch(n){throw console.error("Erro na chamada Gemini:",n),n}};function jf(){const{user:s}=z(),[t,a]=g.useState([]),[r,n]=g.useState(!1),[i,o]=g.useState(null),l="550e8400-e29b-41d4-a716-446655440000",c="550e8400-e29b-41d4-a716-446655440001",m=g.useCallback(async()=>{if(!s)return null;try{if(s.id==="demo-user-id"||s.id==="admin-user-id")return{userData:{id:s.id==="admin-user-id"?c:l,full_name:s.id==="admin-user-id"?"Administrador DuoPass":"Usuário Demo",email:s.email||(s.id==="admin-user-id"?"admin@duopass.com":"demo@duopass.com"),subscription_status:"active",user_type:s.id==="admin-user-id"?"admin":"customer"},activeVouchers:[]};const{data:v,error:f}=await M.from("users").select("id, full_name, email, subscription_status, user_type").eq("id",s.id).single();if(f)throw f;const{data:w,error:p}=await M.from("vouchers").select(`
          id,
          code,
          status,
          qr_code_data,
          offers (
            title,
            merchant_name,
            valid_until
          )
        `).eq("user_id",s.id).eq("status","active");if(p)throw p;return{userData:v,activeVouchers:w||[]}}catch(v){return console.error("Erro ao buscar contexto do usuário:",v),null}},[s]),d=async v=>{try{const f=`
Classifique esta mensagem de atendimento ao cliente em uma das categorias:
- question: pergunta geral
- complaint: reclamação ou problema
- booking: reserva ou agendamento
- cancellation: cancelamento
- technical: problema técnico

Mensagem: "${v}"

Responda apenas com o tipo (question, complaint, booking, cancellation ou technical):
`,w=await Wi(f);if(!w.candidates||w.candidates.length===0)return"question";const p=w.candidates[0].content.parts[0].text.trim().toLowerCase();return["question","complaint","booking","cancellation","technical"].includes(p)?p:"question"}catch(f){return console.error("Erro na classificação:",f),"question"}},u=async(v,f,w)=>{try{const p=`
Você é Sofia, assistente virtual do DUO PASS Club. Seja prestativa, empática e profissional.

INFORMAÇÕES DO USUÁRIO:
- Nome: ${w.userData.full_name}
- Email: ${w.userData.email}
- Status: ${w.userData.subscription_status}
- Tipo: ${w.userData.user_type}

VOUCHERS ATIVOS:
${w.activeVouchers.length>0?w.activeVouchers.map(N=>`- ${N.offers.title} (Código: ${N.code}) - Válido até: ${N.offers.valid_until}`).join(`
`):"- Nenhum voucher ativo no momento"}

TIPO DA SOLICITAÇÃO: ${f}
MENSAGEM DO USUÁRIO: "${v}"

INSTRUÇÕES:
1. Use o nome do usuário na resposta
2. Seja específica baseada nos vouchers dele
3. Ofereça soluções práticas
4. Se for cancelamento e houver voucher para hoje, mencione que pode cancelar automaticamente
5. Se for problema técnico com QR code, mencione que pode regenerar
6. Mantenha tom amigável e profissional
7. Responda em português
8. Seja concisa mas completa

Resposta:
`,j=await Wi(p);if(!j.candidates||j.candidates.length===0)throw new Error("Resposta inválida da IA");return j.candidates[0].content.parts[0].text}catch(p){return console.error("Erro na geração de resposta:",p),`Olá ${w.userData.full_name}! Desculpe, estou com dificuldades técnicas no momento. Por favor, tente novamente em alguns instantes ou entre em contato conosco pelo email contact@dupassclub.ch`}},h=async(v,f,w)=>{try{if(w.userData.id===l||w.userData.id===c)return f==="cancellation"&&v.toLowerCase().includes("cancelar")?"✅ [DEMO] Cancelamento simulado! Esta é uma demonstração do sistema.":f==="technical"&&(v.toLowerCase().includes("qr")||v.toLowerCase().includes("código"))?"✅ [DEMO] QR Code regenerado! Esta é uma demonstração do sistema.":null;if(f==="cancellation"&&v.toLowerCase().includes("cancelar")){const p=new Date().toISOString().split("T")[0],j=w.activeVouchers.filter(N=>N.offers.valid_until.startsWith(p));if(j.length===1){const{error:N}=await M.from("vouchers").update({status:"cancelled",cancelled_at:new Date().toISOString()}).eq("id",j[0].id);if(!N)return`✅ Cancelamento realizado! Seu voucher "${j[0].offers.title}" foi cancelado automaticamente.`}}if(f==="technical"&&(v.toLowerCase().includes("qr")||v.toLowerCase().includes("código"))){const p=w.activeVouchers.filter(j=>!j.qr_code_data);if(p.length>0){for(const j of p)await M.from("vouchers").update({qr_code_data:`DUO-${j.code}-${w.userData.id}`}).eq("id",j.id);return`✅ QR Codes regenerados! ${p.length} voucher(s) foram corrigidos.`}}return null}catch(p){return console.error("Erro nas ações automáticas:",p),null}},x=async(v,f,w)=>{if(s){if(s.id==="demo-user-id"||s.id==="admin-user-id"){console.log("Interação demo não salva no banco:",{userMessage:v,aiResponse:f,interactionType:w});return}try{const p=s.id==="demo-user-id"?l:s.id==="admin-user-id"?c:s.id;await M.from("customer_interactions").insert({user_id:p,user_message:v,ai_response:f,interaction_type:w,channel:"app"})}catch(p){console.error("Erro ao salvar interação:",p)}}};return{messages:t,loading:r,error:i,sendMessage:async v=>{if(!v.trim()||!s)return;const f={id:Date.now().toString(),text:v.trim(),sender:"user",timestamp:new Date};a(w=>[...w,f]),n(!0),o(null);try{const w=await m();if(!w)throw new Error("Não foi possível obter informações do usuário");const p=await d(v),j=await h(v,p,w);let N=await u(v,p,w);j&&(N=`${j}

${N}`),await x(v,N,p);const _={id:(Date.now()+1).toString(),text:N,sender:"agent",timestamp:new Date,type:p};a(E=>[...E,_])}catch(w){console.error("Erro ao processar mensagem:",w),o("Desculpe, ocorreu um erro. Tente novamente.");const p={id:(Date.now()+1).toString(),text:"Desculpe, estou com dificuldades técnicas no momento. Por favor, tente novamente ou entre em contato conosco pelo email contact@dupassclub.ch",sender:"agent",timestamp:new Date};a(j=>[...j,p])}finally{n(!1)}},clearMessages:()=>{a([]),o(null)},getUserContext:m}}function wf(){const{user:s}=z(),[t,a]=g.useState(!1),[r,n]=g.useState(""),i=g.useRef(null),o=g.useRef(null),{messages:l,loading:c,error:m,sendMessage:d,clearMessages:u}=jf();if(g.useEffect(()=>{var v;(v=i.current)==null||v.scrollIntoView({behavior:"smooth"})},[l]),g.useEffect(()=>{t&&o.current&&o.current.focus()},[t]),!s)return null;const h=async()=>{if(!r.trim()||c)return;const v=r.trim();n(""),await d(v)},x=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},b=v=>v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),y=v=>{switch(v){case"complaint":return"text-red-600";case"cancellation":return"text-orange-600";case"technical":return"text-blue-600";case"booking":return"text-green-600";default:return"text-gray-600"}};return e.jsxs(e.Fragment,{children:[e.jsxs(F.button,{onClick:()=>a(!0),className:"fixed bottom-6 right-6 z-40 w-14 h-14 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full shadow-lg flex items-center justify-center text-white hover:shadow-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:[e.jsx(oe,{className:"w-6 h-6"}),l.length===0&&e.jsx(F.div,{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:1},children:e.jsx("span",{className:"text-xs text-white font-bold",children:"!"})})]}),e.jsx(qh,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(F.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1)}),e.jsxs(F.div,{className:"fixed bottom-6 right-6 w-80 h-96 bg-white rounded-lg shadow-2xl z-50 flex flex-col overflow-hidden",initial:{scale:0,opacity:0,y:100},animate:{scale:1,opacity:1,y:0},exit:{scale:0,opacity:0,y:100},transition:{type:"spring",stiffness:300,damping:30},children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] p-4 flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(Es,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Sofia - Assistente DUO PASS"}),e.jsx("p",{className:"text-xs opacity-90",children:"Online agora"})]})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[l.length===0&&e.jsxs(F.div,{className:"flex items-start space-x-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Es,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm max-w-xs",children:[e.jsx("p",{className:"text-sm text-gray-800",children:"Olá! Sou a Sofia, sua assistente virtual do DUO PASS Club. Como posso ajudar você hoje? 😊"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:b(new Date)})]})]}),l.map((v,f)=>e.jsxs(F.div,{className:`flex items-start space-x-2 ${v.sender==="user"?"flex-row-reverse space-x-reverse":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${v.sender==="user"?"bg-blue-500":"bg-gradient-to-r from-[#F6C100] to-[#C91F1F]"}`,children:v.sender==="user"?e.jsx(he,{className:"w-4 h-4 text-white"}):e.jsx(Es,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:`rounded-lg p-3 shadow-sm max-w-xs ${v.sender==="user"?"bg-blue-500 text-white":"bg-white text-gray-800"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:v.text}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:`text-xs ${v.sender==="user"?"text-blue-100":"text-gray-500"}`,children:b(v.timestamp)}),v.type&&v.sender==="agent"&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-gray-100 ${y(v.type)}`,children:v.type})]})]})]},v.id)),c&&e.jsxs(F.div,{className:"flex items-start space-x-2",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Es,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Sofia está digitando..."})]})})]}),m&&e.jsx(F.div,{className:"bg-red-50 border border-red-200 rounded-lg p-3",initial:{opacity:0},animate:{opacity:1},children:e.jsx("p",{className:"text-sm text-red-600",children:m})}),e.jsx("div",{ref:i})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{ref:o,type:"text",value:r,onChange:v=>n(v.target.value),onKeyPress:x,placeholder:"Digite sua mensagem...",disabled:c,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm disabled:opacity-50"}),e.jsx("button",{onClick:h,disabled:!r.trim()||c,className:"p-2 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-lg hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(bs,{className:"w-4 h-4"})})]}),l.length>0&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx("button",{onClick:u,className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Limpar conversa"})})]})]})]})})]})}function Nf({children:s}){return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF] flex flex-col",children:[e.jsx(Rm,{}),e.jsx("main",{className:"flex-grow",children:s}),e.jsx(Lm,{}),e.jsx(wf,{})]})}function Cf({isOpen:s,onClose:t}){const{user:a,userProfile:r,signOut:n}=z(),i=ta();if(!a||!r)return null;const o=r.user_type==="merchant",l=r.user_type==="admin",c=o?"/merchant/dashboard":"/dashboard",m=async()=>{try{console.log("👤 Usuário clicou em Sair (Sidebar)"),await n(),window.location.href="/login"}catch(h){console.error("❌ Erro no logout:",h)}},d=h=>i.pathname===h,u=[{label:"Dashboard",path:c,icon:o?Hs:Re,show:!0},{label:"Recomendações IA",path:"/recommendations",icon:pe,show:!o,iconColor:"text-orange-500"},{label:"Vouchers",path:"/meus-vouchers",icon:qe,show:!o},{label:"Histórico",path:"/history",icon:ra,show:!o},{label:"Connect",path:"/connect",icon:q,show:!o},{label:"Analytics BI",path:"/analytics",icon:is,show:l,iconColor:"text-purple-500"},{label:"Minhas Ofertas",path:"/merchant/offers",icon:qe,show:o},{label:"Analytics Merchant",path:"/merchant/analytics",icon:Re,show:o},{label:"Perfil",path:"/profile",icon:he,show:!0},{label:"Configurações",path:"/settings",icon:oa,show:!0}];return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),e.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx(O,{to:"/",className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"🎭 DUO PASS"})}),e.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:"✕"})]}),e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#333333] text-sm",children:r.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r.subscription_status==="active"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.subscription_status==="active"?"Ativo":"Inativo"})]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"space-y-1",children:u.filter(h=>h.show).map(h=>{const x=h.icon,b=d(h.path);return e.jsxs(O,{to:h.path,onClick:t,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors
                    ${b?"bg-gradient-to-r from-orange-500 to-purple-600 text-white":"text-gray-700 hover:bg-gray-100"}
                  `,children:[e.jsx(x,{className:`w-5 h-5 ${b?"text-white":h.iconColor||"text-gray-600"}`}),e.jsx("span",{className:"font-medium",children:h.label})]},h.path)})})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("button",{onClick:m,className:"flex items-center space-x-3 w-full px-3 py-2 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[e.jsx(na,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Sair"})]})})]})]})}function ke({children:s,title:t}){const[a,r]=g.useState(!1),{user:n,userProfile:i}=z();return!n||!i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(Cf,{isOpen:a,onClose:()=>r(!1)}),e.jsxs("div",{className:"flex-1 lg:ml-0",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Io,{className:"w-6 h-6 text-gray-600"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:t||"Dashboard"}),e.jsx("div",{className:"w-10"})," "]})}),e.jsxs("main",{className:"flex-1 p-4 lg:p-6",children:[t&&e.jsx("div",{className:"hidden lg:block mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t})}),s]})]})]})}const Sf=[{id:"gastronomy",icon:kr,color:"from-[#F6C100] to-[#C91F1F]"},{id:"beauty",icon:Cm,color:"from-[#C91F1F] to-[#F6C100]"},{id:"leisure",icon:pm,color:"from-[#333333] to-[#C91F1F]"},{id:"fitness",icon:hm,color:"from-[#F6C100] to-[#333333]"},{id:"shopping",icon:Sm,color:"from-[#C91F1F] to-[#333333]"},{id:"services",icon:Mm,color:"from-[#333333] to-[#F6C100]"}];function _f({onCategorySelect:s}){const{t}=Dt();return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:Sf.map(a=>{const r=a.icon;return e.jsxs("button",{onClick:()=>s==null?void 0:s(a.id),className:"flex flex-col items-center p-8 bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF] hover:border-[#F6C100] hover:shadow-xl transition-all group",children:[e.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${a.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:e.jsx(r,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-[#333333] text-center",children:t(`category.${a.id}`)})]},a.id)})})}const yc=function({limit:t=6,showHeader:a=!0}){const[r,n]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(null),m=g.useMemo(()=>[{id:"romance",label:"Romance",icon:"💕",description:"Para momentos íntimos"},{id:"amizade",label:"Amizade",icon:"🤝",description:"Para fortalecer laços"},{id:"descoberta",label:"Descoberta",icon:"🔍",description:"Para explorar o novo"},{id:"reflexao",label:"Reflexão",icon:"🧘",description:"Para momentos contemplativos"},{id:"celebracao",label:"Celebração",icon:"🎉",description:"Para ocasiões especiais"},{id:"inspiracao",label:"Inspiração",icon:"✨",description:"Para despertar criatividade"}],[]),d=g.useCallback(()=>[{id:"sarau-literario",experience_name:"Sarau Literário com Café Especial",story_behind:"Uma noite especial onde poesia e café se encontram, criando um ambiente mágico para compartilhar histórias.",cultural_value:"Promove a literatura local e cria um espaço de expressão artística acessível.",duo_benefit:"Duas pessoas participam do sarau e degustam cafés especiais pelo preço de uma.",original_price:60,duo_price:30,ambiance_notes:"Luzes suaves, música acústica ao vivo e um ambiente que convida à contemplação.",best_for:["primeiro_encontro","amigos_arte","descoberta_cultural"],cultural_tags:["literatura","poesia","musica_acustica"],emotion_tags:["inspiracao","conexao","descoberta"],active:!0,cultural_partners:{business_name:"Café das Letras",business_type:"cafe_cultural",cultural_category:"literatura_cafe",ambiance_description:"Um ambiente acolhedor com estantes repletas de livros e música suave."}},{id:"jantar-velas",experience_name:"Jantar à Luz de Velas com Música ao Vivo",story_behind:"Uma experiência gastronômica que celebra receitas familiares em um ambiente romântico.",cultural_value:"Preserva tradições culinárias familiares e promove conexões genuínas.",duo_benefit:"Jantar completo para duas pessoas com música ao vivo incluída.",original_price:120,duo_price:60,ambiance_notes:"Ambiente íntimo com velas, música acústica e decoração que conta histórias.",best_for:["momento_romantico","celebracao_especial"],cultural_tags:["gastronomia_familiar","musica_ao_vivo","ambiente_romantico"],emotion_tags:["romance","celebracao","conexao"],active:!0,cultural_partners:{business_name:"Restaurante da Nonna",business_type:"restaurante_familia",cultural_category:"gastronomia_autoral",ambiance_description:"Restaurante familiar que preserva receitas tradicionais italianas."}},{id:"oficina-ceramica",experience_name:"Oficina de Cerâmica e Chá da Tarde",story_behind:"Conecte-se com a arte milenar da cerâmica enquanto saboreia chás especiais.",cultural_value:"Preserva técnicas artesanais e promove mindfulness através da arte.",duo_benefit:"Duas pessoas criam suas peças únicas e levam para casa.",original_price:80,duo_price:40,ambiance_notes:"Ateliê com luz natural, plantas e o som suave da roda de oleiro.",best_for:["reflexao_pessoal","amigos_arte","descoberta_cultural"],cultural_tags:["artesanato","ceramica","mindfulness"],emotion_tags:["reflexao","tranquilidade","descoberta"],active:!0,cultural_partners:{business_name:"Ateliê Terra & Alma",business_type:"atelier_arte",cultural_category:"artesanato_local",ambiance_description:"Espaço criativo dedicado à cerâmica e bem-estar."}}],[]),u=g.useCallback(async()=>{try{o(!0),await Promise.race([M.from("cultural_experiences").select("count").limit(1),new Promise((p,j)=>setTimeout(()=>j(new Error("Timeout de conectividade experiências (5s)")),5e3))]);let y=M.from("cultural_experiences").select(`
          *,
          cultural_partners (
            business_name,
            business_type,
            cultural_category,
            ambiance_description
          )
        `).eq("active",!0).limit(t);l&&(y=y.contains("emotion_tags",[l]));const v=new Promise((p,j)=>setTimeout(()=>j(new Error("Timeout da query experiências (10s)")),1e4)),{data:f,error:w}=await Promise.race([y,v]);w||!f||f.length===0?n(d()):n(f)}catch{n(d())}finally{o(!1)}},[l,t,d]);g.useEffect(()=>{u()},[u]);const h=g.useCallback(b=>{const y=m.find(v=>v.id===b);return(y==null?void 0:y.icon)||"✨"},[m]),x=g.useCallback(b=>({primeiro_encontro:"Primeiro Encontro",amigos_arte:"Amigos & Arte",reflexao_pessoal:"Reflexão Pessoal",celebracao_especial:"Celebração Especial",momento_romantico:"Momento Romântico",descoberta_cultural:"Descoberta Cultural"})[b]||b,[]);return i?e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((b,y)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},y))})}):e.jsxs("div",{className:"py-12",children:[a&&e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent mb-4",children:"Descubra Experiências com Alma"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Não vendemos produtos, criamos memórias. Cada experiência é uma oportunidade de conexão genuína."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[e.jsx("button",{onClick:()=>c(null),className:`px-4 py-2 rounded-full font-medium transition-all ${l===null?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas as Experiências"}),m.map(b=>e.jsxs("button",{onClick:()=>c(b.id),className:`px-4 py-2 rounded-full font-medium transition-all flex items-center space-x-2 ${l===b.id?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:b.icon}),e.jsx("span",{children:b.label})]},b.id))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.length===0?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhuma experiência encontrada"})}):r.map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group",children:[e.jsxs("div",{className:"p-6 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 group-hover:text-amber-600 transition-colors",children:b.experience_name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:b.cultural_partners.business_name})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:b.emotion_tags.slice(0,2).map(y=>e.jsx("span",{className:"text-lg",children:h(y)},y))})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:b.story_behind}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.best_for.slice(0,2).map(y=>e.jsx("span",{className:"px-2 py-1 bg-amber-50 text-amber-700 text-xs rounded-full",children:x(y)},y))})]}),e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-rose-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Experiência Individual"}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["CHF ",(b.original_price*.18).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-amber-700",children:"DUO PASS"}),e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["CHF ",(b.duo_price*.18).toFixed(2)]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:b.duo_benefit})]})}),e.jsxs("div",{className:"px-6 pb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(pe,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"line-clamp-1",children:b.ambiance_notes})]}),e.jsxs(O,{to:`/experiencia/${b.id}`,className:"w-full bg-gradient-to-r from-amber-500 to-rose-500 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all flex items-center justify-center space-x-2 group",children:[e.jsx("span",{children:"Viver Esta Experiência"}),e.jsx(te,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},b.id))}),a&&r.length>=t&&e.jsx("div",{className:"text-center mt-12",children:e.jsxs(O,{to:"/experiencias",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:[e.jsx("span",{children:"Descobrir Mais Experiências"}),e.jsx(te,{className:"w-4 h-4"})]})})]})};yc.displayName="CulturalExperiences";const kf=me.memo(yc);function Ef(){const s=ie();return e.jsxs("div",{className:"bg-[#F5F3EF]",children:[e.jsxs(Eo,{children:[e.jsx("title",{children:"Duo Pass Club – Experiências Autênticas"}),e.jsx("meta",{name:"description",content:"Uma plataforma cultural que conecta pessoas através de experiências genuínas. Não vendemos produtos, criamos memórias e fortalecemos comunidades."}),e.jsx("meta",{property:"og:title",content:"Duo Pass Club"}),e.jsx("meta",{property:"og:description",content:"Transforme momentos em memórias com experiências culturais únicas."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Duo Pass Club"}),e.jsx("meta",{name:"twitter:description",content:"Transforme momentos em memórias com experiências culturais únicas."})]}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] text-white py-24",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(F.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsx(Pe,{className:"w-24 h-24 md:w-32 md:h-32 text-yellow-400 drop-shadow-lg",strokeWidth:1.5,fill:"currentColor"})}),e.jsx(F.h1,{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Duo Pass Club"}),e.jsx(F.p,{className:"text-2xl md:text-3xl mb-6 font-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Onde experiências autênticas ganham vida."}),e.jsx(F.p,{className:"text-xl md:text-2xl mb-12 text-yellow-100 max-w-4xl mx-auto font-light leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Uma plataforma cultural que conecta pessoas através de experiências genuínas. Não vendemos produtos, criamos memórias e fortalecemos comunidades."}),e.jsxs(F.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[e.jsxs(O,{to:"/ofertas",onClick:()=>console.log("🔗 Clicou em Descobrir Experiências - Navegando para /ofertas"),className:"inline-flex items-center bg-white text-[#C91F1F] px-10 py-5 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Descobrir Experiências",e.jsx(te,{className:"ml-3 w-6 h-6"})]}),e.jsxs(O,{to:"/como-funciona-parceiros",onClick:()=>console.log("🔗 Clicou em Ser Parceiro Cultural - Navegando para /como-funciona-parceiros"),className:"inline-flex items-center bg-transparent border-2 border-white text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-white hover:text-[#C91F1F] transition-all",children:["Ser Parceiro Cultural",e.jsx(G,{className:"ml-3 w-6 h-6"})]})]})]})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs(F.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full mb-8",children:e.jsx(Oo,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"O que é o Duo Pass Club?"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-4xl mx-auto leading-relaxed",children:"Uma plataforma cultural que conecta pessoas através de experiências autênticas. Apoiamos negócios com alma, promovemos conexões genuínas e fortalecemos a economia criativa local — transformando consumo em cultura viva."})]})}),e.jsx("section",{className:"bg-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(F.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#C91F1F] to-[#F6C100] rounded-full mb-8",children:e.jsx(G,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Para quem é?"}),e.jsx("p",{className:"text-xl text-gray-700 mb-12 max-w-3xl mx-auto",children:"Para quem quer fazer parte de algo maior:"})]}),e.jsxs(F.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(as,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Parceiros Culturais"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Cafés culturais, ateliês, restaurantes familiares e espaços que respiram autenticidade e propósito"})]}),e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#C91F1F] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#C91F1F] to-[#F6C100] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(X,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Artistas & Criativos"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Artistas, criativos, coletivos que valorizam cultura e expressão autêntica"})]}),e.jsxs("div",{className:"text-center p-8 bg-[#F5F3EF] rounded-2xl border-2 border-[#333333] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#333333] to-[#F6C100] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(q,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Comunidade Consciente"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Pessoas que buscam experiências com alma, valorizam conexões genuínas e apoiam a cultura local"})]})]})]})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs(F.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#C91F1F] to-[#333333] rounded-full mb-8",children:e.jsx(Xa,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Por que entrar?"})]}),e.jsxs(F.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#F6C100] rounded-lg flex items-center justify-center mb-6",children:e.jsx(X,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Destaque como Parceiro Fundador"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Divulgue seu negócio com destaque especial na plataforma"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#C91F1F] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#C91F1F] rounded-lg flex items-center justify-center mb-6",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Ações Promocionais Conjuntas"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Faça parte de campanhas colaborativas com outros parceiros"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#333333] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-lg flex items-center justify-center mb-6",children:e.jsx(as,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Novos Clientes"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Receba clientes sem comissão, sem complicação"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-[#F6C100] hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-lg flex items-center justify-center mb-6",children:e.jsx(Xa,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-3",children:"Ativação Imediata"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Ative sua oferta e comece imediatamente"})]})]})]}),e.jsx("section",{className:"bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:e.jsx(kf,{limit:6,showHeader:!0})})})}),e.jsx("section",{className:"bg-white py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(F.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-8",children:"Explore por Categoria"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"Descubra experiências organizadas por tipo e conecte-se com a comunidade cultural"})]}),e.jsx(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:e.jsx(_f,{onCategorySelect:t=>{s(`/ofertas?category=${t}`)}})})]})}),e.jsx("section",{className:"bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(F.h2,{className:"text-4xl md:text-5xl font-bold text-white mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Pronto para começar?"}),e.jsx(F.p,{className:"text-xl text-yellow-100 mb-12 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Junte-se à nossa comunidade cultural e descubra experiências autênticas que transformam momentos em memórias."}),e.jsxs(F.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:[e.jsxs(O,{to:"/ofertas",className:"inline-flex items-center bg-white text-[#C91F1F] px-10 py-5 rounded-full font-semibold text-lg hover:bg-gray-100 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Explorar Ofertas",e.jsx(te,{className:"ml-3 w-6 h-6"})]}),e.jsxs(O,{to:"/signup",className:"inline-flex items-center bg-transparent border-2 border-white text-white px-10 py-5 rounded-full font-semibold text-lg hover:bg-white hover:text-[#C91F1F] transition-all",children:["Criar Conta",e.jsx(q,{className:"ml-3 w-6 h-6"})]})]})]})}),e.jsx("section",{className:"bg-gradient-to-r from-[#F6C100] via-[#C91F1F] to-[#333333] text-white py-24",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx(F.h2,{className:"text-4xl md:text-6xl font-bold mb-8 leading-tight",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Sua história, em movimento."}),e.jsx(F.h3,{className:"text-3xl md:text-4xl font-light mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Sua comunidade, conectada."}),e.jsx(F.p,{className:"text-xl md:text-2xl mb-12 text-yellow-100 font-light leading-relaxed",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:"✨ Faça parte deste movimento cultural. Onde autenticidade encontra propósito."}),e.jsxs(F.div,{className:"flex flex-col sm:flex-row gap-6 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},children:[e.jsxs(O,{to:"/parceiros-culturais",className:"inline-flex items-center bg-white text-[#C91F1F] px-12 py-6 rounded-full font-bold text-xl hover:bg-gray-100 transition-all shadow-2xl hover:shadow-3xl transform hover:-translate-y-2",children:["Ser Parceiro Cultural",e.jsx(G,{className:"ml-3 w-7 h-7"})]}),e.jsxs(O,{to:"/ofertas",className:"inline-flex items-center bg-transparent border-3 border-white text-white px-12 py-6 rounded-full font-bold text-xl hover:bg-white hover:text-[#C91F1F] transition-all",children:["Descobrir Experiências",e.jsx(te,{className:"ml-3 w-7 h-7"})]})]})]})})]})}const dn=({width:s=500,height:t=500,className:a=""})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:t,viewBox:"0 0 500 500",className:a,role:"img","aria-label":"DuoPass Club Logo",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"duopass-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:"#4F46E5",stopOpacity:1}}),e.jsx("stop",{offset:"100%",style:{stopColor:"#7C3AED",stopOpacity:1}})]})}),e.jsx("circle",{cx:"250",cy:"250",r:"240",fill:"url(#duopass-grad1)",stroke:"#ffffff",strokeWidth:"4"}),e.jsx("text",{x:"250",y:"200",fontFamily:"Arial, sans-serif",fontSize:"60",fontWeight:"bold",textAnchor:"middle",fill:"#ffffff",children:"DUO"}),e.jsx("text",{x:"250",y:"280",fontFamily:"Arial, sans-serif",fontSize:"40",fontWeight:"normal",textAnchor:"middle",fill:"#ffffff",children:"PASS"}),e.jsx("text",{x:"250",y:"320",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"normal",textAnchor:"middle",fill:"#ffffff",opacity:"0.8",children:"Club"}),e.jsx("circle",{cx:"150",cy:"150",r:"8",fill:"#ffffff",opacity:"0.6"}),e.jsx("circle",{cx:"350",cy:"150",r:"6",fill:"#ffffff",opacity:"0.4"}),e.jsx("circle",{cx:"120",cy:"300",r:"4",fill:"#ffffff",opacity:"0.5"}),e.jsx("circle",{cx:"380",cy:"320",r:"5",fill:"#ffffff",opacity:"0.3"})]}),Pf=()=>{const[s,t]=g.useState(!1),[a,r]=g.useState(null),{user:n}=z(),i=g.useCallback(async()=>{try{t(!0),r(null),console.log("🔐 Iniciando autenticação com Google...");const{data:m,error:d}=await M.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(d)throw console.error("❌ Erro na autenticação Google:",d),d;return console.log("✅ Redirecionamento para Google iniciado"),m}catch(m){const d=m instanceof Error?m.message:"Erro desconhecido";throw console.error("💥 Erro no Google Auth:",d),r(d),m}finally{t(!1)}},[]),o=g.useCallback(()=>{var m;return((m=n==null?void 0:n.app_metadata)==null?void 0:m.provider)==="google"},[n]),l=g.useCallback(()=>{var m,d,u,h,x;return o()?{name:((m=n==null?void 0:n.user_metadata)==null?void 0:m.full_name)||((d=n==null?void 0:n.user_metadata)==null?void 0:d.name),email:n==null?void 0:n.email,picture:((u=n==null?void 0:n.user_metadata)==null?void 0:u.avatar_url)||((h=n==null?void 0:n.user_metadata)==null?void 0:h.picture),provider:"google",providerId:(x=n==null?void 0:n.user_metadata)==null?void 0:x.sub}:null},[n,o]),c=g.useCallback(()=>{r(null)},[]);return{signInWithGoogle:i,isGoogleUser:o,getGoogleUserInfo:l,loading:s,error:a,clearError:c}},vc=({text:s="Continuar com Google",variant:t="outline",size:a="md",onSuccess:r,onError:n,className:i="",fullWidth:o=!0})=>{const{signInWithGoogle:l,loading:c,error:m,clearError:d}=Pf(),u=async()=>{try{d(),await l(),r==null||r()}catch(f){const w=f instanceof Error?f.message:"Erro na autenticação";n==null||n(w)}},h="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",x={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},b={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300",outline:"bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500 border border-gray-300 shadow-sm"},y=o?"w-full":"",v=`${h} ${x[a]} ${b[t]} ${y} ${i}`;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{type:"button",onClick:u,disabled:c,className:v,"aria-label":s,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Conectando..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s]})}),m&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),m]})})]})};function Tf(){const{signIn:s}=z(),{t}=Dt(),a=ie(),[r]=sa(),[n,i]=g.useState(!1),[o,l]=g.useState(!1),[c,m]=g.useState({email:"",password:""}),d=async u=>{u.preventDefault(),l(!0);try{console.log("📧 Tentando fazer login com:",c.email);const h=await s(c.email,c.password);console.log("✅ Login bem-sucedido:",h);const x=r.get("redirect");x?(console.log("🚀 Redirecionando para:",x),a(decodeURIComponent(x))):(console.log("🚀 Navegando para home..."),a("/"))}catch(h){console.error("❌ Erro no login:",h),h instanceof Error?h.message.includes("Email não verificado")?(console.log("📨 Redirecionando para verificação de email"),a(`/email-verification?email=${encodeURIComponent(c.email)}`)):h.message.includes("Timeout")?alert("A conexão demorou muito para responder. Verifique sua internet e tente novamente."):h.message.includes("invalid_credentials")?alert("Email ou senha incorretos. Verifique suas credenciais e tente novamente."):alert(h.message):alert("Erro ao fazer login. Tente novamente.")}finally{l(!1),console.log("🏁 Processo de login finalizado")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(dn,{height:80,className:"w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333]",children:"Bem-vindo de volta"}),e.jsx("p",{className:"text-gray-600 mt-3 text-lg",children:"Entre na sua conta para continuar"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:t("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"email",required:!0,value:c.email,onChange:u=>m({...c,email:u.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"seu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:t("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:n?"text":"password",required:!0,value:c.password,onChange:u=>m({...c,password:u.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#C91F1F] transition-colors",children:n?e.jsx(Qt,{className:"w-5 h-5"}):e.jsx(Ve,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:o?"Entrando...":t("auth.signin")})]}),e.jsx("div",{className:"mt-6 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou continue com"})})]})}),e.jsx("div",{className:"space-y-3",children:e.jsx(vc,{})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"🎯 Credenciais de Demonstração"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," demo@duopass.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Senha:"})," 123456"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Não tem uma conta?"," ",e.jsx(O,{to:"/signup",className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Cadastre-se"})]})})]})})})}function Af(){const{signUp:s}=z(),{t}=Dt(),a=ie(),[r,n]=g.useState(!1),[i,o]=g.useState(!1),[l,c]=g.useState({email:"",password:"",fullName:"",userType:"customer"}),m=async d=>{d.preventDefault(),o(!0);try{console.log("🚀 CADASTRO: Iniciando cadastro com:",{email:l.email,userType:l.userType,fullName:l.fullName}),await s(l.email,l.password,{full_name:l.fullName,user_type:l.userType}),console.log("✅ CADASTRO: Sucesso! Redirecionando para verificação de email"),a(`/email-verification?email=${encodeURIComponent(l.email)}`)}catch(u){console.error("❌ ERRO NO CADASTRO:",u);let h="Erro ao criar conta. Tente novamente.";u instanceof Error&&(console.log("🔍 ERRO DETALHADO:",{message:u.message,name:u.name,stack:u.stack}),u.message.includes("já está cadastrado")||u.message.includes("already registered")?h="Este email já está cadastrado. Tente fazer login ou use outro email.":u.message.includes("Invalid login credentials")?h="Este email já existe no sistema. Tente fazer login ao invés de cadastrar.":u.message.includes("Invalid email")?h="Email inválido. Verifique o formato do email.":u.message.includes("Password")||u.message.includes("password")?h="Senha deve ter pelo menos 6 caracteres.":u.message.includes("duplicate key")||u.message.includes("unique constraint")?h="Este email já está em uso. Tente fazer login.":u.message.includes("User already registered")?h="Este email já está cadastrado. Faça login ou use outro email.":h=u.message),alert(h)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F6C100] via-[#C91F1F] to-[#333333] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(dn,{height:80,className:"w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-[#333333]",children:"Criar Conta"}),e.jsx("p",{className:"text-gray-600 mt-3 text-lg",children:"Cadastre-se para começar a economizar"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:t("auth.fullname")}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"text",required:!0,value:l.fullName,onChange:d=>c({...l,fullName:d.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Seu nome completo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:t("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:d=>c({...l,email:d.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"seu@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:t("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#C91F1F] w-5 h-5"}),e.jsx("input",{type:r?"text":"password",required:!0,value:l.password,onChange:d=>c({...l,password:d.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#C91F1F] transition-colors",children:r?e.jsx(Qt,{className:"w-5 h-5"}):e.jsx(Ve,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:t("auth.usertype")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>c({...l,userType:"customer"}),className:`p-4 border-2 rounded-xl text-center transition-all ${l.userType==="customer"?"border-[#F6C100] bg-gradient-to-br from-[#F6C100] to-[#C91F1F] text-white":"border-gray-300 text-[#333333] hover:border-[#F6C100]"}`,children:[e.jsx("div",{className:"font-semibold",children:t("auth.customer")}),e.jsx("div",{className:"text-sm opacity-80",children:"Usar cupons"})]}),e.jsxs("button",{type:"button",onClick:()=>c({...l,userType:"merchant"}),className:`p-4 border-2 rounded-xl text-center transition-all ${l.userType==="merchant"?"border-[#C91F1F] bg-gradient-to-br from-[#C91F1F] to-[#333333] text-white":"border-gray-300 text-[#333333] hover:border-[#C91F1F]"}`,children:[e.jsx("div",{className:"font-semibold",children:t("auth.merchant")}),e.jsx("div",{className:"text-sm opacity-80",children:"Criar ofertas"})]})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white py-4 px-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:i?"Criando conta...":t("auth.signup")})]}),e.jsx("div",{className:"mt-6 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou cadastre-se com"})})]})}),e.jsx("div",{className:"space-y-3",children:e.jsx(vc,{})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",e.jsx(O,{to:"/login",className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Entre aqui"})]})})]})})})}const xs=[{id:"cultural-starter",name:"Cultural Starter",description:"Perfeito para começar sua jornada cultural",price_monthly:9,price_yearly:90,experiences_per_month:2,features:["2 experiências culturais por mês (2 por 1)","Acesso a cafés e experiências básicas","Newsletter cultural semanal","Comunidade DUO PASS Connect","Suporte por email"],popular:!1,tier:"starter",color_scheme:{primary:"#F59E0B",secondary:"#FEF3C7",gradient:"from-amber-400 to-orange-500"},icon:"🌟"},{id:"cultural-explorer",name:"Cultural Explorer",description:"O plano mais popular para exploradores culturais",price_monthly:12,price_yearly:120,experiences_per_month:4,features:["4 experiências culturais por mês (2 por 1)","Acesso completo: restaurantes, spas, arte","Eventos exclusivos mensais","Curadoria personalizada","Prioridade no atendimento","Acesso antecipado a novas experiências"],popular:!0,tier:"explorer",color_scheme:{primary:"#8B5CF6",secondary:"#EDE9FE",gradient:"from-purple-500 to-pink-500"},icon:"👑"},{id:"cultural-ambassador",name:"Cultural Ambassador",description:"Experiência VIP completa para verdadeiros embaixadores",price_monthly:18,price_yearly:180,experiences_per_month:"unlimited",features:["Experiências ilimitadas (2 por 1)","Acesso VIP a eventos especiais","Convidados extras (+2 pessoas ocasionalmente)","Concierge cultural personalizado","Acesso beta a novas experiências","Suporte prioritário 24/7","Transferência de experiências entre meses"],popular:!1,tier:"ambassador",color_scheme:{primary:"#EF4444",secondary:"#FEE2E2",gradient:"from-red-500 to-pink-600"},icon:"🏆"}],Ms=[{id:"preferred_time",title:"Quando você prefere suas experiências culturais?",subtitle:"Escolha o período que mais combina com você",icon:Ie,type:"single",options:[{value:"morning",label:"Manhã",description:"Até 12h"},{value:"afternoon",label:"Tarde",description:"12h às 18h"},{value:"evening",label:"Noite",description:"Após 18h"},{value:"flexible",label:"Flexível",description:"Qualquer horário"}]},{id:"cultural_frequency",title:"Com que frequência você busca experiências culturais?",subtitle:"Nos ajude a entender seu ritmo",icon:Ct,type:"single",options:[{value:"daily",label:"Diariamente",description:"Sempre em busca de algo novo"},{value:"weekly",label:"Semanalmente",description:"Fins de semana culturais"},{value:"monthly",label:"Mensalmente",description:"Experiências especiais"},{value:"occasionally",label:"Ocasionalmente",description:"Quando surge oportunidade"}]},{id:"budget_range",title:"Qual seu orçamento típico para experiências culturais?",subtitle:"Por pessoa, por experiência",icon:Fo,type:"single",options:[{value:"low",label:"Até CHF 9.-",description:"Experiências acessíveis"},{value:"medium",label:"CHF 9.- - CHF 27.-",description:"Investimento moderado"},{value:"high",label:"CHF 27.- - CHF 54.-",description:"Experiências premium"},{value:"luxury",label:"Acima de CHF 54.-",description:"Sem limites para cultura"}]},{id:"group_size_preference",title:"Como você prefere vivenciar a cultura?",subtitle:"Tamanho ideal do grupo",icon:q,type:"single",options:[{value:"solo",label:"Sozinho(a)",description:"Momentos de introspecção"},{value:"couple",label:"Em dupla",description:"Experiências íntimas"},{value:"small_group",label:"Grupo pequeno",description:"3-6 pessoas"},{value:"large_group",label:"Grupo grande",description:"7+ pessoas"}]},{id:"discovery_style",title:"Como você gosta de descobrir novas experiências?",subtitle:"Seu estilo de exploração",icon:mm,type:"single",options:[{value:"planned",label:"Planejado",description:"Pesquiso e organizo com antecedência"},{value:"spontaneous",label:"Espontâneo",description:"Decido na hora"},{value:"recommended",label:"Por indicação",description:"Confio em recomendações"},{value:"mixed",label:"Misto",description:"Depende da ocasião"}]},{id:"primary_interests",title:"Quais são seus principais interesses culturais?",subtitle:"Escolha até 3 opções",icon:G,type:"multiple",options:[{value:"arte",label:"Arte & Design",description:"Museus, galerias, exposições"},{value:"gastronomia",label:"Gastronomia",description:"Restaurantes, degustações, culinária"},{value:"musica",label:"Música",description:"Shows, concertos, festivais"},{value:"bem-estar",label:"Bem-estar",description:"Spas, retiros, mindfulness"},{value:"cultura",label:"Cultura Local",description:"História, tradições, patrimônio"}]},{id:"preferred_location",title:"Onde você prefere suas experiências culturais?",subtitle:"Selecione sua cidade principal na Suíça",icon:$e,type:"single",options:[{value:"Zurich",label:"Zurich",description:"Centro financeiro e cultural"},{value:"Geneva",label:"Geneva",description:"Cidade internacional"},{value:"Bern",label:"Bern",description:"Capital federal"},{value:"Basel",label:"Basel",description:"Centro artístico"},{value:"Lausanne",label:"Lausanne",description:"Cidade universitária"},{value:"Lucerne",label:"Lucerne",description:"Beleza alpina"}]},{id:"available_days",title:"Quais dias você tem mais disponibilidade?",subtitle:"Selecione todos que se aplicam",icon:Ct,type:"days",options:[{value:"monday",label:"Segunda"},{value:"tuesday",label:"Terça"},{value:"wednesday",label:"Quarta"},{value:"thursday",label:"Quinta"},{value:"friday",label:"Sexta"},{value:"saturday",label:"Sábado"},{value:"sunday",label:"Domingo"}]},{id:"social_style",title:"Como você se descreveria socialmente?",subtitle:"Seu perfil social",icon:q,type:"single",options:[{value:"introvert",label:"Introvertido(a)",description:"Prefiro grupos menores e conversas profundas"},{value:"extrovert",label:"Extrovertido(a)",description:"Adoro conhecer pessoas e grandes grupos"},{value:"ambivert",label:"Ambivertido(a)",description:"Depende do momento e contexto"}]},{id:"experience_level",title:"Como você se considera em relação à cultura?",subtitle:"Seu nível de experiência",icon:X,type:"single",options:[{value:"beginner",label:"Iniciante",description:"Começando a explorar"},{value:"intermediate",label:"Intermediário",description:"Tenho alguma experiência"},{value:"advanced",label:"Avançado",description:"Sou bem experiente"},{value:"expert",label:"Especialista",description:"Conheço muito sobre cultura"}]}];function Df({onComplete:s,existingPreferences:t,onCancel:a}){const{user:r}=z(),[n,i]=g.useState(0),[o,l]=g.useState(()=>t?{experience_level:t.culture_level,primary_interests:t.interests,preferred_location:t.location,preferred_time:t.preferred_time,cultural_frequency:t.cultural_frequency,budget_range:t.budget_range,group_size_preference:t.group_size_preference,discovery_style:t.discovery_style,available_days:t.available_days,social_style:t.social_style}:{}),[c,m]=g.useState(!1),d=Ms[n],u=n===Ms.length-1,h=o[d.id]!==void 0,x=p=>{if(d.type==="multiple"){const j=o[d.id]||[];j.includes(p)?l(N=>({...N,[d.id]:j.filter(_=>_!==p)})):j.length<3&&l(N=>({...N,[d.id]:[...j,p]}))}else if(d.type==="days"){const j=o[d.id]||[];j.includes(p)?l(N=>({...N,[d.id]:j.filter(_=>_!==p)})):l(N=>({...N,[d.id]:[...j,p]}))}else l(j=>({...j,[d.id]:p}))},b=()=>{u?v():i(p=>p+1)},y=()=>{i(p=>p-1)},v=async()=>{if(r){m(!0);try{const p={user_id:r.id,culture_level:o.experience_level,interests:o.primary_interests,location:o.preferred_location,updated_at:new Date().toISOString()};let j;if(t?j=await M.from("preferences").update(p).eq("user_id",r.id).select().single():j=await M.from("preferences").insert(p).select().single(),j.error)throw j.error;s(j.data)}catch(p){console.error("Erro ao salvar preferências:",p),alert("Erro ao salvar suas preferências. Tente novamente.")}finally{m(!1)}}},f=(n+1)/Ms.length*100,w=d.icon;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t?"Atualizar Perfil Cultural":"Perfil Cultural"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Questão ",n+1," de ",Ms.length]})]})]}),a&&e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(dt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"pb-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(w,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:d.title}),e.jsx("p",{className:"text-gray-600",children:d.subtitle}),d.type==="multiple"&&e.jsx("p",{className:"text-sm text-[#C91F1F] mt-2",children:"Selecione até 3 opções"})]}),e.jsx("div",{className:"space-y-3",children:d.options.map(p=>{const j=d.type==="multiple"||d.type==="days"?(o[d.id]||[]).includes(p.value):o[d.id]===p.value,N=d.type==="multiple"&&!j&&(o[d.id]||[]).length>=3;return e.jsx("button",{onClick:()=>!N&&x(p.value),disabled:N,className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${j?"border-[#C91F1F] bg-red-50 text-[#C91F1F]":N?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-[#C91F1F] hover:bg-red-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:p.label}),p.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p.description})]}),j&&e.jsx(H,{className:"w-6 h-6 text-[#C91F1F] flex-shrink-0 ml-3"})]})},p.value)})}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t",children:[e.jsxs("button",{onClick:y,disabled:n===0,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${n===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(dt,{className:"w-5 h-5"}),e.jsx("span",{children:"Anterior"})]}),e.jsx("button",{onClick:b,disabled:!h||c,className:`flex items-center space-x-2 px-8 py-3 rounded-lg font-medium transition-colors ${h&&!c?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:c?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:u?"Finalizar":"Próxima"}),e.jsx(te,{className:"w-5 h-5"})]})})]})]})})]})}const Yi={arte:ia,gastronomia:kr,musica:_r,"bem-estar":G,cultura:Ao},Fs={arte:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"},gastronomia:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200"},musica:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},"bem-estar":{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"},cultura:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200"}};function Ki({userPreferences:s}){var A;const{user:t}=z(),a=ie(),[r,n]=g.useState([]),[i,o]=g.useState([]),[l,c]=g.useState(!0),[m,d]=g.useState(""),[u,h]=g.useState("all"),[x,b]=g.useState(!1),[y,v]=g.useState(null),f=async()=>{try{if((t==null?void 0:t.id)==="demo-user-id"){const L=[{id:"arte-design",name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",member_count:1247,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"gastronomia-gourmet",name:"Gastronomia Gourmet",description:"Descubra novos sabores, restaurantes exclusivos e experiências culinárias únicas com outros food lovers.",category:"gastronomia",member_count:892,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"musica-concertos",name:"Música & Concertos",description:"Compartilhe shows, concertos e festivais musicais com melômanos que adoram descobrir novos artistas.",category:"musica",member_count:1534,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"bem-estar-mindful",name:"Bem-estar & Mindfulness",description:"Conecte-se com pessoas que valorizam o autocuidado, spas, retiros e práticas de bem-estar.",category:"bem-estar",member_count:678,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"cultura-patrimonio",name:"Cultura & Patrimônio",description:"Explore a história local, tradições culturais e patrimônio histórico com outros entusiastas da cultura.",category:"cultura",member_count:945,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];n(L),c(!1);return}const{data:S,error:R}=await M.from("cultural_communities").select("*").order("member_count",{ascending:!1});if(R)throw R;n(S||[])}catch(S){console.error("Erro ao carregar comunidades:",S)}finally{c(!1)}},w=async()=>{if(t)try{if(t.id==="demo-user-id"){o(["arte-design","gastronomia-gourmet"]);return}const{data:S,error:R}=await M.from("community_members").select("community_id").eq("user_id",t.id);if(R)throw R;o((S==null?void 0:S.map(L=>L.community_id))||[])}catch(S){console.error("Erro ao carregar memberships:",S)}},p=me.useCallback(f,[t]),j=me.useCallback(w,[t]);g.useEffect(()=>{p(),t&&j()},[t,p,j]);const N=async S=>{if(!(!t||y)){v(S);try{if(t.id==="demo-user-id"){o(L=>[...L,S]),n(L=>L.map(B=>B.id===S?{...B,member_count:B.member_count+1}:B)),v(null),a(`/comunidade/${S}`);return}const{error:R}=await M.from("community_members").insert({community_id:S,user_id:t.id});if(R)throw R;o(L=>[...L,S]),await f(),a(`/comunidade/${S}`)}catch(R){console.error("Erro ao entrar na comunidade:",R),alert("Erro ao entrar na comunidade. Tente novamente.")}finally{v(null)}}},_=async S=>{if(!(!t||y)){v(S);try{if(t.id==="demo-user-id"){o(L=>L.filter(B=>B!==S)),n(L=>L.map(B=>B.id===S?{...B,member_count:Math.max(0,B.member_count-1)}:B)),v(null);return}const{error:R}=await M.from("community_members").delete().eq("community_id",S).eq("user_id",t.id);if(R)throw R;o(L=>L.filter(B=>B!==S)),await f()}catch(R){console.error("Erro ao sair da comunidade:",R),alert("Erro ao sair da comunidade. Tente novamente.")}finally{v(null)}}},E=S=>{a(`/comunidade/${S}`)},T=r.filter(S=>{const R=S.name.toLowerCase().includes(m.toLowerCase())||S.description.toLowerCase().includes(m.toLowerCase()),L=u==="all"||S.category===u,B=!x||i.includes(S.id);return R&&L&&B}),P=()=>userAffinity!=null&&userAffinity.primary_interests?T.filter(S=>userAffinity.primary_interests.includes(S.category)):[],C=[{value:"all",label:"Todas",icon:q},{value:"arte",label:"Arte",icon:ia},{value:"gastronomia",label:"Gastronomia",icon:kr},{value:"musica",label:"Música",icon:_r},{value:"bem-estar",label:"Bem-estar",icon:G},{value:"cultura",label:"Cultura",icon:Ao}],k=P();return l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando comunidades..."})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar comunidades...",value:m,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-[#C91F1F] text-white"}`,children:"Todas"}),e.jsxs("button",{onClick:()=>b(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Participando (",i.length,")"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:C.map(S=>{const R=S.icon,L=u===S.value;return e.jsxs("button",{onClick:()=>h(S.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${L?"bg-[#C91F1F] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:S.label})]},S.value)})})]})}),k.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(X,{className:"w-5 h-5 text-[#F6C100]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recomendadas para Você"}),e.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(S=>{const R=Yi[S.category]||q,L=Fs[S.category]||Fs.cultura,B=i.includes(S.id),W=y===S.id;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-[#F6C100] p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${L.bg} rounded-xl flex items-center justify-center`,children:e.jsx(R,{className:`w-6 h-6 ${L.text}`})}),e.jsxs("div",{className:"flex items-center space-x-1 text-[#F6C100]",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Recomendada"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-[#C91F1F] transition-colors",onClick:()=>E(S.id),children:S.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:S.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:S.member_count.toLocaleString()})]})}),e.jsx("button",{onClick:()=>B?_(S.id):N(S.id),disabled:W,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${B?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg"} ${W?"opacity-50 cursor-not-allowed":""}`,children:W?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):B?e.jsxs(e.Fragment,{children:[e.jsx(Ja,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4"}),e.jsx("span",{children:"Participar"})]})})]})]},S.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u==="all"?"Todas as Comunidades":`Comunidades de ${(A=C.find(S=>S.value===u))==null?void 0:A.label}`}),e.jsxs("span",{className:"text-sm text-gray-500",children:[T.length," ",T.length===1?"comunidade":"comunidades"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(S=>{const R=Yi[S.category]||q,L=Fs[S.category]||Fs.cultura,B=i.includes(S.id),W=y===S.id,ce=k.some(He=>He.id===S.id);return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow ${ce?"border-2 border-[#F6C100]":"border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${L.bg} rounded-xl flex items-center justify-center`,children:e.jsx(R,{className:`w-6 h-6 ${L.text}`})}),B&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Membro"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-[#C91F1F] transition-colors",onClick:()=>E(S.id),children:S.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:S.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:S.member_count.toLocaleString()})]})}),e.jsx("button",{onClick:()=>B?_(S.id):N(S.id),disabled:W,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${B?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg"} ${W?"opacity-50 cursor-not-allowed":""}`,children:W?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):B?e.jsxs(e.Fragment,{children:[e.jsx(Ja,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4"}),e.jsx("span",{children:"Participar"})]})})]})]},S.id)})}),T.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma comunidade encontrada"}),e.jsx("p",{className:"text-gray-500",children:m?"Tente ajustar sua busca":"Não há comunidades nesta categoria"})]})]})]})}function Mf(){const{user:s}=z(),[t,a]=g.useState([]),[r,n]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState(""),[m,d]=g.useState(!0),[u,h]=g.useState(!1),[x,b]=g.useState(""),[y,v]=g.useState(!1),f=g.useRef(null),w=g.useRef(null),p=()=>{var A;(A=f.current)==null||A.scrollIntoView({behavior:"smooth"})},j=async A=>{if(s)try{if(s.id==="demo-user-id"){const L={"conn-1":[{id:"msg-1-1",connection_id:"conn-1",sender_id:"user-2",content:"Oi! Vi que você também adora arte moderna. Que coincidência!",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()},{id:"msg-1-2",connection_id:"conn-1",sender_id:"demo-user-id",content:"Oi Ana! Sim, é uma paixão mesmo. Você foi na exposição do MASP recentemente?",message_type:"text",read_at:new Date(Date.now()-828e5).toISOString(),created_at:new Date(Date.now()-828e5).toISOString()},{id:"msg-1-3",connection_id:"conn-1",sender_id:"user-2",content:"Fui sim! Adorei a curadoria. Você tem alguma galeria favorita na cidade?",message_type:"text",created_at:new Date(Date.now()-792e5).toISOString()},{id:"msg-1-4",connection_id:"conn-1",sender_id:"demo-user-id",content:"Tenho várias! A Galeria Vermelho e a Nara Roesler são incríveis. Que tal irmos juntos na próxima exposição?",message_type:"text",read_at:new Date(Date.now()-756e5).toISOString(),created_at:new Date(Date.now()-756e5).toISOString()},{id:"msg-1-5",connection_id:"conn-1",sender_id:"user-2",content:"Adorei a exposição de arte moderna! Quando podemos ir juntos na próxima?",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()}],"conn-2":[{id:"msg-2-1",connection_id:"conn-2",sender_id:"user-3",content:"E aí! Vi que você curte gastronomia também. Conhece algum lugar bom para um jantar especial?",message_type:"text",created_at:new Date(Date.now()-1728e5).toISOString()},{id:"msg-2-2",connection_id:"conn-2",sender_id:"demo-user-id",content:"Oi Carlos! Conheço sim. O D.O.M. e o Maní são fantásticos. Que tipo de culinária você prefere?",message_type:"text",read_at:new Date(Date.now()-1692e5).toISOString(),created_at:new Date(Date.now()-1692e5).toISOString()},{id:"msg-2-3",connection_id:"conn-2",sender_id:"user-3",content:"Gosto muito de culinária contemporânea brasileira. O D.O.M. está na minha lista há tempos!",message_type:"text",created_at:new Date(Date.now()-1656e5).toISOString()},{id:"msg-2-4",connection_id:"conn-2",sender_id:"demo-user-id",content:"Perfeito! Vamos marcar para sábado então.",message_type:"text",read_at:new Date(Date.now()-18e5).toISOString(),created_at:new Date(Date.now()-72e5).toISOString()}],"conn-3":[{id:"msg-3-1",connection_id:"conn-3",sender_id:"user-4",content:"Oi! Que bom encontrar alguém que também valoriza o bem-estar. Você tem algum spa favorito?",message_type:"text",created_at:new Date(Date.now()-2592e5).toISOString()},{id:"msg-3-2",connection_id:"conn-3",sender_id:"demo-user-id",content:"Oi Marina! Sim, adoro cuidar do bem-estar. O Spa L'Occitane e o Kurotel são incríveis.",message_type:"text",read_at:new Date(Date.now()-2556e5).toISOString(),created_at:new Date(Date.now()-2556e5).toISOString()},{id:"msg-3-3",connection_id:"conn-3",sender_id:"user-4",content:"Que experiência incrível no spa! Obrigada pela companhia 🧘‍♀️",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()}]};o(L[A]||[]);return}const{data:S,error:R}=await M.from("member_messages").select("*").eq("connection_id",A).order("created_at",{ascending:!0});if(R)throw R;o(S||[])}catch(S){console.error("Erro ao carregar mensagens:",S)}},N=me.useCallback(j,[s]);g.useEffect(()=>{console.log("🤝 Carregando conversas...");const A=[{connection:{id:"conn-1",user1_id:"demo-user-id",user2_id:"user-2",status:"accepted",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-36e5).toISOString()},otherUser:{id:"user-2",name:"Ana Silva",avatar:"🎭",isOnline:!0,lastSeen:new Date(Date.now()-18e5).toISOString()},lastMessage:{id:"msg-1-5",connection_id:"conn-1",sender_id:"user-2",content:"Adorei a exposição de arte moderna! Quando podemos ir juntos na próxima?",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()},unreadCount:2},{connection:{id:"conn-2",user1_id:"demo-user-id",user2_id:"user-3",status:"accepted",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-72e5).toISOString()},otherUser:{id:"user-3",name:"Pedro Santos",avatar:"🎵",isOnline:!1,lastSeen:new Date(Date.now()-18e6).toISOString()},lastMessage:{id:"msg-2-4",connection_id:"conn-2",sender_id:"demo-user-id",content:"Perfeito! Vamos marcar para sábado então.",message_type:"text",read_at:new Date(Date.now()-18e5).toISOString(),created_at:new Date(Date.now()-72e5).toISOString()},unreadCount:0},{connection:{id:"conn-3",user1_id:"demo-user-id",user2_id:"user-4",status:"accepted",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString()},otherUser:{id:"user-4",name:"Clara Oliveira",avatar:"🍷",isOnline:!1,lastSeen:new Date(Date.now()-864e5).toISOString()},lastMessage:{id:"msg-3-3",connection_id:"conn-3",sender_id:"user-4",content:"Que experiência incrível no spa! Obrigada pela companhia 🧘‍♀️",message_type:"text",created_at:new Date(Date.now()-864e5).toISOString()},unreadCount:1}];a(A),d(!1),console.log("✅ Conversas carregadas:",A.length)},[]),g.useEffect(()=>{r&&(console.log("📨 Carregando mensagens para:",r.connection.id),N(r.connection.id))},[r,N]),g.useEffect(()=>{p()},[i]),g.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const _=async()=>{if(!(!l.trim()||!r||!s||u)){h(!0);try{const A=l.trim();if(c(""),s.id==="demo-user-id"){const R={id:`msg-${Date.now()}`,connection_id:r.connection.id,sender_id:s.id,content:A,message_type:"text",created_at:new Date().toISOString()};o(L=>[...L,R]),a(L=>L.map(B=>B.connection.id===r.connection.id?{...B,lastMessage:R,unreadCount:0}:B)),console.log("✅ Mensagem enviada:",A),h(!1);return}const{error:S}=await M.from("member_messages").insert({connection_id:r.connection.id,sender_id:s.id,content:A,message_type:"text"});if(S)throw S;await j(r.connection.id)}catch(A){console.error("Erro ao enviar mensagem:",A),alert("Erro ao enviar mensagem. Tente novamente.")}finally{h(!1)}}},E=()=>{y||(v(!0),console.log("👤 Usuário começou a digitar...")),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{v(!1),console.log("👤 Usuário parou de digitar")},2e3)},T=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),v(!1),w.current&&clearTimeout(w.current),_())},P=A=>{c(A.target.value),E()},C=A=>{const S=new Date(A);return(new Date().getTime()-S.getTime())/(1e3*60*60)<24?S.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):S.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},k=t.filter(A=>A.otherUser.name.toLowerCase().includes(x.toLowerCase()));return m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando conversas..."})]})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-[600px] flex",children:[e.jsxs("div",{className:`${r?"hidden lg:flex":"flex"} flex-col w-full lg:w-80 border-r border-gray-200`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Conversas"}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(gs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:x,onChange:A=>b(A.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent text-sm"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:k.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma conversa ainda"}),e.jsx("p",{className:"text-gray-500 text-sm",children:x?"Nenhuma conversa encontrada":"Conecte-se com outros membros para começar a conversar"})]}):k.map(A=>{var S;return e.jsx("button",{onClick:()=>n(A),className:`w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 transition-colors ${(r==null?void 0:r.connection.id)===A.connection.id?"bg-blue-50 border-blue-200":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:A.otherUser.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(A.otherUser.name)}&background=C91F1F&color=fff`,alt:A.otherUser.name,className:"w-12 h-12 rounded-full object-cover"}),A.otherUser.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:A.otherUser.name}),A.lastMessage&&e.jsx("span",{className:"text-xs text-gray-500",children:C(A.lastMessage.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate",children:((S=A.lastMessage)==null?void 0:S.content)||"Nenhuma mensagem ainda"}),A.unreadCount>0&&e.jsx("span",{className:"bg-[#C91F1F] text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:A.unreadCount})]})]})]})},A.connection.id)})})]}),r?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>n(null),className:"lg:hidden p-1 text-gray-400 hover:text-gray-600",children:e.jsx(dt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.otherUser.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.otherUser.name)}&background=C91F1F&color=fff`,alt:r.otherUser.name,className:"w-10 h-10 rounded-full object-cover"}),r.otherUser.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:r.otherUser.name}),e.jsx("p",{className:"text-sm text-gray-500",children:r.otherUser.isOnline?"Online agora":r.otherUser.lastSeen?`Visto por último ${C(r.otherUser.lastSeen)}`:"Offline"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Mt,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Bo,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Vo,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(A=>{const S=A.sender_id===(s==null?void 0:s.id);return e.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${S?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:A.content}),e.jsxs("div",{className:`flex items-center justify-end mt-1 space-x-1 ${S?"text-white text-opacity-70":"text-gray-500"}`,children:[e.jsx("span",{className:"text-xs",children:C(A.created_at)}),S&&(A.read_at?e.jsx(Do,{className:"w-3 h-3"}):e.jsx(Le,{className:"w-3 h-3"}))]})]})},A.id)}),y&&e.jsx("div",{className:"flex justify-start mb-4",children:e.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-2xl max-w-xs",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Digitando"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),e.jsx("div",{ref:f})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:l,onChange:P,onKeyPress:T,placeholder:"Digite sua mensagem...",rows:1,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}})}),e.jsx("button",{onClick:_,disabled:!l.trim()||u,className:`p-2 rounded-lg transition-colors ${l.trim()&&!u?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):e.jsx(bs,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione uma conversa"}),e.jsx("p",{className:"text-gray-500",children:"Escolha uma conversa da lista para começar a trocar mensagens"})]})})]})}const Ia=[{id:"monthly",name:"Mensal",price:29.9,period:"mês",description:"Perfeito para começar",features:["Acesso completo ao DUO PASS Connect","Participação em todas as 5 comunidades","Chat ilimitado com outros membros","Questionário de afinidades culturais","Recomendações personalizadas","Suporte prioritário"]},{id:"quarterly",name:"Trimestral",price:24.9,period:"mês",description:"Mais popular",features:["Tudo do plano mensal","Desconto de 17% no valor total","Acesso antecipado a novas funcionalidades","Badge exclusivo de membro trimestral","Convites para eventos especiais","Consultoria cultural personalizada"],popular:!0,savings:"Economize CHF 2.50 por trimestre"},{id:"annual",name:"Anual",price:19.9,period:"mês",description:"Melhor valor",features:["Tudo dos planos anteriores","Desconto de 33% no valor total","Acesso vitalício a funcionalidades básicas","Badge exclusivo de membro anual","Mentoria cultural mensal","Acesso a comunidades premium futuras"],savings:"Economize CHF 22.- por ano"}],Ff=[{icon:q,title:"Comunidades Exclusivas",description:"Participe de 5 comunidades culturais cuidadosamente curadas: Arte & Design, Gastronomia Gourmet, Música & Concertos, Bem-estar & Mindfulness, e Cultura & Patrimônio.",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:oe,title:"Chat Direto",description:"Converse diretamente com outros membros que compartilham suas paixões culturais. Organize experiências, troque dicas e faça conexões reais.",color:"text-green-600",bgColor:"bg-green-50"},{icon:G,title:"Matching Inteligente",description:"Nosso questionário de afinidades culturais conecta você com pessoas que realmente combinam com seus interesses e estilo de vida.",color:"text-red-600",bgColor:"bg-red-50"},{icon:X,title:"Experiências Premium",description:"Acesso a experiências culturais exclusivas, eventos especiais e oportunidades únicas disponíveis apenas para membros.",color:"text-yellow-600",bgColor:"bg-yellow-50"}];function Of(){const[s,t]=g.useState("quarterly"),[a,r]=g.useState(!1),n=async o=>{r(!0),setTimeout(()=>{var l;alert(`Redirecionando para pagamento do plano ${(l=Ia.find(c=>c.id===o))==null?void 0:l.name}...`),r(!1)},2e3)},i=Ia.find(o=>o.id===s);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mr-4",children:e.jsx(Pe,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-4xl font-bold flex items-center",children:["DUO PASS Connect",e.jsx(pe,{className:"w-8 h-8 ml-3"})]}),e.jsx("p",{className:"text-xl text-white text-opacity-90 mt-2",children:"Conecte-se com pessoas que compartilham suas paixões culturais"})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("p",{className:"text-lg text-white text-opacity-90 mb-8",children:"Descubra uma nova forma de vivenciar a cultura. Conecte-se com pessoas que realmente entendem suas paixões, participe de comunidades exclusivas e transforme cada experiência cultural em uma memória compartilhada."}),e.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsx("span",{children:"Membros verificados"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xa,{className:"w-5 h-5"}),e.jsx("span",{children:"Matching inteligente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(as,{className:"w-5 h-5"}),e.jsx("span",{children:"Experiências exclusivas"})]})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que o DUO PASS Connect é especial?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Não é apenas mais uma rede social. É uma comunidade exclusiva para pessoas que valorizam experiências culturais autênticas e conexões significativas."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Ff.map((o,l)=>{const c=o.icon;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[e.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-xl flex items-center justify-center mb-4`,children:e.jsx(c,{className:`w-6 h-6 ${o.color}`})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:o.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]},l)})})]}),e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Escolha seu plano de acesso"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Torne-se membro e desbloqueie todas as funcionalidades do DUO PASS Connect"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-gray-100 rounded-lg p-1 flex space-x-1",children:Ia.map(o=>e.jsxs("button",{onClick:()=>t(o.id),className:`px-6 py-2 rounded-md font-medium transition-colors ${s===o.id?"bg-white text-[#C91F1F] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.name,o.popular&&e.jsx("span",{className:"ml-2 bg-[#C91F1F] text-white text-xs px-2 py-1 rounded-full",children:"Popular"})]},o.id))})}),i&&e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg border-2 p-8 text-center ${i.popular?"border-[#F6C100]":"border-gray-200"}`,children:[i.popular&&e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white text-sm font-medium px-4 py-1 rounded-full inline-block mb-4",children:"Mais Popular"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.name}),e.jsx("p",{className:"text-gray-600 mb-6",children:i.description}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["CHF ",i.price.toFixed(2)]}),e.jsxs("span",{className:"text-gray-600 ml-2",children:["/",i.period]})]}),i.savings&&e.jsx("p",{className:"text-green-600 text-sm font-medium mt-2",children:i.savings})]}),e.jsx("button",{onClick:()=>n(i.id),disabled:a,className:`w-full bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white font-bold py-4 px-6 rounded-xl hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Tornar-se Membro"}),e.jsx(te,{className:"w-5 h-5"})]})}),e.jsx("div",{className:"mt-6 space-y-3",children:i.features.map((o,l)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:o})]},l))})]})})]})}),e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pronto para transformar suas experiências culturais?"}),e.jsx("p",{className:"text-lg text-white text-opacity-90 mb-6",children:"Junte-se a centenas de pessoas que já descobriram uma nova forma de vivenciar a cultura."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs(O,{to:"/",className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(te,{className:"w-5 h-5 rotate-180"}),e.jsx("span",{children:"Voltar ao Início"})]}),e.jsxs("button",{onClick:()=>n(s),disabled:a,className:"bg-white text-[#C91F1F] font-bold px-8 py-3 rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[e.jsx(Pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Começar Agora"})]})]})]})})}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 text-center pointer-events-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Conteúdo Exclusivo para Membros"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"O DUO PASS Connect é uma funcionalidade premium. Torne-se membro para acessar."}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-full bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white font-bold py-3 px-6 rounded-lg hover:shadow-lg transition-all duration-200",children:"Ver Planos"})]})})]})}function If(){const{user:s}=z(),[t,a]=g.useState("directory"),[r,n]=g.useState(!1),[i,o]=g.useState(null),[l,c]=g.useState(!0),[m,d]=g.useState(!1),[u,h]=g.useState(!1),x=async()=>{if(s)try{if(c(!0),s.id==="demo-user-id"){d(!0);const j={id:"demo-affinity",user_id:"demo-user-id",preferred_time:"evening",cultural_frequency:"weekly",budget_range:"medium",group_size_preference:"couple",discovery_style:"mixed",primary_interests:["arte","gastronomia","musica"],preferred_location:"São Paulo - SP",available_days:["friday","saturday","sunday"],social_style:"ambivert",experience_level:"intermediate",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};setUserAffinity(j),setHasAffinity(!0),c(!1);return}d(!0);const{data:w,error:p}=await M.from("preferences").select("*").eq("user_id",s.id).single();p&&p.code!=="PGRST116"&&console.error("Erro ao verificar preferências:",p),w&&(o(w),n(!0))}catch(w){console.error("Erro ao verificar subscription e afinidades:",w)}finally{c(!1)}},b=me.useCallback(x,[s]);g.useEffect(()=>{s&&b()},[s,b]);const y=w=>{o(w),n(!0),h(!1),a("directory")};if(l)return e.jsx("div",{className:"py-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C91F1F] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando DUO PASS Connect..."})]})});if(!m)return e.jsx(Of,{});if(!r||u)return e.jsx(Df,{onComplete:y,existingPreferences:i,onCancel:()=>h(!1)});const v=[{id:"directory",name:"Comunidades",icon:q,description:"Explore e participe",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"chat",name:"Conexões",icon:oe,description:"Suas conversas",color:"text-green-600",bgColor:"bg-green-50"}],f=()=>{switch(t){case"directory":return e.jsx(Ki,{userPreferences:i});case"chat":return e.jsx(Mf,{});default:return e.jsx(Ki,{userPreferences:i})}};return e.jsxs("div",{className:"bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white rounded-lg mb-6",children:e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:["DUO PASS Connect",e.jsx(pe,{className:"w-5 h-5 ml-2"})]}),e.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"Conecte-se com pessoas que compartilham suas paixões culturais"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg px-3 py-1.5 flex items-center space-x-2",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Premium"})]}),e.jsx("button",{onClick:()=>h(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg px-3 py-1.5 transition-colors text-sm",children:"Atualizar Perfil"})]})]}),i&&e.jsx("div",{className:"mt-4 bg-white bg-opacity-10 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsxs("span",{children:["Interesses: ",(i.interests||[]).join(", ")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{children:["Nível Cultural: ",i.culture_level]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsxs("span",{children:["Localização: ",i.location]})]})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:v.map(w=>{const p=w.icon,j=t===w.id;return e.jsxs("button",{onClick:()=>a(w.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${j?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg ${j?w.bgColor:"bg-gray-100"}`,children:e.jsx(p,{className:`w-4 h-4 ${j?w.color:"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.name}),e.jsx("div",{className:"text-xs text-gray-400",children:w.description})]})]},w.id)})})})}),e.jsx("div",{children:f()})]})}const Vf=s=>[{id:"group-msg-1",community_id:s,sender_id:"user-1",sender_name:"Ana Silva",sender_avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",content:"Pessoal, alguém foi na exposição do MASP hoje? Estava pensando em ir amanhã!",message_type:"text",created_at:new Date(Date.now()-36e5).toISOString()},{id:"group-msg-2",community_id:s,sender_id:"user-2",sender_name:"Carlos Mendes",sender_avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",content:"Eu fui ontem! A curadoria está incrível. Recomendo muito!",message_type:"text",created_at:new Date(Date.now()-3e6).toISOString()},{id:"group-msg-3",community_id:s,sender_id:"user-3",sender_name:"Maria Santos",sender_avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",content:"Que tal formarmos um grupo para ir juntos no fim de semana? 🎨",message_type:"text",created_at:new Date(Date.now()-18e5).toISOString()},{id:"group-msg-4",community_id:s,sender_id:"demo-user-id",sender_name:"Você",sender_avatar:"https://ui-avatars.com/api/?name=Demo&background=C91F1F&color=fff",content:"Adorei a ideia! Podemos nos encontrar lá sábado às 14h?",message_type:"text",created_at:new Date(Date.now()-9e5).toISOString()}],Qi=s=>[{id:"direct-msg-1",sender_id:s,receiver_id:"demo-user-id",content:"Oi! Vi que você também está interessado na exposição. Que bom!",message_type:"text",created_at:new Date(Date.now()-18e5).toISOString()},{id:"direct-msg-2",sender_id:"demo-user-id",receiver_id:s,content:"Sim! Adoro arte contemporânea. Você já foi em outras exposições recentes?",message_type:"text",read_at:new Date(Date.now()-15e5).toISOString(),created_at:new Date(Date.now()-15e5).toISOString()},{id:"direct-msg-3",sender_id:s,receiver_id:"demo-user-id",content:"Fui na Pinacoteca semana passada. Tem uma exposição de fotografia incrível lá!",message_type:"text",created_at:new Date(Date.now()-6e5).toISOString()}];function jc({community:s,onClose:t,initialChatType:a="group",initialMember:r}){const{user:n}=z(),[i,o]=g.useState(a),[l,c]=g.useState(r||null),[m,d]=g.useState([]),[u,h]=g.useState([]),[x,b]=g.useState(""),[y,v]=g.useState(!0),[f,w]=g.useState(!1),p=g.useRef(null);g.useEffect(()=>{setTimeout(()=>{d(Vf(s.id)),l&&h(Qi(l.user_id)),v(!1)},1e3)},[s.id,l]),g.useEffect(()=>{j()},[m,u]);const j=()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})},N=async()=>{if(!(!x.trim()||!n||f)){w(!0);try{const C=x.trim();if(b(""),i==="group"){const k={id:`group-msg-${Date.now()}`,community_id:s.id,sender_id:n.id,sender_name:"Você",sender_avatar:"https://ui-avatars.com/api/?name=Demo&background=C91F1F&color=fff",content:C,message_type:"text",created_at:new Date().toISOString()};d(A=>[...A,k])}else if(l){const k={id:`direct-msg-${Date.now()}`,sender_id:n.id,receiver_id:l.user_id,content:C,message_type:"text",created_at:new Date().toISOString()};h(A=>[...A,k])}}catch(C){console.error("Erro ao enviar mensagem:",C)}finally{w(!1)}}},_=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),N())},E=C=>{const k=new Date(C);return(new Date().getTime()-k.getTime())/(1e3*60*60)<24?k.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):k.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},T=C=>{c(C),o("direct"),h(Qi(C.user_id))},P=i==="group"?m:u;return y?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-96",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando chat..."})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(dt,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center space-x-2",children:i==="group"?e.jsxs(e.Fragment,{children:[e.jsx(fm,{className:"w-5 h-5 text-[#C91F1F]"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Chat da Comunidade • ",s.memberCount," membros"]})]})]}):l?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:l.avatar,alt:l.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500",children:l.isOnline?"Online agora":"Offline"})]})]}):null})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{i==="group"?(o("direct"),c(null)):(o("group"),c(null))},className:`p-2 rounded-lg transition-colors ${i==="group"?"bg-[#C91F1F] text-white":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:e.jsx(q,{className:"w-5 h-5"})}),i==="direct"&&l&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Mt,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Bo,{className:"w-5 h-5"})})]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Vo,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i==="direct"&&!l&&e.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Membros da Comunidade"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Clique em um membro para iniciar uma conversa"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:s.members.map(C=>e.jsx("button",{onClick:()=>T(C),className:"w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:C.avatar,alt:C.name,className:"w-10 h-10 rounded-full"}),C.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 truncate",children:C.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:C.interests.slice(0,2).join(", ")})]})]})},C.id))})]}),(i==="group"||i==="direct"&&l)&&e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[P.map(C=>{const k=C.sender_id===(n==null?void 0:n.id);return e.jsx("div",{className:`flex ${k?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${k?"":"flex items-start space-x-2"}`,children:[!k&&i==="group"&&e.jsx("img",{src:C.sender_avatar,alt:C.sender_name,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:`px-4 py-2 rounded-2xl ${k?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white":"bg-gray-100 text-gray-900"}`,children:[!k&&i==="group"&&e.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:C.sender_name}),e.jsx("p",{className:"text-sm",children:C.content}),e.jsx("div",{className:`flex items-center justify-end mt-1 ${k?"text-white text-opacity-70":"text-gray-500"}`,children:e.jsx("span",{className:"text-xs",children:E(C.created_at)})})]})]})},C.id)}),e.jsx("div",{ref:p})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:x,onChange:C=>b(C.target.value),onKeyPress:_,placeholder:`Mensagem para ${i==="group"?s.name:l==null?void 0:l.name}...`,rows:1,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}})}),e.jsx("button",{onClick:N,disabled:!x.trim()||f,className:`p-2 rounded-lg transition-colors ${x.trim()&&!f?"bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:f?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):e.jsx(bs,{className:"w-5 h-5"})})]})})]}),i==="direct"&&!l&&s.members.length===0&&e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(he,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum membro disponível"}),e.jsx("p",{className:"text-gray-500",children:"Esta comunidade ainda não possui outros membros para conversar."})]})})]})]})})}const Rf=s=>{switch(s){case"starter":return{emoji:"🌟",name:"Starter",color:"text-yellow-500"};case"explorer":return{emoji:"💎",name:"Explorer",color:"text-blue-500"};case"ambassador":return{emoji:"👑",name:"Ambassador",color:"text-purple-500"};default:return{emoji:"🌟",name:"Starter",color:"text-yellow-500"}}};function Ji({community:s,isLocked:t=!1,onOpenChat:a}){const r=ie(),n={starter:"bg-green-100 text-green-700",explorer:"bg-blue-100 text-blue-700",ambassador:"bg-purple-100 text-purple-700"},i=()=>{if(t){r("/memberships");return}a?a(s):r(`/community/${s.id}`)};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-shadow relative",children:[t&&e.jsx("div",{className:"absolute inset-0 bg-gray-50/80 backdrop-blur-sm rounded-lg flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(mt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Upgrade necessário"})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[!t&&s.requiredTier!=="ambassador"&&e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700 flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),"Aberto para todos"]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${n[s.requiredTier]}`,children:s.requiredTier})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("span",{children:["👥 ",s.members," membros"]}),e.jsxs("span",{children:["🟢 ",s.online," online"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',s.lastMessage,'"']}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.lastTime})]}),e.jsx("button",{onClick:i,disabled:t,className:`w-full py-2 rounded-lg font-medium transition-all ${t?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-purple-600 text-white hover:shadow-lg"}`,children:t?"Bloqueado 🔒":"Entrar na Conversa 💬"})]})}function Lf({currentTier:s}){const t=ie(),r=(()=>{switch(s){case"starter":return{title:"Desbloqueie Mais Comunidades",description:"Upgrade para Explorer e acesse Cultural Explorers + comunidades exclusivas",communities:["Cultural Explorers","Art Enthusiasts"],targetPlan:"Explorer"};case"explorer":return{title:"Acesso VIP Exclusivo",description:"Torne-se Ambassador e participe de experiências VIP exclusivas",communities:["VIP Experiences","Private Events"],targetPlan:"Ambassador"};default:return null}})();return r?e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-purple-50 border border-orange-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600 mb-3",children:r.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.communities.map(n=>e.jsxs("span",{className:"bg-white px-3 py-1 rounded-full text-sm text-gray-700 border",children:["🔒 ",n]},n))})]}),e.jsxs("button",{onClick:()=>t("/memberships"),className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsxs("span",{children:["Upgrade para ",r.targetPlan]}),e.jsx(te,{className:"w-4 h-4"})]})]})}):null}function qf({userMembership:s}){const[t,a]=g.useState(!1),[r,n]=g.useState(!1),[i,o]=g.useState(null),l=Rf(s.tier),c=y=>{o(y),n(!0)},m=y=>{const v=f=>{const w=[{id:"member-1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte","Cultura"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1",bio:"Apaixonada por arte contemporânea"},{id:"member-2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Gastronomia","Vinhos"],joinedAt:"2024-01-20",isOnline:!1,user_id:"user-2",bio:"Chef e sommelier"},{id:"member-3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Bem-estar","Yoga"],joinedAt:"2024-02-01",isOnline:!0,user_id:"user-3",bio:"Instrutora de yoga e mindfulness"},{id:"member-4",name:"João Costa",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",interests:["Música","Teatro"],joinedAt:"2024-02-10",isOnline:!0,user_id:"user-4",bio:"Músico e produtor cultural"}];switch(f){case"cultural-explorers":return w.map(p=>({...p,interests:["Cultura","História","Saraus"]}));case"food-lovers":return w.map(p=>({...p,interests:["Gastronomia","Vinhos","Restaurantes"]}));case"art-enthusiasts":return w.map(p=>({...p,interests:["Arte","Exposições","Oficinas"]}));case"wellness-mindful":return w.map(p=>({...p,interests:["Bem-estar","Yoga","Spas"]}));case"ambassador-lounge":return w.slice(0,2).map(p=>({...p,interests:["VIP","Experiências Exclusivas"]}));default:return w}};return{...y,memberCount:y.members,coverImage:"",members:v(y.id),activities:[]}},d=()=>{n(!1),o(null)},u={starter:["cultural-explorers","food-lovers","art-enthusiasts","wellness-mindful"],explorer:["cultural-explorers","food-lovers","art-enthusiasts","wellness-mindful"],ambassador:["cultural-explorers","food-lovers","art-enthusiasts","wellness-mindful","ambassador-lounge"]},h=[{id:"cultural-explorers",name:"Cultural Explorers",description:"Membros apaixonados por experiências culturais autênticas",members:347,online:24,lastMessage:"Alguém foi no sarau literário ontem? Como foi? 📚",lastTime:"2h atrás",requiredTier:"starter",category:"cultura",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"food-lovers",name:"Food & Wine Lovers",description:"Experiências gastronômicas e vinícolas em dupla",members:289,online:18,lastMessage:"Dicas de restaurantes românticos para um primeiro encontro? 🍷",lastTime:"1h atrás",requiredTier:"starter",category:"gastronomia",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"art-enthusiasts",name:"Art Enthusiasts",description:"Arte, música e experiências criativas para todos",members:256,online:15,lastMessage:"A oficina de cerâmica foi transformadora! 🎨",lastTime:"3h atrás",requiredTier:"starter",category:"arte",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"wellness-mindful",name:"Wellness & Mindful",description:"Bem-estar, mindfulness e experiências de autocuidado",members:198,online:12,lastMessage:"Sessão de yoga no parque foi revigorante! 🧘‍♀️",lastTime:"5h atrás",requiredTier:"starter",category:"bem-estar",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"ambassador-lounge",name:"Ambassador Lounge",description:"Lounge exclusivo para Ambassadors com experiências VIP",members:89,online:8,lastMessage:"Jantar privativo na vinícola foi incrível! 🥂",lastTime:"2h atrás",requiredTier:"ambassador",category:"cultura",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],x=h.filter(y=>{var v;return(v=u[s.tier])==null?void 0:v.includes(y.id)}),b=h.filter(y=>{var v;return!((v=u[s.tier])!=null&&v.includes(y.id))});return t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{onClick:()=>a(!1),className:"text-purple-600 hover:text-purple-700 font-medium flex items-center space-x-2",children:e.jsx("span",{children:"← Voltar ao Dashboard"})})}),e.jsx(If,{})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-purple-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"💬 DUO PASS Connect"}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-white/20 backdrop-blur-sm",children:[e.jsx("span",{children:l.emoji}),e.jsx("span",{children:l.name})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"🎉 Bem-vindo ao DUO PASS Connect!"}),e.jsxs("p",{className:"text-sm opacity-90",children:[e.jsx("strong",{children:"Novidade:"})," Agora todas as comunidades principais estão abertas para todos os membros! Conecte-se, compartilhe experiências e descubra novas oportunidades culturais.",s.tier!=="ambassador"&&" Ambassadors têm acesso exclusivo ao Ambassador Lounge!"]})]}),e.jsx("p",{className:"opacity-90",children:"Conecte-se com outros membros e compartilhe experiências culturais autênticas"}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm",children:[e.jsxs("span",{children:["🎭 ",x.length," comunidades disponíveis"]}),e.jsxs("span",{children:["👥 ",x.reduce((y,v)=>y+v.online,0)," membros online"]})]}),e.jsxs("button",{onClick:()=>a(!0),className:"mt-4 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center space-x-2",children:[e.jsx("span",{children:"Explorar Connect Completo"}),e.jsx(te,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.map(y=>e.jsx(Ji,{community:y,onOpenChat:c},y.id)),b.slice(0,2).map(y=>e.jsx(Ji,{community:y,isLocked:!0},y.id))]}),s.tier!=="ambassador"&&e.jsx(Lf,{currentTier:s.tier}),r&&i&&e.jsx(jc,{community:m(i),onClose:d})]})}function Bf({isOpen:s,onClose:t,onSave:a,currentCard:r}){const[n,i]=g.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:""}),[o,l]=g.useState({}),[c,m]=g.useState(!1),[d,u]=g.useState(!1),h=j=>{const N=j.replace(/\s/g,"");return/^\d{13,19}$/.test(N)},x=(j,N)=>{const _=new Date,E=_.getFullYear(),T=_.getMonth()+1,P=parseInt(j),C=parseInt(N);return C<E||C===E&&P<T?!1:P>=1&&P<=12},b=j=>/^\d{3,4}$/.test(j),y=j=>{const N=j.replace(/\s/g,""),_=N.match(/.{1,4}/g);return _?_.join(" "):N},v=j=>{const N=j.replace(/\s/g,"");return N.startsWith("4")?"VISA":N.startsWith("5")||N.startsWith("2")?"MASTERCARD":N.startsWith("3")?"AMEX":"CARD"},f=(j,N)=>{let _=N;j==="cardNumber"&&(_=y(N),_.replace(/\s/g,"").length>19)||(j==="expiryMonth"||j==="expiryYear")&&(_=N.replace(/\D/g,""),j==="expiryMonth"&&_.length>2||j==="expiryYear"&&_.length>4)||j==="cvv"&&(_=N.replace(/\D/g,""),_.length>4)||(i(E=>({...E,[j]:_})),o[j]&&l(E=>({...E,[j]:void 0})))},w=()=>{const j={};return(!n.cardNumber||!h(n.cardNumber))&&(j.cardNumber="Número do cartão inválido"),(!n.expiryMonth||!n.expiryYear||!x(n.expiryMonth,n.expiryYear))&&(j.expiryMonth="Data de expiração inválida"),(!n.cvv||!b(n.cvv))&&(j.cvv="CVV inválido"),n.cardholderName.trim()||(j.cardholderName="Nome do portador é obrigatório"),l(j),Object.keys(j).length===0},p=async j=>{if(j.preventDefault(),!!w()){m(!0);try{await a(n),u(!0),setTimeout(()=>{u(!1),t(),i({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:""})},2e3)}catch(N){console.error("Erro ao salvar método de pagamento:",N)}finally{m(!1)}}};return s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),e.jsx(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:d?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(F.div,{initial:{scale:0},animate:{scale:1},className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sucesso!"}),e.jsx("p",{className:"text-gray-600",children:"Método de pagamento atualizado com sucesso."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Alterar Método de Pagamento"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_e,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[r&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cartão Atual"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:r.brand})}),e.jsxs("span",{className:"text-gray-800",children:["•••• •••• •••• ",r.last4]}),e.jsxs("span",{className:"text-gray-600 text-sm",children:[r.expMonth,"/",r.expYear]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Cartão"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n.cardNumber,onChange:j=>f("cardNumber",j.target.value),placeholder:"1234 5678 9012 3456",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${o.cardNumber?"border-red-300":"border-gray-300"}`}),e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx("div",{className:"w-8 h-5 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:v(n.cardNumber)})})})]}),o.cardNumber&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1"}),o.cardNumber]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mês"}),e.jsx("input",{type:"text",value:n.expiryMonth,onChange:j=>f("expiryMonth",j.target.value),placeholder:"12",className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${o.expiryMonth?"border-red-300":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ano"}),e.jsx("input",{type:"text",value:n.expiryYear,onChange:j=>f("expiryYear",j.target.value),placeholder:"2025",className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${o.expiryMonth?"border-red-300":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:n.cvv,onChange:j=>f("cvv",j.target.value),placeholder:"123",className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${o.cvv?"border-red-300":"border-gray-300"}`})]})]}),(o.expiryMonth||o.cvv)&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1"}),o.expiryMonth||o.cvv]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Portador"}),e.jsx("input",{type:"text",value:n.cardholderName,onChange:j=>f("cardholderName",j.target.value),placeholder:"João Silva",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${o.cardholderName?"border-red-300":"border-gray-300"}`}),o.cardholderName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1"}),o.cardholderName]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mt,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Pagamento Seguro"})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Seus dados são criptografados e protegidos conforme padrões PCI DSS."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsx(e.Fragment,{children:"Salvar Cartão"})})]})]})]})})]}):null}let Ut=[{id:"pm_1234567890",type:"card",card:{brand:"visa",last4:"4242",exp_month:12,exp_year:2025},billing_details:{name:"João Silva"},created:Date.now()}];const zt=()=>new Promise(s=>setTimeout(s,1500)),Xi=s=>{const t=s.replace(/\s/g,"");let a=0,r=!1;for(let n=t.length-1;n>=0;n--){let i=parseInt(t[n]);r&&(i*=2,i>9&&(i-=9)),a+=i,r=!r}return a%10===0},Uf=s=>{const t=s.replace(/\s/g,"");return t.startsWith("4")?"visa":t.startsWith("5")||t.startsWith("2")?"mastercard":t.startsWith("3")?"amex":t.startsWith("6")?"discover":"unknown"};class Zi{static async getCurrentPaymentMethod(){return await zt(),Ut[0]||null}static async updatePaymentMethod(t){if(await zt(),!Xi(t.cardNumber))throw new Error("Número do cartão inválido");const a=new Date,r=parseInt(t.expiryYear),n=parseInt(t.expiryMonth);if(r<a.getFullYear()||r===a.getFullYear()&&n<a.getMonth()+1)throw new Error("Cartão expirado");if(!/^\d{3,4}$/.test(t.cvv))throw new Error("CVV inválido");if(!t.cardholderName.trim())throw new Error("Nome do portador é obrigatório");const i={id:`pm_${Date.now()}`,type:"card",card:{brand:Uf(t.cardNumber),last4:t.cardNumber.replace(/\s/g,"").slice(-4),exp_month:n,exp_year:r},billing_details:{name:t.cardholderName},created:Date.now()};return Ut[0]=i,console.log("Método de pagamento atualizado:",i),i}static async removePaymentMethod(t){await zt(),Ut=Ut.filter(a=>a.id!==t),console.log("Método de pagamento removido:",t)}static async listPaymentMethods(){return await zt(),[...Ut]}static validateCardData(t){const a={};if(t.cardNumber&&!Xi(t.cardNumber)&&(a.cardNumber="Número do cartão inválido"),t.expiryMonth&&t.expiryYear){const r=new Date,n=parseInt(t.expiryYear),i=parseInt(t.expiryMonth);(n<r.getFullYear()||n===r.getFullYear()&&i<r.getMonth()+1)&&(a.expiryMonth="Cartão expirado")}return t.cvv&&!/^\d{3,4}$/.test(t.cvv)&&(a.cvv="CVV deve ter 3 ou 4 dígitos"),t.cardholderName!==void 0&&!t.cardholderName.trim()&&(a.cardholderName="Nome do portador é obrigatório"),{isValid:Object.keys(a).length===0,errors:a}}static async testConnection(){return await zt(),Math.random()>.05}}function zf(){var P,C;const s=ie(),t=ta(),{user:a}=z(),[r]=sa(),[n,i]=g.useState("overview"),[o,l]=g.useState(!1),[c,m]=g.useState(!1),[d,u]=g.useState(null),[h,x]=g.useState(!1),[b]=g.useState({id:"sub_123",plan_id:r.get("plan")||"cultural-explorer",status:"active",current_period_start:new Date,current_period_end:new Date(Date.now()+30*24*60*60*1e3),experiences_used_this_month:2,created_at:new Date}),[y]=g.useState([{id:"1",title:"Sarau Literário no Café Central",partner:"Café Central Zurich",date:new Date(Date.now()-5*24*60*60*1e3),status:"completed",voucher_code:"DUO123"},{id:"2",title:"Jantar à Luz de Velas",partner:"Restaurant Romantique",date:new Date(Date.now()-2*24*60*60*1e3),status:"completed",voucher_code:"DUO456"},{id:"3",title:"Oficina de Cerâmica & Chá",partner:"Atelier Keramik",date:new Date(Date.now()+3*24*60*60*1e3),status:"upcoming",voucher_code:"DUO789"}]),v=xs.find(k=>k.id===b.plan_id)||xs[1];g.useEffect(()=>{if(!a){s("/login");return}if(t.pathname==="/connect"&&i("connect"),new URLSearchParams(t.search).get("tab")==="connect"&&i("connect"),r.get("welcome")==="true"){l(!0);const S=new URLSearchParams(r);S.delete("welcome"),s({search:S.toString()},{replace:!0})}f()},[a,s,r,t]);const f=async()=>{try{const k=await Zi.getCurrentPaymentMethod();u(k)}catch(k){console.error("Erro ao carregar método de pagamento:",k)}},w=async k=>{x(!0);try{const A=await Zi.updatePaymentMethod(k);u(A),console.log("Método de pagamento atualizado com sucesso!")}catch(A){throw console.error("Erro ao atualizar método de pagamento:",A),A}finally{x(!1)}},p=()=>{m(!0)},j=k=>{switch(k){case"starter":return e.jsx(X,{className:"w-6 h-6"});case"explorer":return e.jsx(Pe,{className:"w-6 h-6"});case"ambassador":return e.jsx(la,{className:"w-6 h-6"});default:return e.jsx(X,{className:"w-6 h-6"})}},N=k=>{switch(k){case"active":return"text-green-600 bg-green-100";case"canceled":return"text-red-600 bg-red-100";case"past_due":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},_=k=>{switch(k){case"completed":return"text-green-600 bg-green-100";case"upcoming":return"text-blue-600 bg-blue-100";case"canceled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},E=()=>v.experiences_per_month===-1?0:b.experiences_used_this_month/v.experiences_per_month*100,T=()=>{confirm("Tem certeza que deseja cancelar sua assinatura? Você ainda terá acesso até o final do período atual.")&&alert("Assinatura cancelada com sucesso. Você ainda pode usar o serviço até "+b.current_period_end.toLocaleDateString())};return a?e.jsxs(ke,{title:"Dashboard",children:[o&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>l(!1)}),e.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(as,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Bem-vindo ao DUO PASS!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Sua assinatura ",v.name," está ativa! Aproveite seus 7 dias grátis e descubra experiências culturais incríveis."]}),e.jsx("button",{onClick:()=>l(!1),className:"w-full bg-gradient-to-r from-amber-500 to-purple-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Começar a Explorar"})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1 mb-8",children:[{id:"overview",label:"Visão Geral",icon:is},{id:"experiences",label:"Experiências",icon:G},{id:"connect",label:"Connect",icon:oe},{id:"billing",label:"Cobrança & Transparência",icon:qe},{id:"privacy",label:"Dados Pessoais",icon:Te},{id:"settings",label:"Configurações",icon:oa}].map(k=>e.jsxs("button",{onClick:()=>i(k.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${n===k.id?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(k.icon,{className:"w-4 h-4"}),e.jsx("span",{children:k.label})]},k.id))}),n==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Experiências Este Mês"}),e.jsx(G,{className:"w-5 h-5 text-rose-500"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:[b.experiences_used_this_month,v.experiences_per_month!==-1&&e.jsxs("span",{className:"text-lg text-gray-500",children:["/",v.experiences_per_month]})]}),v.experiences_per_month!==-1&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 h-2 rounded-full transition-all",style:{width:`${Math.min(E(),100)}%`}})})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Próxima Cobrança"}),e.jsx(Ct,{className:"w-5 h-5 text-purple-500"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:b.current_period_end.getDate()}),e.jsx("div",{className:"text-sm text-gray-500",children:b.current_period_end.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Status da Conta"}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(b.status)}`,children:b.status==="active"?"Ativa":b.status})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:["CHF ",v.price_monthly]}),e.jsx("div",{className:"text-sm text-gray-500",children:"por mês"})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Seu Plano Atual"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`rounded-full p-3 ${v.tier==="starter"?"bg-amber-100 text-amber-600":v.tier==="explorer"?"bg-purple-100 text-purple-600":"bg-rose-100 text-rose-600"}`,children:j(v.tier)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:v.name}),e.jsx("p",{className:"text-gray-600",children:v.description})]})]}),e.jsx("button",{onClick:()=>s("/memberships"),className:"bg-gradient-to-r from-amber-500 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg transition-all",children:"Alterar Plano"})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Experiências Recentes"}),e.jsxs("button",{onClick:()=>i("experiences"),className:"text-purple-600 hover:text-purple-700 font-medium flex items-center space-x-1",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(te,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"space-y-4",children:y.slice(0,3).map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:e.jsx(G,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:k.title}),e.jsx("p",{className:"text-sm text-gray-600",children:k.partner})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(k.status)}`,children:k.status==="completed"?"Concluída":k.status==="upcoming"?"Agendada":"Cancelada"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:k.date.toLocaleDateString("pt-BR")})]})]},k.id))})]})]}),n==="experiences"&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Histórico de Experiências"}),e.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-amber-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:shadow-lg transition-all",children:"Explorar Experiências"})]}),e.jsx("div",{className:"space-y-4",children:y.map(k=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:k.title}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(k.status)}`,children:k.status==="completed"?"Concluída":k.status==="upcoming"?"Agendada":"Cancelada"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:k.partner})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsx("span",{children:k.date.toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:"2 pessoas"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Código do voucher: ",e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:k.voucher_code})]})]}),k.status==="upcoming"&&e.jsx("button",{className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Ver Detalhes"})]})},k.id))})]}),n==="connect"&&e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx(qf,{userMembership:{tier:v.tier,status:b.status}})}),n==="billing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Te,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"⚖️ Transparência Total de Cobrança"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-100",children:[e.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Próxima Cobrança"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:b.current_period_end.toLocaleDateString("pt-BR")}),e.jsxs("div",{className:"text-sm text-gray-600",children:["CHF ",(v.price_monthly*1.077).toFixed(2)," (com IVA 7.7%)"]}),e.jsxs("div",{className:"text-xs text-purple-600 mt-2",children:[Math.ceil((b.current_period_end.getTime()-Date.now())/(1e3*60*60*24))," dias restantes"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-100",children:[e.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Plano Atual"}),e.jsx("div",{className:"text-xl font-bold text-gray-800 mb-1",children:v.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["CHF ",v.price_monthly,"/mês"]}),e.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Renovação automática ativa"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-100",children:[e.jsx("div",{className:"text-sm font-medium text-amber-700 mb-1",children:"Status da Conta"}),e.jsx("div",{className:"text-xl font-bold text-gray-800 mb-1",children:"Ativa"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Desde ",b.created_at.toLocaleDateString("pt-BR")]}),e.jsx("div",{className:"text-xs text-amber-600 mt-2",children:"Pode cancelar a qualquer momento"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800 mb-1",children:"Cancelar Assinatura"}),e.jsxs("p",{className:"text-sm text-red-600",children:["Você pode cancelar a qualquer momento. Manterá acesso até ",b.current_period_end.toLocaleDateString("pt-BR"),"."]})]}),e.jsx("button",{onClick:T,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Cancelar Assinatura"})]})})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Detalhes de Cobrança"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Valor base da assinatura"}),e.jsxs("span",{className:"font-medium",children:["CHF ",v.price_monthly]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"IVA Suíço (7.7%)"}),e.jsxs("span",{className:"font-medium",children:["CHF ",(v.price_monthly*.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("span",{className:"font-medium text-purple-800",children:"Total mensal"}),e.jsxs("span",{className:"font-bold text-purple-800",children:["CHF ",(v.price_monthly*1.077).toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🇨🇭 Direitos do Consumidor Suíço"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Direito de arrependimento de 14 dias"}),e.jsx("li",{children:"• Cancelamento a qualquer momento sem multa"}),e.jsx("li",{children:"• Reembolso proporcional em caso de cancelamento"}),e.jsx("li",{children:"• Transparência total de preços e taxas"})]})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Método de Pagamento"}),d?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:d.card.brand.toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-800",children:["•••• •••• •••• ",d.card.last4]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Expira em ",d.card.exp_month.toString().padStart(2,"0"),"/",d.card.exp_year]})]}),e.jsx("button",{onClick:p,disabled:h,className:"ml-auto text-purple-600 hover:text-purple-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:h?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}):e.jsx("span",{children:"Alterar"})})]}):e.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsxs("div",{className:"text-gray-600",children:[e.jsx("div",{className:"font-medium",children:"Nenhum método de pagamento"}),e.jsx("div",{className:"text-sm",children:"Adicione um cartão para continuar"})]}),e.jsx("button",{onClick:p,className:"bg-gradient-to-r from-amber-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all",children:"Adicionar Cartão"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Pagamento Seguro SSL"})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Seus dados de pagamento são criptografados e protegidos conforme padrões PCI DSS."})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"📊 Histórico Completo de Pagamentos"}),e.jsxs("button",{className:"text-purple-600 hover:text-purple-700 font-medium text-sm flex items-center space-x-1",children:[e.jsx(qs,{className:"w-4 h-4"}),e.jsx("span",{children:"Exportar Relatório"})]})]}),e.jsx("div",{className:"space-y-3",children:[{date:"15 Jan 2024",amount:32.31,status:"Pago",invoice:"INV-2024-001",period:"Jan 2024 - Fev 2024"},{date:"15 Dez 2023",amount:32.31,status:"Pago",invoice:"INV-2023-012",period:"Dez 2023 - Jan 2024"},{date:"15 Nov 2023",amount:32.31,status:"Pago",invoice:"INV-2023-011",period:"Nov 2023 - Dez 2023"},{date:"15 Out 2023",amount:0,status:"Teste Grátis",invoice:"FREE-TRIAL",period:"Período de Teste"}].map((k,A)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"font-medium text-gray-800",children:"DUO PASS Premium"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.status==="Pago"?"bg-green-100 text-green-800":k.status==="Teste Grátis"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:k.status})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:k.period}),e.jsxs("div",{className:"text-xs text-gray-500",children:[k.date," • Fatura: ",k.invoice]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-gray-800",children:k.amount===0?"Gratuito":`CHF ${k.amount.toFixed(2)}`}),k.status==="Pago"&&e.jsxs("button",{className:"text-purple-600 hover:text-purple-700 text-sm flex items-center space-x-1 mt-1",children:[e.jsx(qs,{className:"w-3 h-3"}),e.jsx("span",{children:"PDF"})]})]})]},A))}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total pago em 2024:"}),e.jsx("span",{className:"font-bold text-gray-800",children:"CHF 64.62"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Próximo pagamento:"}),e.jsxs("span",{className:"font-medium text-purple-600",children:["CHF 32.31 em ",b.current_period_end.toLocaleDateString("pt-BR")]})]})]})]})]}),n==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Dados Pessoais"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ve,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Visualizar Dados Coletados"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Veja todos os dados que coletamos sobre você"})]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Visualizar"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qs,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Exportar Dados"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Baixe uma cópia de todos os seus dados"})]})]}),e.jsx("button",{className:"text-green-600 hover:text-green-700 font-medium",children:"Exportar"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Excluir Conta"}),e.jsx("div",{className:"text-sm text-red-600",children:"Remova permanentemente sua conta e todos os dados"})]})]}),e.jsx("button",{className:"text-red-600 hover:text-red-700 font-medium",children:"Excluir"})]})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Consentimentos"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Cookies Essenciais"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Necessários para o funcionamento do site"})]}),e.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Cookies de Analytics"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nos ajudam a melhorar a experiência"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Cookies de Marketing"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Para personalizar anúncios e conteúdo"})]}),e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Transparência de Dados"}),e.jsxs("div",{className:"space-y-3 text-sm text-blue-700",children:[e.jsx("p",{children:"• Coletamos apenas os dados necessários para fornecer nossos serviços"}),e.jsx("p",{children:"• Seus dados nunca são vendidos para terceiros"}),e.jsx("p",{children:"• Você pode solicitar a exclusão de seus dados a qualquer momento"}),e.jsx("p",{children:"• Utilizamos criptografia para proteger suas informações"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Leia nossa Política de Privacidade completa"})})]})]}),n==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Informações da Conta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome"}),e.jsx("input",{type:"text",value:((P=a==null?void 0:a.user_metadata)==null?void 0:P.full_name)||((C=a==null?void 0:a.email)==null?void 0:C.split("@")[0])||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:(a==null?void 0:a.email)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",readOnly:!0})]})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Preferências"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Notificações por Email"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Receber atualizações sobre novas experiências"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Newsletter Cultural"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Curadoria semanal de experiências"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-4",children:"Zona de Perigo"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Cancelar Assinatura"}),e.jsxs("p",{className:"text-sm text-red-600 mb-4",children:["Você ainda terá acesso até o final do período atual (",b.current_period_end.toLocaleDateString("pt-BR"),")."]}),e.jsx("button",{onClick:T,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Cancelar Assinatura"})]})})]})]})]}),e.jsx(Bf,{isOpen:c,onClose:()=>m(!1),onSave:w,currentCard:d?{last4:d.card.last4,brand:d.card.brand.toUpperCase(),expMonth:d.card.exp_month,expYear:d.card.exp_year}:void 0})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})})}function $f(){const{user:s,userProfile:t}=z(),[a,r]=g.useState(null),[n,i]=g.useState(!1),[o,l]=g.useState(!0),[c,m]=g.useState(!1),[d,u]=g.useState({full_name:"",phone:"",address:"",birth_date:""}),[h,x]=g.useState(!1),[b,y]=g.useState(!1),[v,f]=g.useState(!1),[w,p]=g.useState(!1),[j,N]=g.useState(!1),[_,E]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[T,P]=g.useState({current:!1,new:!1,confirm:!1}),[C,k]=g.useState(!1),[A,S]=g.useState(!1),[R,L]=g.useState(!1),[B,W]=g.useState(""),[ce,He]=g.useState(""),[be,yn]=g.useState(1),[vn,jn]=g.useState(""),[Oe,ye]=g.useState({type:"",text:""});g.useEffect(()=>{if(t){const V={full_name:t.full_name,email:(s==null?void 0:s.email)||"",phone:t.phone||"",address:t.address||"",birth_date:t.birth_date||"",user_type:t.user_type,subscription_status:t.subscription_status,created_at:t.created_at};r(V),u({full_name:V.full_name,phone:V.phone||"",address:V.address||"",birth_date:V.birth_date||""}),l(!1)}},[s,t]),g.useEffect(()=>{if(Oe.text){const V=setTimeout(()=>ye({type:"",text:""}),3e3);return()=>clearTimeout(V)}},[Oe]);const Zc=()=>{i(!0)},ed=()=>{a&&u({full_name:a.full_name,phone:a.phone||"",address:a.address||"",birth_date:a.birth_date||""}),i(!1)},td=async()=>{m(!0),ye({type:"",text:""});try{if(!d.full_name.trim())throw new Error("Nome completo é obrigatório");if(d.phone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(d.phone))throw new Error("Formato de telefone inválido. Use: (11) 99999-9999");const{error:V}=await M.from("users").update({full_name:d.full_name,phone:d.phone||null,address:d.address||null,birth_date:d.birth_date||null}).eq("id",s==null?void 0:s.id);if(V)throw V;if(a){const se={...a,full_name:d.full_name,phone:d.phone,address:d.address,birth_date:d.birth_date};r(se)}i(!1),ye({type:"success",text:"Perfil atualizado com sucesso!"})}catch(V){ye({type:"error",text:V.message})}finally{m(!1)}},sd=async V=>{V.preventDefault(),k(!0);try{if(_.newPassword!==_.confirmPassword)throw new Error("As senhas não coincidem");if(_.newPassword.length<6)throw new Error("A nova senha deve ter pelo menos 6 caracteres");if(_.currentPassword===_.newPassword)throw new Error("A nova senha deve ser diferente da atual");await new Promise(se=>setTimeout(se,2e3)),ye({type:"success",text:"Senha alterada com sucesso!"}),x(!1),E({currentPassword:"",newPassword:"",confirmPassword:""})}catch(se){ye({type:"error",text:se.message})}finally{k(!1)}},ad=async()=>{S(!0);try{j?(await new Promise(V=>setTimeout(V,1e3)),N(!1),ye({type:"success",text:"Autenticação em duas etapas desativada!"})):(await new Promise(V=>setTimeout(V,1500)),W("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2ZmZiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNCI+UVIgQ29kZTwvdGV4dD48L3N2Zz4="),y(!0))}catch{ye({type:"error",text:"Erro ao processar solicitação"})}finally{S(!1)}},rd=async V=>{V.preventDefault(),S(!0);try{if(ce.length!==6)throw new Error("Código deve ter 6 dígitos");await new Promise(se=>setTimeout(se,1500)),N(!0),y(!1),He(""),W(""),ye({type:"success",text:"Autenticação em duas etapas ativada com sucesso!"})}catch(se){ye({type:"error",text:se.message})}finally{S(!1)}},nd=async()=>{L(!0),await new Promise(ld=>setTimeout(ld,2e3));const V={user:{email:a==null?void 0:a.email,name:a==null?void 0:a.full_name},vouchers:[{code:"WELCOME50",status:"active"}],history:[{action:"voucher_used",amount:45}]},se=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),Nn=URL.createObjectURL(se),ga=document.createElement("a");ga.href=Nn,ga.download=`duopass-export-${new Date().toISOString().split("T")[0]}.json`,ga.click(),URL.revokeObjectURL(Nn),L(!1),f(!1),ye({type:"success",text:"Dados exportados com sucesso!"})},id=async()=>{if(be<3){yn(be+1);return}ye({type:"success",text:"Solicitação de exclusão processada!"}),p(!1),yn(1),jn("")},wn=V=>new Date(V).toLocaleDateString("pt-BR"),od=V=>{const se=V==="active";return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${se?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${se?"bg-green-500":"bg-yellow-500"}`}),se?"Ativo":"Inativo"]})};return o?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-24 bg-gray-300 rounded-full w-24 mx-auto mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((V,se)=>e.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"},se))})]})]})})}):a?e.jsx(ke,{title:"Meu Perfil",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#F6C100] to-[#C91F1F] px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-10 h-10 text-gray-600"})}),e.jsx("button",{className:"absolute bottom-0 right-0 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-shadow",children:e.jsx(Kt,{className:"w-3 h-3 text-gray-600"})})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-2xl font-bold",children:a.full_name}),e.jsx("p",{className:"opacity-90 capitalize",children:a.user_type==="merchant"?"Comerciante":"Cliente"}),e.jsx("div",{className:"mt-2",children:od(a.subscription_status)})]})]}),!n&&e.jsxs("button",{onClick:Zc,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(ym,{className:"w-4 h-4"}),e.jsx("span",{children:"Editar"})]})]})}),e.jsxs("div",{className:"p-6",children:[Oe.text&&e.jsxs("div",{className:`p-4 rounded-lg mb-6 flex items-center space-x-2 ${Oe.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[Oe.type==="success"?e.jsx(Le,{className:"w-5 h-5"}):e.jsx(Yt,{className:"w-5 h-5"}),e.jsx("span",{children:Oe.text})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),e.jsx("input",{type:"text",value:d.full_name,onChange:V=>u({...d,full_name:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",value:d.phone,onChange:V=>u({...d,phone:V.target.value}),placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),e.jsx("input",{type:"text",value:d.address,onChange:V=>u({...d,address:V.target.value}),placeholder:"Rua, número, bairro, cidade",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),e.jsx("input",{type:"date",value:d.birth_date,onChange:V=>u({...d,birth_date:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:td,disabled:c,className:"flex-1 bg-[#C91F1F] text-white px-4 py-2 rounded-lg hover:bg-[#A91A1A] transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Salvando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ro,{className:"w-4 h-4"}),e.jsx("span",{children:"Salvar"})]})}),e.jsxs("button",{onClick:ed,disabled:c,className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[e.jsx(_e,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancelar"})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.email})]})]}),a.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Mt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.phone})]})]}),a.address&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Endereço"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.address})]})]}),a.birth_date&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ct,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Data de Nascimento"}),e.jsx("p",{className:"font-medium text-gray-900",children:wn(a.birth_date)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Membro desde"}),e.jsx("p",{className:"font-medium text-gray-900",children:wn(a.created_at)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Segurança da Conta"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(mt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Alterar Senha"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Última alteração há mais de 90 dias"})]})]}),e.jsx("div",{className:"text-gray-400",children:"→"})]}),e.jsxs("button",{onClick:ad,disabled:A,className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors disabled:opacity-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:`w-5 h-5 ${j?"text-green-500":"text-gray-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Autenticação em Duas Etapas"}),e.jsx("div",{className:"text-sm text-gray-500",children:j?"Ativada - clique para desativar":"Adicione uma camada extra de segurança"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),j?e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Ativo"}):e.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs",children:"Inativo"}),e.jsx("div",{className:"text-gray-400",children:"→"})]})]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Sr,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Exportar Dados"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Baixe todos os seus dados em formato JSON"})]})]}),e.jsx("div",{className:"text-gray-400",children:"→"})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-between w-full p-4 bg-white rounded-lg border border-red-200 hover:border-red-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-red-600",children:"Zona de Perigo"}),e.jsx("div",{className:"text-sm text-red-500",children:"Excluir conta permanentemente"})]})]}),e.jsx("div",{className:"text-red-400",children:"→"})]})]})]})]})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Alterar Senha"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:sd,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Atual"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:T.current?"text":"password",value:_.currentPassword,onChange:V=>E({..._,currentPassword:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>P({...T,current:!T.current}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:T.current?e.jsx(Qt,{className:"w-5 h-5"}):e.jsx(Ve,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:T.new?"text":"password",value:_.newPassword,onChange:V=>E({..._,newPassword:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>P({...T,new:!T.new}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:T.new?e.jsx(Qt,{className:"w-5 h-5"}):e.jsx(Ve,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:T.confirm?"text":"password",value:_.confirmPassword,onChange:V=>E({..._,confirmPassword:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>P({...T,confirm:!T.confirm}),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:T.confirm?e.jsx(Qt,{className:"w-5 h-5"}):e.jsx(Ve,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:C?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Alterar Senha"})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Configurar 2FA"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-48 h-48 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:B?e.jsx("img",{src:B,alt:"QR Code 2FA",className:"w-40 h-40"}):e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Escaneie este QR code com seu app autenticador"})]}),e.jsxs("form",{onSubmit:rd,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código de Verificação"}),e.jsx("input",{type:"text",value:ce,onChange:V=>He(V.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-wider",required:!0})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:A||ce.length!==6,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center",children:A?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ativar 2FA"})]})]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"font-semibold",children:"Exportar Dados"}),e.jsx("button",{onClick:()=>f(!1),children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download incluirá: perfil, vouchers, histórico e atividades"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"flex-1 border border-gray-300 py-2 rounded",children:"Cancelar"}),e.jsx("button",{onClick:nd,disabled:R,className:"flex-1 bg-blue-600 text-white py-2 rounded disabled:opacity-50",children:R?"Processando...":"Exportar"})]})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"font-semibold text-red-900",children:"Excluir Conta"}),e.jsx("button",{onClick:()=>p(!1),children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[be===1&&e.jsx("div",{children:e.jsx("div",{className:"bg-red-50 p-3 rounded mb-4",children:e.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Ação irreversível! Todos os dados serão removidos."})})}),be===2&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm mb-4",children:["Digite ",e.jsx("strong",{children:"EXCLUIR CONTA"}),":"]}),e.jsx("input",{value:vn,onChange:V=>jn(V.target.value),placeholder:"EXCLUIR CONTA",className:"w-full p-2 border rounded mb-4"})]}),be===3&&e.jsxs("div",{className:"text-center",children:[e.jsx(Le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Processando exclusão..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 border border-gray-300 py-2 rounded",children:"Cancelar"}),e.jsx("button",{onClick:id,disabled:be===2&&vn!=="EXCLUIR CONTA",className:"flex-1 bg-red-600 text-white py-2 rounded disabled:opacity-50",children:be===1?"Continuar":be===2?"Confirmar":"Finalizar"})]})]})]})}),Oe.text&&e.jsx("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded shadow-lg ${Oe.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:Oe.text})]})}):e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] py-8 pt-16",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erro ao carregar perfil"}),e.jsx("p",{className:"text-gray-600",children:"Não foi possível carregar as informações do perfil."})]})})})}function Hf(){const{language:s,setLanguage:t}=Dt(),[a,r]=g.useState("notifications"),[n,i]=g.useState(!1),[o,l]=g.useState(!0),[c,m]=g.useState({email_offers:!0,email_vouchers:!0,email_marketing:!1,push_offers:!0,push_vouchers:!0,push_reminders:!0,sms_important:!1}),[d,u]=g.useState({profile_visibility:"private",data_sharing:!1,analytics_tracking:!0,location_sharing:!1}),h=(f,w)=>{m(p=>({...p,[f]:w}))},x=(f,w)=>{u(p=>({...p,[f]:w}))},b=()=>{alert("Funcionalidade de exportação será implementada em breve.")},y=()=>{confirm("Tem certeza que deseja excluir sua conta? Esta ação não pode ser desfeita.")&&alert("Funcionalidade de exclusão será implementada em breve.")},v=[{id:"notifications",label:"Notificações",icon:wt},{id:"privacy",label:"Privacidade",icon:Te},{id:"account",label:"Conta",icon:qe},{id:"preferences",label:"Preferências",icon:Oo}];return e.jsx(ke,{title:"Configurações",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx("p",{className:"text-gray-600",children:"Personalize sua experiência no DuoPass"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsx("nav",{className:"space-y-2",children:v.map(f=>{const w=f.icon;return e.jsxs("button",{onClick:()=>r(f.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${a===f.id?"bg-[#C91F1F] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:f.label})]},f.id)})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a==="notifications"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Notificação"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Be,{className:"w-5 h-5 mr-2"}),"Notificações por Email"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Novas Ofertas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receba emails sobre ofertas especiais"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.email_offers,onChange:f=>h("email_offers",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Vouchers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Confirmações e lembretes de vouchers"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.email_vouchers,onChange:f=>h("email_vouchers",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Marketing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Novidades e promoções especiais"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.email_marketing,onChange:f=>h("email_marketing",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(_m,{className:"w-5 h-5 mr-2"}),"Notificações Push"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Ofertas Próximas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Quando estiver perto de ofertas relevantes"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.push_offers,onChange:f=>h("push_offers",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lembretes de Vouchers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Antes dos vouchers expirarem"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.push_reminders,onChange:f=>h("push_reminders",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]})]})]}),a==="privacy"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Privacidade"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Visibilidade do Perfil"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Controle quem pode ver seu perfil"})]}),e.jsxs("select",{value:d.profile_visibility,onChange:f=>x("profile_visibility",f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"public",children:"Público"}),e.jsx("option",{value:"private",children:"Privado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Compartilhamento de Dados"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Permitir compartilhamento com parceiros"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.data_sharing,onChange:f=>x("data_sharing",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Rastreamento de Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ajuda a melhorar nossos serviços"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.analytics_tracking,onChange:f=>x("analytics_tracking",f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]}),a==="account"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações da Conta"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Exportar Dados"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Baixe uma cópia de todos os seus dados"}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-[#C91F1F] text-white rounded-lg hover:bg-[#A91A1A] transition-colors",children:[e.jsx(Sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Exportar Dados"})]})]}),e.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[e.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Zona de Perigo"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Excluir sua conta removerá permanentemente todos os seus dados"}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsx("span",{children:"Excluir Conta"})]})]})]})]}),a==="preferences"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Preferências"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Idioma"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Escolha seu idioma preferido"})]}),e.jsxs("select",{value:s,onChange:f=>t(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"it",children:"Italiano"}),e.jsx("option",{value:"es",children:"Español"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Modo Escuro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ativar tema escuro"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:f=>i(f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Sons"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ativar sons de notificação"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:f=>l(f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#C91F1F]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#C91F1F]"})]})]})]})]})]})})]})]})})}function Gf(){const s=ie(),{user:t}=z(),[a,r]=g.useState("monthly"),n=c=>{if(!t){s("/login?redirect=/memberships");return}setSelectedPlan(c),s(`/checkout?plan=${c}&billing=${a}`)},i=c=>{switch(c){case"starter":return e.jsx(X,{className:"w-8 h-8"});case"explorer":return e.jsx(Pe,{className:"w-8 h-8"});case"ambassador":return e.jsx(la,{className:"w-8 h-8"});default:return e.jsx(X,{className:"w-8 h-8"})}},o=c=>a==="monthly"?c.price_monthly:Math.round(c.price_yearly/12),l=c=>a==="yearly"?c.price_monthly*12-c.price_yearly:0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-purple-50",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden bg-gradient-to-r from-amber-500 via-rose-500 to-purple-600 text-white py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6},className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3 mb-6",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Exclusividade Cultural Suíça"})]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:["Torne-se Membro do",e.jsx("span",{className:"block bg-gradient-to-r from-yellow-300 to-pink-300 bg-clip-text text-transparent",children:"DUO PASS Club"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Experiências culturais autênticas, sempre em dupla, com curadoria emocional exclusiva na Suíça"})]}),e.jsxs(F.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),e.jsx("div",{className:"text-white/80",children:"Membros Ativos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"150+"}),e.jsx("div",{className:"text-white/80",children:"Experiências Únicas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"98%"}),e.jsx("div",{className:"text-white/80",children:"Satisfação"})]})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(F.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.6},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Escolha Seu Plano Cultural"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Experiências autênticas que conectam pessoas através da cultura"}),e.jsxs("div",{className:"inline-flex items-center bg-white rounded-full p-1 shadow-lg border",children:[e.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-3 rounded-full font-medium transition-all ${a==="monthly"?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Mensal"}),e.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-3 rounded-full font-medium transition-all relative ${a==="yearly"?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:["Anual",e.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"-17%"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:xs.map((c,m)=>{const d=c.popular,u=l(c);return e.jsxs(F.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8+m*.1,duration:.6},className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transform hover:scale-105 transition-all duration-300 ${d?"ring-4 ring-purple-500 ring-opacity-50":""}`,children:[d&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-center py-2 font-bold text-sm",children:"⭐ MAIS POPULAR"}),e.jsxs("div",{className:`p-8 ${d?"pt-12":""}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${c.color_scheme.gradient} text-white mb-4`,children:i(c.tier)}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:c.name}),e.jsx("p",{className:"text-gray-600",children:c.description})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-baseline justify-center mb-2",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-800",children:["CHF ",o(c)]}),e.jsx("span",{className:"text-gray-500 ml-2",children:"/mês"})]}),a==="yearly"&&u>0&&e.jsxs("div",{className:"text-green-600 font-medium text-sm",children:["Economize CHF ",u,"/ano"]}),a==="yearly"&&e.jsxs("div",{className:"text-gray-500 text-sm",children:["Cobrado CHF ",c.price_yearly," anualmente"]})]}),e.jsx("div",{className:"space-y-4 mb-8",children:c.features.map((h,x)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Le,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 text-sm",children:h})]},x))}),e.jsxs("button",{onClick:()=>n(c.id),className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center space-x-2 ${d?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg hover:shadow-purple-500/25":`bg-gradient-to-r ${c.color_scheme.gradient} text-white hover:shadow-lg`}`,children:[e.jsx("span",{children:"Começar Agora"}),e.jsx(te,{className:"w-5 h-5"})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("span",{className:"text-sm text-gray-500",children:"7 dias grátis • Cancele a qualquer momento"})})]})]},c.id)})}),e.jsxs(F.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2,duration:.6},className:"mt-20",children:[e.jsx("h3",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"O que nossos membros dizem"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:"M"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Maria Santos"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Explorer"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"O DUO PASS transformou minha vida social. Descobri lugares incríveis e fiz amizades genuínas através da cultura."'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((c,m)=>e.jsx(X,{className:"w-4 h-4 fill-current"},m))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:"J"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"João Silva"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Ambassador"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"A curadoria é excepcional. Cada experiência é única e autêntica. Vale cada franco investido!"'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((c,m)=>e.jsx(X,{className:"w-4 h-4 fill-current"},m))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:"A"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Ana Costa"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cultural Starter"})]})]}),e.jsx("p",{className:"text-gray-600 italic",children:'"Perfeito para quem está começando. As experiências são sempre em dupla, criando conexões reais."'}),e.jsx("div",{className:"flex text-yellow-400 mt-4",children:[...Array(5)].map((c,m)=>e.jsx(X,{className:"w-4 h-4 fill-current"},m))})]})]})]}),e.jsxs(F.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.4,duration:.6},className:"mt-20 bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h3",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Perguntas Frequentes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:'Como funciona o modelo "2 por 1"?'}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Todas as experiências são pensadas para duas pessoas. Você paga por uma experiência e duas pessoas participam, promovendo conexões autênticas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Posso cancelar a qualquer momento?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Sim! Não há compromisso de longo prazo. Você pode cancelar sua assinatura a qualquer momento através do seu dashboard."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"O que acontece se eu não usar todas as experiências do mês?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Membros Ambassador podem transferir experiências entre meses. Outros planos renovam mensalmente."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Como é feita a curadoria das experiências?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Nossa equipe seleciona cuidadosamente cada parceiro cultural, priorizando autenticidade, qualidade e potencial de conexão humana."})]})]})]})]})]})}const Wf=[{id:"starter",name:"Cultural Starter",icon:e.jsx(X,{className:"w-6 h-6"}),badge:"Ideal para iniciantes",badgeColor:"bg-blue-100 text-blue-800",monthlyPrice:9,yearlyPrice:86,description:"Perfeito para descobrir a cultura suíça",features:["2 experiências culturais/mês","Acesso a cafés e experiências básicas","Newsletter cultural semanal","Comunidade DUO PASS Connect","Suporte por email"],cta:"Experimentar grátis"},{id:"explorer",name:"Cultural Explorer",icon:e.jsx(Pe,{className:"w-6 h-6"}),badge:"Mais popular",badgeColor:"bg-gradient-to-r from-orange-500 to-purple-600 text-white",monthlyPrice:12,yearlyPrice:115,description:"A escolha ideal para exploradores culturais",features:["4 experiências culturais/mês","Acesso completo: restaurantes, spas, arte","Eventos exclusivos mensais","Curadoria personalizada","Prioridade no atendimento","Comunidades premium"],popular:!0,cta:"Escolher plano"},{id:"ambassador",name:"Cultural Ambassador",icon:e.jsx(la,{className:"w-6 h-6"}),badge:"Para especialistas",badgeColor:"bg-yellow-100 text-yellow-800",monthlyPrice:18,yearlyPrice:173,description:"Experiência cultural completa e exclusiva",features:["Experiências ilimitadas","Acesso VIP a eventos especiais","Convidados extras (+2 pessoas)","Concierge cultural personalizado","Acesso beta a novas experiências","Mentoria cultural"],cta:"Escolher plano"}],Yf=[{icon:e.jsx(q,{className:"w-8 h-8 text-orange-500"}),title:"Sempre 2 por 1",description:"Todas as experiências são pensadas para duplas"},{icon:e.jsx(G,{className:"w-8 h-8 text-purple-500"}),title:"Curadoria Cultural",description:"Seleção de estabelecimentos autênticos e únicos"},{icon:e.jsx(Te,{className:"w-8 h-8 text-green-500"}),title:"Sem Compromisso",description:"Cancele quando quiser, sem taxas ou multas"},{icon:e.jsx(Ie,{className:"w-8 h-8 text-blue-500"}),title:"Garantia 30 dias",description:"Satisfação garantida ou seu dinheiro de volta"}],Kf=[{name:"Ana",age:29,text:"Descobri lugares incríveis que nunca encontraria sozinha",rating:5},{name:"Pedro",age:35,text:"Cada experiência é uma nova conexão cultural",rating:5},{name:"Clara",age:42,text:"Melhor investimento que fiz em qualidade de vida",rating:5}],Qf=[{question:"Como funciona o modelo 2 por 1?",answer:"Todas as nossas experiências são pensadas para duplas. Você paga por uma experiência e pode levar um acompanhante gratuitamente."},{question:"Posso cancelar a qualquer momento?",answer:"Sim! Não há compromisso de permanência. Você pode cancelar sua assinatura a qualquer momento sem taxas adicionais."},{question:"Que tipos de experiências estão incluídas?",answer:"Oferecemos experiências em restaurantes, spas, atividades artísticas, eventos culturais, workshops e muito mais, todos cuidadosamente selecionados."},{question:"Os parceiros são verificados?",answer:"Absolutamente! Todos os nossos parceiros passam por um rigoroso processo de curadoria para garantir qualidade e autenticidade."},{question:"Funciona para turistas?",answer:"Sim! Nossas experiências são perfeitas tanto para residentes quanto para turistas que querem conhecer a verdadeira cultura suíça."}],Jf=()=>{const[s,t]=g.useState(!1),[a,r]=g.useState(null),n=ie(),{user:i}=z(),o=c=>{if(!i){n("/login");return}n("/checkout",{state:{planId:c,billing:s?"yearly":"monthly"}})},l=(c,m)=>{const d=c*12,u=d-m,h=Math.round(u/d*100);return{savings:u,percentage:h}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-orange-500 to-purple-600 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Experiências Culturais Autênticas"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:"Conecte-se com a cultura suíça através de experiências únicas para viver em dupla"}),e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx("span",{className:`mr-3 ${s?"text-white/70":"text-white"}`,children:"Mensal"}),e.jsx("button",{onClick:()=>t(!s),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-white/20 transition-colors focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2",children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:`ml-3 ${s?"text-white":"text-white/70"}`,children:"Anual"}),s&&e.jsx("span",{className:"ml-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-sm font-semibold",children:"Economize 20%"})]}),e.jsx("p",{className:"text-lg opacity-90",children:"🎭 Mais de 500 experiências culturais curadas"})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Wf.map(c=>{const m=s?c.yearlyPrice:c.monthlyPrice,d=s?l(c.monthlyPrice,c.yearlyPrice):null;return e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl hover:scale-105 ${c.popular?"ring-2 ring-orange-500 transform scale-105":""}`,children:[c.popular&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-orange-500 to-purple-600 text-white text-center py-2 text-sm font-semibold",children:"⭐ MAIS POPULAR"}),e.jsxs("div",{className:`p-8 ${c.popular?"pt-16":""}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-orange-500 to-purple-600 rounded-full text-white mb-4",children:c.icon}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:c.name}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${c.badgeColor}`,children:c.badge})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["CHF ",m]}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["/",s?"ano":"mês"]})]}),s&&d&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Economize CHF ",d.savings,"/ano (",d.percentage,"%)"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:c.description})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:c.features.map((u,h)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Le,{className:"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:u})]},h))}),e.jsx("button",{onClick:()=>o(c.id),className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${c.popular?"bg-gradient-to-r from-orange-500 to-purple-600 text-white hover:from-orange-600 hover:to-purple-700 shadow-lg":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:c.cta})]})]},c.id)})})}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que escolher DUO PASS?"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Mais que um clube de benefícios, uma porta para a cultura autêntica"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:Yf.map((c,m)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-50 rounded-full mb-4",children:c.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c.title}),e.jsx("p",{className:"text-gray-600",children:c.description})]},m))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-purple-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"O que nossos membros dizem"})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Kf.map((c,m)=>e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(c.rating)].map((d,u)=>e.jsx(X,{className:"w-5 h-5 text-yellow-400 fill-current"},u))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',c.text,'"']}),e.jsxs("div",{className:"text-sm text-gray-500",children:[c.name,", ",c.age," anos"]})]},m))})]})}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"})}),e.jsx("div",{className:"space-y-4",children:Qf.map((c,m)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("button",{onClick:()=>r(a===m?null:m),className:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:c.question}),e.jsx("span",{className:"text-gray-500",children:a===m?"−":"+"})]}),a===m&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700",children:c.answer})})]},m))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Comece sua jornada cultural hoje"}),e.jsx("p",{className:"text-xl mb-8 opacity-90",children:"7 dias grátis • Sem cartão de crédito necessário • Cancele quando quiser"}),e.jsx("button",{onClick:()=>o("explorer"),className:"bg-white text-orange-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors",children:"Experimentar grátis por 7 dias"})]})})]})},Xf=!1;function Zf(){const s=ie(),{user:t}=z(),[a]=sa(),[r,n]=g.useState(!1),[i,o]=g.useState("monthly"),[l,c]=g.useState("card"),[m,d]=g.useState({cardNumber:"",expiryDate:"",cvv:"",cardName:"",email:"",country:"CH"}),u=a.get("plan")||"cultural-explorer",h=a.get("billing")||"monthly",x=xs.find(N=>N.id===u)||xs[1];g.useEffect(()=>{o(h)},[h]),g.useEffect(()=>{t||s("/login?redirect="+encodeURIComponent(`/checkout?plan=${u}&billing=${i}`))},[t,s,u,i]);const b=N=>{switch(N){case"starter":return e.jsx(X,{className:"w-6 h-6"});case"explorer":return e.jsx(Pe,{className:"w-6 h-6"});case"ambassador":return e.jsx(la,{className:"w-6 h-6"});default:return e.jsx(X,{className:"w-6 h-6"})}},y=()=>i==="yearly"?x.price_yearly:x.price_monthly,v=()=>{const N=x.price_monthly*12,_=x.price_yearly;return N-_},f=(N,_)=>{d(E=>({...E,[N]:_}))},w=N=>{const _=N.replace(/\s+/g,"").replace(/[^0-9]/gi,""),E=_.match(/\d{4,16}/g),T=E&&E[0]||"",P=[];for(let C=0,k=T.length;C<k;C+=4)P.push(T.substring(C,C+4));return P.length?P.join(" "):_},p=N=>{const _=N.replace(/\D/g,"");return _.length>=2?_.substring(0,2)+"/"+_.substring(2,4):_},j=async N=>{N.preventDefault(),n(!0);try{await new Promise(_=>setTimeout(_,2e3)),s("/customer-dashboard?welcome=true&plan="+x.id)}catch{alert("Erro no pagamento. Tente novamente.")}finally{n(!1)}};return t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:()=>s("/memberships"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(dt,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar aos Planos"})]}),e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-amber-500 to-purple-600 bg-clip-text text-transparent",children:"DUO PASS"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Pagamento Seguro"})]})]})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"order-2 lg:order-1",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Resumo do Pedido"}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:`rounded-full p-2 ${x.tier==="starter"?"bg-amber-100 text-amber-600":x.tier==="explorer"?"bg-purple-100 text-purple-600":"bg-rose-100 text-rose-600"}`,children:b(x.tier)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:x.name}),x.popular&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:"⭐ Popular"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Le,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:x.experiences_per_month===-1?"Experiências ilimitadas":`${x.experiences_per_month} experiências por mês`})]}),x.features.slice(0,3).map((N,_)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Le,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:N})]},_))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ciclo de Cobrança"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>o("monthly"),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all ${i==="monthly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{children:"Mensal"}),e.jsxs("div",{className:"text-lg font-bold",children:["CHF ",x.price_monthly]})]}),e.jsxs("button",{onClick:()=>o("yearly"),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all relative ${i==="yearly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:["Economize CHF ",v()]}),e.jsx("div",{children:"Anual"}),e.jsxs("div",{className:"text-lg font-bold",children:["CHF ",x.price_yearly]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CHF ",(x.price_yearly/12).toFixed(2),"/mês"]})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["CHF ",y()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"IVA (7.7%)"}),e.jsxs("span",{children:["CHF ",(y()*.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Teste Grátis (7 dias)"}),e.jsxs("span",{children:["-CHF ",y()]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Hoje"}),e.jsx("span",{children:"CHF 0.00"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Após o período de teste, você será cobrado CHF ",(y()*1.077).toFixed(2)," ",i==="yearly"?"anualmente":"mensalmente","."]})]})]})}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Informações de Pagamento"}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Método de Pagamento"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("button",{type:"button",onClick:()=>c("card"),className:`p-4 rounded-lg border-2 text-left transition-all ${l==="card"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Cartão de Crédito/Débito"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Visa, Mastercard, American Express"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Cartão"}),e.jsx("input",{type:"text",value:m.cardNumber,onChange:N=>f("cardNumber",w(N.target.value)),placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Expiração"}),e.jsx("input",{type:"text",value:m.expiryDate,onChange:N=>f("expiryDate",p(N.target.value)),placeholder:"MM/AA",maxLength:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:m.cvv,onChange:N=>f("cvv",N.target.value.replace(/\D/g,"")),placeholder:"123",maxLength:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome no Cartão"}),e.jsx("input",{type:"text",value:m.cardName,onChange:N=>f("cardName",N.target.value),placeholder:"João Silva",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Informações de Cobrança"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:m.email||(t==null?void 0:t.email)||"",onChange:N=>f("email",N.target.value),placeholder:"seu@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),e.jsxs("select",{value:m.country,onChange:N=>f("country",N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"CH",children:"Suíça"}),e.jsx("option",{value:"DE",children:"Alemanha"}),e.jsx("option",{value:"FR",children:"França"}),e.jsx("option",{value:"IT",children:"Itália"}),e.jsx("option",{value:"AT",children:"Áustria"})]})]})]}),e.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"⚖️ Confirmações Obrigatórias"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["✓ Aceito os ",e.jsx("a",{href:"/termos-de-uso",target:"_blank",className:"text-purple-600 hover:underline font-medium",children:"Termos de Uso"})," e ",e.jsx("a",{href:"/privacidade",target:"_blank",className:"text-purple-600 hover:underline font-medium",children:"Política de Privacidade"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"auto-renewal",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"auto-renewal",className:"text-sm text-gray-700",children:["✓ Entendo que minha assinatura ",e.jsx("strong",{children:"renova automaticamente"})," ",i==="yearly"?"anualmente":"mensalmente"," por CHF ",(y()*1.077).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"cancellation",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"cancellation",className:"text-sm text-gray-700",children:["✓ Posso ",e.jsx("strong",{children:"cancelar a qualquer momento"})," com um clique no meu dashboard. ",e.jsx("a",{href:"/cancelamento",target:"_blank",className:"text-purple-600 hover:underline",children:"Saiba mais"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"refund-policy",className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"refund-policy",className:"text-sm text-gray-700",children:["✓ Tenho ",e.jsx("strong",{children:"14 dias"})," para solicitar reembolso integral conforme lei suíça. ",e.jsx("a",{href:"/cancelamento",target:"_blank",className:"text-purple-600 hover:underline",children:"Política de reembolso"})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400 mt-4",children:e.jsxs("p",{className:"text-xs text-blue-800",children:["🇨🇭 ",e.jsx("strong",{children:"Proteção do Consumidor Suíço:"})," Esta compra está protegida pelas leis suíças de proteção ao consumidor e GDPR. Seus dados são processados de acordo com nossa política de privacidade."]})})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-amber-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Processando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-5 h-5"}),e.jsx("span",{children:"Iniciar Teste Grátis de 7 Dias"})]})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Seus dados estão protegidos com criptografia SSL"})]})]})]})})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Redirecionando para login..."})]})})}function eg(){const[s,t]=g.useState({company:"",name:"",email:"",phone:"",employees:"",message:""}),a=n=>{n.preventDefault(),console.log("📋 Formulário B2B enviado:",s),alert("Obrigado! Entraremos em contato em breve.")},r=n=>{t({...s,[n.target.name]:n.target.value})};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Experiências Culturais para Sua ",e.jsx("span",{className:"text-orange-300",children:"Equipe"})]}),e.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Fortaleça vínculos, inspire criatividade e construa uma cultura corporativa única através de experiências culturais autênticas em dupla."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>{var n;return(n=document.getElementById("contact-form"))==null?void 0:n.scrollIntoView({behavior:"smooth"})},className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 hover:scale-105 shadow-lg",children:"Agende uma Demonstração"}),e.jsx(O,{to:"/experiencias",className:"border-2 border-white text-white hover:bg-white hover:text-purple-900 px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 text-center",children:"Ver Experiências"})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Team Building"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Experiências em dupla"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(G,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Cultura"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Valores autênticos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(is,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Engajamento"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Equipes motivadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Em,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Resultados"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"ROI mensurável"})]})]})})})]})})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Por que Escolher DUO PASS para Sua Empresa?"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Transforme sua cultura corporativa com experiências que conectam pessoas e fortalecem equipes."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(om,{className:"w-12 h-12 text-purple-600 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cultura Corporativa"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Fortaleça os valores da sua empresa através de experiências culturais que refletem autenticidade e conexão humana."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Valores compartilhados"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Identidade corporativa"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Engajamento autêntico"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(q,{className:"w-12 h-12 text-orange-500 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Building Único"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Experiências sempre em dupla que criam vínculos genuínos e melhoram a colaboração entre equipes."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Conexões em dupla"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Colaboração natural"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Vínculos duradouros"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx(is,{className:"w-12 h-12 text-green-500 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"ROI Mensurável"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Acompanhe o impacto das experiências na produtividade, satisfação e retenção de talentos."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Métricas de engajamento"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Retenção de talentos"]}),e.jsxs("li",{className:"flex items-center text-gray-700",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mr-2"}),"Produtividade elevada"]})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"O que Nossos Parceiros Corporativos Dizem"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((n,i)=>e.jsx(X,{className:"w-5 h-5 text-yellow-400 fill-current"},i))}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 italic",children:'"As experiências culturais do DUO PASS transformaram nossa cultura corporativa. Nossos colaboradores estão mais conectados e engajados do que nunca."'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"MC"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Maria Clara Santos"}),e.jsx("p",{className:"text-gray-600",children:"Diretora de RH, TechCorp"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-purple-50 rounded-xl p-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((n,i)=>e.jsx(X,{className:"w-5 h-5 text-yellow-400 fill-current"},i))}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 italic",children:'"O conceito de experiências em dupla é genial. Criou vínculos genuínos entre equipes que antes mal se falavam. ROI comprovado!"'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold mr-4",children:"RS"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Roberto Silva"}),e.jsx("p",{className:"text-gray-600",children:"CEO, Inovação & Cia"})]})]})]})]})]})}),e.jsx("section",{id:"contact-form",className:"py-20 bg-gradient-to-br from-gray-900 to-purple-900 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Pronto para Transformar Sua Equipe?"}),e.jsx("p",{className:"text-xl text-purple-200",children:"Agende uma demonstração personalizada e descubra como o DUO PASS pode revolucionar sua cultura corporativa."})]}),e.jsx("div",{className:"bg-white rounded-2xl p-8 text-gray-900",children:e.jsxs("form",{onSubmit:a,className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa *"}),e.jsx("input",{type:"text",name:"company",required:!0,value:s.company,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Sua empresa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seu Nome *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:s.name,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Corporativo *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:s.email,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"seu.email@empresa.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Funcionários"}),e.jsxs("select",{name:"employees",value:s.employees,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"1-10",children:"1-10 funcionários"}),e.jsx("option",{value:"11-50",children:"11-50 funcionários"}),e.jsx("option",{value:"51-200",children:"51-200 funcionários"}),e.jsx("option",{value:"201-500",children:"201-500 funcionários"}),e.jsx("option",{value:"500+",children:"500+ funcionários"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),e.jsx("textarea",{name:"message",rows:4,value:s.message,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Conte-nos sobre seus objetivos e desafios de team building..."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105 flex items-center justify-center",children:["Agendar Demonstração",e.jsx(te,{className:"w-5 h-5 ml-2"})]})})]})}),e.jsxs("div",{className:"mt-12 grid md:grid-cols-2 gap-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Mt,{className:"w-6 h-6 text-orange-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Telefone"}),e.jsx("p",{className:"text-purple-200",children:"+41 (0) 21 123 4567"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Be,{className:"w-6 h-6 text-orange-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Email"}),e.jsx("p",{className:"text-purple-200",children:"empresas@duopass.ch"})]})]})]})]})})]})}function tg(){const s=ie(),[t,a]=g.useState(!1),[r,n]=g.useState({name:"",email:"",password:"",confirmPassword:""}),i=async l=>{if(l.preventDefault(),r.password!==r.confirmPassword){alert("As senhas não coincidem!");return}if(r.password.length<6){alert("A senha deve ter pelo menos 6 caracteres!");return}a(!0);try{console.log("🎁 Iniciando trial gratuito:",r),await new Promise(c=>setTimeout(c,1500)),localStorage.setItem("trialUser",JSON.stringify({name:r.name,email:r.email,trialStartDate:new Date().toISOString(),trialEndDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),experiencesUsed:0,subscription:{type:"trial",status:"active",plan:"Cultural Starter",experiencesIncluded:3}})),s("/customer-dashboard")}catch(c){console.error("❌ Erro ao criar trial:",c),alert("Erro ao criar conta. Tente novamente.")}finally{a(!1)}},o=l=>{n({...r,[l.target.name]:l.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl w-full",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center bg-orange-500/20 text-orange-300 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Oferta Especial - Trial Gratuito"]}),e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"text-orange-300",children:"7 Dias"})," de Experiências Culturais ",e.jsx("span",{className:"text-orange-300",children:"Grátis"})]}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Descubra o poder das experiências culturais em dupla. Sem compromisso, sem cartão de crédito."})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"3 experiências culturais incluídas"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Acesso completo à plataforma"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Curadoria emocional personalizada"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"w-6 h-6 text-green-400 mr-3"}),e.jsx("span",{className:"text-lg",children:"Cancele a qualquer momento"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>e.jsx(X,{className:"w-5 h-5 text-yellow-400 fill-current"},c))}),e.jsx("span",{className:"ml-2 text-white font-semibold",children:"4.9/5"})]}),e.jsx("p",{className:"text-purple-100 italic",children:'"O DUO PASS transformou nossa forma de viver a cultura. As experiências em dupla criaram memórias inesquecíveis!"'}),e.jsx("p",{className:"text-orange-300 font-medium mt-2",children:"- Ana & Carlos, membros desde 2023"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Comece Seu Trial Gratuito"}),e.jsx("p",{className:"text-gray-600",children:"Crie sua conta em menos de 2 minutos"})]}),e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),e.jsx("input",{type:"password",name:"password",required:!0,value:r.password,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),e.jsx("input",{type:"password",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"Confirme sua senha"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-orange-50 rounded-lg p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Ie,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"Seu Trial Inclui:"})]}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• 7 dias de acesso completo"}),e.jsx("li",{children:"• 3 experiências culturais"}),e.jsx("li",{children:"• Curadoria personalizada"}),e.jsx("li",{children:"• Suporte prioritário"})]})]}),e.jsx("button",{type:"submit",disabled:t,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Criando sua conta..."]}):e.jsxs(e.Fragment,{children:["Iniciar Trial Gratuito",e.jsx(te,{className:"w-5 h-5 ml-2"})]})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(Te,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Seus dados estão seguros conosco"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ao criar sua conta, você concorda com nossos"," ",e.jsx(O,{to:"/terms",className:"text-purple-600 hover:underline",children:"Termos de Uso"})," ","e"," ",e.jsx(O,{to:"/privacy",className:"text-purple-600 hover:underline",children:"Política de Privacidade"})]})]})]}),e.jsx("div",{className:"mt-8 text-center border-t border-gray-200 pt-6",children:e.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",e.jsx(O,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Faça login"})]})})]})]}),e.jsxs("div",{className:"mt-16 grid md:grid-cols-3 gap-8 text-white",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experiências em Dupla"}),e.jsx("p",{className:"text-purple-200",children:"Todas as experiências são pensadas para serem vividas em dupla, criando conexões autênticas."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(G,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Curadoria Emocional"}),e.jsx("p",{className:"text-purple-200",children:"Cada experiência é cuidadosamente selecionada para tocar sua alma e criar memórias especiais."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Ct,{className:"w-12 h-12 text-orange-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Flexibilidade Total"}),e.jsx("p",{className:"text-purple-200",children:"Agende suas experiências quando quiser, cancele sem taxas durante o trial."})]})]})]})})})}const sg=s=>({id:s,name:"Arte & Design",description:"Explore museus, galerias e exposições com pessoas que compartilham sua paixão pela arte visual e design contemporâneo.",category:"arte",memberCount:1247,coverImage:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=400&fit=crop",members:[{id:"1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte Contemporânea","Fotografia","Design"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1",bio:"Apaixonada por arte contemporânea e fotografia urbana."},{id:"2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Pintura","Escultura","História da Arte"],joinedAt:"2024-02-03",isOnline:!1,user_id:"user-2",bio:"Artista plástico e professor de história da arte."},{id:"3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Design Gráfico","Ilustração","Arte Digital"],joinedAt:"2024-01-28",isOnline:!0,user_id:"user-3",bio:"Designer gráfica especializada em identidade visual."}],activities:[{id:"1",type:"experience_share",author:{id:"1",name:"Ana Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",interests:["Arte Contemporânea"],joinedAt:"2024-01-15",isOnline:!0,user_id:"user-1"},content:'Acabei de visitar a exposição "Vanguardas Contemporâneas" no Museu de Arte Moderna. Simplesmente incrível! As obras de Beatriz Milhazes estão espetaculares. Quem mais foi ou pretende ir?',timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),likes:12,comments:5,community_id:s,images:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop"]},{id:"2",type:"event",author:{id:"2",name:"Carlos Mendes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",interests:["Pintura"],joinedAt:"2024-02-03",isOnline:!1,user_id:"user-2"},content:"🎨 Workshop de Pintura em Aquarela - Sábado, 14h às 17h na Galeria Central. Vagas limitadas! Quem tem interesse em participar? Vamos formar um grupo da comunidade!",timestamp:new Date(Date.now()-5*60*60*1e3).toISOString(),likes:8,comments:3,community_id:s},{id:"3",type:"discussion",author:{id:"3",name:"Maria Santos",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",interests:["Design Gráfico"],joinedAt:"2024-01-28",isOnline:!0,user_id:"user-3"},content:"O que vocês acham da influência da arte digital na arte tradicional? Tenho notado uma convergência interessante entre as duas formas de expressão...",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),likes:15,comments:8,community_id:s}],created_at:new Date().toISOString(),updated_at:new Date().toISOString()});function ag(){const{id:s}=go(),t=ie(),{user:a}=z(),[r,n]=g.useState(null),[i,o]=g.useState(!0),[l,c]=g.useState("activities"),[m,d]=g.useState(""),[u,h]=g.useState(!1),[x,b]=g.useState(!1),[y,v]=g.useState(!1),[f,w]=g.useState("group"),[p,j]=g.useState(null);g.useEffect(()=>{setTimeout(()=>{const S=sg(s||"arte-design");n(S),h(!0),o(!1)},1e3)},[s]);const N=async()=>{r&&(h(!1),n(S=>S?{...S,memberCount:S.memberCount-1}:null))},_=async()=>{var R;if(!m.trim()||!r||!a)return;b(!0);const S={id:Date.now().toString(),type:"post",author:{id:a.id,name:((R=a.email)==null?void 0:R.split("@")[0])||"Usuário",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",interests:["Arte"],joinedAt:new Date().toISOString(),isOnline:!0,user_id:a.id},content:m,timestamp:new Date().toISOString(),likes:0,comments:0,community_id:r.id};n(L=>L?{...L,activities:[S,...L.activities]}:null),d(""),b(!1)},E=()=>{w("group"),j(null),v(!0)},T=S=>{w("direct"),j(S),v(!0)},P=()=>{v(!1),j(null)},C=S=>{t("/customer-dashboard?tab=connect&chat="+S.user_id)},k=S=>{switch(S){case"event":return e.jsx(Ct,{className:"w-4 h-4"});case"experience_share":return e.jsx(Qa,{className:"w-4 h-4"});case"discussion":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(oe,{className:"w-4 h-4"})}},A=S=>{switch(S){case"event":return"Evento";case"experience_share":return"Experiência";case"discussion":return"Discussão";default:return"Post"}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F]"})}):r?e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${r.coverImage})`},children:e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("button",{onClick:()=>t("/customer-dashboard?tab=connect"),className:"flex items-center space-x-2 bg-white bg-opacity-90 text-gray-900 px-4 py-2 rounded-lg hover:bg-opacity-100 transition-all",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Voltar"})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.name}),e.jsx("p",{className:"text-lg opacity-90 mb-4",children:r.description}),e.jsx("div",{className:"flex items-center space-x-4 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.memberCount.toLocaleString()," membros"]})]})})]}),u&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:E,className:"flex items-center space-x-2 bg-gradient-to-r from-[#C91F1F] to-[#F6C100] text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{children:"Chat da Comunidade"})]}),e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Ja,{className:"w-4 h-4"}),e.jsx("span",{children:"Sair da Comunidade"})]})]})]})})})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>c("activities"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="activities"?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Atividades"}),e.jsx("button",{onClick:()=>c("members"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="members"?"border-[#C91F1F] text-[#C91F1F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Membros"})]})}),e.jsxs("div",{className:"p-6",children:[l==="activities"&&e.jsxs("div",{className:"space-y-6",children:[u&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("textarea",{value:m,onChange:S=>d(S.target.value),placeholder:"Compartilhe algo com a comunidade...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent resize-none",rows:3}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-gray-700",children:[e.jsx(gm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Foto"})]})}),e.jsxs("button",{onClick:_,disabled:!m.trim()||x,className:"flex items-center space-x-2 bg-[#C91F1F] text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[x?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(bs,{className:"w-4 h-4"}),e.jsx("span",{children:"Publicar"})]})]})]}),e.jsx("div",{className:"space-y-4",children:r.activities.map(S=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("img",{src:S.author.avatar,alt:S.author.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:S.author.name}),e.jsxs("span",{className:"flex items-center space-x-1 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[k(S.type),e.jsx("span",{children:A(S.type)})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(S.timestamp).toLocaleString("pt-BR")})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:S.content}),S.images&&S.images.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("img",{src:S.images[0],alt:"Post image",className:"rounded-lg max-w-md w-full h-48 object-cover"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("button",{className:"flex items-center space-x-1 hover:text-red-600",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:S.likes})]}),e.jsxs("button",{className:"flex items-center space-x-1 hover:text-blue-600",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{children:S.comments})]}),e.jsxs("button",{className:"flex items-center space-x-1 hover:text-green-600",children:[e.jsx(Qa,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartilhar"})]})]})]})]})},S.id))})]}),l==="members"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.members.map(S=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:S.avatar,alt:S.name,className:"w-12 h-12 rounded-full"}),S.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:S.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:S.bio}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:S.interests.slice(0,2).map((R,L)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:R},L))}),u&&S.user_id!==(a==null?void 0:a.id)&&e.jsxs("button",{onClick:()=>T(S),className:"flex items-center space-x-1 text-[#C91F1F] hover:text-red-700 text-sm font-medium",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{children:"Conversar"})]})]})]})},S.id))})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membros"}),e.jsx("span",{className:"font-medium",children:r.memberCount.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Posts hoje"}),e.jsx("span",{className:"font-medium",children:"12"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membros online"}),e.jsx("span",{className:"font-medium text-green-600",children:"89"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Membros Online"}),e.jsx("div",{className:"space-y-3",children:r.members.filter(S=>S.isOnline).slice(0,5).map(S=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:S.avatar,alt:S.name,className:"w-8 h-8 rounded-full"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-green-500 border border-white rounded-full"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.name})}),e.jsx("button",{onClick:()=>C(S),className:"text-[#C91F1F] hover:text-red-700",children:e.jsx(oe,{className:"w-4 h-4"})})]},S.id))})]})]})]})}),y&&r&&e.jsx(jc,{community:r,onClose:P,initialChatType:f,initialMember:p})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Comunidade não encontrada"}),e.jsx("button",{onClick:()=>t("/customer-dashboard?tab=connect"),className:"text-[#C91F1F] hover:underline",children:"Voltar às comunidades"})]})})}function rg(){const{id:s}=go(),t=ie(),[a]=sa(),{user:r}=z(),[n,i]=g.useState(null),[o,l]=g.useState(!0),[c,m]=g.useState(!1),[d,u]=g.useState(!1),h=g.useCallback(w=>{const p=a.get("code")||"DUO"+Math.random().toString(36).substr(2,8).toUpperCase();return{id:w,voucher_code:p,qr_code_data:`DUO_PASS_${p}`,status:"active",expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:new Date().toISOString(),cultural_partners:{business_name:"Café das Letras",contact_name:"Maria Silva",email:"contato@cafedasletras.com",address:{street:"Rua das Flores, 123",city:"São Paulo",state:"SP",zipcode:"01234-567"}},cultural_experiences:{experience_name:"Sarau Íntimo com Degustação",duo_benefit:"Duas pessoas vivem uma experiência cultural única com degustação completa.",original_price:120,duo_price:60}}},[a]),x=g.useCallback(async()=>{if(s)try{l(!0);const{data:w}=await M.from("vouchers").select(`
          *,
          cultural_partners:users!merchant_id (
            business_name,
            contact_name,
            email,
            address
          ),
          cultural_experiences (
            experience_name,
            duo_benefit,
            original_price,
            duo_price
          )
        `).eq("id",s).eq("user_id",r==null?void 0:r.id).single();i(w||h(s))}catch(w){console.error("Erro ao carregar voucher:",w),i(h(s))}finally{l(!1)}},[s,r==null?void 0:r.id,h]);g.useEffect(()=>{x()},[x]);const b=async()=>{if(n)try{await navigator.clipboard.writeText(n.voucher_code),m(!0),setTimeout(()=>m(!1),2e3)}catch(w){console.error("Erro ao copiar código:",w)}},y=w=>new Date(w).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),v=()=>{if(!n)return 0;const w=new Date(n.expires_at),p=new Date,j=w.getTime()-p.getTime();return Math.ceil(j/(1e3*60*60*24))};if(o)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})});if(!n)return e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Voucher não encontrado"}),e.jsx("button",{onClick:()=>t("/meus-vouchers"),className:"text-amber-600 hover:text-amber-700 font-medium",children:"Ver meus vouchers"})]})});const f=v();return e.jsxs("div",{className:"min-h-screen bg-[#F5F3EF]",children:[e.jsx(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"bg-white bg-opacity-20 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:e.jsx(H,{className:"w-12 h-12"})}),e.jsx(F.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-4xl md:text-5xl font-bold mb-4",children:"DUO PASS Ativo! 🎉"}),e.jsx(F.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Seu voucher foi gerado com sucesso! Agora você pode desfrutar da experiência cultural."})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(F.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},onClick:()=>t("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-amber-600 transition-colors mb-8",children:[e.jsx(dt,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar ao início"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(F.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"DUO PASS"}),e.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm font-medium",children:"Ativo"})]}),e.jsx("h3",{className:"text-lg font-semibold",children:n.cultural_experiences.experience_name})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Código do Voucher"}),e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800",children:n.voucher_code}),e.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-amber-600 transition-colors",title:"Copiar código",children:e.jsx(um,{className:"w-5 h-5"})})]}),c&&e.jsx("p",{className:"text-green-600 text-sm mt-2",children:"Código copiado!"})]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("button",{onClick:()=>u(!d),className:"flex items-center space-x-2 mx-auto text-amber-600 hover:text-amber-700 transition-colors",children:[e.jsx(rs,{className:"w-5 h-5"}),e.jsxs("span",{children:[d?"Ocultar":"Mostrar"," QR Code"]})]}),d&&e.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:e.jsx(rs,{className:"w-16 h-16 text-gray-400"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"QR Code para apresentar no local"})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Válido até: ",y(n.expires_at)]}),e.jsx("p",{className:"text-sm",children:f>0?`${f} dias restantes`:"Expira hoje"})]})]})})]})]}),e.jsxs(F.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detalhes da Experiência"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"🎁 Benefício DUO:"}),e.jsx("p",{className:"text-gray-800",children:n.cultural_experiences.duo_benefit})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx("span",{className:"text-gray-600",children:"Valor economizado:"}),e.jsxs("span",{className:"text-green-600 font-bold",children:["CHF ",((n.cultural_experiences.original_price-n.cultural_experiences.duo_price)*.18).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Local da Experiência"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-amber-600",children:n.cultural_partners.business_name}),e.jsxs("div",{className:"flex items-start space-x-2 text-gray-600",children:[e.jsx($e,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{children:n.cultural_partners.address.street}),e.jsxs("p",{children:[n.cultural_partners.address.city,", ",n.cultural_partners.address.state]}),e.jsxs("p",{children:["CEP: ",n.cultural_partners.address.zipcode]})]})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Contato: ",n.cultural_partners.contact_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:n.cultural_partners.email})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-3",children:"📋 Como usar seu voucher"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[e.jsx("li",{children:"1. Entre em contato com o parceiro para agendar"}),e.jsx("li",{children:"2. Apresente o código do voucher ou QR Code"}),e.jsx("li",{children:"3. Aproveite sua experiência cultural!"}),e.jsx("li",{children:"4. Lembre-se: válido para 2 pessoas"})]})]})]})]}),e.jsxs(F.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>t("/meus-vouchers"),className:"px-8 py-3 bg-gradient-to-r from-amber-500 to-rose-500 text-white rounded-lg font-medium hover:shadow-lg transition-all",children:"Ver Todos os Vouchers"}),e.jsx("button",{onClick:()=>t("/experiencias"),className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Descobrir Mais Experiências"}),e.jsxs("button",{className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all flex items-center space-x-2",children:[e.jsx(Qa,{className:"w-4 h-4"}),e.jsx("span",{children:"Compartilhar"})]})]})]})]})}function eo(){const s=ie(),[t,a]=g.useState(""),[r,n]=g.useState(!1),i=d=>{d.preventDefault(),n(!0)},o={hero:"Sua história merece ser vivida por pessoas que valorizam o autêntico",diferencial:"Não somos apenas cupons - somos cultura em movimento",beneficios:["Clientes conscientes que buscam experiências com alma","Visibilidade em uma comunidade de valores compartilhados","Apoio na construção de relacionamentos, não apenas vendas","Parceria de longo prazo baseada em propósito comum"],cta:"FAÇA PARTE DESTE MOVIMENTO CULTURAL"},l=[{name:"Maria Silva",business:"Café das Letras",quote:"O DUO PASS trouxe pessoas que realmente valorizam nossa proposta cultural. Não são apenas clientes, são parte da nossa comunidade.",impact:"300% aumento em conexões genuínas"},{name:"João Santos",business:"Ateliê Criativo",quote:"Finalmente uma plataforma que entende que vendemos experiências, não produtos. Nossos valores se alinham perfeitamente.",impact:"85% dos visitantes retornam"},{name:"Ana Costa",business:"Restaurante da Vovó",quote:"Cada pessoa que chega através do DUO PASS já vem com o coração aberto para nossa história familiar.",impact:"4.9 estrelas em experiência cultural"}],c=[{icon:G,title:"Autenticidade",description:"Celebramos o que torna seu espaço único e especial"},{icon:q,title:"Comunidade",description:"Construímos relacionamentos duradouros, não transações"},{icon:pe,title:"Propósito",description:"Cada parceria tem um impacto cultural mensurável"},{icon:$e,title:"Local",description:"Fortalecemos a economia criativa da sua região"}],m=[{icon:Mo,title:"Cafés Culturais",description:"Espaços onde conversas fluem e ideias nascem",examples:["Café com saraus","Livrarias-café","Espaços de coworking criativo"]},{icon:ia,title:"Ateliês & Galerias",description:"Onde a arte local ganha vida e se conecta com pessoas",examples:["Ateliês abertos","Galerias independentes","Oficinas criativas"]},{icon:_r,title:"Espaços Gastronômicos",description:"Restaurantes que contam histórias através dos sabores",examples:["Restaurantes familiares","Gastronomia autoral","Experiências culinárias"]}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/20 to-rose-600/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[e.jsx(G,{className:"w-12 h-12 text-rose-500"}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"DUO PASS"})]}),e.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:o.hero}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:o.diferencial}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("button",{onClick:()=>s("/cadastro-parceiro"),className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105",children:"Começar Agora"}),e.jsx("button",{onClick:()=>s("/como-funciona-parceiros"),className:"text-gray-700 font-medium hover:text-gray-900 transition-colors",children:"Ver Como Funciona"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600 mb-2",children:"150+"}),e.jsx("div",{className:"text-gray-600",children:"Parceiros Culturais"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-rose-600 mb-2",children:"12k+"}),e.jsx("div",{className:"text-gray-600",children:"Conexões Criadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"4.8★"}),e.jsx("div",{className:"text-gray-600",children:"Impacto Cultural"})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Nossos Valores Compartilhados"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Mais que uma plataforma, somos um movimento cultural que conecta pessoas através de experiências autênticas"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map((d,u)=>{const h=d.icon;return e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-100 to-rose-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(h,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:d.title}),e.jsx("p",{className:"text-gray-600",children:d.description})]},u)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-8",children:"Por que escolher o DUO PASS?"}),e.jsx("div",{className:"space-y-6",children:o.beneficios.map((d,u)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(H,{className:"w-6 h-6 text-green-500 mt-1 flex-shrink-0"}),e.jsx("p",{className:"text-lg text-gray-700",children:d})]},u))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Diferencial Cultural"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Plataformas tradicionais"}),e.jsx("span",{className:"text-red-500 font-medium",children:"Foco em vendas"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"DUO PASS"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Foco em conexões"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Métricas tradicionais"}),e.jsx("span",{className:"text-red-500 font-medium",children:"ROI, conversão"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Nossas métricas"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Impacto cultural"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-gray-600",children:"Relacionamento"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Longo prazo"})]})]})]})]})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Parceiros que Respiram Cultura"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Cada tipo de espaço tem sua magia única. Qual é a sua?"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:m.map((d,u)=>{const h=d.icon;return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-8 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-16 h-16 rounded-lg flex items-center justify-center mb-6",children:e.jsx(h,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:d.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:d.description}),e.jsx("div",{className:"space-y-2",children:d.examples.map((x,b)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:x})]},b))})]},u)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Histórias de Sucesso Cultural"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Parceiros que transformaram suas experiências em conexões genuínas"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:l.map((d,u)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(5)].map((h,x)=>e.jsx(X,{className:"w-5 h-5 text-yellow-400 fill-current"},x))}),e.jsxs("p",{className:"text-gray-700 italic mb-6",children:['"',d.quote,'"']}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:d.name}),e.jsx("div",{className:"text-gray-600 text-sm mb-2",children:d.business}),e.jsx("div",{className:"text-green-600 font-medium text-sm",children:d.impact})]})]},u))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-amber-600 to-rose-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:o.cta}),e.jsx("p",{className:"text-xl text-amber-100 mb-8",children:"Junte-se a uma comunidade que valoriza autenticidade, propósito e conexões genuínas"}),r?e.jsxs("div",{className:"bg-white/20 rounded-lg p-8 max-w-md mx-auto",children:[e.jsx(H,{className:"w-12 h-12 text-white mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Obrigado!"}),e.jsx("p",{className:"text-amber-100",children:"Em breve entraremos em contato para conhecer sua história."})]}):e.jsx("form",{onSubmit:i,className:"max-w-md mx-auto",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx("input",{type:"email",value:t,onChange:d=>a(d.target.value),placeholder:"Seu email para começar",className:"flex-1 px-6 py-4 rounded-lg text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white",required:!0}),e.jsxs("button",{type:"submit",className:"bg-white text-amber-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Começar"}),e.jsx(te,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:"mt-8 text-amber-100 text-sm",children:["Ou acesse diretamente o"," ",e.jsx(O,{to:"/cultural-partner-portal",className:"text-white font-semibold hover:underline",children:"Portal do Parceiro Cultural"})]})]})})]})}class Ns{constructor(t=0,a="Network Error"){this.status=t,this.text=a}}const ng=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,t)=>Promise.resolve(localStorage.setItem(s,t)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},ne={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ng()},mn=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},ig=(s,t="https://api.emailjs.com")=>{if(!s)return;const a=mn(s);ne.publicKey=a.publicKey,ne.blockHeadless=a.blockHeadless,ne.storageProvider=a.storageProvider,ne.blockList=a.blockList,ne.limitRate=a.limitRate,ne.origin=a.origin||t},wc=async(s,t,a={})=>{const r=await fetch(ne.origin+s,{method:"POST",headers:a,body:t}),n=await r.text(),i=new Ns(r.status,n);if(r.ok)return i;throw i},Nc=(s,t,a)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||typeof a!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},og=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Cc=s=>s.webdriver||!s.languages||s.languages.length===0,Sc=()=>new Ns(451,"Unavailable For Headless Browser"),lg=(s,t)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},cg=s=>{var t;return!((t=s.list)!=null&&t.length)||!s.watchVariable},dg=(s,t)=>s instanceof FormData?s.get(t):s[t],_c=(s,t)=>{if(cg(s))return!1;lg(s.list,s.watchVariable);const a=dg(t,s.watchVariable);return typeof a!="string"?!1:s.list.includes(a)},kc=()=>new Ns(403,"Forbidden"),mg=(s,t)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},ug=async(s,t,a)=>{const r=Number(await a.get(s)||0);return t-Date.now()+r},Ec=async(s,t,a)=>{if(!t.throttle||!a)return!1;mg(t.throttle,t.id);const r=t.id||s;return await ug(r,t.throttle,a)>0?!0:(await a.set(r,Date.now().toString()),!1)},Pc=()=>new Ns(429,"Too Many Requests"),hg=async(s,t,a,r)=>{const n=mn(r),i=n.publicKey||ne.publicKey,o=n.blockHeadless||ne.blockHeadless,l=n.storageProvider||ne.storageProvider,c={...ne.blockList,...n.blockList},m={...ne.limitRate,...n.limitRate};return o&&Cc(navigator)?Promise.reject(Sc()):(Nc(i,s,t),og(a),a&&_c(c,a)?Promise.reject(kc()):await Ec(location.pathname,m,l)?Promise.reject(Pc()):wc("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:s,template_id:t,template_params:a}),{"Content-type":"application/json"}))},xg=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},pg=s=>typeof s=="string"?document.querySelector(s):s,fg=async(s,t,a,r)=>{const n=mn(r),i=n.publicKey||ne.publicKey,o=n.blockHeadless||ne.blockHeadless,l=ne.storageProvider||n.storageProvider,c={...ne.blockList,...n.blockList},m={...ne.limitRate,...n.limitRate};if(o&&Cc(navigator))return Promise.reject(Sc());const d=pg(a);Nc(i,s,t),xg(d);const u=new FormData(d);return _c(c,u)?Promise.reject(kc()):await Ec(location.pathname,m,l)?Promise.reject(Pc()):(u.append("lib_version","4.4.1"),u.append("service_id",s),u.append("template_id",t),u.append("user_id",i),wc("/api/v1.0/email/send-form",u))},un={init:ig,send:hg,sendForm:fg,EmailJSResponseStatus:Ns};async function gg(s){const{data:t,error:a}=await M.from("contact_messages").insert({name:s.name,email:s.email,business:s.business,type:s.type,description:s.description,status:"new"}).select().single();if(a)throw console.error("Erro ao salvar mensagem de contato:",a),new Error("Erro ao salvar mensagem. Tente novamente.");return t}async function bg(s){throw new Error("Configuração de email não encontrada")}const yg=({isOpen:s,onClose:t})=>{const[a,r]=g.useState({name:"",email:"",business:"",type:"other",description:""}),[n,i]=g.useState(!1),[o,l]=g.useState("idle"),[c,m]=g.useState(""),d=x=>{const{name:b,value:y}=x.target;r(v=>({...v,[b]:y}))},u=async x=>{x.preventDefault(),i(!0),m("");try{const b=await gg(a);await bg({...a,id:b.id,created_at:b.created_at}),l("success"),setTimeout(()=>{t(),r({name:"",email:"",business:"",type:"other",description:""}),l("idle")},2e3)}catch(b){console.error("Erro ao enviar mensagem:",b),m(b instanceof Error?b.message:"Erro ao enviar mensagem"),l("error")}finally{i(!1)}},h=()=>{l("idle"),m("")};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"Falar com Nossa Equipe"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:n,children:e.jsx(_e,{className:"w-5 h-5 text-gray-500"})})]}),o==="success"&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mensagem Enviada!"}),e.jsx("p",{className:"text-gray-600",children:"Obrigado pelo seu interesse. Nossa equipe entrará em contato em até 24 horas."})]}),o!=="success"&&e.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:d,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:d,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Negócio *"}),e.jsx("input",{type:"text",id:"business",name:"business",value:a.business,onChange:d,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Nome do seu estabelecimento"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Negócio *"}),e.jsxs("select",{id:"type",name:"type",value:a.type,onChange:d,required:!0,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",children:[e.jsx("option",{value:"gastronomy",children:"Gastronomia"}),e.jsx("option",{value:"art",children:"Arte e Cultura"}),e.jsx("option",{value:"wellbeing",children:"Bem-estar"}),e.jsx("option",{value:"other",children:"Outro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição Breve *"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:d,required:!0,disabled:n,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500 resize-none",placeholder:"Conte-nos brevemente sobre seu negócio e interesse em ser parceiro..."})]}),o==="error"&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-red-600 text-sm",children:c}),e.jsx("button",{type:"button",onClick:h,className:"text-red-600 text-sm underline hover:no-underline mt-1",children:"Tentar novamente"})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-orange-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-purple-700 hover:to-orange-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bs,{className:"w-4 h-4"}),"Enviar Mensagem"]})})]})]})}):null},to=({onClick:s,variant:t="primary",size:a="md",className:r="",children:n})=>{const i="inline-flex items-center justify-center gap-2 font-semibold rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",o={primary:"bg-gradient-to-r from-purple-600 to-orange-500 text-white hover:from-purple-700 hover:to-orange-600 shadow-lg hover:shadow-xl",secondary:"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50",outline:"border-2 border-white text-white hover:bg-white hover:text-purple-600"},l={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsxs("button",{onClick:s,className:`${i} ${o[t]} ${l[a]} ${r}`,children:[e.jsx(oe,{className:c[a]}),n||"Falar com Nossa Equipe"]})},vg=()=>{const[s,t]=g.useState(!1);return{isOpen:s,openModal:()=>t(!0),closeModal:()=>t(!1),toggleModal:()=>t(i=>!i)}};function jg(){const{isOpen:s,openModal:t,closeModal:a}=vg(),r=[{icon:G,title:"Autenticidade Cultural",description:"Valorizamos experiências genuínas que refletem a verdadeira essência cultural do seu espaço"},{icon:q,title:"Comunidade Engajada",description:"Conectamos você com pessoas que realmente valorizam cultura, não apenas buscam descontos"},{icon:X,title:"Curadoria de Qualidade",description:"Cada parceiro passa por um processo cuidadoso para garantir experiências excepcionais"}],n=[{number:"01",title:"Cadastro",description:"Conte sua história, missão cultural e a experiência que deseja oferecer",timeframe:"5 minutos"},{number:"02",title:"Análise",description:"Nossa equipe avalia o alinhamento com nossos valores culturais",timeframe:"24-48h"},{number:"03",title:"Curadoria",description:"Trabalhamos juntos para criar a descrição perfeita da sua experiência",timeframe:"1 semana"},{number:"04",title:"Ativação",description:"Seu espaço entra na plataforma e começa a receber visitantes engajados",timeframe:"2 semanas"}],i=["Aumento de 40% no fluxo de clientes","Redução de 60% em custos de marketing","Dashboard com métricas de impacto cultural","Suporte dedicado para otimização","Pagamentos automáticos e seguros","Flexibilidade total de horários e ofertas"],o=["Conexão com pessoas que valorizam cultura","Fortalecimento da identidade do seu espaço","Rede de parceiros culturais colaborativos","Visibilidade para audiência qualificada","Impacto social mensurável","Preservação e difusão cultural"],l=[{icon:Mo,title:"Gastronomia Cultural",description:"Restaurantes, cafés e bistrôs com identidade cultural forte",examples:["Culinária regional autêntica","Ambientes com história","Experiências gastronômicas únicas"]},{icon:ia,title:"Arte & Criatividade",description:"Galerias, ateliês e espaços de expressão artística",examples:["Galerias independentes","Ateliês de artistas","Centros culturais"]},{icon:bm,title:"Bem-estar Consciente",description:"Espaços de wellness com propósito e conexão humana",examples:["Yoga e meditação","Terapias holísticas","Retiros urbanos"]}],c=[{name:"Maria Santos",business:"Café Cultural Raízes",location:"São Paulo, SP",quote:"O DuoPass trouxe pessoas que realmente se conectam com nossa proposta. Não são apenas clientes, são amigos que voltam sempre.",impact:"+65% de frequência",avatar:"👩🏽‍🦱"},{name:"João Oliveira",business:"Ateliê Mãos Criativas",location:"Rio de Janeiro, RJ",quote:"Finalmente encontrei uma plataforma que entende que arte não é commodity. Aqui, nossa história é valorizada.",impact:"+80% de workshops",avatar:"👨🏻‍🎨"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-orange-50 to-rose-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-orange-600/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-800 mb-6",children:["Como Funciona para",e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-orange-600 bg-clip-text text-transparent block",children:"Parceiros Culturais"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Não somos apenas uma plataforma de cupons. Somos um movimento que conecta espaços culturais autênticos com pessoas que valorizam experiências genuínas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs(O,{to:"/cadastro-parceiro",className:"bg-gradient-to-r from-purple-600 to-orange-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx("span",{children:"Quero Ser Parceiro"}),e.jsx(te,{className:"w-5 h-5"})]}),e.jsx(to,{onClick:t,variant:"secondary",size:"lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Audiência Qualificada"}),e.jsx("p",{className:"text-gray-600",children:"Pessoas que buscam cultura, não apenas preço"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💝"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Zero Custo Inicial"}),e.jsx("p",{className:"text-gray-600",children:"Sem taxas de adesão ou mensalidades"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📈"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Crescimento Sustentável"}),e.jsx("p",{className:"text-gray-600",children:"Impacto cultural mensurável"})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🌟 Nossos 3 Pilares Culturais"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Mais que uma plataforma, somos um movimento que acredita na força transformadora da cultura autêntica"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((m,d)=>{const u=m.icon;return e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-orange-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:m.title}),e.jsx("p",{className:"text-gray-600",children:m.description})]},d)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-50 to-orange-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"📋 Do Cadastro à Ativação"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Um processo cuidadoso que garante qualidade e autenticidade"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((m,d)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 h-full shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-orange-600 text-white text-2xl font-bold w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:m.number}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:m.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:m.description}),e.jsxs("div",{className:"text-sm font-medium text-purple-600",children:["⏱️ ",m.timeframe]})]}),d<n.length-1&&e.jsx(te,{className:"w-6 h-6 text-gray-400 absolute top-1/2 -right-3 transform -translate-y-1/2 hidden lg:block"})]},d))})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🎁 Benefícios que Fazem a Diferença"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Resultados práticos e impacto cultural genuíno"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"💼"}),"Benefícios Práticos"]}),e.jsx("div",{className:"space-y-4",children:i.map((m,d)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(H,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:m})]},d))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-rose-50 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"🎨"}),"Impacto Cultural"]}),e.jsx("div",{className:"space-y-4",children:o.map((m,d)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:m})]},d))})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-orange-50 to-purple-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"🏛️ Tipos de Parceiros Culturais"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Espaços diversos unidos pela paixão por cultura autêntica"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:l.map((m,d)=>{const u=m.icon;return e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:m.title}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",children:m.description}),e.jsx("div",{className:"space-y-2",children:m.examples.map((h,x)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-orange-500 to-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:h})]},x))})]},d)})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"💬 Cases de Sucesso"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Histórias reais de parceiros que transformaram seus negócios"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:c.map((m,d)=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-orange-50 rounded-xl p-8",children:[e.jsx(wm,{className:"w-8 h-8 text-purple-600 mb-4"}),e.jsxs("p",{className:"text-lg text-gray-700 mb-6 italic",children:['"',m.quote,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:m.avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800",children:m.name}),e.jsx("p",{className:"text-sm text-gray-600",children:m.business}),e.jsx("p",{className:"text-xs text-gray-500",children:m.location})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-orange-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:m.impact})})]})]},d))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-orange-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"🚀 Pronto para Fazer Parte?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Junte-se a centenas de parceiros que já estão transformando cultura em conexão"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs(O,{to:"/cadastro-parceiro",className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx("span",{children:"Começar Agora"}),e.jsx(te,{className:"w-5 h-5"})]}),e.jsx(to,{onClick:t,variant:"outline",size:"lg",children:"Falar Conosco"})]}),e.jsx("div",{className:"mt-8 text-purple-100",children:e.jsxs("p",{className:"text-sm",children:["📞 Dúvidas? Entre em contato: ",e.jsx("a",{href:"mailto:contact@dupassclub.ch",className:"underline hover:no-underline",children:"contact@dupassclub.ch"})]})})]})}),e.jsx(yg,{isOpen:s,onClose:a})]})}const wg=async s=>{try{console.log("💾 Salvando dados do parceiro no Supabase...");const t={business_name:s.businessName,contact_name:s.contactName,email:s.email,phone:s.phone,business_type:s.businessType,address_street:s.address.street,address_city:s.address.city,address_postal_code:s.address.postalCode,address_country:s.address.country,founder_story:s.founderStory,cultural_mission:s.culturalMission,experience_title:s.proposedExperience.title,experience_description:s.proposedExperience.description,experience_normal_price:s.proposedExperience.normalPrice,experience_duo_value:s.proposedExperience.duoValue,terms_accepted:s.termsAccepted,privacy_accepted:s.privacyAccepted,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:r}=await M.from("partner_registrations").insert([t]).select("id").single();return r?(console.error("❌ Erro ao salvar no Supabase:",r),{success:!1,error:r.message}):(console.log("✅ Dados salvos com sucesso:",a.id),{success:!0,id:a.id})}catch(t){return console.error("❌ Erro interno ao salvar dados:",t),{success:!1,error:"Erro interno do sistema"}}},ps={serviceId:"service_duopass",templateIds:{partnerConfirmation:"template_partner_confirmation",adminNotification:"template_admin_notification"},publicKey:"YOUR_EMAILJS_PUBLIC_KEY"},Ng=()=>{un.init(ps.publicKey)},Cg=async s=>{try{const t={to_email:s.email,to_name:s.contactName,business_name:s.businessName,business_type:s.businessType,experience_title:s.proposedExperience.title,reply_to:"contact@dupassclub.ch",from_name:"DUO PASS Club",from_email:"contact@dupassclub.ch"},a=await un.send(ps.serviceId,ps.templateIds.partnerConfirmation,t);return console.log("✅ Email de confirmação enviado:",a.status,a.text),!0}catch(t){return console.error("❌ Erro ao enviar email de confirmação:",t),!1}},Sg=async s=>{try{const t={to_email:"contact@dupassclub.ch",to_name:"Equipe DUO PASS",partner_name:s.contactName,business_name:s.businessName,partner_email:s.email,partner_phone:s.phone,business_type:s.businessType,address:`${s.address.street}, ${s.address.city}, ${s.address.postalCode}`,founder_story:s.founderStory,cultural_mission:s.culturalMission,experience_title:s.proposedExperience.title,experience_description:s.proposedExperience.description,normal_price:s.proposedExperience.normalPrice,duo_value:s.proposedExperience.duoValue,reply_to:"contact@dupassclub.ch",from_name:"Sistema DUO PASS",from_email:"contact@dupassclub.ch"},a=await un.send(ps.serviceId,ps.templateIds.adminNotification,t);return console.log("✅ Notificação admin enviada:",a.status,a.text),!0}catch(t){return console.error("❌ Erro ao enviar notificação admin:",t),!1}},_g=async s=>{const t=[];try{return await Cg(s)||t.push("Falha ao enviar email de confirmação para o parceiro"),await Sg(s)||t.push("Falha ao enviar notificação para admin"),{success:t.length===0,errors:t}}catch(a){return console.error("❌ Erro geral no envio de emails:",a),{success:!1,errors:["Erro interno no sistema de emails"]}}};function kg(){const s=ie(),[t,a]=g.useState({businessName:"",contactName:"",email:"",phone:"",businessType:"cafe",address:{street:"",city:"",postalCode:"",country:"Brasil"},founderStory:"",culturalMission:"",proposedExperience:{title:"",description:"",normalPrice:0,duoValue:""},termsAccepted:!1,privacyAccepted:!1}),[r,n]=g.useState(1),i=4,[o,l]=g.useState(!1),[c,m]=g.useState("idle"),[d,u]=g.useState(""),h=[{value:"restaurante",label:"Restaurante",icon:"🍽️"},{value:"cafe",label:"Café",icon:"☕"},{value:"galeria",label:"Galeria",icon:"🎨"},{value:"atelier",label:"Ateliê",icon:"🎭"},{value:"spa",label:"Spa/Bem-estar",icon:"🧘"},{value:"teatro",label:"Teatro/Cultura",icon:"🎪"},{value:"outro",label:"Outro",icon:"✨"}],x=(f,w)=>{if(f.includes(".")){const[p,j]=f.split(".");a(N=>({...N,[p]:{...N[p],[j]:w}}))}else a(p=>({...p,[f]:w}))};g.useEffect(()=>{Ng()},[]);const b=async f=>{if(f.preventDefault(),r<i){n(r+1);return}l(!0),m("saving"),u("");try{console.log("📝 Salvando dados no banco...");const w=await wg(t);if(!w.success)throw new Error(w.error||"Erro ao salvar dados");console.log("✅ Dados salvos com sucesso!"),m("sending"),console.log("📧 Enviando emails...");const p=await _g(t);p.success||console.warn("⚠️ Alguns emails falharam:",p.errors),console.log("✅ Processo concluído com sucesso!"),m("success"),setTimeout(()=>{s("/parceiro-cadastrado",{state:{contactName:t.contactName,businessName:t.businessName,registrationId:w.id}})},2e3)}catch(w){console.error("❌ Erro no processo de cadastro:",w),m("error"),u(w instanceof Error?w.message:"Erro interno do sistema")}finally{l(!1)}},y=()=>{switch(r){case 1:return t.businessName&&t.contactName&&t.email&&t.phone;case 2:return t.businessType&&t.address.street&&t.address.city&&t.address.postalCode;case 3:return t.founderStory&&t.culturalMission;case 4:return t.proposedExperience.title&&t.proposedExperience.description&&t.proposedExperience.normalPrice>0&&t.proposedExperience.duoValue&&t.termsAccepted&&t.privacyAccepted;default:return!1}},v=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Informações Básicas"}),e.jsx("p",{className:"text-gray-600",children:"Vamos começar conhecendo você e seu negócio"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(lm,{className:"w-4 h-4 inline mr-2"}),"Nome do Estabelecimento *"]}),e.jsx("input",{type:"text",value:t.businessName,onChange:f=>x("businessName",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café das Letras",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(he,{className:"w-4 h-4 inline mr-2"}),"Nome do Responsável *"]}),e.jsx("input",{type:"text",value:t.contactName,onChange:f=>x("contactName",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Seu nome completo",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Be,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),e.jsx("input",{type:"email",value:t.email,onChange:f=>x("email",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Mt,{className:"w-4 h-4 inline mr-2"}),"Telefone *"]}),e.jsx("input",{type:"tel",value:t.phone,onChange:f=>x("phone",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 99999-9999",required:!0})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tipo de Negócio e Localização"}),e.jsx("p",{className:"text-gray-600",children:"Nos ajude a entender melhor seu espaço"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Tipo de Estabelecimento *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map(f=>e.jsxs("button",{type:"button",onClick:()=>x("businessType",f.value),className:`p-4 border-2 rounded-lg text-center transition-all ${t.businessType===f.value?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:f.icon}),e.jsx("div",{className:"text-sm font-medium",children:f.label})]},f.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($e,{className:"w-4 h-4 inline mr-2"}),"Endereço Completo *"]}),e.jsx("input",{type:"text",value:t.address.street,onChange:f=>x("address.street",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Rua, número, bairro",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade *"}),e.jsx("input",{type:"text",value:t.address.city,onChange:f=>x("address.city",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"São Paulo",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP *"}),e.jsx("input",{type:"text",value:t.address.postalCode,onChange:f=>x("address.postalCode",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"00000-000",required:!0})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sua História e Propósito"}),e.jsx("p",{className:"text-gray-600",children:"O que torna seu espaço especial e autêntico?"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(G,{className:"w-4 h-4 inline mr-2"}),"Conte um pouco sobre sua história *"]}),e.jsx("textarea",{value:t.founderStory,onChange:f=>x("founderStory",f.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como surgiu seu negócio? O que te motivou a criar este espaço? Qual é a história por trás do seu estabelecimento?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(qs,{className:"w-4 h-4 inline mr-2"}),"Qual seu propósito cultural? *"]}),e.jsx("textarea",{value:t.culturalMission,onChange:f=>x("culturalMission",f.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Que impacto cultural você quer gerar? Como seu espaço contribui para a comunidade? Quais valores você quer transmitir?",required:!0})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Experiência Proposta"}),e.jsx("p",{className:"text-gray-600",children:"Vamos criar sua primeira experiência DUO PASS"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título da Experiência *"}),e.jsx("input",{type:"text",value:t.proposedExperience.title,onChange:f=>x("proposedExperience.title",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café + Conversa com Livros",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição da Experiência *"}),e.jsx("textarea",{value:t.proposedExperience.description,onChange:f=>x("proposedExperience.description",f.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o que torna esta experiência especial e única",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fo,{className:"w-4 h-4 inline mr-2"}),"Preço Normal (CHF) *"]}),e.jsx("input",{type:"number",value:t.proposedExperience.normalPrice,onChange:f=>x("proposedExperience.normalPrice",parseFloat(f.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"25.00",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"O que oferece no 2 por 1? *"}),e.jsx("input",{type:"text",value:t.proposedExperience.duoValue,onChange:f=>x("proposedExperience.duoValue",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: 2 cafés especiais + acesso à biblioteca",required:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:t.termsAccepted,onChange:f=>x("termsAccepted",f.target.checked),className:"mt-1 w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["Aceito os ",e.jsx("a",{href:"#",className:"text-amber-600 hover:underline",children:"termos de uso"})," e condições da plataforma DUO PASS *"]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"privacy",checked:t.privacyAccepted,onChange:f=>x("privacyAccepted",f.target.checked),className:"mt-1 w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",required:!0}),e.jsxs("label",{htmlFor:"privacy",className:"text-sm text-gray-700",children:["Aceito a ",e.jsx("a",{href:"#",className:"text-amber-600 hover:underline",children:"política de privacidade"})," *"]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-8 h-8 text-rose-500"}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"DUO PASS - Cadastro de Parceiro"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Etapa ",r," de ",i]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-rose-500 h-2 rounded-full transition-all duration-300",style:{width:`${r/i*100}%`}})})})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:e.jsxs("form",{onSubmit:b,className:"bg-white rounded-xl shadow-lg p-8",children:[v(),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>n(Math.max(1,r-1)),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,disabled:r===1,children:"Voltar"}),e.jsx("button",{type:"submit",disabled:!y()||o,className:`px-8 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-all ${y()&&!o?"bg-gradient-to-r from-amber-500 to-rose-500 text-white hover:shadow-lg transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin"}),e.jsxs("span",{children:[c==="saving"&&"Salvando...",c==="sending"&&"Enviando emails..."]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r===i?"Finalizar Cadastro":"Próximo"}),e.jsx(te,{className:"w-4 h-4"})]})}),c!=="idle"&&e.jsxs("div",{className:"mt-4 text-center",children:[c==="saving"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"💾 Salvando dados..."})]}),c==="sending"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"📧 Enviando emails de confirmação..."})]}),c==="success"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"✅ Cadastro realizado com sucesso! Redirecionando..."})]}),c==="error"&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-600",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"❌ Erro no cadastro"}),d&&e.jsx("div",{className:"text-sm mt-1 text-red-500",children:d}),e.jsx("button",{onClick:()=>{m("idle"),u("")},className:"mt-2 text-sm underline hover:no-underline",children:"Tentar novamente"})]})]})]})]})]})})]})}function Eg(){var o,l,c;const s=ta(),t=((o=s.state)==null?void 0:o.contactName)||"Parceiro",a=(l=s.state)==null?void 0:l.businessName,r=(c=s.state)==null?void 0:c.registrationId,n=[{icon:xm,title:"Análise (24-48h)",description:"Nossa equipe vai avaliar sua proposta e verificar o alinhamento com nossos valores culturais",timeframe:"1-2 dias"},{icon:q,title:"Entrevista",description:"Se aprovado, agendaremos uma conversa para conhecer melhor sua história e propósito",timeframe:"3-5 dias"},{icon:G,title:"Curadoria",description:"Ajudamos a criar sua experiência perfeita, com descrições autênticas e atrativas",timeframe:"1 semana"},{icon:H,title:"Ativação",description:"Seu espaço entra na plataforma e começa a receber visitantes culturalmente engajados",timeframe:"2 semanas"}],i=[{icon:Be,title:"Email",value:"contact@dupassclub.ch",description:"Para dúvidas sobre o processo"},{icon:oe,title:"WhatsApp",value:"(11) 99999-9999",description:"Suporte direto e rápido"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-orange-50 pt-16",children:[e.jsxs("section",{className:"relative overflow-hidden py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/20 to-rose-600/20"}),e.jsx("div",{className:"relative max-w-4xl mx-auto px-4 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(H,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"🎉 Cadastro Recebido com Sucesso!"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["Olá ",e.jsx("span",{className:"font-semibold text-amber-600",children:t}),", recebemos seu interesse em fazer parte do DUO PASS Club."]}),a&&e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Estamos animados para conhecer mais sobre ",e.jsx("span",{className:"font-semibold text-rose-600",children:a}),"!"]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-700",children:[e.jsx(Be,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"📧 Emails de Confirmação Enviados"})]}),e.jsx("p",{className:"text-blue-600 mt-2 text-sm",children:"Enviamos um email de confirmação para você e notificamos nossa equipe. Verifique sua caixa de entrada (e spam) para mais detalhes."}),r&&e.jsxs("p",{className:"text-blue-500 mt-2 text-xs font-mono",children:["ID do Cadastro: ",r]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-rose-100 rounded-lg p-6 mb-8",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx(G,{className:"w-5 h-5 inline text-rose-500 mr-2"}),e.jsx("strong",{children:"Sua história merece ser vivida!"})," Estamos ansiosos para conhecer mais sobre seu espaço e como podemos juntos criar experiências culturais autênticas."]})})]})})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"📋 Próximos Passos"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Aqui está o que acontece agora e quando você pode esperar cada etapa"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((m,d)=>{const u=m.icon;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-rose-50 rounded-xl p-6 h-full",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:e.jsx(u,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:m.title}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:m.description}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-600",children:m.timeframe})]})]}),d<n.length-1&&e.jsx(te,{className:"w-6 h-6 text-gray-400 absolute top-1/2 -right-3 transform -translate-y-1/2 hidden lg:block"})]},d)})}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-amber-50 to-rose-50 rounded-xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"O que esperar durante o processo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📞 Entrevista Personalizada"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa conversa será focada em entender sua história, valores e como podemos criar uma parceria autêntica que beneficie tanto seu negócio quanto nossa comunidade."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🎨 Curadoria Colaborativa"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Trabalharemos juntos para criar descrições que capturem a essência do seu espaço e atraiam pessoas que realmente valorizam experiências culturais."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📊 Dashboard Exclusivo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Após a ativação, você terá acesso a métricas de impacto cultural, não apenas vendas - porque medimos conexões genuínas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"🤝 Suporte Contínuo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa equipe estará sempre disponível para ajudar no crescimento do seu impacto cultural e otimização da experiência."})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-amber-50 to-rose-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"📧 Mantenha Contato"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Tem alguma dúvida ou quer saber mais sobre o processo? Estamos aqui para ajudar!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((m,d)=>{const u=m.icon;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-rose-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:m.title}),e.jsx("p",{className:"text-lg font-medium text-amber-600 mb-2",children:m.value}),e.jsx("p",{className:"text-gray-600",children:m.description})]},d)})}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enquanto isso..."}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Que tal conhecer mais sobre nossa comunidade e ver como outros parceiros estão criando impacto cultural?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx(O,{to:"/cultural-partner-landing",className:"bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all transform hover:scale-105",children:"Voltar à Página de Parceiros"}),e.jsx(O,{to:"/",className:"text-gray-600 font-medium hover:text-gray-800 transition-colors",children:"Conhecer o DUO PASS"})]})]})})]})}),e.jsx("section",{className:"py-12 bg-gradient-to-r from-amber-600 to-rose-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Sua história merece ser vivida! 💜"}),e.jsx("p",{className:"text-xl text-amber-100",children:"Obrigado por querer fazer parte do movimento que valoriza autenticidade, propósito e conexões genuínas."})]})})]})}function Pg(){const{user:s}=z(),[t,a]=g.useState(null),[r,n]=g.useState([]),[i,o]=g.useState("historia"),[l,c]=g.useState(!0),[m,d]=g.useState(!1),[u,h]=g.useState({business_name:"",founder_story:"",cultural_mission:"",contact_name:"",email:"",business_type:"",cultural_category:"",ambiance_description:"",social_values:[]}),x=[{value:"cafe_cultural",label:"Café Cultural"},{value:"restaurante_familia",label:"Restaurante Familiar"},{value:"atelier_arte",label:"Ateliê de Arte"},{value:"espaco_bem_estar",label:"Espaço de Bem-Estar"},{value:"livraria_cafe",label:"Livraria & Café"},{value:"galeria_arte",label:"Galeria de Arte"},{value:"casa_shows",label:"Casa de Shows Intimista"}],b=[{value:"gastronomia_autoral",label:"Gastronomia Autoral"},{value:"arte_local",label:"Arte Local"},{value:"bem_estar_holistico",label:"Bem-Estar Holístico"},{value:"musica_ao_vivo",label:"Música ao Vivo"},{value:"literatura_cafe",label:"Literatura & Café"},{value:"artesanato_local",label:"Artesanato Local"},{value:"experiencias_natureza",label:"Experiências na Natureza"}],y=["sustentabilidade","arte_local","comercio_justo","inclusao_social","preservacao_cultural","economia_criativa","slow_living","mindfulness"],v=g.useCallback(async()=>{if(s)try{c(!0);const{data:p,error:j}=await M.from("cultural_partners").select("*").eq("email",s.email).single();if(j&&j.code!=="PGRST116"&&console.error("Erro ao carregar parceiro:",j),p){a(p),h({business_name:p.business_name||"",founder_story:p.founder_story||"",cultural_mission:p.cultural_mission||"",contact_name:p.contact_name||"",email:p.email||"",business_type:p.business_type||"",cultural_category:p.cultural_category||"",ambiance_description:p.ambiance_description||"",social_values:p.social_values||[]});const{data:N}=await M.from("cultural_experiences").select("*").eq("partner_id",p.id);N&&n(N)}}catch(p){console.error("Erro ao carregar dados:",p)}finally{c(!1)}},[s]);g.useEffect(()=>{v()},[v]);const f=async()=>{if(s)try{d(!0);const p={...u,address:{street:"",city:"",state:"",zipcode:""},status:t?t.status:"pending"};if(t){const{error:j}=await M.from("cultural_partners").update(p).eq("id",t.id);if(j)throw j}else{const{data:j,error:N}=await M.from("cultural_partners").insert([p]).select().single();if(N)throw N;a(j)}alert("Dados salvos com sucesso!")}catch(p){console.error("Erro ao salvar:",p),alert("Erro ao salvar dados.")}finally{d(!1)}},w=(p,j,N)=>{p.includes(j)?N(p.filter(_=>_!==j)):N([...p,j])};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-rose-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pe,{className:"w-12 h-12 text-amber-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando sua história..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-rose-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-amber-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(G,{className:"w-8 h-8 text-rose-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-rose-600 bg-clip-text text-transparent",children:"Portal do Parceiro Cultural"}),e.jsx("p",{className:"text-gray-600",children:"Onde sua história ganha vida"})]})]}),t&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="approved"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status==="approved"?"✨ Aprovado":t.status==="pending"?"⏳ Em Análise":"📋 Rascunho"})})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex space-x-1 bg-white rounded-lg p-1 mb-8 shadow-sm",children:[{id:"historia",label:"Sua História",icon:G},{id:"experiencias",label:"Experiências",icon:pe},{id:"metricas",label:"Impacto Cultural",icon:q}].map(p=>{const j=p.icon;return e.jsxs("button",{onClick:()=>o(p.id),className:`flex items-center space-x-2 px-6 py-3 rounded-md font-medium transition-all ${i===p.id?"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:p.label})]},p.id)})}),i==="historia"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Conte Sua História"}),e.jsx("p",{className:"text-gray-600",children:"Cada lugar tem uma alma. Qual é a sua?"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do seu espaço cultural"}),e.jsx("input",{type:"text",value:u.business_name,onChange:p=>h({...u,business_name:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Café das Letras"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de negócio"}),e.jsxs("select",{value:u.business_type,onChange:p=>h({...u,business_type:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione o tipo"}),x.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria cultural"}),e.jsxs("select",{value:u.cultural_category,onChange:p=>h({...u,cultural_category:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione a categoria"}),b.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A história por trás do lugar"}),e.jsx("textarea",{value:u.founder_story,onChange:p=>h({...u,founder_story:p.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como tudo começou? Qual foi a inspiração? O que te motivou a criar este espaço?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sua missão cultural"}),e.jsx("textarea",{value:u.cultural_mission,onChange:p=>h({...u,cultural_mission:p.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Que impacto cultural você quer gerar? Como seu espaço transforma vidas?"})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o ambiente e energia do seu espaço"}),e.jsx("textarea",{value:u.ambiance_description,onChange:p=>h({...u,ambiance_description:p.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Como as pessoas se sentem quando entram? Que tipo de conversas acontecem? Qual é a magia do lugar?"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Valores que compartilhamos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:y.map(p=>e.jsx("button",{onClick:()=>w(u.social_values,p,j=>h({...u,social_values:j})),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${u.social_values.includes(p)?"bg-gradient-to-r from-amber-500 to-rose-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.replace("_"," ")},p))})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsxs("button",{onClick:f,disabled:m,className:"flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50",children:[e.jsx(Ro,{className:"w-4 h-4"}),e.jsx("span",{children:m?"Salvando...":"Salvar História"})]})})]}),i==="experiencias"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Suas Experiências Únicas"}),e.jsx("p",{className:"text-gray-600",children:"Não vendemos produtos, criamos memórias"})]}),e.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-amber-500 to-rose-500 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsx("span",{children:"Nova Experiência"})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Ainda não há experiências"}),e.jsx("p",{className:"text-gray-500",children:"Crie sua primeira experiência cultural única"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(p=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:p.experience_name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:p.story_behind}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["CHF ",(p.original_price*.18).toFixed(2)]}),e.jsxs("span",{className:"text-green-600 font-semibold ml-2",children:["CHF ",(p.duo_price*.18).toFixed(2)]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${p.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:p.active?"Ativa":"Pausada"})]})]},p.id))})]}),i==="metricas"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Seu Impacto Cultural"}),e.jsx("p",{className:"text-gray-600",children:"Medimos conexões, não apenas vendas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(G,{className:"w-8 h-8 text-amber-600"}),e.jsx("h3",{className:"font-semibold text-amber-800",children:"Conexões Criadas"})]}),e.jsx("div",{className:"text-3xl font-bold text-amber-700 mb-2",children:"12"}),e.jsx("p",{className:"text-amber-600 text-sm",children:"Pessoas se conectaram através das suas experiências"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(pe,{className:"w-8 h-8 text-rose-600"}),e.jsx("h3",{className:"font-semibold text-rose-800",children:"Momentos Especiais"})]}),e.jsx("div",{className:"text-3xl font-bold text-rose-700 mb-2",children:"28"}),e.jsx("p",{className:"text-rose-600 text-sm",children:"Histórias compartilhadas pelos visitantes"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(q,{className:"w-8 h-8 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:"Impacto Cultural"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-700 mb-2",children:"4.8"}),e.jsx("p",{className:"text-green-600 text-sm",children:"Avaliação média de impacto cultural"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-amber-50 to-rose-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Últimas Histórias Compartilhadas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-700 italic",children:'"Conheci minha melhor amiga neste café. A energia do lugar nos conectou instantaneamente."'}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"- Ana, há 3 dias"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-700 italic",children:'"Um lugar que respira arte e acolhimento. Cada visita é uma descoberta."'}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"- Carlos, há 1 semana"})]})]})]})]})]})]})}function Tg(){var P;const[s,t]=g.useState(!1),[a,r]=g.useState(null),[n,i]=g.useState("scanner"),[o,l]=g.useState(!1),[c,m]=g.useState(""),[d,u]=g.useState(null),[h,x]=g.useState([]),[b,y]=g.useState(!1),[v,f]=g.useState({email:"",password:""}),w=async C=>{C.preventDefault(),y(!0);try{const{data:k,error:A}=await M.from("merchants").select("*").eq("email",v.email).eq("status","active").single();if(A||!k){alert("Merchant não encontrado ou inativo");return}r(k),t(!0),localStorage.setItem("duopass_merchant",JSON.stringify(k))}catch(k){console.error("Erro no login:",k),alert("Erro ao fazer login")}finally{y(!1)}},p=()=>{t(!1),r(null),localStorage.removeItem("duopass_merchant"),i("scanner"),l(!1),u(null)};g.useEffect(()=>{const C=localStorage.getItem("duopass_merchant");if(C)try{const k=JSON.parse(C);r(k),t(!0)}catch(k){console.error("Erro ao carregar merchant salvo:",k),localStorage.removeItem("duopass_merchant")}},[]);const j=async()=>{if(a)try{const{data:C,error:k}=await M.from("voucher_validations").select(`
          *,
          voucher:vouchers (
            voucher_code,
            user:users (
              full_name
            )
          )
        `).eq("merchant_id",a.id).order("validated_at",{ascending:!1}).limit(20);if(k){console.error("Erro ao carregar histórico:",k);return}x(C||[])}catch(C){console.error("Erro ao carregar histórico:",C)}},N=async C=>{if(a){y(!0);try{const{data:k,error:A}=await M.from("vouchers").select(`
          *,
          user:users (
            full_name,
            email
          )
        `).eq("voucher_code",C).single();if(A||!k){u({success:!1,message:"Voucher não encontrado"});return}if(k.status!=="active"){u({success:!1,message:`Voucher ${k.status==="used"?"já foi usado":"expirado"}`});return}if(new Date(k.expires_at)<new Date){u({success:!1,message:"Voucher expirado"});return}const{error:S}=await M.from("vouchers").update({status:"used",used_at:new Date().toISOString()}).eq("id",k.id);if(S){console.error("Erro ao atualizar voucher:",S),u({success:!1,message:"Erro ao validar voucher"});return}const{error:R}=await M.from("voucher_validations").insert({voucher_id:k.id,merchant_id:a.id,validation_location:a.name,notes:"Validado via scanner QR"});R&&console.error("Erro ao registrar validação:",R),u({success:!0,message:"Voucher validado com sucesso!",voucher:k}),j()}catch(k){console.error("Erro na validação:",k),u({success:!1,message:"Erro interno na validação"})}finally{y(!1)}}},_=()=>{l(!0),u(null)},E=()=>{l(!1)},T=C=>{C.preventDefault(),c.trim()&&(N(c.trim()),m(""))};return g.useEffect(()=>{s&&a&&n==="history"&&j()},[s,a,n]),s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-8 w-8 text-indigo-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a==null?void 0:a.business_type})]})]}),e.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-900",children:[e.jsx(na,{className:"h-4 w-4 mr-2"}),"Sair"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>i("scanner"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="scanner"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Kt,{className:"h-4 w-4 inline mr-2"}),"Scanner QR"]}),e.jsxs("button",{onClick:()=>i("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="history"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ra,{className:"h-4 w-4 inline mr-2"}),"Histórico"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="scanner"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validar Voucher"}),e.jsxs("div",{className:"space-y-4",children:[o?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-8 mb-4",children:[e.jsx(Kt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Scanner QR Ativo"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Aponte a câmera para o QR code do voucher"})]}),e.jsx("button",{onClick:E,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Parar Scanner"})]}):e.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Kt,{className:"h-5 w-5 mr-2"}),"Ativar Scanner QR"]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("form",{onSubmit:T,className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ou digite o código do voucher",value:c,onChange:C=>m(C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("button",{type:"submit",disabled:b||!c.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:b?"Validando...":"Validar"})]})})]})]}),d&&e.jsx("div",{className:`bg-white rounded-lg shadow p-6 border-l-4 ${d.success?"border-green-400":"border-red-400"}`,children:e.jsxs("div",{className:"flex items-center",children:[d.success?e.jsx(H,{className:"h-6 w-6 text-green-400 mr-3"}):e.jsx(Er,{className:"h-6 w-6 text-red-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${d.success?"text-green-800":"text-red-800"}`,children:d.success?"Sucesso!":"Erro na Validação"}),e.jsx("p",{className:`text-sm ${d.success?"text-green-600":"text-red-600"}`,children:d.message}),d.voucher&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Cliente:"})," ",(P=d.voucher.user)==null?void 0:P.full_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Código:"})," ",d.voucher.voucher_code]})]})]})]})})]}),n==="history"&&e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Histórico de Validações"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:h.length===0?e.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma validação encontrada"}):h.map(C=>{var k,A,S;return e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(k=C.voucher)==null?void 0:k.voucher_code}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",(S=(A=C.voucher)==null?void 0:A.user)==null?void 0:S.full_name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-900",children:new Date(C.validated_at).toLocaleDateString("pt-BR")}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(C.validated_at).toLocaleTimeString("pt-BR")})]})]}),C.notes&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:C.notes})]},C.id)})})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Portal do Comerciante"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Faça login para validar vouchers"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email do comerciante",value:v.email,onChange:C=>f({...v,email:C.target.value})})}),e.jsx("div",{children:e.jsx("input",{type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Senha",value:v.password,onChange:C=>f({...v,password:C.target.value})})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:b,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:b?"Entrando...":"Entrar"})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Contas de Teste:"}),e.jsxs("div",{className:"text-xs text-blue-600 space-y-1",children:[e.jsx("div",{children:"• merchant1@duopass.com (Pizzaria Bella Vista)"}),e.jsx("div",{children:"• merchant2@duopass.com (Spa Relaxamento Total)"}),e.jsx("div",{children:"• merchant3@duopass.com (Barbearia Moderna)"}),e.jsx("div",{className:"mt-2 text-blue-500",children:"Senha: qualquer valor (demo)"})]})]})]})]})})}var Cs={},Ag=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Tc={},ge={};let hn;const Dg=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ge.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ge.getSymbolTotalCodewords=function(t){return Dg[t]};ge.getBCHDigit=function(s){let t=0;for(;s!==0;)t++,s>>>=1;return t};ge.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');hn=t};ge.isKanjiModeEnabled=function(){return typeof hn<"u"};ge.toSJIS=function(t){return hn(t)};var ha={};(function(s){s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function t(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+a)}}s.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},s.from=function(r,n){if(s.isValid(r))return r;try{return t(r)}catch{return n}}})(ha);function Ac(){this.buffer=[],this.length=0}Ac.prototype={get:function(s){const t=Math.floor(s/8);return(this.buffer[t]>>>7-s%8&1)===1},put:function(s,t){for(let a=0;a<t;a++)this.putBit((s>>>t-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),s&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Mg=Ac;function Ss(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}Ss.prototype.set=function(s,t,a,r){const n=s*this.size+t;this.data[n]=a,r&&(this.reservedBit[n]=!0)};Ss.prototype.get=function(s,t){return this.data[s*this.size+t]};Ss.prototype.xor=function(s,t,a){this.data[s*this.size+t]^=a};Ss.prototype.isReserved=function(s,t){return this.reservedBit[s*this.size+t]};var Fg=Ss,Dc={};(function(s){const t=ge.getSymbolSize;s.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*n-2))*2,l=[i-7];for(let c=1;c<n-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},s.getPositions=function(r){const n=[],i=s.getRowColCoords(r),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||n.push([i[l],i[c]]);return n}})(Dc);var Mc={};const Og=ge.getSymbolSize,so=7;Mc.getPositions=function(t){const a=Og(t);return[[0,0],[a-so,0],[0,a-so]]};var Fc={};(function(s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};s.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},s.from=function(n){return s.isValid(n)?parseInt(n,10):void 0},s.getPenaltyN1=function(n){const i=n.size;let o=0,l=0,c=0,m=null,d=null;for(let u=0;u<i;u++){l=c=0,m=d=null;for(let h=0;h<i;h++){let x=n.get(u,h);x===m?l++:(l>=5&&(o+=t.N1+(l-5)),m=x,l=1),x=n.get(h,u),x===d?c++:(c>=5&&(o+=t.N1+(c-5)),d=x,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},s.getPenaltyN2=function(n){const i=n.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const m=n.get(l,c)+n.get(l,c+1)+n.get(l+1,c)+n.get(l+1,c+1);(m===4||m===0)&&o++}return o*t.N2},s.getPenaltyN3=function(n){const i=n.size;let o=0,l=0,c=0;for(let m=0;m<i;m++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|n.get(m,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|n.get(d,m),d>=10&&(c===1488||c===93)&&o++}return o*t.N3},s.getPenaltyN4=function(n){let i=0;const o=n.data.length;for(let c=0;c<o;c++)i+=n.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function a(r,n,i){switch(r){case s.Patterns.PATTERN000:return(n+i)%2===0;case s.Patterns.PATTERN001:return n%2===0;case s.Patterns.PATTERN010:return i%3===0;case s.Patterns.PATTERN011:return(n+i)%3===0;case s.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2===0;case s.Patterns.PATTERN101:return n*i%2+n*i%3===0;case s.Patterns.PATTERN110:return(n*i%2+n*i%3)%2===0;case s.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}s.applyMask=function(n,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,a(n,c,l))},s.getBestMask=function(n,i){const o=Object.keys(s.Patterns).length;let l=0,c=1/0;for(let m=0;m<o;m++){i(m),s.applyMask(m,n);const d=s.getPenaltyN1(n)+s.getPenaltyN2(n)+s.getPenaltyN3(n)+s.getPenaltyN4(n);s.applyMask(m,n),d<c&&(c=d,l=m)}return l}})(Fc);var xa={};const Ye=ha,Os=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Is=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];xa.getBlocksCount=function(t,a){switch(a){case Ye.L:return Os[(t-1)*4+0];case Ye.M:return Os[(t-1)*4+1];case Ye.Q:return Os[(t-1)*4+2];case Ye.H:return Os[(t-1)*4+3];default:return}};xa.getTotalCodewordsCount=function(t,a){switch(a){case Ye.L:return Is[(t-1)*4+0];case Ye.M:return Is[(t-1)*4+1];case Ye.Q:return Is[(t-1)*4+2];case Ye.H:return Is[(t-1)*4+3];default:return}};var Oc={},pa={};const ss=new Uint8Array(512),Js=new Uint8Array(256);(function(){let t=1;for(let a=0;a<255;a++)ss[a]=t,Js[t]=a,t<<=1,t&256&&(t^=285);for(let a=255;a<512;a++)ss[a]=ss[a-255]})();pa.log=function(t){if(t<1)throw new Error("log("+t+")");return Js[t]};pa.exp=function(t){return ss[t]};pa.mul=function(t,a){return t===0||a===0?0:ss[Js[t]+Js[a]]};(function(s){const t=pa;s.mul=function(r,n){const i=new Uint8Array(r.length+n.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<n.length;l++)i[o+l]^=t.mul(r[o],n[l]);return i},s.mod=function(r,n){let i=new Uint8Array(r);for(;i.length-n.length>=0;){const o=i[0];for(let c=0;c<n.length;c++)i[c]^=t.mul(n[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},s.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=s.mul(n,new Uint8Array([1,t.exp(i)]));return n}})(Oc);const Ic=Oc;function xn(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}xn.prototype.initialize=function(t){this.degree=t,this.genPoly=Ic.generateECPolynomial(this.degree)};xn.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(t.length+this.degree);a.set(t);const r=Ic.mod(a,this.genPoly),n=this.degree-r.length;if(n>0){const i=new Uint8Array(this.degree);return i.set(r,n),i}return r};var Ig=xn,Vc={},et={},pn={};pn.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Fe={};const Rc="[0-9]+",Vg="[A-Z $%*+\\-./:]+";let fs="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";fs=fs.replace(/u/g,"\\u");const Rg="(?:(?![A-Z0-9 $%*+\\-./:]|"+fs+`)(?:.|[\r
]))+`;Fe.KANJI=new RegExp(fs,"g");Fe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Fe.BYTE=new RegExp(Rg,"g");Fe.NUMERIC=new RegExp(Rc,"g");Fe.ALPHANUMERIC=new RegExp(Vg,"g");const Lg=new RegExp("^"+fs+"$"),qg=new RegExp("^"+Rc+"$"),Bg=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Fe.testKanji=function(t){return Lg.test(t)};Fe.testNumeric=function(t){return qg.test(t)};Fe.testAlphanumeric=function(t){return Bg.test(t)};(function(s){const t=pn,a=Fe;s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},s.getBestModeForData=function(i){return a.testNumeric(i)?s.NUMERIC:a.testAlphanumeric(i)?s.ALPHANUMERIC:a.testKanji(i)?s.KANJI:s.BYTE},s.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},s.isValid=function(i){return i&&i.bit&&i.ccBits};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+n)}}s.from=function(i,o){if(s.isValid(i))return i;try{return r(i)}catch{return o}}})(et);(function(s){const t=ge,a=xa,r=ha,n=et,i=pn,o=7973,l=t.getBCHDigit(o);function c(h,x,b){for(let y=1;y<=40;y++)if(x<=s.getCapacity(y,b,h))return y}function m(h,x){return n.getCharCountIndicator(h,x)+4}function d(h,x){let b=0;return h.forEach(function(y){const v=m(y.mode,x);b+=v+y.getBitsLength()}),b}function u(h,x){for(let b=1;b<=40;b++)if(d(h,b)<=s.getCapacity(b,x,n.MIXED))return b}s.from=function(x,b){return i.isValid(x)?parseInt(x,10):b},s.getCapacity=function(x,b,y){if(!i.isValid(x))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=n.BYTE);const v=t.getSymbolTotalCodewords(x),f=a.getTotalCodewordsCount(x,b),w=(v-f)*8;if(y===n.MIXED)return w;const p=w-m(y,x);switch(y){case n.NUMERIC:return Math.floor(p/10*3);case n.ALPHANUMERIC:return Math.floor(p/11*2);case n.KANJI:return Math.floor(p/13);case n.BYTE:default:return Math.floor(p/8)}},s.getBestVersionForData=function(x,b){let y;const v=r.from(b,r.M);if(Array.isArray(x)){if(x.length>1)return u(x,v);if(x.length===0)return 1;y=x[0]}else y=x;return c(y.mode,y.getLength(),v)},s.getEncodedBits=function(x){if(!i.isValid(x)||x<7)throw new Error("Invalid QR Code version");let b=x<<12;for(;t.getBCHDigit(b)-l>=0;)b^=o<<t.getBCHDigit(b)-l;return x<<12|b}})(Vc);var Lc={};const yr=ge,qc=1335,Ug=21522,ao=yr.getBCHDigit(qc);Lc.getEncodedBits=function(t,a){const r=t.bit<<3|a;let n=r<<10;for(;yr.getBCHDigit(n)-ao>=0;)n^=qc<<yr.getBCHDigit(n)-ao;return(r<<10|n)^Ug};var Bc={};const zg=et;function kt(s){this.mode=zg.NUMERIC,this.data=s.toString()}kt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};kt.prototype.getLength=function(){return this.data.length};kt.prototype.getBitsLength=function(){return kt.getBitsLength(this.data.length)};kt.prototype.write=function(t){let a,r,n;for(a=0;a+3<=this.data.length;a+=3)r=this.data.substr(a,3),n=parseInt(r,10),t.put(n,10);const i=this.data.length-a;i>0&&(r=this.data.substr(a),n=parseInt(r,10),t.put(n,i*3+1))};var $g=kt;const Hg=et,Va=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Et(s){this.mode=Hg.ALPHANUMERIC,this.data=s}Et.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Et.prototype.getLength=function(){return this.data.length};Et.prototype.getBitsLength=function(){return Et.getBitsLength(this.data.length)};Et.prototype.write=function(t){let a;for(a=0;a+2<=this.data.length;a+=2){let r=Va.indexOf(this.data[a])*45;r+=Va.indexOf(this.data[a+1]),t.put(r,11)}this.data.length%2&&t.put(Va.indexOf(this.data[a]),6)};var Gg=Et;const Wg=et;function Pt(s){this.mode=Wg.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}Pt.getBitsLength=function(t){return t*8};Pt.prototype.getLength=function(){return this.data.length};Pt.prototype.getBitsLength=function(){return Pt.getBitsLength(this.data.length)};Pt.prototype.write=function(s){for(let t=0,a=this.data.length;t<a;t++)s.put(this.data[t],8)};var Yg=Pt;const Kg=et,Qg=ge;function Tt(s){this.mode=Kg.KANJI,this.data=s}Tt.getBitsLength=function(t){return t*13};Tt.prototype.getLength=function(){return this.data.length};Tt.prototype.getBitsLength=function(){return Tt.getBitsLength(this.data.length)};Tt.prototype.write=function(s){let t;for(t=0;t<this.data.length;t++){let a=Qg.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),s.put(a,13)}};var Jg=Tt,Uc={exports:{}};(function(s){var t={single_source_shortest_paths:function(a,r,n){var i={},o={};o[r]=0;var l=t.PriorityQueue.make();l.push(r,0);for(var c,m,d,u,h,x,b,y,v;!l.empty();){c=l.pop(),m=c.value,u=c.cost,h=a[m]||{};for(d in h)h.hasOwnProperty(d)&&(x=h[d],b=u+x,y=o[d],v=typeof o[d]>"u",(v||y>b)&&(o[d]=b,l.push(d,b),i[d]=m))}if(typeof n<"u"&&typeof o[n]>"u"){var f=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(f)}return i},extract_shortest_path_from_predecessor_list:function(a,r){for(var n=[],i=r;i;)n.push(i),a[i],i=a[i];return n.reverse(),n},find_path:function(a,r,n){var i=t.single_source_shortest_paths(a,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(a){var r=t.PriorityQueue,n={},i;a=a||{};for(i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n.queue=[],n.sorter=a.sorter||r.default_sorter,n},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var n={value:a,cost:r};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};s.exports=t})(Uc);var Xg=Uc.exports;(function(s){const t=et,a=$g,r=Gg,n=Yg,i=Jg,o=Fe,l=ge,c=Xg;function m(f){return unescape(encodeURIComponent(f)).length}function d(f,w,p){const j=[];let N;for(;(N=f.exec(p))!==null;)j.push({data:N[0],index:N.index,mode:w,length:N[0].length});return j}function u(f){const w=d(o.NUMERIC,t.NUMERIC,f),p=d(o.ALPHANUMERIC,t.ALPHANUMERIC,f);let j,N;return l.isKanjiModeEnabled()?(j=d(o.BYTE,t.BYTE,f),N=d(o.KANJI,t.KANJI,f)):(j=d(o.BYTE_KANJI,t.BYTE,f),N=[]),w.concat(p,j,N).sort(function(E,T){return E.index-T.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function h(f,w){switch(w){case t.NUMERIC:return a.getBitsLength(f);case t.ALPHANUMERIC:return r.getBitsLength(f);case t.KANJI:return i.getBitsLength(f);case t.BYTE:return n.getBitsLength(f)}}function x(f){return f.reduce(function(w,p){const j=w.length-1>=0?w[w.length-1]:null;return j&&j.mode===p.mode?(w[w.length-1].data+=p.data,w):(w.push(p),w)},[])}function b(f){const w=[];for(let p=0;p<f.length;p++){const j=f[p];switch(j.mode){case t.NUMERIC:w.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:w.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:w.push([j,{data:j.data,mode:t.BYTE,length:m(j.data)}]);break;case t.BYTE:w.push([{data:j.data,mode:t.BYTE,length:m(j.data)}])}}return w}function y(f,w){const p={},j={start:{}};let N=["start"];for(let _=0;_<f.length;_++){const E=f[_],T=[];for(let P=0;P<E.length;P++){const C=E[P],k=""+_+P;T.push(k),p[k]={node:C,lastCount:0},j[k]={};for(let A=0;A<N.length;A++){const S=N[A];p[S]&&p[S].node.mode===C.mode?(j[S][k]=h(p[S].lastCount+C.length,C.mode)-h(p[S].lastCount,C.mode),p[S].lastCount+=C.length):(p[S]&&(p[S].lastCount=C.length),j[S][k]=h(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,w))}}N=T}for(let _=0;_<N.length;_++)j[N[_]].end=0;return{map:j,table:p}}function v(f,w){let p;const j=t.getBestModeForData(f);if(p=t.from(w,j),p!==t.BYTE&&p.bit<j.bit)throw new Error('"'+f+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(j));switch(p===t.KANJI&&!l.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new a(f);case t.ALPHANUMERIC:return new r(f);case t.KANJI:return new i(f);case t.BYTE:return new n(f)}}s.fromArray=function(w){return w.reduce(function(p,j){return typeof j=="string"?p.push(v(j,null)):j.data&&p.push(v(j.data,j.mode)),p},[])},s.fromString=function(w,p){const j=u(w,l.isKanjiModeEnabled()),N=b(j),_=y(N,p),E=c.find_path(_.map,"start","end"),T=[];for(let P=1;P<E.length-1;P++)T.push(_.table[E[P]].node);return s.fromArray(x(T))},s.rawSplit=function(w){return s.fromArray(u(w,l.isKanjiModeEnabled()))}})(Bc);const fa=ge,Ra=ha,Zg=Mg,e0=Fg,t0=Dc,s0=Mc,vr=Fc,jr=xa,a0=Ig,Xs=Vc,r0=Lc,n0=et,La=Bc;function i0(s,t){const a=s.size,r=s0.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],o=r[n][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||a<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||a<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?s.set(i+l,o+c,!0,!0):s.set(i+l,o+c,!1,!0))}}function o0(s){const t=s.size;for(let a=8;a<t-8;a++){const r=a%2===0;s.set(a,6,r,!0),s.set(6,a,r,!0)}}function l0(s,t){const a=t0.getPositions(t);for(let r=0;r<a.length;r++){const n=a[r][0],i=a[r][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?s.set(n+o,i+l,!0,!0):s.set(n+o,i+l,!1,!0)}}function c0(s,t){const a=s.size,r=Xs.getEncodedBits(t);let n,i,o;for(let l=0;l<18;l++)n=Math.floor(l/3),i=l%3+a-8-3,o=(r>>l&1)===1,s.set(n,i,o,!0),s.set(i,n,o,!0)}function qa(s,t,a){const r=s.size,n=r0.getEncodedBits(t,a);let i,o;for(i=0;i<15;i++)o=(n>>i&1)===1,i<6?s.set(i,8,o,!0):i<8?s.set(i+1,8,o,!0):s.set(r-15+i,8,o,!0),i<8?s.set(8,r-i-1,o,!0):i<9?s.set(8,15-i-1+1,o,!0):s.set(8,15-i-1,o,!0);s.set(r-8,8,1,!0)}function d0(s,t){const a=s.size;let r=-1,n=a-1,i=7,o=0;for(let l=a-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!s.isReserved(n,l-c)){let m=!1;o<t.length&&(m=(t[o]>>>i&1)===1),s.set(n,l-c,m),i--,i===-1&&(o++,i=7)}if(n+=r,n<0||a<=n){n-=r,r=-r;break}}}function m0(s,t,a){const r=new Zg;a.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),n0.getCharCountIndicator(c.mode,s)),c.write(r)});const n=fa.getSymbolTotalCodewords(s),i=jr.getTotalCodewordsCount(s,t),o=(n-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(o-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return u0(r,s,t)}function u0(s,t,a){const r=fa.getSymbolTotalCodewords(t),n=jr.getTotalCodewordsCount(t,a),i=r-n,o=jr.getBlocksCount(t,a),l=r%o,c=o-l,m=Math.floor(r/o),d=Math.floor(i/o),u=d+1,h=m-d,x=new a0(h);let b=0;const y=new Array(o),v=new Array(o);let f=0;const w=new Uint8Array(s.buffer);for(let E=0;E<o;E++){const T=E<c?d:u;y[E]=w.slice(b,b+T),v[E]=x.encode(y[E]),b+=T,f=Math.max(f,T)}const p=new Uint8Array(r);let j=0,N,_;for(N=0;N<f;N++)for(_=0;_<o;_++)N<y[_].length&&(p[j++]=y[_][N]);for(N=0;N<h;N++)for(_=0;_<o;_++)p[j++]=v[_][N];return p}function h0(s,t,a,r){let n;if(Array.isArray(s))n=La.fromArray(s);else if(typeof s=="string"){let m=t;if(!m){const d=La.rawSplit(s);m=Xs.getBestVersionForData(d,a)}n=La.fromString(s,m||40)}else throw new Error("Invalid data");const i=Xs.getBestVersionForData(n,a);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=m0(t,a,n),l=fa.getSymbolSize(t),c=new e0(l);return i0(c,t),o0(c),l0(c,t),qa(c,a,0),t>=7&&c0(c,t),d0(c,o),isNaN(r)&&(r=vr.getBestMask(c,qa.bind(null,c,a))),vr.applyMask(r,c),qa(c,a,r),{modules:c,version:t,errorCorrectionLevel:a,maskPattern:r,segments:n}}Tc.create=function(t,a){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Ra.M,n,i;return typeof a<"u"&&(r=Ra.from(a.errorCorrectionLevel,Ra.M),n=Xs.from(a.version),i=vr.from(a.maskPattern),a.toSJISFunc&&fa.setToSJISFunction(a.toSJISFunc)),h0(t,n,r,i)};var zc={},fn={};(function(s){function t(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const n=parseInt(r.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+r.slice(0,6).join("")}}s.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:n,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},s.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},s.getImageWidth=function(r,n){const i=s.getScale(r,n);return Math.floor((r+n.margin*2)*i)},s.qrToImageData=function(r,n,i){const o=n.modules.size,l=n.modules.data,c=s.getScale(o,i),m=Math.floor((o+i.margin*2)*c),d=i.margin*c,u=[i.color.light,i.color.dark];for(let h=0;h<m;h++)for(let x=0;x<m;x++){let b=(h*m+x)*4,y=i.color.light;if(h>=d&&x>=d&&h<m-d&&x<m-d){const v=Math.floor((h-d)/c),f=Math.floor((x-d)/c);y=u[l[v*o+f]?1:0]}r[b++]=y.r,r[b++]=y.g,r[b++]=y.b,r[b]=y.a}}})(fn);(function(s){const t=fn;function a(n,i,o){n.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}s.render=function(i,o,l){let c=l,m=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(m=r()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),u=m.getContext("2d"),h=u.createImageData(d,d);return t.qrToImageData(h.data,i,c),a(u,m,d),u.putImageData(h,0,0),m},s.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const m=s.render(i,o,c),d=c.type||"image/png",u=c.rendererOpts||{};return m.toDataURL(d,u.quality)}})(zc);var $c={};const x0=fn;function ro(s,t){const a=s.a/255,r=t+'="'+s.hex+'"';return a<1?r+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':r}function Ba(s,t,a){let r=s+t;return typeof a<"u"&&(r+=" "+a),r}function p0(s,t,a){let r="",n=0,i=!1,o=0;for(let l=0;l<s.length;l++){const c=Math.floor(l%t),m=Math.floor(l/t);!c&&!i&&(i=!0),s[l]?(o++,l>0&&c>0&&s[l-1]||(r+=i?Ba("M",c+a,.5+m+a):Ba("m",n,0),n=0,i=!1),c+1<t&&s[l+1]||(r+=Ba("h",o),o=0)):n++}return r}$c.render=function(t,a,r){const n=x0.getOptions(a),i=t.modules.size,o=t.modules.data,l=i+n.margin*2,c=n.color.light.a?"<path "+ro(n.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",m="<path "+ro(n.color.dark,"stroke")+' d="'+p0(o,i,n.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+m+`</svg>
`;return typeof r=="function"&&r(null,h),h};const f0=Ag,wr=Tc,Hc=zc,g0=$c;function gn(s,t,a,r,n){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!f0())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(n=a,a=t,t=r=void 0):o===3&&(t.getContext&&typeof n>"u"?(n=r,r=void 0):(n=r,r=a,a=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(a=t,t=r=void 0):o===2&&!t.getContext&&(r=a,a=t,t=void 0),new Promise(function(c,m){try{const d=wr.create(a,r);c(s(d,t,r))}catch(d){m(d)}})}try{const c=wr.create(a,r);n(null,s(c,t,r))}catch(c){n(c)}}Cs.create=wr.create;Cs.toCanvas=gn.bind(null,Hc.render);Cs.toDataURL=gn.bind(null,Hc.renderToDataURL);Cs.toString=gn.bind(null,function(s,t,a){return g0.render(s,a)});const Gc=6048e5,b0=864e5,no=Symbol.for("constructDateFrom");function Xe(s,t){return typeof s=="function"?s(t):s&&typeof s=="object"&&no in s?s[no](t):s instanceof Date?new s.constructor(t):new Date(t)}function xe(s,t){return Xe(t||s,s)}let y0={};function _s(){return y0}function At(s,t){var l,c,m,d;const a=_s(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((d=(m=a.locale)==null?void 0:m.options)==null?void 0:d.weekStartsOn)??0,n=xe(s,t==null?void 0:t.in),i=n.getDay(),o=(i<r?7:0)+i-r;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function Zs(s,t){return At(s,{...t,weekStartsOn:1})}function Wc(s,t){const a=xe(s,t==null?void 0:t.in),r=a.getFullYear(),n=Xe(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Zs(n),o=Xe(a,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Zs(o);return a.getTime()>=i.getTime()?r+1:a.getTime()>=l.getTime()?r:r-1}function io(s){const t=xe(s),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+s-+a}function v0(s,...t){const a=Xe.bind(null,t.find(r=>typeof r=="object"));return t.map(a)}function oo(s,t){const a=xe(s,t==null?void 0:t.in);return a.setHours(0,0,0,0),a}function j0(s,t,a){const[r,n]=v0(a==null?void 0:a.in,s,t),i=oo(r),o=oo(n),l=+i-io(i),c=+o-io(o);return Math.round((l-c)/b0)}function w0(s,t){const a=Wc(s,t),r=Xe(s,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Zs(r)}function N0(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function C0(s){return!(!N0(s)&&typeof s!="number"||isNaN(+xe(s)))}function S0(s,t){const a=xe(s,t==null?void 0:t.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function _0(s,t){const a=xe(s,t==null?void 0:t.in);return a.setDate(1),a.setHours(0,0,0,0),a}function k0(s,t){const a=xe(s,t==null?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function E0(s,t){var l,c;const a=_s(),r=a.weekStartsOn??((c=(l=a.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,n=xe(s,t==null?void 0:t.in),i=n.getDay(),o=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}const P0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T0=(s,t,a)=>{let r;const n=P0[s];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Ua(s){return(t={})=>{const a=t.width?String(t.width):s.defaultWidth;return s.formats[a]||s.formats[s.defaultWidth]}}const A0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F0={date:Ua({formats:A0,defaultWidth:"full"}),time:Ua({formats:D0,defaultWidth:"full"}),dateTime:Ua({formats:M0,defaultWidth:"full"})},O0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I0=(s,t,a,r)=>O0[s];function $t(s){return(t,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let n;if(r==="formatting"&&s.formattingValues){const o=s.defaultFormattingWidth||s.defaultWidth,l=a!=null&&a.width?String(a.width):o;n=s.formattingValues[l]||s.formattingValues[o]}else{const o=s.defaultWidth,l=a!=null&&a.width?String(a.width):s.defaultWidth;n=s.values[l]||s.values[o]}const i=s.argumentCallback?s.argumentCallback(t):t;return n[i]}}const V0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z0=(s,t)=>{const a=Number(s),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},$0={ordinalNumber:z0,era:$t({values:V0,defaultWidth:"wide"}),quarter:$t({values:R0,defaultWidth:"wide",argumentCallback:s=>s-1}),month:$t({values:L0,defaultWidth:"wide"}),day:$t({values:q0,defaultWidth:"wide"}),dayPeriod:$t({values:B0,defaultWidth:"wide",formattingValues:U0,defaultFormattingWidth:"wide"})};function Ht(s){return(t,a={})=>{const r=a.width,n=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],c=Array.isArray(l)?G0(l,u=>u.test(o)):H0(l,u=>u.test(o));let m;m=s.valueCallback?s.valueCallback(c):c,m=a.valueCallback?a.valueCallback(m):m;const d=t.slice(o.length);return{value:m,rest:d}}}function H0(s,t){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&t(s[a]))return a}function G0(s,t){for(let a=0;a<s.length;a++)if(t(s[a]))return a}function W0(s){return(t,a={})=>{const r=t.match(s.matchPattern);if(!r)return null;const n=r[0],i=t.match(s.parsePattern);if(!i)return null;let o=s.valueCallback?s.valueCallback(i[0]):i[0];o=a.valueCallback?a.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const Y0=/^(\d+)(th|st|nd|rd)?/i,K0=/\d+/i,Q0={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J0={any:[/^b/i,/^(a|c)/i]},X0={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z0={any:[/1/i,/2/i,/3/i,/4/i]},eb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ab={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ib={ordinalNumber:W0({matchPattern:Y0,parsePattern:K0,valueCallback:s=>parseInt(s,10)}),era:Ht({matchPatterns:Q0,defaultMatchWidth:"wide",parsePatterns:J0,defaultParseWidth:"any"}),quarter:Ht({matchPatterns:X0,defaultMatchWidth:"wide",parsePatterns:Z0,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ht({matchPatterns:eb,defaultMatchWidth:"wide",parsePatterns:tb,defaultParseWidth:"any"}),day:Ht({matchPatterns:sb,defaultMatchWidth:"wide",parsePatterns:ab,defaultParseWidth:"any"}),dayPeriod:Ht({matchPatterns:rb,defaultMatchWidth:"any",parsePatterns:nb,defaultParseWidth:"any"})},ob={code:"en-US",formatDistance:T0,formatLong:F0,formatRelative:I0,localize:$0,match:ib,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lb(s,t){const a=xe(s,t==null?void 0:t.in);return j0(a,k0(a))+1}function cb(s,t){const a=xe(s,t==null?void 0:t.in),r=+Zs(a)-+w0(a);return Math.round(r/Gc)+1}function Yc(s,t){var d,u,h,x;const a=xe(s,t==null?void 0:t.in),r=a.getFullYear(),n=_s(),i=(t==null?void 0:t.firstWeekContainsDate)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(h=n.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,o=Xe((t==null?void 0:t.in)||s,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=At(o,t),c=Xe((t==null?void 0:t.in)||s,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const m=At(c,t);return+a>=+l?r+1:+a>=+m?r:r-1}function db(s,t){var l,c,m,d;const a=_s(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(m=a.locale)==null?void 0:m.options)==null?void 0:d.firstWeekContainsDate)??1,n=Yc(s,t),i=Xe((t==null?void 0:t.in)||s,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),At(i,t)}function mb(s,t){const a=xe(s,t==null?void 0:t.in),r=+At(a,t)-+db(a,t);return Math.round(r/Gc)+1}function $(s,t){const a=s<0?"-":"",r=Math.abs(s).toString().padStart(t,"0");return a+r}const Ge={y(s,t){const a=s.getFullYear(),r=a>0?a:1-a;return $(t==="yy"?r%100:r,t.length)},M(s,t){const a=s.getMonth();return t==="M"?String(a+1):$(a+1,2)},d(s,t){return $(s.getDate(),t.length)},a(s,t){const a=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(s,t){return $(s.getHours()%12||12,t.length)},H(s,t){return $(s.getHours(),t.length)},m(s,t){return $(s.getMinutes(),t.length)},s(s,t){return $(s.getSeconds(),t.length)},S(s,t){const a=t.length,r=s.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return $(n,t.length)}},ht={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lo={G:function(s,t,a){const r=s.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(s,t,a){if(t==="yo"){const r=s.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return Ge.y(s,t)},Y:function(s,t,a,r){const n=Yc(s,r),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return $(o,2)}return t==="Yo"?a.ordinalNumber(i,{unit:"year"}):$(i,t.length)},R:function(s,t){const a=Wc(s);return $(a,t.length)},u:function(s,t){const a=s.getFullYear();return $(a,t.length)},Q:function(s,t,a){const r=Math.ceil((s.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,t,a){const r=Math.ceil((s.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,t,a){const r=s.getMonth();switch(t){case"M":case"MM":return Ge.M(s,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(s,t,a){const r=s.getMonth();switch(t){case"L":return String(r+1);case"LL":return $(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(s,t,a,r){const n=mb(s,r);return t==="wo"?a.ordinalNumber(n,{unit:"week"}):$(n,t.length)},I:function(s,t,a){const r=cb(s);return t==="Io"?a.ordinalNumber(r,{unit:"week"}):$(r,t.length)},d:function(s,t,a){return t==="do"?a.ordinalNumber(s.getDate(),{unit:"date"}):Ge.d(s,t)},D:function(s,t,a){const r=lb(s);return t==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):$(r,t.length)},E:function(s,t,a){const r=s.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(s,t,a,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(s,t,a,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $(i,t.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(s,t,a){const r=s.getDay(),n=r===0?7:r;switch(t){case"i":return String(n);case"ii":return $(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(s,t,a){const n=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(s,t,a){const r=s.getHours();let n;switch(r===12?n=ht.noon:r===0?n=ht.midnight:n=r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(s,t,a){const r=s.getHours();let n;switch(r>=17?n=ht.evening:r>=12?n=ht.afternoon:r>=4?n=ht.morning:n=ht.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(s,t,a){if(t==="ho"){let r=s.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Ge.h(s,t)},H:function(s,t,a){return t==="Ho"?a.ordinalNumber(s.getHours(),{unit:"hour"}):Ge.H(s,t)},K:function(s,t,a){const r=s.getHours()%12;return t==="Ko"?a.ordinalNumber(r,{unit:"hour"}):$(r,t.length)},k:function(s,t,a){let r=s.getHours();return r===0&&(r=24),t==="ko"?a.ordinalNumber(r,{unit:"hour"}):$(r,t.length)},m:function(s,t,a){return t==="mo"?a.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ge.m(s,t)},s:function(s,t,a){return t==="so"?a.ordinalNumber(s.getSeconds(),{unit:"second"}):Ge.s(s,t)},S:function(s,t){return Ge.S(s,t)},X:function(s,t,a){const r=s.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return mo(r);case"XXXX":case"XX":return at(r);case"XXXXX":case"XXX":default:return at(r,":")}},x:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"x":return mo(r);case"xxxx":case"xx":return at(r);case"xxxxx":case"xxx":default:return at(r,":")}},O:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+co(r,":");case"OOOO":default:return"GMT"+at(r,":")}},z:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+co(r,":");case"zzzz":default:return"GMT"+at(r,":")}},t:function(s,t,a){const r=Math.trunc(+s/1e3);return $(r,t.length)},T:function(s,t,a){return $(+s,t.length)}};function co(s,t=""){const a=s>0?"-":"+",r=Math.abs(s),n=Math.trunc(r/60),i=r%60;return i===0?a+String(n):a+String(n)+t+$(i,2)}function mo(s,t){return s%60===0?(s>0?"-":"+")+$(Math.abs(s)/60,2):at(s,t)}function at(s,t=""){const a=s>0?"-":"+",r=Math.abs(s),n=$(Math.trunc(r/60),2),i=$(r%60,2);return a+n+t+i}const uo=(s,t)=>{switch(s){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Kc=(s,t)=>{switch(s){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ub=(s,t)=>{const a=s.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return uo(s,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",uo(r,t)).replace("{{time}}",Kc(n,t))},hb={p:Kc,P:ub},xb=/^D+$/,pb=/^Y+$/,fb=["D","DD","YY","YYYY"];function gb(s){return xb.test(s)}function bb(s){return pb.test(s)}function yb(s,t,a){const r=vb(s,t,a);if(console.warn(r),fb.includes(s))throw new RangeError(r)}function vb(s,t,a){const r=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nb=/^'([^]*?)'?$/,Cb=/''/g,Sb=/[a-zA-Z]/;function ho(s,t,a){var d,u,h,x;const r=_s(),n=r.locale??ob,i=r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,o=r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,l=xe(s,a==null?void 0:a.in);if(!C0(l))throw new RangeError("Invalid time value");let c=t.match(wb).map(b=>{const y=b[0];if(y==="p"||y==="P"){const v=hb[y];return v(b,n.formatLong)}return b}).join("").match(jb).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:_b(b)};if(lo[y])return{isToken:!0,value:b};if(y.match(Sb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const m={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(bb(y)||gb(y))&&yb(y,t,String(s));const v=lo[y[0]];return v(l,y,n.localize,m)}).join("")}function _b(s){const t=s.match(Nb);return t?t[1].replace(Cb,"'"):s}class ea{static async generateVoucher(t,a){try{if(console.log("🎫 Mock: Gerando voucher...",{userId:t,partnerId:a}),localStorage.getItem(`voucher_${t}_${a}`))throw console.log("⚠️ Mock: Usuário já possui voucher ativo para este parceiro"),new Error("Usuário já possui voucher ativo para este parceiro");const n=`voucher_${Date.now()}`,i=`DUO${Math.random().toString(36).substr(2,8).toUpperCase()}`,o=JSON.stringify({voucherId:n,userId:t,partnerId:a,code:i,timestamp:new Date().toISOString()}),l=await Cs.toDataURL(o,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),c={id:n,voucher_code:i,user_id:t,partner_id:a,merchant_id:a,status:"active",created_at:new Date().toISOString(),expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),qr_code_data:l,cultural_experience:{experience_name:"Experiência DuoPass",duo_price:60},cultural_partners:{id:a,business_name:"Parceiro Cultural",contact_name:"Contato do Parceiro",email:"contato@parceiro.com",address:{street:"Rua Cultural, 123",city:"Genebra",state:"Genebra",zipcode:"1200"}}};return localStorage.setItem(`voucher_${t}_${a}`,JSON.stringify(c)),localStorage.setItem(`active_voucher_${n}`,JSON.stringify(c)),console.log("✅ Mock: Voucher gerado com sucesso!",c),c}catch(r){throw console.error("❌ Erro ao gerar voucher mock:",r),r}}static async canGenerateVoucher(t,a){try{console.log("🔍 Mock: Verificando se pode gerar voucher...",{userId:t,partnerId:a});const n=!localStorage.getItem(`voucher_${t}_${a}`);return console.log("🔍 Mock: Pode gerar voucher?",n),n}catch(r){return console.error("Erro ao verificar voucher:",r),!0}}static async getActiveVoucher(t){try{const a=localStorage.getItem(`active_voucher_${t}`);return a?JSON.parse(a):null}catch(a){return console.error("Erro ao buscar voucher ativo:",a),null}}static async getUserVouchers(t){try{const a=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n!=null&&n.startsWith(`voucher_${t}_`)){const i=localStorage.getItem(n);i&&a.push(JSON.parse(i))}}return a}catch(a){return console.error("Erro ao buscar vouchers do usuário:",a),[]}}static async validateVoucher(t,a,r){try{const n=JSON.parse(t);if(!n.voucherId||!n.userId||!n.partnerId||!n.code)return{success:!1,message:"QR Code inválido"};if(n.partnerId!==a)return{success:!1,message:"Voucher não é válido para este estabelecimento"};const i=localStorage.getItem(`active_voucher_${n.voucherId}`);if(!i)return{success:!1,message:"Voucher não encontrado"};const o=JSON.parse(i);return o.status==="used"?{success:!1,message:"Voucher já foi utilizado"}:o.status==="expired"||new Date(o.expires_at)<new Date?{success:!1,message:"Voucher expirado"}:(o.status="used",o.used_at=new Date().toISOString(),o.used_location=r,localStorage.setItem(`active_voucher_${n.voucherId}`,JSON.stringify(o)),{success:!0,message:"Voucher validado com sucesso!",voucher:o})}catch(n){return console.error("Erro ao validar voucher:",n),{success:!1,message:"Erro interno do sistema"}}}static async generateUsageReport(t,a=new Date){try{let r,n;return t==="weekly"?(r=At(a),n=E0(a)):(r=_0(a),n=S0(a)),{period:t,start_date:ho(r,"yyyy-MM-dd"),end_date:ho(n,"yyyy-MM-dd"),total_vouchers_used:5,unique_customers:3,merchant_stats:[{merchant_id:"mock-merchant-1",business_name:"Café das Letras",total_uses:3,unique_customers:2}],top_customers:[{user_id:"mock-user-1",full_name:"João Silva",total_uses:2}]}}catch(r){return console.error("Erro ao gerar relatório:",r),null}}static generateVoucherCode(t){const a="DUO",r=t.substring(0,3).toUpperCase(),n=Math.floor(Math.random()*1e6).toString().padStart(6,"0");return`${a}-${r}-${n}`}}const Ce=[{id:"bronze",name:"Bronze",min_points:0,max_points:499,benefits:["Acesso a ofertas básicas","Suporte por email"],badge_color:"bg-amber-600",badge_icon:"🥉"},{id:"silver",name:"Prata",min_points:500,max_points:1499,benefits:["Ofertas exclusivas","Suporte prioritário","5% cashback extra"],badge_color:"bg-gray-400",badge_icon:"🥈"},{id:"gold",name:"Ouro",min_points:1500,max_points:4999,benefits:["Ofertas VIP","Suporte 24/7","10% cashback extra","Acesso antecipado"],badge_color:"bg-yellow-500",badge_icon:"🥇"},{id:"platinum",name:"Platinum",min_points:5e3,max_points:999999,benefits:["Ofertas exclusivas Platinum","Gerente de conta dedicado","15% cashback extra","Eventos exclusivos"],badge_color:"bg-purple-600",badge_icon:"💎"}],kb=[{name:"Primeiro Passo",description:"Ativou sua primeira oferta",icon:"🎯",points_reward:50,category:"usage",requirements:{type:"count",target:1,action:"offer_activation"},is_active:!0},{name:"Explorador",description:"Ativou 10 ofertas",icon:"🗺️",points_reward:200,category:"usage",requirements:{type:"count",target:10,action:"offer_activation"},is_active:!0},{name:"Veterano",description:"Ativou 50 ofertas",icon:"🏆",points_reward:500,category:"usage",requirements:{type:"count",target:50,action:"offer_activation"},is_active:!0},{name:"Sequência de Fogo",description:"Usou ofertas por 7 dias consecutivos",icon:"🔥",points_reward:300,category:"loyalty",requirements:{type:"streak",target:7,action:"daily_usage"},is_active:!0},{name:"Crítico Construtivo",description:"Avaliou 5 estabelecimentos",icon:"⭐",points_reward:150,category:"social",requirements:{type:"count",target:5,action:"review_submission"},is_active:!0},{name:"Embaixador",description:"Indicou 3 amigos que se cadastraram",icon:"👥",points_reward:400,category:"social",requirements:{type:"count",target:3,action:"successful_referral"},is_active:!0},{name:"Madrugador",description:"Ativou uma oferta antes das 8h",icon:"🌅",points_reward:100,category:"special",requirements:{type:"date",target:8,action:"early_activation"},is_active:!0},{name:"Gastador VIP",description:"Gastou mais de CHF 180.- em ofertas",icon:"💰",points_reward:600,category:"loyalty",requirements:{type:"value",target:1e3,action:"total_spent"},is_active:!0}],Eb=[{type:"offer_new",title:"Nova oferta disponível!",message:"🎁 40% OFF Hambúrguer Gourmet na Burger House - Válida até meia-noite!",action_url:"/ofertas",action_text:"Ver Oferta"},{type:"voucher_redeemed",title:"Voucher resgatado com sucesso!",message:"💰 Parabéns! Você economizou CHF 4.50 na Pizzaria Italiana",action_url:"/vouchers",action_text:"Ver Vouchers"},{type:"achievement_unlocked",title:"Conquista desbloqueada!",message:'🏆 Incrível! Você resgatou 10 ofertas este mês e desbloqueou o badge "Explorador"',action_url:"/profile",action_text:"Ver Perfil"},{type:"system_update",title:"Complete seu perfil",message:"📱 Adicione mais informações ao seu perfil para receber ofertas personalizadas",action_url:"/profile",action_text:"Completar"},{type:"voucher_expiring",title:"Voucher expirando!",message:"⏰ Seu voucher de academia expira amanhã - use agora e economize CHF 9.-!",action_url:"/vouchers",action_text:"Usar Agora"},{type:"level_up",title:"Nível UP!",message:"⭐ Parabéns! Agora você é membro Bronze e tem acesso a ofertas exclusivas",action_url:"/profile",action_text:"Ver Benefícios"},{type:"goal_reached",title:"Meta alcançada!",message:"🎯 Fantástico! Você economizou CHF 36.- este mês com o DuoPass Club",action_url:"/history",action_text:"Ver Histórico"}],Pb=[{type:"business_performance",title:"Excelente performance!",message:"📊 Parabéns! 22 clientes resgataram suas ofertas hoje - 45% acima da média",action_url:"/merchant/dashboard",action_text:"Ver Dashboard"},{type:"offer_management",title:"Oferta expirando",message:'💼 Sua oferta "Desconto 30% Pizza" expira em 24 horas',action_url:"/merchant/offers",action_text:"Gerenciar Ofertas"},{type:"business_opportunity",title:"Oportunidade de negócio",message:"🎯 45 clientes visualizaram seu estabelecimento hoje - considere criar uma oferta especial",action_url:"/merchant/offers/new",action_text:"Criar Oferta"},{type:"system_merchant",title:"Novos relatórios disponíveis",message:"⚙️ Acesse os novos relatórios de performance e analytics avançados",action_url:"/merchant/analytics",action_text:"Ver Relatórios"},{type:"payment_processed",title:"Pagamento processado",message:"💳 Pagamento de CHF 153.- referente às ofertas de março foi processado",action_url:"/merchant/payments",action_text:"Ver Detalhes"},{type:"business_opportunity",title:"Dica de conversão",message:"💡 Ofertas de fim de semana têm 60% mais conversão - que tal criar uma promoção especial?",action_url:"/merchant/offers/new",action_text:"Criar Promoção"},{type:"business_performance",title:"Novos favoritos",message:"🌟 25 clientes favoritaram seu estabelecimento esta semana!",action_url:"/merchant/customers",action_text:"Ver Clientes"}],za=[{id:"welcome_email",name:"Email de Boas-vindas",type:"email",category:"transactional",subject:"Bem-vindo ao DuoPass Club, {{user_name}}!",body:`
      <h1>Olá {{user_name}}, bem-vindo ao DuoPass Club!</h1>
      <p>Estamos muito felizes em tê-lo conosco. Agora você tem acesso a ofertas exclusivas dos melhores estabelecimentos da sua cidade.</p>
      <h2>Primeiros Passos:</h2>
      <ul>
        <li>Complete seu perfil para receber ofertas personalizadas</li>
        <li>Explore as ofertas disponíveis na sua região</li>
        <li>Baixe nosso app para não perder nenhuma oportunidade</li>
      </ul>
      <p>Como bônus de boas-vindas, você ganhou <strong>{{welcome_points}} pontos</strong>!</p>
      <a href="{{app_download_url}}" style="background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Baixar App</a>
    `,variables:["user_name","welcome_points","app_download_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"offer_nearby_push",name:"Oferta Próxima - Push",type:"push",category:"promotional",title:"🎯 Oferta próxima a você!",body:"{{offer_title}} em {{merchant_name}} - apenas {{distance}}m de distância. {{discount}}% OFF!",variables:["offer_title","merchant_name","distance","discount"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"points_milestone_push",name:"Marco de Pontos - Push",type:"push",category:"system",title:"🎉 Parabéns! Novo marco alcançado!",body:"Você acumulou {{total_points}} pontos e subiu para o nível {{new_level}}! Continue assim!",variables:["total_points","new_level"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"subscription_reminder_email",name:"Lembrete de Assinatura",type:"email",category:"transactional",subject:"Sua assinatura DuoPass vence em {{days_until_expiry}} dias",body:`
      <h1>Olá {{user_name}},</h1>
      <p>Sua assinatura {{plan_name}} vence em <strong>{{days_until_expiry}} dias</strong>.</p>
      <p>Para continuar aproveitando todos os benefícios exclusivos, renove sua assinatura agora:</p>
      <ul>
        <li>Ofertas exclusivas para assinantes</li>
        <li>Pontos em dobro em todas as compras</li>
        <li>Acesso antecipado a promoções</li>
        <li>Suporte prioritário</li>
      </ul>
      <a href="{{renewal_url}}" style="background: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Renovar Assinatura</a>
    `,variables:["user_name","days_until_expiry","plan_name","renewal_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"winback_email",name:"Email de Reativação",type:"email",category:"marketing",subject:"Sentimos sua falta! Oferta especial para você 💙",body:`
      <h1>Olá {{user_name}}, sentimos sua falta!</h1>
      <p>Notamos que você não visita o DuoPass há {{days_inactive}} dias. Que tal voltar com uma oferta especial?</p>
      <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h2 style="color: #007bff;">🎁 Oferta Especial de Volta</h2>
        <p><strong>{{discount_percentage}}% de desconto</strong> na sua próxima compra</p>
        <p>Válido até {{offer_expiry}}</p>
      </div>
      <p>Além disso, você ganha <strong>{{bonus_points}} pontos bônus</strong> só por voltar!</p>
      <a href="{{return_url}}" style="background: #dc3545; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Aproveitar Oferta</a>
    `,variables:["user_name","days_inactive","discount_percentage","offer_expiry","bonus_points","return_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"merchant_approval_email",name:"Aprovação de Parceiro",type:"email",category:"transactional",subject:"Parabéns! Sua parceria foi aprovada 🎉",body:`
      <h1>Parabéns {{merchant_name}}!</h1>
      <p>Sua solicitação de parceria foi aprovada. Agora você faz parte da rede DuoPass Club!</p>
      <h2>Próximos Passos:</h2>
      <ol>
        <li>Acesse seu painel de parceiro</li>
        <li>Configure seu perfil e informações</li>
        <li>Crie sua primeira oferta</li>
        <li>Comece a atrair novos clientes</li>
      </ol>
      <p>Seu consultor dedicado é <strong>{{consultant_name}}</strong> ({{consultant_email}}).</p>
      <a href="{{partner_dashboard_url}}" style="background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">Acessar Painel</a>
    `,variables:["merchant_name","consultant_name","consultant_email","partner_dashboard_url"],is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class rt{static async createNotification(t){try{const{error:a}=await M.from("notifications").insert([t]);if(a)throw a}catch(a){throw console.error("Error creating notification:",a),a}}static async createBulkNotifications(t){try{const{error:a}=await M.from("notifications").insert(t);if(a)throw a}catch(a){throw console.error("Error creating bulk notifications:",a),a}}static async generateDemoNotifications(t,a){const o=[...a==="client"?Eb:Pb].sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+3).map(l=>({user_id:t,type:l.type,title:l.title,message:l.message,icon:l.icon,action_url:l.action_url,action_text:l.action_text}));await this.createBulkNotifications(o)}static async notifyOfferRedeemed(t,a,r){await this.createNotification({user_id:t,type:"voucher_redeemed",title:"Voucher resgatado!",message:`💰 Parabéns! Você economizou R$ ${r.toFixed(2)} com "${a}"`,action_url:"/vouchers",action_text:"Ver Vouchers"})}static async notifyNewOffer(t,a,r){await this.createNotification({user_id:t,type:"offer_new",title:"Nova oferta disponível!",message:`🎁 ${r} em ${a} - Não perca!`,action_url:"/ofertas",action_text:"Ver Oferta"})}static async notifyOfferExpiring(t,a,r){await this.createNotification({user_id:t,type:"offer_expiring",title:"Oferta expirando!",message:`⏰ "${a}" expira em ${r} horas`,action_url:"/ofertas",action_text:"Resgatar Agora"})}static async notifyMerchantOfferRedeemed(t,a,r){await this.createNotification({user_id:t,type:"business_performance",title:"Oferta resgatada!",message:`📊 Sua oferta "${a}" foi resgatada ${r} vezes hoje`,action_url:"/merchant/dashboard",action_text:"Ver Dashboard"})}static async notifyMerchantOfferExpiring(t,a,r){await this.createNotification({user_id:t,type:"offer_management",title:"Oferta expirando",message:`💼 Sua oferta "${a}" expira em ${r} horas`,action_url:"/merchant/offers",action_text:"Gerenciar Ofertas"})}static async notifyAchievementUnlocked(t,a,r){await this.createNotification({user_id:t,type:"achievement_unlocked",title:"Conquista desbloqueada!",message:`🏆 ${a}: ${r}`,action_url:"/profile",action_text:"Ver Perfil"})}static async notifyLevelUp(t,a){await this.createNotification({user_id:t,type:"level_up",title:"Nível UP!",message:`⭐ Parabéns! Agora você é membro ${a}`,action_url:"/profile",action_text:"Ver Benefícios"})}static async cleanOldNotifications(){try{const t=new Date;t.setDate(t.getDate()-30);const{error:a}=await M.from("notifications").delete().lt("created_at",t.toISOString());if(a)throw a}catch(t){console.error("Error cleaning old notifications:",t)}}static async createTemplate(t){try{const a={id:`template_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando template de notificação:",a),a}catch(a){throw console.error("Erro ao criar template:",a),a}}static async getTemplates(t){try{let a=[...za];return t&&(t.type&&(a=a.filter(r=>r.type===t.type)),t.category&&(a=a.filter(r=>r.category===t.category)),t.is_active!==void 0&&(a=a.filter(r=>r.is_active===t.is_active))),a}catch(a){throw console.error("Erro ao buscar templates:",a),a}}static async updateTemplate(t,a){try{const r=za.find(i=>i.id===t);if(!r)throw new Error("Template não encontrado");const n={...r,...a,updated_at:new Date().toISOString()};return console.log("Atualizando template:",n),n}catch(r){throw console.error("Erro ao atualizar template:",r),r}}static async createCampaign(t){try{const a={id:`campaign_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...t,metrics:{sent:0,delivered:0,opened:0,clicked:0,converted:0,unsubscribed:0,bounced:0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando campanha de notificação:",a),a}catch(a){throw console.error("Erro ao criar campanha:",a),a}}static async getCampaigns(t){try{return[{id:"campaign_1",name:"Campanha de Boas-vindas",description:"Série automática para novos usuários",template_id:"welcome_email",target_audience:{user_segments:["new_users"],filters:{registration_date:"last_7_days"},estimated_reach:1250},schedule:{type:"immediate"},personalization:{enabled:!0,rules:[]},status:"sent",metrics:{sent:1250,delivered:1198,opened:756,clicked:234,converted:89,unsubscribed:12,bounced:52},created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-5184e5).toISOString()},{id:"campaign_2",name:"Promoção Fim de Semana",description:"Ofertas especiais para o fim de semana",template_id:"weekend_promo",target_audience:{user_segments:["active_users","premium_users"],filters:{last_activity:"last_30_days"},estimated_reach:5600},schedule:{type:"scheduled",send_at:new Date(Date.now()+1728e5).toISOString(),timezone:"America/Sao_Paulo"},personalization:{enabled:!0,rules:[{condition:'user.location == "Rio de Janeiro"',variable:"city_offers",value:"ofertas_rj"}]},ab_test:{enabled:!0,variants:[{name:"Versão A",template_id:"weekend_promo_a",traffic_percentage:50},{name:"Versão B",template_id:"weekend_promo_b",traffic_percentage:50}]},status:"scheduled",metrics:{sent:0,delivered:0,opened:0,clicked:0,converted:0,unsubscribed:0,bounced:0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}].filter(r=>!(t!=null&&t.status&&r.status!==t.status))}catch(a){throw console.error("Erro ao buscar campanhas:",a),a}}static async sendCampaign(t){try{return console.log("Enviando campanha:",t),await new Promise(r=>setTimeout(r,2e3)),{success:!0,message:"Campanha enviada com sucesso",sent_count:Math.floor(Math.random()*1e3)+500}}catch(a){throw console.error("Erro ao enviar campanha:",a),a}}static async sendAdvancedNotification(t){try{const a=za.find(i=>i.id===t.template_id);if(!a)throw new Error("Template não encontrado");if(!t.override_preferences){const i=await this.getUserPreferences(t.user_id);if(!this.shouldSendNotification(a,i))throw new Error("Usuário optou por não receber este tipo de notificação")}const r=this.processTemplate(a,t.variables||{}),n={id:`delivery_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,template_id:t.template_id,user_id:t.user_id,type:a.type,status:t.schedule_for?"pending":"sent",content:r,metadata:{variables:t.variables,scheduled_for:t.schedule_for},sent_at:t.schedule_for?void 0:new Date().toISOString(),created_at:new Date().toISOString()};switch(console.log("Enviando notificação avançada:",n),a.type){case"email":await this.sendEmail(n);break;case"push":await this.sendPushNotification(n);break;case"sms":await this.sendSMS(n);break;case"in_app":await this.sendInAppNotification(n);break}return n}catch(a){throw console.error("Erro ao enviar notificação avançada:",a),a}}static processTemplate(t,a){let r=t.subject,n=t.title,i=t.body;for(const[o,l]of Object.entries(a)){const c=`{{${o}}}`;r&&(r=r.replace(new RegExp(c,"g"),String(l))),n&&(n=n.replace(new RegExp(c,"g"),String(l))),i=i.replace(new RegExp(c,"g"),String(l))}return{subject:r,title:n,body:i,action_url:a.action_url}}static async sendEmail(t){console.log("Enviando email:",{to:t.user_id,subject:t.content.subject,body:t.content.body}),await new Promise(a=>setTimeout(a,500))}static async sendPushNotification(t){console.log("Enviando push notification:",{to:t.user_id,title:t.content.title,body:t.content.body,action_url:t.content.action_url}),await new Promise(a=>setTimeout(a,200))}static async sendSMS(t){console.log("Enviando SMS:",{to:t.user_id,message:t.content.body}),await new Promise(a=>setTimeout(a,300))}static async sendInAppNotification(t){console.log("Enviando notificação in-app:",{to:t.user_id,title:t.content.title,body:t.content.body}),await new Promise(a=>setTimeout(a,100))}static async getUserPreferences(t){try{return{user_id:t,email_notifications:{marketing:!0,transactional:!0,system:!0,promotional:!0},push_notifications:{marketing:!0,transactional:!0,system:!0,promotional:!1,location_based:!0},sms_notifications:{transactional:!0,promotional:!1},frequency_limits:{max_daily_marketing:3,max_weekly_promotional:5},quiet_hours:{enabled:!0,start_time:"22:00",end_time:"08:00",timezone:"America/Sao_Paulo"},updated_at:new Date().toISOString()}}catch(a){throw console.error("Erro ao buscar preferências:",a),a}}static async updateUserPreferences(t,a){try{const n={...await this.getUserPreferences(t),...a,user_id:t,updated_at:new Date().toISOString()};return console.log("Atualizando preferências do usuário:",n),n}catch(r){throw console.error("Erro ao atualizar preferências:",r),r}}static shouldSendNotification(t,a){const r=a[`${t.type}_notifications`];return r?r[t.category]===!0:!1}static async getCampaignAnalytics(t){try{return{campaign_id:t,metrics:{sent:1250,delivered:1198,delivery_rate:95.8,opened:756,open_rate:63.1,clicked:234,click_rate:31,converted:89,conversion_rate:38,unsubscribed:12,unsubscribe_rate:1,bounced:52,bounce_rate:4.2},performance_by_time:{"00:00":5,"01:00":3,"02:00":2,"03:00":1,"08:00":45,"09:00":78,"10:00":89,"11:00":95,"12:00":120,"13:00":98,"14:00":87,"15:00":76,"18:00":110,"19:00":125,"20:00":98,"21:00":67},performance_by_segment:{new_users:{open_rate:68.5,click_rate:35.2},active_users:{open_rate:58.9,click_rate:28.7},premium_users:{open_rate:72.1,click_rate:41.3}},device_breakdown:{mobile:78.5,desktop:18.2,tablet:3.3},location_breakdown:{"São Paulo":35.2,"Rio de Janeiro":28.7,"Belo Horizonte":12.4,Outros:23.7},revenue_attribution:15670.8}}catch(a){throw console.error("Erro ao buscar analytics da campanha:",a),a}}static async createSmartRule(t){try{const a={id:`smart_rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Criando regra inteligente:",a),a}catch(a){throw console.error("Erro ao criar regra inteligente:",a),a}}static async triggerSmartNotification(t,a){try{console.log("Processando evento para notificações inteligentes:",t,a),console.log("Notificações inteligentes processadas para evento:",t)}catch(r){throw console.error("Erro ao processar notificações inteligentes:",r),r}}static async optimizeSendTime(t,a){try{const n=Object.entries({"08:00":.15,"12:00":.25,"18:00":.35,"20:00":.45,"21:00":.3}).sort(([,i],[,o])=>o-i)[0][0];return console.log(`Horário otimizado para usuário ${t}: ${n}`),n}catch(r){return console.error("Erro ao otimizar horário de envio:",r),a}}static async generateReport(t){try{return console.log("Gerando relatório de notificações:",t),{generated_at:new Date().toISOString(),config:t,summary:{total_campaigns:45,total_notifications_sent:125670,avg_open_rate:62.5,avg_click_rate:28.7,avg_conversion_rate:12.3},detailed_metrics:{by_type:{email:{sent:89450,open_rate:58.9,click_rate:25.4},push:{sent:34560,open_rate:78.2,click_rate:35.7},sms:{sent:1660,open_rate:95.1,click_rate:45.2}},by_category:{marketing:{sent:67890,open_rate:55.3,click_rate:22.1},transactional:{sent:45670,open_rate:89.7,click_rate:67.8},promotional:{sent:12110,open_rate:48.9,click_rate:18.5}}},recommendations:["Aumentar frequência de notificações push para usuários mobile","Otimizar horários de envio para campanhas de marketing","Personalizar mais o conteúdo baseado no comportamento do usuário"]}}catch(a){throw console.error("Erro ao gerar relatório:",a),a}}}class Tb{static async initializeUserGamification(t){try{const{error:a}=await M.from("user_points").insert({user_id:t,total_points:0,current_level:"bronze",points_to_next_level:500,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});a&&console.error("Erro ao inicializar pontos:",a),await this.addPoints(t,100,"bonus","Bônus de boas-vindas! 🎉")}catch(a){console.error("Erro ao inicializar gamificação:",a)}}static async addPoints(t,a,r,n,i){try{const{data:o}=await M.from("user_points").select("*").eq("user_id",t).single();if(!o)return await this.initializeUserGamification(t),{levelUp:!1};const l=o.total_points+a,c=Ce.find(h=>h.id===o.current_level),m=this.calculateLevel(l),d=(c==null?void 0:c.id)!==m.id,{error:u}=await M.from("user_points").update({total_points:l,current_level:m.id,points_to_next_level:this.calculatePointsToNextLevel(l),updated_at:new Date().toISOString()}).eq("user_id",t);return u?(console.error("Erro ao atualizar pontos:",u),{levelUp:!1}):(await M.from("points_transactions").insert({user_id:t,points:a,type:"earned",source:r,description:n,metadata:i,created_at:new Date().toISOString()}),await this.checkAchievements(t,r,i),d&&await rt.notifyLevelUp(t,m.name),{levelUp:d,newLevel:d?m:void 0})}catch(o){return console.error("Erro ao adicionar pontos:",o),{levelUp:!1}}}static calculateLevel(t){for(let a=Ce.length-1;a>=0;a--){const r=Ce[a];if(t>=r.min_points)return r}return Ce[0]}static calculatePointsToNextLevel(t){const a=this.calculateLevel(t),r=Ce.findIndex(i=>i.id===a.id);return r===Ce.length-1?0:Ce[r+1].min_points-t}static async checkAchievements(t,a,r){try{const{data:n}=await M.from("user_achievements").select("achievement_id").eq("user_id",t),i=(n==null?void 0:n.map(l=>l.achievement_id))||[],{data:o}=await M.from("achievements").select("*").eq("is_active",!0).not("id","in",`(${i.join(",")||"null"})`);if(!o)return;for(const l of o)await this.checkSingleAchievement(t,l,a,r)&&await this.grantAchievement(t,l)}catch(n){console.error("Erro ao verificar conquistas:",n)}}static async checkSingleAchievement(t,a,r,n){const{requirements:i}=a;if(i.action!==r)return!1;try{switch(i.type){case"count":return await this.checkCountRequirement(t,i.action,i.target);case"streak":return await this.checkStreakRequirement(t,i.action,i.target);case"value":return await this.checkValueRequirement(t,i.action,i.target);case"date":return this.checkDateRequirement(i.target,n);default:return!1}}catch(o){return console.error("Erro ao verificar conquista:",o),!1}}static async checkCountRequirement(t,a,r){const{count:n}=await M.from("points_transactions").select("*",{count:"exact"}).eq("user_id",t).eq("source",a);return(n||0)>=r}static async checkStreakRequirement(t,a,r){const n=new Date;n.setDate(n.getDate()-r);const{data:i}=await M.from("points_transactions").select("created_at").eq("user_id",t).eq("source",a).gte("created_at",n.toISOString()).order("created_at",{ascending:!1});if(!i||i.length<r)return!1;const o=i.map(c=>new Date(c.created_at).toDateString());return[...new Set(o)].length>=r}static async checkValueRequirement(t,a,r){const{data:n}=await M.from("points_transactions").select("metadata").eq("user_id",t).eq("source",a);return n?n.reduce((o,l)=>{var m;const c=((m=l.metadata)==null?void 0:m.value)||0;return o+c},0)>=r:!1}static checkDateRequirement(t,a){return a!=null&&a.timestamp?new Date(a.timestamp).getHours()<t:!1}static async grantAchievement(t,a){try{const{error:r}=await M.from("user_achievements").insert({user_id:t,achievement_id:a.id,earned_at:new Date().toISOString()});if(r){console.error("Erro ao conceder conquista:",r);return}await this.addPoints(t,a.points_reward,"achievement",`Conquista desbloqueada: ${a.name}`,{achievement_id:a.id}),await rt.notifyAchievement(t,a.name,a.icon)}catch(r){console.error("Erro ao conceder conquista:",r)}}static async getUserGamificationStats(t){try{const{data:a}=await M.from("user_points").select("*").eq("user_id",t).single();if(!a)return null;const r=Ce.find(h=>h.id===a.current_level),n=Ce.findIndex(h=>h.id===r.id),i=n<Ce.length-1?Ce[n+1]:void 0,o=i?(a.total_points-r.min_points)/(i.min_points-r.min_points)*100:100,{data:l}=await M.from("user_achievements").select(`
          *,
          achievement:achievements(*)
        `).eq("user_id",t).order("earned_at",{ascending:!1}).limit(5),c=new Date;c.setDate(1),c.setHours(0,0,0,0);const{data:m}=await M.from("points_transactions").select("points").eq("user_id",t).eq("type","earned").gte("created_at",c.toISOString()),d=(m==null?void 0:m.reduce((h,x)=>h+x.points,0))||0,u=await this.calculateUserStreak(t);return{total_points:a.total_points,current_level:r,next_level:i,progress_percentage:Math.round(o),achievements_count:(l==null?void 0:l.length)||0,recent_achievements:l||[],points_this_month:d,streak_days:u}}catch(a){return console.error("Erro ao buscar estatísticas:",a),null}}static async calculateUserStreak(t){try{const{data:a}=await M.from("points_transactions").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(30);if(!a||a.length===0)return 0;const r=a.map(l=>new Date(l.created_at).toDateString()),n=[...new Set(r)].sort((l,c)=>new Date(c).getTime()-new Date(l).getTime());let i=0;const o=new Date;for(const l of n){const c=o.toDateString();if(l===c)i++,o.setDate(o.getDate()-1);else break}return i}catch(a){return console.error("Erro ao calcular streak:",a),0}}static async getLeaderboard(t=10){try{const{data:a}=await M.from("user_points").select(`
          *,
          user:users(full_name)
        `).order("total_points",{ascending:!1}).limit(t);return a||[]}catch(a){return console.error("Erro ao buscar ranking:",a),[]}}static async initializePredefinedAchievements(){try{for(const t of kb){const{error:a}=await M.from("achievements").upsert({...t,id:t.name.toLowerCase().replace(/\s+/g,"_"),created_at:new Date().toISOString()},{onConflict:"name"});a&&console.error("Erro ao inserir conquista:",t.name,a)}}catch(t){console.error("Erro ao inicializar conquistas:",t)}}}function Ab({merchantId:s,onClose:t,onVoucherValidated:a}){var T;const{user:r}=z(),[n,i]=g.useState(!1),[o,l]=g.useState(null),[c,m]=g.useState(""),[d]=g.useState(""),[u,h]=g.useState(null),[x,b]=g.useState(navigator.onLine),[y]=g.useState([]),v=g.useRef(null),f=g.useRef(null);g.useEffect(()=>{const P=()=>b(!0),C=()=>b(!1);return window.addEventListener("online",P),window.addEventListener("offline",C),w(),()=>{f.current&&f.current.getTracks().forEach(k=>k.stop()),window.removeEventListener("online",P),window.removeEventListener("offline",C)}},[]),g.useEffect(()=>{x&&y.length>0&&p()},[x,y.length,p]);const w=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(P=>{h({lat:P.coords.latitude,lng:P.coords.longitude})},P=>{console.warn("Erro ao obter localização:",P)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},p=g.useCallback(async()=>{for(const P of y)try{await ea.validateVoucher(P.qrData,P.merchantId,P.location)}catch(C){console.error("Erro ao processar item da fila offline:",C)}setOfflineQueue([])},[y]),j=async()=>{try{const P=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});v.current&&(v.current.srcObject=P,f.current=P,i(!0))}catch(P){console.error("Erro ao acessar câmera:",P),alert("Não foi possível acessar a câmera. Use a validação manual.")}},N=()=>{f.current&&(f.current.getTracks().forEach(P=>P.stop()),f.current=null),i(!1)},_=async()=>{if(!c.trim()||!d.trim()){alert("Por favor, preencha o código e o local.");return}try{const P={code:c.trim(),merchantId:s,location:u,timestamp:new Date().toISOString()};if(!x){setOfflineQueue(k=>[...k,{qrData:JSON.stringify(P),merchantId:s,location:d.trim()}]),l({success:!0,message:"✈️ Validação salva offline. Será processada quando voltar a conexão."}),setTimeout(()=>{t()},3e3);return}const C=await ea.validateVoucher(JSON.stringify(P),s,d.trim());l(C),C.success&&C.voucher&&r&&(await Tb.addPoints(r.id,50,"voucher_use","Voucher utilizado com sucesso! 🎉",{voucher_id:C.voucher.id,merchant_id:s,location:u,timestamp:new Date().toISOString()}),setTimeout(()=>{a(C.voucher),t()},2e3))}catch{l({success:!1,message:"Erro ao validar código manual"})}},E=async P=>{var k;const C=(k=P.target.files)==null?void 0:k[0];if(!C||!d.trim()){d.trim()||alert("Por favor, informe o local antes de fazer upload.");return}try{const A=new FileReader;A.onload=async()=>{try{alert("Funcionalidade de upload de imagem será implementada com biblioteca específica de QR code.")}catch{l({success:!1,message:"Erro ao ler QR code da imagem"})}},A.readAsDataURL(C)}catch{l({success:!1,message:"Erro ao processar imagem"})}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Validar Voucher"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local da validação *"}),e.jsx("input",{type:"text",value:d,onChange:P=>setLocation(P.target.value),placeholder:"Ex: Loja Centro, Filial Shopping...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Escanear QR Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[x?e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(Dm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Online"})]}):e.jsxs("div",{className:"flex items-center gap-1 text-orange-600",children:[e.jsx(Am,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Offline"})]}),u&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"GPS"})]})]})]}),n?e.jsxs("div",{className:"space-y-4",children:[e.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,className:"w-full h-64 bg-black rounded-lg"}),e.jsx("button",{onClick:N,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors",children:"Parar Câmera"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Posicione o QR code na frente da câmera"})]}):e.jsxs("button",{onClick:j,disabled:!d.trim(),className:"w-full flex items-center justify-center gap-2 bg-yellow-500 text-white py-3 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[e.jsx(Kt,{className:"w-5 h-5"}),x?"Iniciar Câmera":"Iniciar Câmera (Offline)"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Validação Manual"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:c,onChange:P=>m(P.target.value),placeholder:"Digite o código do voucher (ex: DUO-ABC-123456)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("button",{onClick:_,disabled:!c.trim()||!d.trim(),className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:x?"Validar Código":"Salvar Offline"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Upload de Imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:E,disabled:!d.trim(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Faça upload de uma foto do QR code"})]}),y.length>0&&e.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("p",{className:"text-orange-800 text-sm font-medium",children:["📱 ",y.length," validação(ões) na fila offline"]}),e.jsx("p",{className:"text-orange-600 text-xs mt-1",children:"Serão processadas quando a conexão for restaurada"})]}),o&&e.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${o.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[o.success?e.jsx(H,{className:"w-5 h-5 text-green-600"}):e.jsx(Er,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.message}),o.voucher&&e.jsxs("p",{className:"text-sm mt-1",children:["Cliente: ",(T=o.voucher.user)==null?void 0:T.full_name]}),!x&&o.success&&e.jsx("p",{className:"text-sm mt-1 text-orange-600",children:"🎯 +50 pontos serão creditados quando voltar online"})]})]})]})]})})}function Db(){const{user:s}=z(),[t,a]=g.useState([]),[r,n]=g.useState(!1),[i,o]=g.useState(!0),[l,c]=g.useState("offers"),[m,d]=g.useState(!1),[u,h]=g.useState([]),[x,b]=g.useState(null),[y,v]=g.useState(null),[f,w]=g.useState({title:"",description:"",original_value:"",category:"",location:"",expires_at:"",terms_conditions:""});g.useEffect(()=>{s&&p()},[s,p]);const p=g.useCallback(async()=>{await Promise.all([E(),j(),N()])},[E,j,N]),j=g.useCallback(async()=>{if(s)try{const{data:C,error:k}=await M.from("vouchers").select(`
          *,
          user:users(full_name, email)
        `).eq("merchant_id",s.id).order("created_at",{ascending:!1}).limit(10);if(k)throw k;h(C||[])}catch(C){console.error("Erro ao carregar vouchers:",C)}},[s]),N=g.useCallback(async()=>{if(s)try{const[C,k]=await Promise.all([ea.generateUsageReport("weekly"),ea.generateUsageReport("monthly")]);b(C),v(k)}catch(C){console.error("Erro ao carregar relatórios:",C)}},[s]),_=C=>{h(k=>[C,...k.slice(0,9)]),N()},E=g.useCallback(async()=>{try{const{data:C,error:k}=await M.from("offers").select("*").eq("merchant_id",s==null?void 0:s.id).order("created_at",{ascending:!1});if(k)throw k;a(C||[])}catch(C){console.error("Error fetching offers:",C)}finally{o(!1)}},[s]),T=async C=>{C.preventDefault();try{const{error:k}=await M.from("offers").insert([{merchant_id:s==null?void 0:s.id,title:f.title,description:f.description,original_value:parseFloat(f.original_value),category:f.category,location:f.location,expires_at:f.expires_at,terms_conditions:f.terms_conditions,is_active:!0}]);if(k)throw k;n(!1),w({title:"",description:"",original_value:"",category:"",location:"",expires_at:"",terms_conditions:""}),E()}catch(k){console.error("Error creating offer:",k),alert("Erro ao criar oferta. Tente novamente.")}},P=async(C,k)=>{try{const{error:A}=await M.from("offers").update({is_active:!k}).eq("id",C);if(A)throw A;E()}catch(A){console.error("Error updating offer:",A)}};return i?e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx(dn,{height:64,className:"w-auto"})}),e.jsx("p",{className:"text-[#333333] font-medium",children:"Carregando dashboard..."})]})}):e.jsx(ke,{title:"Dashboard do Comerciante",subtitle:"Gerencie ofertas, valide vouchers e visualize relatórios",actions:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-600 transition-all",children:[e.jsx(rs,{className:"w-5 h-5"}),e.jsx("span",{children:"Escanear QR"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[e.jsx(gs,{className:"w-5 h-5"}),e.jsx("span",{children:"Nova Oferta"})]})]}),children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex space-x-1 mb-8",children:[{id:"offers",label:"Ofertas",icon:Ve},{id:"vouchers",label:"Vouchers",icon:rs},{id:"reports",label:"Relatórios",icon:Re}].map(({id:C,label:k,icon:A})=>e.jsxs("button",{onClick:()=>c(C),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${l===C?"bg-white text-[#333333] shadow-sm":"text-gray-600 hover:text-[#333333] hover:bg-white/50"}`,children:[e.jsx(A,{className:"w-4 h-4"}),k]},C))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Total de Ofertas"}),e.jsx("p",{className:"text-3xl font-bold text-[#F6C100]",children:t.length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Ofertas Ativas"}),e.jsx("p",{className:"text-3xl font-bold text-[#C91F1F]",children:t.filter(C=>C.is_active).length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Vouchers Ativos"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u.filter(C=>C.status==="active").length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-2",children:"Vouchers Usados"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:u.filter(C=>C.status==="used").length})]})]}),l==="offers"&&e.jsx(Mb,{offers:t,setShowCreateForm:n,toggleOfferStatus:P}),l==="vouchers"&&e.jsx(Fb,{recentVouchers:u}),l==="reports"&&e.jsx(Ob,{weeklyReport:x,monthlyReport:y}),m&&e.jsx(Ab,{merchantId:(s==null?void 0:s.id)||"",onClose:()=>d(!1),onVoucherValidated:_}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-8",children:"Criar Nova Oferta"}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Título da Oferta"}),e.jsx("input",{type:"text",required:!0,value:f.title,onChange:C=>w({...f,title:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Ex: Almoço executivo - Pague 1, Leve 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Descrição"}),e.jsx("textarea",{required:!0,value:f.description,onChange:C=>w({...f,description:C.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Descreva os detalhes da oferta..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Valor Original (CHF)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f.original_value,onChange:C=>w({...f,original_value:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Categoria"}),e.jsxs("select",{required:!0,value:f.category,onChange:C=>w({...f,category:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",children:[e.jsx("option",{value:"",children:"Selecione uma categoria"}),e.jsx("option",{value:"gastronomy",children:"Gastronomia"}),e.jsx("option",{value:"beauty",children:"Beleza"}),e.jsx("option",{value:"leisure",children:"Lazer"}),e.jsx("option",{value:"fitness",children:"Fitness"}),e.jsx("option",{value:"shopping",children:"Compras"}),e.jsx("option",{value:"services",children:"Serviços"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Localização"}),e.jsx("input",{type:"text",required:!0,value:f.location,onChange:C=>w({...f,location:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Ex: Centro, São Paulo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Data de Expiração"}),e.jsx("input",{type:"date",required:!0,value:f.expires_at,onChange:C=>w({...f,expires_at:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#333333] mb-2",children:"Termos e Condições"}),e.jsx("textarea",{required:!0,value:f.terms_conditions,onChange:C=>w({...f,terms_conditions:C.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-[#F6C100] focus:border-[#F6C100] transition-all",placeholder:"Descreva os termos e condições da oferta..."})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-xl text-[#333333] font-medium hover:bg-gray-50 transition-all",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Criar Oferta"})]})]})]})})]})})}const Mb=({offers:s,setShowCreateForm:t,toggleOfferStatus:a})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Suas Ofertas"})}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#F5F3EF]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Oferta"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Categoria"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Expira em"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(r=>e.jsxs("tr",{className:"hover:bg-[#F5F3EF] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-[#333333]",children:r.title}),e.jsx("div",{className:"text-sm text-gray-500",children:r.location})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-[#F6C100] to-[#C91F1F] text-white",children:r.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#333333]",children:["CHF ",(r.original_value*.18).toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.is_active?"Ativa":"Inativa"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:new Date(r.expires_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"text-[#F6C100] hover:text-[#C91F1F] transition-colors",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-[#C91F1F] hover:text-[#333333] transition-colors",children:e.jsx(vm,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(r.id,r.is_active),className:"text-green-600 hover:text-green-800 transition-colors font-medium",children:r.is_active?"Desativar":"Ativar"})]})})]},r.id))})]})}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(gs,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-[#333333] text-xl font-medium mb-4",children:"Você ainda não criou nenhuma oferta."}),e.jsx("button",{onClick:()=>t(!0),className:"text-[#C91F1F] hover:text-[#F6C100] font-semibold transition-colors",children:"Criar sua primeira oferta"})]})]}),Fb=({recentVouchers:s})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Vouchers Recentes"})}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-[#F5F3EF]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Código"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Data de Uso"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-[#333333] uppercase tracking-wider",children:"Validade"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(t=>e.jsxs("tr",{className:"hover:bg-[#F5F3EF] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-[#333333]",children:t.customer_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-mono text-[#333333]",children:t.unique_code})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.is_used?"bg-green-100 text-green-800":new Date(t.expires_at)<new Date?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.is_used?"Usado":new Date(t.expires_at)<new Date?"Expirado":"Ativo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:t.used_at?new Date(t.used_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#333333]",children:new Date(t.expires_at).toLocaleDateString()})]},t.id))})]})}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(rs,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-[#333333] text-xl font-medium mb-4",children:"Nenhum voucher foi usado ainda."}),e.jsx("p",{className:"text-gray-500",children:"Os vouchers validados aparecerão aqui."})]})]}),Ob=({weeklyReport:s,monthlyReport:t})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Relatório Semanal"})}),s?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Usos"}),e.jsx("p",{className:"text-3xl font-bold",children:s.total_usage})]}),e.jsx(Re,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Clientes Únicos"}),e.jsx("p",{className:"text-3xl font-bold",children:s.unique_customers})]}),e.jsx(q,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Período"}),e.jsxs("p",{className:"text-lg font-bold",children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]})]})})})]}),s.top_customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-4",children:"Top Clientes"}),e.jsx("div",{className:"space-y-3",children:s.top_customers.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F5F3EF] rounded-lg",children:[e.jsx("span",{className:"font-medium text-[#333333]",children:a.customer_name}),e.jsxs("span",{className:"text-[#C91F1F] font-bold",children:[a.usage_count," usos"]})]},r))})]})]}):e.jsx("div",{className:"p-16 text-center",children:e.jsx("p",{className:"text-[#333333] text-xl font-medium",children:"Carregando relatório semanal..."})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#F5F3EF]",children:[e.jsx("div",{className:"p-8 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-[#333333]",children:"Relatório Mensal"})}),t?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#F6C100] to-[#C91F1F] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Usos"}),e.jsx("p",{className:"text-3xl font-bold",children:t.total_usage})]}),e.jsx(Re,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Clientes Únicos"}),e.jsx("p",{className:"text-3xl font-bold",children:t.unique_customers})]}),e.jsx(q,{className:"w-8 h-8 text-white/80"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Período"}),e.jsxs("p",{className:"text-lg font-bold",children:[new Date(t.start_date).toLocaleDateString()," - ",new Date(t.end_date).toLocaleDateString()]})]})})})]}),t.top_customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-4",children:"Top Clientes"}),e.jsx("div",{className:"space-y-3",children:t.top_customers.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F5F3EF] rounded-lg",children:[e.jsx("span",{className:"font-medium text-[#333333]",children:a.customer_name}),e.jsxs("span",{className:"text-[#C91F1F] font-bold",children:[a.usage_count," usos"]})]},r))})]})]}):e.jsx("div",{className:"p-16 text-center",children:e.jsx("p",{className:"text-[#333333] text-xl font-medium",children:"Carregando relatório mensal..."})})]})]}),Ib=()=>{const[s,t]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState(""),[o,l]=g.useState(!1),c=async m=>{m.preventDefault(),i(""),l(!0);try{if([{email:"admin@duopass.com",password:"admin123"},{email:"igor@duopass.com",password:"igor123"},{email:"silvia@duopass.com",password:"silvia123"}].some(h=>h.email===s&&h.password===a)){const h=btoa(`${s}:${Date.now()}`);localStorage.setItem("admin_token",h),window.location.href="/admin"}else i("Credenciais inválidas!")}catch(d){console.error("Erro no login:",d),i("Erro interno. Tente novamente.")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"DuoPass Admin"}),e.jsx("p",{className:"text-gray-400",children:"Acesso restrito para administradores."})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:s,onChange:m=>t(m.target.value),className:"w-full p-3 bg-gray-700 rounded text-white border border-gray-600 focus:outline-none focus:border-red-500",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 mb-2",htmlFor:"password",children:"Senha"}),e.jsx("input",{type:"password",id:"password",value:a,onChange:m=>r(m.target.value),className:"w-full p-3 bg-gray-700 rounded text-white border border-gray-600 focus:outline-none focus:border-red-500",required:!0})]}),n&&e.jsx("p",{className:"text-red-500 text-center mb-4",children:n}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition duration-300 disabled:bg-red-800",children:o?"Entrando...":"Login Seguro"})]})]})})};function Vb({title:s,value:t,icon:a,trend:r,color:n="blue"}){return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:`mt-2 text-3xl font-bold text-${n}-600`,children:t})]}),e.jsx("div",{className:`p-3 bg-${n}-100 rounded-full`,children:e.jsx(a,{className:`w-6 h-6 text-${n}-600`})})]}),r&&e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsxs("span",{className:`text-sm font-medium ${r.isPositive?"text-green-600":"text-red-600"}`,children:[r.isPositive?"+":"-",Math.abs(r.value),"%"]}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"from last month"})]})]})}function bn({headers:s,data:t,title:a}){return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-4",children:e.jsx("h3",{className:"text-lg font-semibold",children:a})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:s.map(r=>e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r},r))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((r,n)=>e.jsx("tr",{children:r.map((i,o)=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i},o))},n))})]})})]})}function Rb(){const s=[{title:"Total Users",value:"1,250",icon:q,trend:{value:5.4,isPositive:!0},color:"blue"},{title:"Active Offers",value:"78",icon:im,trend:{value:2.1,isPositive:!1},color:"purple"},{title:"Vouchers Generated (Month)",value:"4,321",icon:Tm,trend:{value:12.8,isPositive:!0},color:"green"},{title:"Engagement Rate",value:"63%",icon:nm,trend:{value:1.5,isPositive:!0},color:"orange"}],t=["Name","Email","Join Date","Status"],a=[["John Doe","john.d@example.com","2023-10-26",e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})],["Jane Smith","jane.s@example.com","2023-10-25",e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})],["Sam Wilson","sam.w@example.com","2023-10-24",e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactive"})]];return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Admin Dashboard"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.map(r=>e.jsx(Vb,{...r},r.title))}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsx(bn,{title:"Recent Users",headers:t,data:a})})]})}const Lb=({isOpen:s,onClose:t,onSave:a,offer:r})=>{const[n,i]=g.useState(r||{}),[o,l]=g.useState(!1);if(g.useEffect(()=>{i(r||{})},[r]),!s)return null;const c=u=>{const{name:h,value:x,type:b,checked:y}=u.target;i(v=>({...v,[h]:b==="checkbox"?y:x}))},m=async u=>{const h=u.target.files[0];if(!h)return;l(!0);const x=`${Date.now()}_${h.name}`,{data:b,error:y}=await M.storage.from("offers-images").upload(x,h);if(y)alert("Erro no upload da imagem."),console.error(y);else{const{publicURL:v}=M.storage.from("offers-images").getPublicUrl(x);i(f=>({...f,image_url:v}))}l(!1)},d=u=>{u.preventDefault(),a(n)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:r?"Editar Oferta":"Criar Nova Oferta"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsx("input",{name:"title",value:n.title||"",onChange:c,placeholder:"Título",className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{name:"category",value:n.category||"",onChange:c,placeholder:"Categoria",className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{name:"original_value",type:"number",value:n.original_value||"",onChange:c,placeholder:"Valor Original",className:"w-full p-2 border rounded",required:!0}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{children:"Imagem:"}),e.jsx("input",{type:"file",onChange:m,accept:"image/*",className:"p-2 border rounded"}),o&&e.jsx("p",{children:"Enviando..."}),n.image_url&&e.jsx("img",{src:n.image_url,alt:"Preview",className:"h-16 w-16 object-cover rounded"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:n.is_active||!1,onChange:c,className:"mr-2"}),e.jsx("label",{htmlFor:"is_active",children:"Ativa"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Salvar"})]})]})]})})};function qb(){const[s,t]=g.useState([]),[a,r]=g.useState(!0),[n,i]=g.useState(!1),[o,l]=g.useState(null),[c,m]=g.useState(""),[d,u]=g.useState("all"),h=async()=>{r(!0);let f=M.from("offers").select("*");d!=="all"&&(f=f.eq("category",d)),c&&(f=f.ilike("title",`%${c}%`));const{data:w,error:p}=await f.order("created_at",{ascending:!1});p?console.error("Error fetching offers:",p):t(w),r(!1)};g.useEffect(()=>{h()},[c,d]);const x=async f=>{const{id:w,...p}=f,j=w?M.from("offers").update(p).eq("id",w):M.from("offers").insert([p]),{error:N}=await j;N?alert("Erro ao salvar oferta."):(h(),i(!1),l(null))},b=async f=>{if(window.confirm("Tem certeza que deseja deletar esta oferta?")){const{error:w}=await M.from("offers").delete().eq("id",f);w?alert("Erro ao deletar oferta."):h()}},y=async f=>{const{error:w}=await M.from("offers").update({is_active:!f.is_active}).eq("id",f.id);w?alert("Erro ao atualizar status."):h()},v=g.useMemo(()=>s.map(f=>[e.jsx("img",{src:f.image_url,alt:f.title,className:"h-12 w-12 object-cover rounded",onError:w=>w.currentTarget.src="https://via.placeholder.com/150"}),f.title,f.category,e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.is_active?"Ativa":"Inativa"}),`R$ ${f.original_value.toFixed(2)}`,new Date(f.created_at).toLocaleDateString(),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{l(f),i(!0)},className:"text-blue-500",children:e.jsx(km,{size:18})}),e.jsx("button",{onClick:()=>b(f.id),className:"text-red-500",children:e.jsx(Ft,{size:18})}),e.jsx("button",{onClick:()=>y(f),className:f.is_active?"text-green-500":"text-red-500",children:f.is_active?e.jsx(qo,{size:22}):e.jsx(Lo,{size:22})})]})]),[s]);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Ofertas"}),e.jsxs("button",{onClick:()=>{l(null),i(!0)},className:"flex items-center bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded",children:[e.jsx(jm,{size:18,className:"mr-2"}),"Nova Oferta"]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar por título...",value:c,onChange:f=>m(f.target.value),className:"p-2 border rounded w-full"}),e.jsxs("select",{value:d,onChange:f=>u(f.target.value),className:"p-2 border rounded w-full",children:[e.jsx("option",{value:"all",children:"Todas as Categorias"}),e.jsx("option",{value:"Restaurante",children:"Restaurante"}),e.jsx("option",{value:"Beleza",children:"Beleza"}),e.jsx("option",{value:"Serviços",children:"Serviços"})]})]}),a?e.jsx("p",{children:"Carregando..."}):e.jsx(bn,{title:`${s.length} Ofertas Encontradas`,headers:["Imagem","Título","Categoria","Status","Valor","Criação","Ações"],data:v}),e.jsx(Lb,{isOpen:n,onClose:()=>i(!1),onSave:x,offer:o})]})}function Bb(){const[s,t]=g.useState([]),[a,r]=g.useState(!0),[n,i]=g.useState(null),[o,l]=g.useState(""),[c,m]=g.useState("all");g.useEffect(()=>{(async()=>{r(!0),i(null);let b=M.from("users").select("*");c!=="all"&&(b=b.eq("subscription_status",c)),o&&(b=b.or(`full_name.ilike.%${o}%,email.ilike.%${o}%`));const{data:y,error:v}=await b.order("created_at",{ascending:!1});v?(console.error("Error fetching users:",v),i("Não foi possível carregar os usuários. Tente novamente mais tarde.")):t(y),r(!1)})()},[o,c]);const d=async(x,b)=>{const y=b==="active"?"inactive":"active",{error:v}=await M.from("users").update({subscription_status:y}).eq("id",x);v?alert("Erro ao atualizar o status do usuário."):t(s.map(f=>f.id===x?{...f,subscription_status:y}:f))},u=()=>{const x=`data:text/csv;charset=utf-8,ID,Email,Nome,Status,Data de Cadastro
`+s.map(v=>`${v.id},${v.email},${v.full_name},${v.subscription_status},${new Date(v.created_at).toLocaleDateString()}`).join(`
`),b=encodeURI(x),y=document.createElement("a");y.setAttribute("href",b),y.setAttribute("download","usuarios_duopass.csv"),document.body.appendChild(y),y.click(),document.body.removeChild(y)},h=g.useMemo(()=>s.map(x=>[x.id.substring(0,8),x.full_name,x.email,e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.subscription_status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.subscription_status}),new Date(x.created_at).toLocaleDateString(),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:e.jsx(Ve,{size:18})}),e.jsx("button",{onClick:()=>d(x.id,x.subscription_status),className:x.subscription_status==="active"?"text-green-500":"text-red-500",children:x.subscription_status==="active"?e.jsx(qo,{size:22}):e.jsx(Lo,{size:22})})]})]),[s]);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Usuários"}),e.jsxs("button",{onClick:u,className:"flex items-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:[e.jsx(Sr,{size:18,className:"mr-2"}),"Exportar"]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:o,onChange:x=>l(x.target.value),className:"p-2 border rounded w-full"}),e.jsxs("select",{value:c,onChange:x=>m(x.target.value),className:"p-2 border rounded w-full",children:[e.jsx("option",{value:"all",children:"Todos os Status"}),e.jsx("option",{value:"active",children:"Ativo"}),e.jsx("option",{value:"inactive",children:"Inativo"}),e.jsx("option",{value:"pending",children:"Pendente"})]})]}),a?e.jsx("p",{children:"Carregando usuários..."}):n?e.jsx("p",{className:"text-red-500",children:n}):e.jsx(bn,{title:`${s.length} Usuários Encontrados`,headers:["ID","Nome","Email","Status","Cadastro","Ações"],data:h})]})}function Ub(){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Active Offers"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Generated Vouchers"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"0"})]})]})]})}function zb(){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Admin Settings"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Configuration"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Maintenance Mode"}),e.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded-md",children:"Off"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"User Registration"}),e.jsx("button",{className:"px-3 py-1 bg-green-200 rounded-md",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Debug Mode"}),e.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded-md",children:"Off"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Settings"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Notification Emails"}),e.jsx("button",{className:"px-3 py-1 bg-green-200 rounded-md",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Marketing Emails"}),e.jsx("button",{className:"px-3 py-1 bg-green-200 rounded-md",children:"Enabled"})]})]})]})]})]})}const $b=()=>{const[s,t]=g.useState(""),[a,r]=g.useState(""),[n,i]=g.useState("2-4 horas"),[o,l]=g.useState(null),[c,m]=g.useState(!1),d=()=>{m(!0),setTimeout(()=>{l({pressupostos:["Ambiente React/TypeScript já configurado","Supabase como backend principal","Foco em impacto visual para demo","Dados mock são aceitáveis temporariamente","Prioridade: funcionalidade > escalabilidade"],limitacoes:["Configurações de produção não fornecidas","Requisitos específicos dos investidores desconhecidos","Infraestrutura AWS parcialmente configurada","Dados reais de usuários limitados"],prioridades:["Interface limpa e responsiva","Navegação funcional sem erros","Feedback visual imediato","Fallbacks para APIs indisponíveis"],solucaoRapida:{tempo:"15-30 minutos",implementacao:"Componente com dados mock + CSS básico",codigo:`// Solução Rápida - Mock Component
const QuickSolution = () => {
  const mockData = { /* dados simulados */ };
  return (
    <div className="p-4 bg-white rounded-lg shadow">
      <h2>Demo Component</h2>
      {/* Interface básica funcional */}
    </div>
  );
};`},solucaoIntermediaria:{tempo:"1-2 horas",implementacao:"Integração com Supabase + tratamento de erros",codigo:`// Solução Intermediária - Com integração
const IntermediateSolution = () => {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  
  useEffect(() => {
    // Buscar dados reais com fallback
  }, []);
  
  return (
    <div>
      {loading ? <Spinner /> : <DataDisplay data={data} />}
    </div>
  );
};`},solucaoCompleta:{tempo:"Pós-demo (1-2 dias)",implementacao:"Arquitetura escalável + testes + otimizações",codigo:`// Solução Completa - Produção
const CompleteSolution = () => {
  // Implementação robusta
  // Testes automatizados
  // Performance otimizada
  // Segurança validada
};`},autocritica:{ondeErrar:["Assumir que visual sempre supera funcionalidade","Subestimar complexidade de integrações","Não considerar limitações de tempo real"],verificacoes:["Testar em diferentes navegadores","Verificar responsividade mobile","Validar fluxos críticos de usuário","Confirmar que fallbacks funcionam"],vieses:["Tendência a soluções técnicas complexas","Experiência prévia pode influenciar escolhas","Pressuposição de conhecimento técnico do usuário"]},recursos:{fontes:["React Documentation","Supabase Docs","Tailwind CSS Guide","OpenAI API Reference"],ferramentas:["React DevTools","Console do navegador","JSON Generator para mocks","Lighthouse para performance"]}}),m(!1)},2e3)};return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(An,{className:"w-8 h-8 text-yellow-500"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"🚀 Prompt Builder Inteligente"}),e.jsx("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:"Demo para Investidores"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descreva o problema técnico:"}),e.jsx("textarea",{value:s,onChange:u=>t(u.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Ex: Botão Analytics redireciona para Home em vez da página específica..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contexto adicional:"}),e.jsx("textarea",{value:a,onChange:u=>r(u.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Ex: Demo em 2 horas, investidores vão testar navegação..."})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Urgência:"}),e.jsxs("select",{value:n,onChange:u=>i(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"15-30 min",children:"15-30 minutos"}),e.jsx("option",{value:"1-2 horas",children:"1-2 horas"}),e.jsx("option",{value:"2-4 horas",children:"2-4 horas"}),e.jsx("option",{value:"1 dia",children:"1 dia"})]})]}),e.jsx("button",{onClick:d,disabled:!s.trim()||c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Analisando problema..."]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5"}),"Analisar Problema"]})})]}),o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"🔍 Análise Inicial"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-green-500"}),"Pressupostos"]}),e.jsx("ul",{className:"space-y-2",children:o.pressupostos.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Tn,{className:"w-5 h-5 text-yellow-500"}),"Limitações"]}),e.jsx("ul",{className:"space-y-2",children:o.limitacoes.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(An,{className:"w-5 h-5 text-blue-500"}),"Prioridades Demo"]}),e.jsx("ul",{className:"space-y-2",children:o.prioridades.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"💡 Soluções Múltiplas"}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"w-5 h-5 text-green-600"}),e.jsxs("h3",{className:"font-semibold text-green-800",children:["🔧 Solução Rápida (",o.solucaoRapida.tempo,")"]})]}),e.jsx("p",{className:"text-green-700 mb-3",children:o.solucaoRapida.implementacao}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-3 overflow-x-auto",children:e.jsx("pre",{className:"text-green-400 text-sm",children:o.solucaoRapida.codigo})})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"w-5 h-5 text-blue-600"}),e.jsxs("h3",{className:"font-semibold text-blue-800",children:["⚡ Solução Intermediária (",o.solucaoIntermediaria.tempo,")"]})]}),e.jsx("p",{className:"text-blue-700 mb-3",children:o.solucaoIntermediaria.implementacao}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-3 overflow-x-auto",children:e.jsx("pre",{className:"text-blue-400 text-sm",children:o.solucaoIntermediaria.codigo})})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 bg-purple-50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"w-5 h-5 text-purple-600"}),e.jsxs("h3",{className:"font-semibold text-purple-800",children:["🏗️ Solução Completa (",o.solucaoCompleta.tempo,")"]})]}),e.jsx("p",{className:"text-purple-700 mb-3",children:o.solucaoCompleta.implementacao}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-3 overflow-x-auto",children:e.jsx("pre",{className:"text-purple-400 text-sm",children:o.solucaoCompleta.codigo})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"🤔 Autocrítica Obrigatória"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Er,{className:"w-5 h-5 text-red-500"}),"Onde Posso Estar Errado"]}),e.jsx("ul",{className:"space-y-2",children:o.autocritica.ondeErrar.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Pm,{className:"w-5 h-5 text-orange-500"}),"Verificações Necessárias"]}),e.jsx("ul",{className:"space-y-2",children:o.autocritica.verificacoes.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Tn,{className:"w-5 h-5 text-purple-500"}),"Vieses Identificados"]}),e.jsx("ul",{className:"space-y-2",children:o.autocritica.vieses.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"📚 Recursos Externos"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-green-500"}),"Fontes para Verificar"]}),e.jsx("ul",{className:"space-y-2",children:o.recursos.fontes.map((u,h)=>e.jsxs("li",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(dm,{className:"w-5 h-5 text-blue-500"}),"Ferramentas Recomendadas"]}),e.jsx("ul",{className:"space-y-2",children:o.recursos.ferramentas.map((u,h)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),u]},h))})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"🎯 Resumo Executivo (Para Investidores)"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Problema Identificado"}),e.jsx("p",{className:"text-sm opacity-90",children:s.split(".")[0]||"Problema técnico na aplicação"})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Solução Escolhida"}),e.jsx("p",{className:"text-sm opacity-90",children:"Implementação rápida com dados mock + integração gradual"})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Tempo Estimado"}),e.jsxs("p",{className:"text-sm opacity-90",children:[n," para solução funcional"]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-white/10 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"⚠️ Alertas Importantes:"}),e.jsxs("ul",{className:"text-sm space-y-1 opacity-90",children:[e.jsx("li",{children:"• Solução rápida pode ter limitações em edge cases"}),e.jsx("li",{children:"• Refatoração necessária após demo para produção"}),e.jsx("li",{children:"• Dados mock devem ser substituídos por dados reais"}),e.jsx("li",{children:"• Monitoramento de performance durante apresentação"})]})]})]})]})]})},Hb=()=>e.jsxs(e.Fragment,{children:[e.jsxs(Eo,{children:[e.jsx("title",{children:"Prompt Builder Inteligente - DuoPass Club"}),e.jsx("meta",{name:"description",content:"Ferramenta inteligente para análise e solução rápida de problemas técnicos durante demos para investidores."}),e.jsx("meta",{name:"keywords",content:"prompt builder, demo, investidores, análise técnica, soluções rápidas"})]}),e.jsx(ke,{title:"Prompt Builder",children:e.jsx($b,{})})]});function Gb(){const{user:s}=z(),[t,a]=g.useState([]),[r,n]=g.useState(!1),[i,o]=g.useState(null),l=t.filter(b=>!b.is_read).length,c=g.useCallback(async()=>{if(s){n(!0),o(null);try{if(s.id==="demo-user-id"){const v=[{id:"1",type:"experience_invite",title:"🤝 Convite para experiência",message:'Ana Silva te convidou para "Arte Contemporânea"',created_at:new Date(Date.now()-72e5).toISOString(),is_read:!1,user_id:s.id,action_url:"/dashboard?tab=connect",action_text:"Ver Convite",updated_at:new Date().toISOString()},{id:"2",type:"voucher_expiring",title:"⏰ Voucher expirando",message:"Teatro Experimental expira em 24h",created_at:new Date(Date.now()-18e6).toISOString(),is_read:!1,user_id:s.id,action_url:"/vouchers",action_text:"Usar Voucher",updated_at:new Date().toISOString()}];a(v),n(!1);return}const{data:b,error:y}=await M.from("notifications").select("*").eq("user_id",s.id).order("created_at",{ascending:!1}).limit(50);if(y)throw y;a(b||[])}catch(b){console.error("Error fetching notifications:",b),o("Erro ao carregar notificações")}finally{n(!1)}}},[s]),m=g.useCallback(async b=>{try{const{data:y,error:v}=await M.from("notifications").insert([b]).select().single();if(v)throw v;return y}catch(y){throw console.error("Error creating notification:",y),y}},[]),d=g.useCallback(async b=>{try{if((s==null?void 0:s.id)==="demo-user-id"){a(v=>v.map(f=>f.id===b?{...f,is_read:!0}:f));return}const{error:y}=await M.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",b);if(y)throw y;a(v=>v.map(f=>f.id===b?{...f,is_read:!0}:f))}catch(y){console.error("Error marking notification as read:",y),o("Erro ao marcar notificação como lida")}},[s]),u=g.useCallback(async()=>{if(s)try{if(s.id==="demo-user-id"){a(y=>y.map(v=>({...v,is_read:!0})));return}const{error:b}=await M.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("user_id",s.id).eq("is_read",!1);if(b)throw b;a(y=>y.map(v=>({...v,is_read:!0})))}catch(b){console.error("Error marking all notifications as read:",b),o("Erro ao marcar todas as notificações como lidas")}},[s]),h=g.useCallback(async b=>{try{const{error:y}=await M.from("notifications").delete().eq("id",b);if(y)throw y;a(v=>v.filter(f=>f.id!==b))}catch(y){console.error("Error deleting notification:",y),o("Erro ao excluir notificação")}},[]),x=g.useCallback(async()=>{if(s)try{if(s.id==="demo-user-id"){a([]);return}const{error:b}=await M.from("notifications").delete().eq("user_id",s.id);if(b)throw b;a([])}catch(b){console.error("Error clearing notifications:",b),o("Erro ao limpar notificações")}},[s]);return g.useEffect(()=>{s?c():a([])},[s,c]),g.useEffect(()=>{if(!s||s.id==="demo-user-id")return;const b=M.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},y=>{const v=y.new;a(f=>[v,...f])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},y=>{const v=y.new;a(f=>f.map(w=>w.id===v.id?v:w))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},y=>{const v=y.old;a(f=>f.filter(w=>w.id!==v.id))}).subscribe();return()=>{M.removeChannel(b)}},[s]),{notifications:t,unreadCount:l,loading:r,error:i,fetchNotifications:c,createNotification:m,markAsRead:d,markAllAsRead:u,deleteNotification:h,clearAllNotifications:x}}function Wb(){const{user:s,userProfile:t}=z(),{notifications:a,unreadCount:r,clearAllNotifications:n}=Gb(),[i,o]=g.useState(!1),l=async()=>{if(!(!s||!t)){o(!0);try{await rt.generateDemoNotifications(s.id,t.user_type)}catch(m){console.error("Error generating demo notifications:",m)}finally{o(!1)}}},c=async m=>{if(s)try{switch(m){case"offer":await rt.notifyNewOffer(s.id,"Pizza Margherita","50% OFF");break;case"voucher":await rt.notifyOfferRedeemed(s.id,"Hambúrguer Gourmet",35);break;case"achievement":await rt.notifyAchievementUnlocked(s.id,"Primeiro Resgate","Você fez seu primeiro resgate no DuoPass Club!");break;case"level":await rt.notifyLevelUp(s.id,"Bronze");break}}catch(d){console.error("Error generating specific notification:",d)}};return s?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(wt,{className:"w-6 h-6 text-[#C91F1F]"}),"Sistema de Notificações"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Teste o sistema inteligente de notificações do DuoPass Club"})]}),r>0&&e.jsxs("div",{className:"bg-[#C91F1F] text-white px-3 py-1 rounded-full text-sm font-medium",children:[r," não lidas"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Tipo de Usuário: ",(t==null?void 0:t.user_type)==="client"?"👤 Cliente":"🏪 Comerciante"]}),e.jsx("p",{className:"text-sm text-gray-600",children:(t==null?void 0:t.user_type)==="client"?"Como cliente, você receberá notificações sobre ofertas, vouchers, conquistas e atualizações do sistema.":"Como comerciante, você receberá notificações sobre performance do negócio, gestão de ofertas e oportunidades."})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Testar Notificações"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:l,disabled:i,className:"flex items-center justify-center gap-2 bg-[#C91F1F] text-white px-4 py-3 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i?e.jsx(Nm,{className:"w-4 h-4 animate-spin"}):e.jsx(gs,{className:"w-4 h-4"}),i?"Gerando...":"Gerar Notificações Demo"]}),e.jsxs("button",{onClick:n,disabled:a.length===0,className:"flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Limpar Todas"]})]}),(t==null?void 0:t.user_type)==="client"&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>c("offer"),className:"bg-blue-100 text-blue-700 px-3 py-2 rounded text-sm hover:bg-blue-200 transition-colors",children:"🎁 Nova Oferta"}),e.jsx("button",{onClick:()=>c("voucher"),className:"bg-green-100 text-green-700 px-3 py-2 rounded text-sm hover:bg-green-200 transition-colors",children:"💰 Voucher"}),e.jsx("button",{onClick:()=>c("achievement"),className:"bg-purple-100 text-purple-700 px-3 py-2 rounded text-sm hover:bg-purple-200 transition-colors",children:"🏆 Conquista"}),e.jsx("button",{onClick:()=>c("level"),className:"bg-yellow-100 text-yellow-700 px-3 py-2 rounded text-sm hover:bg-yellow-200 transition-colors",children:"⭐ Level Up"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Estatísticas"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-[#C91F1F]",children:a.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r}),e.jsx("div",{className:"text-sm text-gray-600",children:"Não Lidas"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.length-r}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lidas"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"💡 Como testar:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Clique no sininho no header para ver as notificações"}),e.jsx("li",{children:'• Use "Gerar Notificações Demo" para criar exemplos baseados no seu tipo de usuário'}),e.jsx("li",{children:"• Teste os botões específicos para diferentes tipos de notificação"}),e.jsx("li",{children:"• As notificações aparecem em tempo real"}),e.jsx("li",{children:"• Marque como lidas individualmente ou todas de uma vez"})]})]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(wt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Faça login para testar as notificações"})]})})}const Yb=s=>({experience_invite:"🤝",voucher_expiring:"⏰",new_experience:"🎭",offer_new:"🎁",offer_expiring:"⏰",voucher_redeemed:"💰",voucher_available:"🎫",achievement_unlocked:"🏆",level_up:"⭐",goal_reached:"🎯",system_update:"📱",profile_reminder:"👤",business_performance:"📊",offer_management:"💼",business_opportunity:"🎯",system_merchant:"⚙️",payment_processed:"💳"})[s]||"📢",xo=[{id:"1",type:"experience_invite",title:"🤝 Convite para experiência",message:'Ana Silva te convidou para "Arte Contemporânea"',created_at:new Date(Date.now()-2*60*60*1e3).toISOString(),is_read:!1,action_url:"/dashboard?tab=connect",action_text:"Ver Convite"},{id:"2",type:"voucher_expiring",title:"⏰ Voucher expirando",message:"Teatro Experimental expira em 24h",created_at:new Date(Date.now()-5*60*60*1e3).toISOString(),is_read:!1,action_url:"/vouchers",action_text:"Usar Voucher"},{id:"3",type:"new_experience",title:"🎭 Nova experiência",message:"Concerto de Piano disponível",created_at:new Date(Date.now()-24*60*60*1e3).toISOString(),is_read:!0,action_url:"/ofertas",action_text:"Ver Experiência"}];function Kb(){const{user:s}=z(),[t,a]=g.useState(xo),[r,n]=g.useState(!0),[i,o]=g.useState("all"),[l,c]=g.useState(""),m=t.filter(b=>!b.is_read).length,d=b=>{a(y=>y.map(v=>v.id===b?{...v,is_read:!0}:v))},u=()=>{a(b=>b.map(y=>({...y,is_read:!0})))},h=()=>{a([])};if(g.useEffect(()=>{a(xo),n(!1)},[]),!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(wt,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Acesso negado"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Você precisa estar logado para ver as notificações."})]})});const x=t.filter(b=>{const y=i==="all"||i==="unread"&&!b.is_read||i==="read"&&b.is_read,v=l===""||b.title.toLowerCase().includes(l.toLowerCase())||b.message.toLowerCase().includes(l.toLowerCase());return y&&v});return e.jsx(ke,{title:"Notificações",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(wt,{className:"w-8 h-8 text-[#C91F1F]"}),e.jsx("div",{children:e.jsx("p",{className:"text-gray-600",children:t.length===0?"Nenhuma notificação encontrada":`${m} não lidas de ${t.length} total`})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar notificações...",value:l,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C91F1F] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Todas"}),e.jsx("option",{value:"unread",children:"Não lidas"}),e.jsx("option",{value:"read",children:"Lidas"})]})})]}),t.length>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:u,disabled:m===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Do,{className:"w-4 h-4"}),"Marcar todas como lidas"]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Limpar todas"]})]})]}),r&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C91F1F] mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando notificações..."})]}),!r&&e.jsx("div",{className:"space-y-4 mb-8",children:x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l||i!=="all"?"Nenhuma notificação encontrada":"Nenhuma notificação"}),e.jsx("p",{className:"text-gray-600",children:l||i!=="all"?"Tente ajustar os filtros ou termo de busca.":"Você não tem notificações no momento."})]}):x.map(b=>e.jsx("div",{className:`p-4 rounded-lg border transition-all ${b.is_read?"bg-white border-gray-200":"bg-blue-50 border-blue-200 shadow-sm"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:Yb(b.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-sm font-medium ${b.is_read?"text-gray-900":"text-gray-900 font-semibold"}`,children:b.title}),e.jsx("p",{className:`mt-1 text-sm ${b.is_read?"text-gray-600":"text-gray-700"}`,children:b.message}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:new Date(b.created_at).toLocaleString("pt-BR")})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:!b.is_read&&e.jsx("button",{onClick:()=>d(b.id),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Marcar como lida",children:e.jsx(Le,{className:"w-4 h-4"})})})]}),b.action_url&&b.action_text&&e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:b.action_url,className:"inline-flex items-center px-3 py-1 text-sm font-medium text-[#C91F1F] bg-red-50 rounded-md hover:bg-red-100 transition-colors",children:b.action_text})})]})]})},b.id))}),e.jsx("div",{className:"border-t pt-8",children:e.jsx(Wb,{})})]})})}function xt({children:s,requiredRole:t,redirectTo:a="/login"}){const{user:r,userProfile:n,loading:i}=z(),o=ta();if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F3EF]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-[#C91F1F]"}),e.jsx("p",{className:"text-gray-600",children:"Verificando autenticação..."})]})});if(!r)return e.jsx(ba,{to:a,state:{from:o},replace:!0});if(!r.email_confirmed_at)return e.jsx(ba,{to:"/email-verification",replace:!0});if(t&&(n==null?void 0:n.user_type)!==t){let l="/customer-dashboard";return(n==null?void 0:n.user_type)==="merchant"?l="/merchant/dashboard":(n==null?void 0:n.user_type)==="partner"&&(l="/dashboard-parceiro"),e.jsx(ba,{to:l,replace:!0})}return e.jsx(e.Fragment,{children:s})}function Qc(s){return function({children:a}){return e.jsx(xt,{requiredRole:s,children:a})}}const Qb=Qc("customer"),Jb=Qc("merchant"),Gt=({children:s})=>(g.useEffect(()=>{const t=localStorage.getItem("admin_token");if(!t){window.location.href="/admin/login";return}try{const a=atob(t),[r]=a.split(":");if(!["admin@duopass.com","igor@duopass.com","silvia@duopass.com"].includes(r)){localStorage.removeItem("admin_token"),window.location.href="/admin/login";return}}catch(a){console.error("Error decoding admin token:",a),localStorage.removeItem("admin_token"),window.location.href="/admin/login"}},[]),e.jsx(e.Fragment,{children:s}));function Xb(){return e.jsx(ko,{children:e.jsx(sm,{children:e.jsx(Xd,{children:e.jsx(em,{children:e.jsx(ud,{children:e.jsx(Nf,{children:e.jsxs(hd,{children:[e.jsx(U,{path:"/",element:e.jsx(Ef,{})}),e.jsx(U,{path:"/login",element:e.jsx(Tf,{})}),e.jsx(U,{path:"/signup",element:e.jsx(Af,{})}),e.jsx(U,{path:"/memberships",element:e.jsx(Gf,{})}),e.jsx(U,{path:"/pricing",element:e.jsx(Jf,{})}),e.jsx(U,{path:"/empresas",element:e.jsx(eg,{})}),e.jsx(U,{path:"/trial",element:e.jsx(tg,{})}),e.jsx(U,{path:"/checkout",element:e.jsx(Zf,{})}),e.jsx(U,{path:"/dashboard",element:e.jsx(xt,{children:e.jsx(zf,{})})}),e.jsx(U,{path:"/comunidade/:id",element:e.jsx(Qb,{children:e.jsx(ag,{})})}),e.jsx(U,{path:"/voucher/ativo/:id",element:e.jsx(rg,{})}),e.jsx(U,{path:"/parceiros-culturais",element:e.jsx(eo,{})}),e.jsx(U,{path:"/cultural-partner-landing",element:e.jsx(eo,{})}),e.jsx(U,{path:"/como-funciona-parceiros",element:e.jsx(jg,{})}),e.jsx(U,{path:"/cadastro-parceiro",element:e.jsx(kg,{})}),e.jsx(U,{path:"/parceiro-cadastrado",element:e.jsx(Eg,{})}),e.jsx(U,{path:"/cultural-partner-portal",element:e.jsx(xt,{children:e.jsx(Pg,{})})}),e.jsx(U,{path:"/merchant",element:e.jsx(Tg,{})}),e.jsx(U,{path:"/merchant/dashboard",element:e.jsx(Jb,{children:e.jsx(Db,{})})}),e.jsx(U,{path:"/admin/login",element:e.jsx(Ib,{})}),e.jsx(U,{path:"/admin",element:e.jsx(Gt,{children:e.jsx(ke,{children:e.jsx(Rb,{})})})}),e.jsx(U,{path:"/admin/ofertas",element:e.jsx(Gt,{children:e.jsx(ke,{children:e.jsx(qb,{})})})}),e.jsx(U,{path:"/admin/usuarios",element:e.jsx(Gt,{children:e.jsx(ke,{children:e.jsx(Bb,{})})})}),e.jsx(U,{path:"/admin/analytics",element:e.jsx(Gt,{children:e.jsx(ke,{children:e.jsx(Ub,{})})})}),e.jsx(U,{path:"/admin/settings",element:e.jsx(Gt,{children:e.jsx(ke,{children:e.jsx(zb,{})})})}),e.jsx(U,{path:"/prompt-builder",element:e.jsx(Hb,{})}),e.jsx(U,{path:"/profile",element:e.jsx(xt,{children:e.jsx($f,{})})}),e.jsx(U,{path:"/settings",element:e.jsx(xt,{children:e.jsx(Hf,{})})}),e.jsx(U,{path:"/notifications",element:e.jsx(xt,{children:e.jsx(Kb,{})})}),e.jsx(U,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-[#F5F3EF] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-[#333333] mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Página não encontrada"}),e.jsx("a",{href:"/",className:"text-[#C91F1F] hover:underline",children:"Voltar ao início"})]})})})]})})})})})})})}const Zb=()=>{[{href:"/fonts/inter.woff2",as:"font",type:"font/woff2"},{href:"/images/logo.svg",as:"image"},{href:"/images/hero-bg.webp",as:"image"}].forEach(t=>{const a=document.createElement("link");a.rel="preload",a.href=t.href,a.as=t.as,t.type&&(a.type=t.type,a.crossOrigin="anonymous"),document.head.appendChild(a)})},$a={observeLCP:s=>{if("PerformanceObserver"in window){const t=new PerformanceObserver(a=>{const r=a.getEntries(),n=r[r.length-1];s(n.startTime)});return t.observe({entryTypes:["largest-contentful-paint"]}),t}},observeFID:s=>{if("PerformanceObserver"in window){const t=new PerformanceObserver(a=>{a.getEntries().forEach(n=>{s(n.processingStart-n.startTime)})});return t.observe({entryTypes:["first-input"]}),t}},observeCLS:s=>{if("PerformanceObserver"in window){let t=0;const a=new PerformanceObserver(r=>{r.getEntries().forEach(i=>{i.hadRecentInput||(t+=i.value,s(t))})});return a.observe({entryTypes:["layout-shift"]}),a}}},ey=()=>{["https://fonts.googleapis.com","https://fonts.gstatic.com","https://www.google-analytics.com","https://js.stripe.com"].forEach(a=>{const r=document.createElement("link");r.rel="dns-prefetch",r.href=a,document.head.appendChild(r)}),["https://fonts.googleapis.com","https://js.stripe.com"].forEach(a=>{const r=document.createElement("link");r.rel="preconnect",r.href=a,r.crossOrigin="anonymous",document.head.appendChild(r)})},ty=async()=>{if("serviceWorker"in navigator)try{const s=await navigator.serviceWorker.register("/sw.js");return s.addEventListener("updatefound",()=>{const t=s.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nova versão da aplicação disponível")})}),console.log("Service Worker registrado com sucesso"),s}catch(s){console.error("Erro ao registrar Service Worker:",s)}},sy=()=>{typeof window>"u"||(ey(),Zb(),ty(),$a.observeLCP(s=>{console.log("LCP:",s)}),$a.observeFID(s=>{console.log("FID:",s)}),$a.observeCLS(s=>{console.log("CLS:",s)}))},Jc={title:"DuoPass - Ofertas Exclusivas na Suíça",description:"Descubra ofertas exclusivas e experiências únicas na Suíça com DuoPass. Restaurantes, atividades, hospedagem e muito mais com descontos especiais.",keywords:["ofertas suíça","descontos suíça","restaurantes suíça","atividades suíça","turismo suíça","experiências suíça","cupons desconto","duopass"],image:"/images/og-image.jpg",url:"https://duopass.ch",type:"website",locale:"pt_BR",siteName:"DuoPass"},ay=s=>{const t={...Jc,...s};document.title=t.title,ae("description",t.description),t.keywords&&ae("keywords",t.keywords.join(", ")),ae("og:title",t.title,"property"),ae("og:description",t.description,"property"),ae("og:type",t.type||"website","property"),ae("og:url",t.url||window.location.href,"property"),ae("og:site_name",t.siteName||"DuoPass","property"),ae("og:locale",t.locale||"pt_BR","property"),t.image&&(ae("og:image",t.image,"property"),ae("og:image:alt",t.title,"property")),ae("twitter:card","summary_large_image"),ae("twitter:title",t.title),ae("twitter:description",t.description),t.image&&ae("twitter:image",t.image),t.type==="article"&&(t.author&&ae("article:author",t.author,"property"),t.publishedTime&&ae("article:published_time",t.publishedTime,"property"),t.modifiedTime&&ae("article:modified_time",t.modifiedTime,"property")),ry(t.url||window.location.href)},ae=(s,t,a="name")=>{let r=document.querySelector(`meta[${a}="${s}"]`);r||(r=document.createElement("meta"),r.setAttribute(a,s),document.head.appendChild(r)),r.content=t},ry=s=>{let t=document.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.rel="canonical",document.head.appendChild(t)),t.href=s},po=(s,t)=>{const a={"@context":"https://schema.org","@type":s};let r;switch(s){case"Organization":r={...a,name:"DuoPass",url:"https://duopass.ch",logo:"https://duopass.ch/duopass_logo.svg",description:"Ofertas exclusivas e experiências únicas na Suíça",address:{"@type":"PostalAddress",addressCountry:"CH"},sameAs:["https://facebook.com/duopass","https://instagram.com/duopass","https://linkedin.com/company/duopass"],...t};break;case"WebSite":r={...a,name:"DuoPass",url:"https://duopass.ch",description:"Ofertas exclusivas e experiências únicas na Suíça",publisher:{"@type":"Organization",name:"DuoPass"},potentialAction:{"@type":"SearchAction",target:"https://duopass.ch/search?q={search_term_string}","query-input":"required name=search_term_string"},...t};break;case"Offer":r={...a,name:t.name,description:t.description,price:t.price,priceCurrency:"CHF",availability:"https://schema.org/InStock",validFrom:t.validFrom,validThrough:t.validThrough,seller:{"@type":"Organization",name:"DuoPass"},...t};break;default:r={...a,...t}}return r},fo=s=>{const t=document.createElement("script");t.type="application/ld+json",t.textContent=JSON.stringify(s),document.head.appendChild(t)},ny=()=>{const s=po("Organization",{});fo(s);const t=po("WebSite",{});fo(t),ay(Jc),console.log("[SEO] Configurações inicializadas")};class iy{constructor(){Z(this,"sessionId");Z(this,"userId");Z(this,"isProduction");Z(this,"logBuffer",[]);Z(this,"maxBufferSize",100);Z(this,"flushInterval",3e4);this.sessionId=this.generateSessionId(),this.isProduction=!0,this.isProduction&&setInterval(()=>this.flushLogs(),this.flushInterval),window.addEventListener("beforeunload",()=>this.flushLogs())}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}setUserId(t){this.userId=t}createLogEntry(t,a,r){return{timestamp:new Date().toISOString(),level:t,message:a,context:r,userId:this.userId,sessionId:this.sessionId,userAgent:navigator.userAgent,url:window.location.href}}addToBuffer(t){if(this.logBuffer.push(t),this.logBuffer.length>this.maxBufferSize&&(this.logBuffer=this.logBuffer.slice(-this.maxBufferSize)),!this.isProduction){const a=this.getConsoleStyle(t.level);console.log(`%c[${t.level.toUpperCase()}] ${t.message}`,a,t.context)}}getConsoleStyle(t){return{debug:"color: #888",info:"color: #2196F3",warn:"color: #FF9800",error:"color: #F44336; font-weight: bold"}[t]}debug(t,a){const r=this.createLogEntry("debug",t,a);this.addToBuffer(r)}info(t,a){const r=this.createLogEntry("info",t,a);this.addToBuffer(r)}warn(t,a){const r=this.createLogEntry("warn",t,a);this.addToBuffer(r)}error(t,a){const r=this.createLogEntry("error",t,a);this.addToBuffer(r),this.isProduction&&this.sendToRemoteLogging([r])}async flushLogs(){if(this.logBuffer.length===0)return;const t=[...this.logBuffer];this.logBuffer=[],this.isProduction&&await this.sendToRemoteLogging(t)}async sendToRemoteLogging(t){try{return}catch(a){console.error("Erro ao enviar logs:",a)}}}class oy{constructor(){Z(this,"metrics",[]);Z(this,"observers",[]);this.initializeObservers()}initializeObservers(){if("PerformanceObserver"in window){const t=new PerformanceObserver(i=>{const o=i.getEntries(),l=o[o.length-1];this.recordMetric("LCP",l.startTime,"ms")});t.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(t);const a=new PerformanceObserver(i=>{i.getEntries().forEach(l=>{const c=l.processingStart-l.startTime;this.recordMetric("FID",c,"ms")})});a.observe({entryTypes:["first-input"]}),this.observers.push(a);let r=0;const n=new PerformanceObserver(i=>{i.getEntries().forEach(l=>{const c=l;c.hadRecentInput||(r+=c.value,this.recordMetric("CLS",r,"score"))})});n.observe({entryTypes:["layout-shift"]}),this.observers.push(n)}window.addEventListener("load",()=>{setTimeout(()=>{const t=performance.getEntriesByType("navigation")[0];this.recordMetric("TTFB",t.responseStart-t.fetchStart,"ms"),this.recordMetric("DOMContentLoaded",t.domContentLoadedEventEnd-t.fetchStart,"ms"),this.recordMetric("LoadComplete",t.loadEventEnd-t.fetchStart,"ms")},0)})}recordMetric(t,a,r,n){var o;const i={name:t,value:a,unit:r,timestamp:new Date().toISOString(),context:n};this.metrics.push(i),fe.info(`Performance: ${t} = ${a}${r}`,{metric:i}),(o=window.gtag)==null||o.call(window,"event","performance_metric",{metric_name:t,metric_value:a,metric_unit:r})}getMetrics(){return[...this.metrics]}clearMetrics(){this.metrics=[]}disconnect(){this.observers.forEach(t=>t.disconnect()),this.observers=[]}}class ly{constructor(t){Z(this,"actions",[]);Z(this,"sessionId");Z(this,"userId");this.sessionId=t,this.initializeTracking()}setUserId(t){this.userId=t}initializeTracking(){const t=Date.now();window.addEventListener("beforeunload",()=>{const a=Date.now()-t;this.trackAction("page_exit","engagement",{timeOnPage:a,path:window.location.pathname})})}trackAction(t,a,r){var i;const n={action:t,category:a,timestamp:new Date().toISOString(),userId:this.userId,sessionId:this.sessionId,metadata:r};this.actions.push(n),fe.debug(`User Action: ${a}/${t}`,{userAction:n}),(i=window.gtag)==null||i.call(window,"event",t,{event_category:a,custom_parameters:r})}getActions(){return[...this.actions]}clearActions(){this.actions=[]}}const fe=new iy,Vs=new oy,Ke=new ly(fe.sessionId);window.addEventListener("error",s=>{var t;fe.error("JavaScript Error",{message:s.message,filename:s.filename,lineno:s.lineno,colno:s.colno,stack:(t=s.error)==null?void 0:t.stack})});window.addEventListener("unhandledrejection",s=>{var t;fe.error("Unhandled Promise Rejection",{reason:s.reason,stack:(t=s.reason)==null?void 0:t.stack})});window.addEventListener("online",()=>{fe.info("Connection restored"),Ke.trackAction("connection_restored","system")});window.addEventListener("offline",()=>{fe.warn("Connection lost"),Ke.trackAction("connection_lost","system")});document.addEventListener("visibilitychange",()=>{document.hidden?Ke.trackAction("page_hidden","engagement"):Ke.trackAction("page_visible","engagement")});const cy={setUserId:s=>{fe.setUserId(s),Ke.setUserId(s)},trackEvent:(s,t,a)=>{Ke.trackAction(s,t,a)},measureFunction:async(s,t)=>{const a=performance.now();try{const r=await t(),n=performance.now()-a;return Vs.recordMetric(`function_${s}`,n,"ms"),r}catch(r){const n=performance.now()-a;throw Vs.recordMetric(`function_${s}_error`,n,"ms"),fe.error(`Function ${s} failed`,{error:r,duration:n}),r}},getReport:()=>({metrics:Vs.getMetrics(),actions:Ke.getActions(),timestamp:new Date().toISOString()}),clearData:()=>{Vs.clearMetrics(),Ke.clearActions()}};fe.info("Monitoring system initialized",{sessionId:fe.sessionId,userAgent:navigator.userAgent,url:window.location.href});ny(),sy(),fe.info("DuoPass Production Systems Initialized",{version:"1.0.0",environment:"production",timestamp:new Date().toISOString()}),cy.trackEvent("app_loaded","system",{loadTime:performance.now(),userAgent:navigator.userAgent});class dy extends me.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,a){fe.error("React Error Boundary",{error:t.message,stack:t.stack,componentStack:a.componentStack})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Algo deu errado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado. Por favor, recarregue a página."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Recarregar Página"})]})}):this.props.children}}const Xc=document.getElementById("root");if(!Xc)throw new Error("Root element not found");const my=vo(Xc);my.render(e.jsx(g.StrictMode,{children:e.jsx(dy,{children:e.jsx(Xb,{})})}));
